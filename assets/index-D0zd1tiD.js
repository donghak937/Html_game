(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function e(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=e(o);fetch(o.href,u)}})();function ER(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var km={exports:{}},lu={};var Z_;function bR(){if(Z_)return lu;Z_=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:r,key:c,ref:o!==void 0?o:null,props:u}}return lu.Fragment=t,lu.jsx=e,lu.jsxs=e,lu}var tT;function SR(){return tT||(tT=1,km.exports=bR()),km.exports}var S=SR(),jm={exports:{}},Pt={};var eT;function AR(){if(eT)return Pt;eT=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),b=Symbol.iterator;function C(k){return k===null||typeof k!="object"?null:(k=b&&k[b]||k["@@iterator"],typeof k=="function"?k:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,P={};function Q(k,Z,pt){this.props=k,this.context=Z,this.refs=P,this.updater=pt||U}Q.prototype.isReactComponent={},Q.prototype.setState=function(k,Z){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,Z,"setState")},Q.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function it(){}it.prototype=Q.prototype;function tt(k,Z,pt){this.props=k,this.context=Z,this.refs=P,this.updater=pt||U}var ht=tt.prototype=new it;ht.constructor=tt,M(ht,Q.prototype),ht.isPureReactComponent=!0;var ft=Array.isArray;function dt(){}var R={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(k,Z,pt){var vt=pt.ref;return{$$typeof:i,type:k,key:Z,ref:vt!==void 0?vt:null,props:pt}}function N(k,Z){return I(k.type,Z,k.props)}function O(k){return typeof k=="object"&&k!==null&&k.$$typeof===i}function z(k){var Z={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(pt){return Z[pt]})}var D=/\/+/g;function jt(k,Z){return typeof k=="object"&&k!==null&&k.key!=null?z(""+k.key):Z.toString(36)}function oe(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(dt,dt):(k.status="pending",k.then(function(Z){k.status==="pending"&&(k.status="fulfilled",k.value=Z)},function(Z){k.status==="pending"&&(k.status="rejected",k.reason=Z)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function G(k,Z,pt,vt,wt){var Ot=typeof k;(Ot==="undefined"||Ot==="boolean")&&(k=null);var Ht=!1;if(k===null)Ht=!0;else switch(Ot){case"bigint":case"string":case"number":Ht=!0;break;case"object":switch(k.$$typeof){case i:case t:Ht=!0;break;case v:return Ht=k._init,G(Ht(k._payload),Z,pt,vt,wt)}}if(Ht)return wt=wt(k),Ht=vt===""?"."+jt(k,0):vt,ft(wt)?(pt="",Ht!=null&&(pt=Ht.replace(D,"$&/")+"/"),G(wt,Z,pt,"",function(bi){return bi})):wt!=null&&(O(wt)&&(wt=N(wt,pt+(wt.key==null||k&&k.key===wt.key?"":(""+wt.key).replace(D,"$&/")+"/")+Ht)),Z.push(wt)),1;Ht=0;var Ie=vt===""?".":vt+":";if(ft(k))for(var de=0;de<k.length;de++)vt=k[de],Ot=Ie+jt(vt,de),Ht+=G(vt,Z,pt,Ot,wt);else if(de=C(k),typeof de=="function")for(k=de.call(k),de=0;!(vt=k.next()).done;)vt=vt.value,Ot=Ie+jt(vt,de++),Ht+=G(vt,Z,pt,Ot,wt);else if(Ot==="object"){if(typeof k.then=="function")return G(oe(k),Z,pt,vt,wt);throw Z=String(k),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Ht}function ut(k,Z,pt){if(k==null)return k;var vt=[],wt=0;return G(k,vt,"","",function(Ot){return Z.call(pt,Ot,wt++)}),vt}function yt(k){if(k._status===-1){var Z=k._result;Z=Z(),Z.then(function(pt){(k._status===0||k._status===-1)&&(k._status=1,k._result=pt)},function(pt){(k._status===0||k._status===-1)&&(k._status=2,k._result=pt)}),k._status===-1&&(k._status=0,k._result=Z)}if(k._status===1)return k._result.default;throw k._result}var Dt=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},Rt={map:ut,forEach:function(k,Z,pt){ut(k,function(){Z.apply(this,arguments)},pt)},count:function(k){var Z=0;return ut(k,function(){Z++}),Z},toArray:function(k){return ut(k,function(Z){return Z})||[]},only:function(k){if(!O(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Pt.Activity=E,Pt.Children=Rt,Pt.Component=Q,Pt.Fragment=e,Pt.Profiler=o,Pt.PureComponent=tt,Pt.StrictMode=r,Pt.Suspense=p,Pt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Pt.__COMPILER_RUNTIME={__proto__:null,c:function(k){return R.H.useMemoCache(k)}},Pt.cache=function(k){return function(){return k.apply(null,arguments)}},Pt.cacheSignal=function(){return null},Pt.cloneElement=function(k,Z,pt){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var vt=M({},k.props),wt=k.key;if(Z!=null)for(Ot in Z.key!==void 0&&(wt=""+Z.key),Z)!w.call(Z,Ot)||Ot==="key"||Ot==="__self"||Ot==="__source"||Ot==="ref"&&Z.ref===void 0||(vt[Ot]=Z[Ot]);var Ot=arguments.length-2;if(Ot===1)vt.children=pt;else if(1<Ot){for(var Ht=Array(Ot),Ie=0;Ie<Ot;Ie++)Ht[Ie]=arguments[Ie+2];vt.children=Ht}return I(k.type,wt,vt)},Pt.createContext=function(k){return k={$$typeof:c,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Pt.createElement=function(k,Z,pt){var vt,wt={},Ot=null;if(Z!=null)for(vt in Z.key!==void 0&&(Ot=""+Z.key),Z)w.call(Z,vt)&&vt!=="key"&&vt!=="__self"&&vt!=="__source"&&(wt[vt]=Z[vt]);var Ht=arguments.length-2;if(Ht===1)wt.children=pt;else if(1<Ht){for(var Ie=Array(Ht),de=0;de<Ht;de++)Ie[de]=arguments[de+2];wt.children=Ie}if(k&&k.defaultProps)for(vt in Ht=k.defaultProps,Ht)wt[vt]===void 0&&(wt[vt]=Ht[vt]);return I(k,Ot,wt)},Pt.createRef=function(){return{current:null}},Pt.forwardRef=function(k){return{$$typeof:m,render:k}},Pt.isValidElement=O,Pt.lazy=function(k){return{$$typeof:v,_payload:{_status:-1,_result:k},_init:yt}},Pt.memo=function(k,Z){return{$$typeof:g,type:k,compare:Z===void 0?null:Z}},Pt.startTransition=function(k){var Z=R.T,pt={};R.T=pt;try{var vt=k(),wt=R.S;wt!==null&&wt(pt,vt),typeof vt=="object"&&vt!==null&&typeof vt.then=="function"&&vt.then(dt,Dt)}catch(Ot){Dt(Ot)}finally{Z!==null&&pt.types!==null&&(Z.types=pt.types),R.T=Z}},Pt.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Pt.use=function(k){return R.H.use(k)},Pt.useActionState=function(k,Z,pt){return R.H.useActionState(k,Z,pt)},Pt.useCallback=function(k,Z){return R.H.useCallback(k,Z)},Pt.useContext=function(k){return R.H.useContext(k)},Pt.useDebugValue=function(){},Pt.useDeferredValue=function(k,Z){return R.H.useDeferredValue(k,Z)},Pt.useEffect=function(k,Z){return R.H.useEffect(k,Z)},Pt.useEffectEvent=function(k){return R.H.useEffectEvent(k)},Pt.useId=function(){return R.H.useId()},Pt.useImperativeHandle=function(k,Z,pt){return R.H.useImperativeHandle(k,Z,pt)},Pt.useInsertionEffect=function(k,Z){return R.H.useInsertionEffect(k,Z)},Pt.useLayoutEffect=function(k,Z){return R.H.useLayoutEffect(k,Z)},Pt.useMemo=function(k,Z){return R.H.useMemo(k,Z)},Pt.useOptimistic=function(k,Z){return R.H.useOptimistic(k,Z)},Pt.useReducer=function(k,Z,pt){return R.H.useReducer(k,Z,pt)},Pt.useRef=function(k){return R.H.useRef(k)},Pt.useState=function(k){return R.H.useState(k)},Pt.useSyncExternalStore=function(k,Z,pt){return R.H.useSyncExternalStore(k,Z,pt)},Pt.useTransition=function(){return R.H.useTransition()},Pt.version="19.2.0",Pt}var nT;function ag(){return nT||(nT=1,jm.exports=AR()),jm.exports}var $=ag();const wR=ER($);var Lm={exports:{}},uu={},Um={exports:{}},zm={};var iT;function xR(){return iT||(iT=1,(function(i){function t(G,ut){var yt=G.length;G.push(ut);t:for(;0<yt;){var Dt=yt-1>>>1,Rt=G[Dt];if(0<o(Rt,ut))G[Dt]=ut,G[yt]=Rt,yt=Dt;else break t}}function e(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var ut=G[0],yt=G.pop();if(yt!==ut){G[0]=yt;t:for(var Dt=0,Rt=G.length,k=Rt>>>1;Dt<k;){var Z=2*(Dt+1)-1,pt=G[Z],vt=Z+1,wt=G[vt];if(0>o(pt,yt))vt<Rt&&0>o(wt,pt)?(G[Dt]=wt,G[vt]=yt,Dt=vt):(G[Dt]=pt,G[Z]=yt,Dt=Z);else if(vt<Rt&&0>o(wt,yt))G[Dt]=wt,G[vt]=yt,Dt=vt;else break t}}return ut}function o(G,ut){var yt=G.sortIndex-ut.sortIndex;return yt!==0?yt:G.id-ut.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();i.unstable_now=function(){return c.now()-m}}var p=[],g=[],v=1,E=null,b=3,C=!1,U=!1,M=!1,P=!1,Q=typeof setTimeout=="function"?setTimeout:null,it=typeof clearTimeout=="function"?clearTimeout:null,tt=typeof setImmediate<"u"?setImmediate:null;function ht(G){for(var ut=e(g);ut!==null;){if(ut.callback===null)r(g);else if(ut.startTime<=G)r(g),ut.sortIndex=ut.expirationTime,t(p,ut);else break;ut=e(g)}}function ft(G){if(M=!1,ht(G),!U)if(e(p)!==null)U=!0,dt||(dt=!0,z());else{var ut=e(g);ut!==null&&oe(ft,ut.startTime-G)}}var dt=!1,R=-1,w=5,I=-1;function N(){return P?!0:!(i.unstable_now()-I<w)}function O(){if(P=!1,dt){var G=i.unstable_now();I=G;var ut=!0;try{t:{U=!1,M&&(M=!1,it(R),R=-1),C=!0;var yt=b;try{e:{for(ht(G),E=e(p);E!==null&&!(E.expirationTime>G&&N());){var Dt=E.callback;if(typeof Dt=="function"){E.callback=null,b=E.priorityLevel;var Rt=Dt(E.expirationTime<=G);if(G=i.unstable_now(),typeof Rt=="function"){E.callback=Rt,ht(G),ut=!0;break e}E===e(p)&&r(p),ht(G)}else r(p);E=e(p)}if(E!==null)ut=!0;else{var k=e(g);k!==null&&oe(ft,k.startTime-G),ut=!1}}break t}finally{E=null,b=yt,C=!1}ut=void 0}}finally{ut?z():dt=!1}}}var z;if(typeof tt=="function")z=function(){tt(O)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,jt=D.port2;D.port1.onmessage=O,z=function(){jt.postMessage(null)}}else z=function(){Q(O,0)};function oe(G,ut){R=Q(function(){G(i.unstable_now())},ut)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(G){G.callback=null},i.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<G?Math.floor(1e3/G):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_next=function(G){switch(b){case 1:case 2:case 3:var ut=3;break;default:ut=b}var yt=b;b=ut;try{return G()}finally{b=yt}},i.unstable_requestPaint=function(){P=!0},i.unstable_runWithPriority=function(G,ut){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var yt=b;b=G;try{return ut()}finally{b=yt}},i.unstable_scheduleCallback=function(G,ut,yt){var Dt=i.unstable_now();switch(typeof yt=="object"&&yt!==null?(yt=yt.delay,yt=typeof yt=="number"&&0<yt?Dt+yt:Dt):yt=Dt,G){case 1:var Rt=-1;break;case 2:Rt=250;break;case 5:Rt=1073741823;break;case 4:Rt=1e4;break;default:Rt=5e3}return Rt=yt+Rt,G={id:v++,callback:ut,priorityLevel:G,startTime:yt,expirationTime:Rt,sortIndex:-1},yt>Dt?(G.sortIndex=yt,t(g,G),e(p)===null&&G===e(g)&&(M?(it(R),R=-1):M=!0,oe(ft,yt-Dt))):(G.sortIndex=Rt,t(p,G),U||C||(U=!0,dt||(dt=!0,z()))),G},i.unstable_shouldYield=N,i.unstable_wrapCallback=function(G){var ut=b;return function(){var yt=b;b=ut;try{return G.apply(this,arguments)}finally{b=yt}}}})(zm)),zm}var sT;function RR(){return sT||(sT=1,Um.exports=xR()),Um.exports}var Bm={exports:{}},wn={};var rT;function CR(){if(rT)return wn;rT=1;var i=ag();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:p,containerInfo:g,implementation:v}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return wn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,wn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,v)},wn.flushSync=function(p){var g=c.T,v=r.p;try{if(c.T=null,r.p=2,p)return p()}finally{c.T=g,r.p=v,r.d.f()}},wn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},wn.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},wn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,E=m(v,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:b,fetchPriority:C}):v==="script"&&r.d.X(p,{crossOrigin:E,integrity:b,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},wn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},wn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,E=m(v,g.crossOrigin);r.d.L(p,v,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},wn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},wn.requestFormReset=function(p){r.d.r(p)},wn.unstable_batchedUpdates=function(p,g){return p(g)},wn.useFormState=function(p,g,v){return c.H.useFormState(p,g,v)},wn.useFormStatus=function(){return c.H.useHostTransitionStatus()},wn.version="19.2.0",wn}var aT;function KE(){if(aT)return Bm.exports;aT=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Bm.exports=CR(),Bm.exports}var oT;function IR(){if(oT)return uu;oT=1;var i=RR(),t=ag(),e=KE();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function m(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function p(n){if(u(n)!==n)throw Error(r(188))}function g(n){var s=n.alternate;if(!s){if(s=u(n),s===null)throw Error(r(188));return s!==n?null:n}for(var a=n,l=s;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),n;if(d===l)return p(f),s;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,A=f.child;A;){if(A===a){_=!0,a=f,l=d;break}if(A===l){_=!0,l=f,a=d;break}A=A.sibling}if(!_){for(A=d.child;A;){if(A===a){_=!0,a=d,l=f;break}if(A===l){_=!0,l=d,a=f;break}A=A.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?n:s}function v(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=v(n),s!==null)return s;n=n.sibling}return null}var E=Object.assign,b=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),it=Symbol.for("react.consumer"),tt=Symbol.for("react.context"),ht=Symbol.for("react.forward_ref"),ft=Symbol.for("react.suspense"),dt=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function z(n){return n===null||typeof n!="object"?null:(n=O&&n[O]||n["@@iterator"],typeof n=="function"?n:null)}var D=Symbol.for("react.client.reference");function jt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===D?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case M:return"Fragment";case Q:return"Profiler";case P:return"StrictMode";case ft:return"Suspense";case dt:return"SuspenseList";case I:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case U:return"Portal";case tt:return n.displayName||"Context";case it:return(n._context.displayName||"Context")+".Consumer";case ht:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case R:return s=n.displayName||null,s!==null?s:jt(n.type)||"Memo";case w:s=n._payload,n=n._init;try{return jt(n(s))}catch{}}return null}var oe=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,yt={pending:!1,data:null,method:null,action:null},Dt=[],Rt=-1;function k(n){return{current:n}}function Z(n){0>Rt||(n.current=Dt[Rt],Dt[Rt]=null,Rt--)}function pt(n,s){Rt++,Dt[Rt]=n.current,n.current=s}var vt=k(null),wt=k(null),Ot=k(null),Ht=k(null);function Ie(n,s){switch(pt(Ot,s),pt(wt,n),pt(vt,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?b_(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=b_(s),n=S_(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}Z(vt),pt(vt,n)}function de(){Z(vt),Z(wt),Z(Ot)}function bi(n){n.memoizedState!==null&&pt(Ht,n);var s=vt.current,a=S_(s,n.type);s!==a&&(pt(wt,n),pt(vt,a))}function zi(n){wt.current===n&&(Z(vt),Z(wt)),Ht.current===n&&(Z(Ht),su._currentValue=yt)}var Kt,an;function Ee(n){if(Kt===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Kt=s&&s[1]||"",an=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Kt+n+an}var ps=!1;function Pn(n,s){if(!n||ps)return"";ps=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var rt=function(){throw Error()};if(Object.defineProperty(rt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(rt,[])}catch(X){var K=X}Reflect.construct(n,[],rt)}else{try{rt.call()}catch(X){K=X}n.call(rt.prototype)}}else{try{throw Error()}catch(X){K=X}(rt=n())&&typeof rt.catch=="function"&&rt.catch(function(){})}}catch(X){if(X&&K&&typeof X.stack=="string")return[X.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],A=d[1];if(_&&A){var V=_.split(`
`),q=A.split(`
`);for(f=l=0;l<V.length&&!V[l].includes("DetermineComponentFrameRoot");)l++;for(;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;if(l===V.length||f===q.length)for(l=V.length-1,f=q.length-1;1<=l&&0<=f&&V[l]!==q[f];)f--;for(;1<=l&&0<=f;l--,f--)if(V[l]!==q[f]){if(l!==1||f!==1)do if(l--,f--,0>f||V[l]!==q[f]){var J=`
`+V[l].replace(" at new "," at ");return n.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",n.displayName)),J}while(1<=l&&0<=f);break}}}finally{ps=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Ee(a):""}function gs(n,s){switch(n.tag){case 26:case 27:case 5:return Ee(n.type);case 16:return Ee("Lazy");case 13:return n.child!==s&&s!==null?Ee("Suspense Fallback"):Ee("Suspense");case 19:return Ee("SuspenseList");case 0:case 15:return Pn(n.type,!1);case 11:return Pn(n.type.render,!1);case 1:return Pn(n.type,!0);case 31:return Ee("Activity");default:return""}}function ys(n){try{var s="",a=null;do s+=gs(n,a),a=n,n=n.return;while(n);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _t=Object.prototype.hasOwnProperty,Lt=i.unstable_scheduleCallback,Mn=i.unstable_cancelCallback,Si=i.unstable_shouldYield,le=i.unstable_requestPaint,ue=i.unstable_now,Sn=i.unstable_getCurrentPriorityLevel,Yr=i.unstable_ImmediatePriority,Qr=i.unstable_UserBlockingPriority,Ai=i.unstable_NormalPriority,cl=i.unstable_LowPriority,Ua=i.unstable_IdlePriority,za=i.log,Ba=i.unstable_setDisableYieldValue,Kn=null,tn=null;function kn(n){if(typeof za=="function"&&Ba(n),tn&&typeof tn.setStrictMode=="function")try{tn.setStrictMode(Kn,n)}catch{}}var De=Math.clz32?Math.clz32:L,Fa=Math.log,Xs=Math.LN2;function L(n){return n>>>=0,n===0?32:31-(Fa(n)/Xs|0)|0}var lt=256,et=262144,st=4194304;function W(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ot(n,s,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,d=n.suspendedLanes,_=n.pingedLanes;n=n.warmLanes;var A=l&134217727;return A!==0?(l=A&~d,l!==0?f=W(l):(_&=A,_!==0?f=W(_):a||(a=A&~n,a!==0&&(f=W(a))))):(A=l&~d,A!==0?f=W(A):_!==0?f=W(_):a||(a=l&~n,a!==0&&(f=W(a)))),f===0?0:s!==0&&s!==f&&(s&d)===0&&(d=f&-f,a=s&-s,d>=a||d===32&&(a&4194048)!==0)?s:f}function gt(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function Ut(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ne(){var n=st;return st<<=1,(st&62914560)===0&&(st=4194304),n}function en(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function hn(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Zt(n,s,a,l,f,d){var _=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var A=n.entanglements,V=n.expirationTimes,q=n.hiddenUpdates;for(a=_&~a;0<a;){var J=31-De(a),rt=1<<J;A[J]=0,V[J]=-1;var K=q[J];if(K!==null)for(q[J]=null,J=0;J<K.length;J++){var X=K[J];X!==null&&(X.lane&=-536870913)}a&=~rt}l!==0&&te(n,l,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(_&~s))}function te(n,s,a){n.pendingLanes|=s,n.suspendedLanes&=~s;var l=31-De(s);n.entangledLanes|=s,n.entanglements[l]=n.entanglements[l]|1073741824|a&261930}function fn(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var l=31-De(a),f=1<<l;f&s|n[l]&s&&(n[l]|=s),a&=~f}}function Bi(n,s){var a=s&-s;return a=(a&42)!==0?1:vs(a),(a&(n.suspendedLanes|s))!==0?0:a}function vs(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function wi(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Ha(){var n=ut.p;return n!==0?n:(n=window.event,n===void 0?32:K_(n.type))}function ve(n,s){var a=ut.p;try{return ut.p=n,s()}finally{ut.p=a}}var dn=Math.random().toString(36).slice(2),Te="__reactFiber$"+dn,we="__reactProps$"+dn,Yn="__reactContainer$"+dn,_s="__reactEvents$"+dn,sc="__reactListeners$"+dn,qa="__reactHandles$"+dn,Pe="__reactResources$"+dn,An="__reactMarker$"+dn;function xi(n){delete n[Te],delete n[we],delete n[_s],delete n[sc],delete n[qa]}function Fi(n){var s=n[Te];if(s)return s;for(var a=n.parentNode;a;){if(s=a[Yn]||a[Te]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=D_(n);n!==null;){if(a=n[Te])return a;n=D_(n)}return s}n=a,a=n.parentNode}return null}function ii(n){if(n=n[Te]||n[Yn]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function Qn(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function Hi(n){var s=n[Pe];return s||(s=n[Pe]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ge(n){n[An]=!0}var hl=new Set,fl={};function qi(n,s){Gi(n,s),Gi(n+"Capture",s)}function Gi(n,s){for(fl[n]=s,n=0;n<s.length;n++)hl.add(s[n])}var dl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ml={},pl={};function rc(n){return _t.call(pl,n)?!0:_t.call(ml,n)?!1:dl.test(n)?pl[n]=!0:(ml[n]=!0,!1)}function Ga(n,s,a){if(rc(s))if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+a)}}function Xn(n,s,a){if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+a)}}function Ke(n,s,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(s,a,""+l)}}function on(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ws(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function gl(n,s,a){var l=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(n,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function ce(n){if(!n._valueTracker){var s=Ws(n)?"checked":"value";n._valueTracker=gl(n,s,""+n[s])}}function Xr(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return n&&(l=Ws(n)?n.checked?"true":"false":n.value),n=l,n!==a?(s.setValue(n),!0):!1}function Ki(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Wr=/[\n"\\]/g;function jn(n){return n.replace(Wr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ka(n,s,a,l,f,d,_,A){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),s!=null?_==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+on(s)):n.value!==""+on(s)&&(n.value=""+on(s)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),s!=null?yl(n,_,on(s)):a!=null?yl(n,_,on(a)):l!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?n.name=""+on(A):n.removeAttribute("name")}function ac(n,s,a,l,f,d,_,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null)){ce(n);return}a=a!=null?""+on(a):"",s=s!=null?""+on(s):a,A||s===n.value||(n.value=s),n.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=A?n.checked:!!l,n.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_),ce(n)}function yl(n,s,a){s==="number"&&Ki(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function $s(n,s,a,l){if(n=n.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=s.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+on(a),s=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function oc(n,s,a){if(s!=null&&(s=""+on(s),s!==n.value&&(n.value=s),a==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=a!=null?""+on(a):""}function Js(n,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(oe(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=on(s),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l),ce(n)}function Ln(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var lc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vl(n,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":l?n.setProperty(s,a):typeof a!="number"||a===0||lc.has(s)?s==="float"?n.cssFloat=a:n[s]=(""+a).trim():n[s]=a+"px"}function _l(n,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&vl(n,f,l)}else for(var d in s)s.hasOwnProperty(d)&&vl(n,d,s[d])}function Ya(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qa(n){return Zs.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Ri(){}var Tl=null;function si(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var tr=null,Yi=null;function $r(n){var s=ii(n);if(s&&(n=s.stateNode)){var a=n[we]||null;t:switch(n=s.stateNode,s.type){case"input":if(Ka(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+jn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==n&&l.form===n.form){var f=l[we]||null;if(!f)throw Error(r(90));Ka(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===n.form&&Xr(l)}break t;case"textarea":oc(n,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&$s(n,!!a.multiple,s,!1)}}}var Xa=!1;function er(n,s,a){if(Xa)return n(s,a);Xa=!0;try{var l=n(s);return l}finally{if(Xa=!1,(tr!==null||Yi!==null)&&(nh(),tr&&(s=tr,n=Yi,Yi=tr=null,$r(s),n)))for(s=0;s<n.length;s++)$r(n[s])}}function Ci(n,s){var a=n.stateNode;if(a===null)return null;var l=a[we]||null;if(l===null)return null;a=l[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break t;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jr=!1;if(ri)try{var me={};Object.defineProperty(me,"passive",{get:function(){Jr=!0}}),window.addEventListener("test",me,me),window.removeEventListener("test",me,me)}catch{Jr=!1}var Qi=null,El=null,Zr=null;function bl(){if(Zr)return Zr;var n,s=El,a=s.length,l,f="value"in Qi?Qi.value:Qi.textContent,d=f.length;for(n=0;n<a&&s[n]===f[n];n++);var _=a-n;for(l=1;l<=_&&s[a-l]===f[d-l];l++);return Zr=f.slice(n,1<l?1-l:void 0)}function ta(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Ts(){return!0}function Ii(){return!1}function mn(n){function s(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var A in n)n.hasOwnProperty(A)&&(a=n[A],this[A]=a?a(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ts:Ii,this.isPropagationStopped=Ii,this}return E(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ts)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ts)},persist:function(){},isPersistent:Ts}),s}var Es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xi=mn(Es),nr=E({},Es,{view:0,detail:0}),Sl=mn(nr),ir,Wa,Wi,$a=E({},nr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sr,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Wi&&(Wi&&n.type==="mousemove"?(ir=n.screenX-Wi.screenX,Wa=n.screenY-Wi.screenY):Wa=ir=0,Wi=n),ir)},movementY:function(n){return"movementY"in n?n.movementY:Wa}}),Al=mn($a),ea=E({},$a,{dataTransfer:0}),cc=mn(ea),hc=E({},nr,{relatedTarget:0}),na=mn(hc),wl=E({},Es,{animationName:0,elapsedTime:0,pseudoElement:0}),fc=mn(wl),Ja=E({},Es,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),dc=mn(Ja),mc=E({},Es,{data:0}),$i=mn(mc),pc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vc(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=yc[n])?!!s[n]:!1}function sr(){return vc}var Vn=E({},nr,{key:function(n){if(n.key){var s=pc[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=ta(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?gc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sr,charCode:function(n){return n.type==="keypress"?ta(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ta(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),_c=mn(Vn),Tc=E({},$a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bs=mn(Tc),h=E({},nr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sr}),y=mn(h),T=E({},Es,{propertyName:0,elapsedTime:0,pseudoElement:0}),x=mn(T),F=E({},$a,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=mn(F),mt=E({},Es,{newState:0,oldState:0}),zt=mn(mt),Ue=[9,13,27,32],se=ri&&"CompositionEvent"in window,xe=null;ri&&"documentMode"in document&&(xe=document.documentMode);var ai=ri&&"TextEvent"in window&&!xe,Ji=ri&&(!se||xe&&8<xe&&11>=xe),Di=" ",Mi=!1;function ia(n,s){switch(n){case"keyup":return Ue.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Za(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var to=!1;function Gw(n,s){switch(n){case"compositionend":return Za(s);case"keypress":return s.which!==32?null:(Mi=!0,Di);case"textInput":return n=s.data,n===Di&&Mi?null:n;default:return null}}function Kw(n,s){if(to)return n==="compositionend"||!se&&ia(n,s)?(n=bl(),Zr=El=Qi=null,to=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ji&&s.locale!=="ko"?null:s.data;default:return null}}var Yw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oy(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!Yw[n.type]:s==="textarea"}function Ny(n,s,a,l){tr?Yi?Yi.push(l):Yi=[l]:tr=l,s=uh(s,"onChange"),0<s.length&&(a=new Xi("onChange","change",null,a,l),n.push({event:a,listeners:s}))}var xl=null,Rl=null;function Qw(n){g_(n,0)}function Ec(n){var s=Qn(n);if(Xr(s))return n}function Py(n,s){if(n==="change")return s}var ky=!1;if(ri){var Hf;if(ri){var qf="oninput"in document;if(!qf){var jy=document.createElement("div");jy.setAttribute("oninput","return;"),qf=typeof jy.oninput=="function"}Hf=qf}else Hf=!1;ky=Hf&&(!document.documentMode||9<document.documentMode)}function Ly(){xl&&(xl.detachEvent("onpropertychange",Uy),Rl=xl=null)}function Uy(n){if(n.propertyName==="value"&&Ec(Rl)){var s=[];Ny(s,Rl,n,si(n)),er(Qw,s)}}function Xw(n,s,a){n==="focusin"?(Ly(),xl=s,Rl=a,xl.attachEvent("onpropertychange",Uy)):n==="focusout"&&Ly()}function Ww(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ec(Rl)}function $w(n,s){if(n==="click")return Ec(s)}function Jw(n,s){if(n==="input"||n==="change")return Ec(s)}function Zw(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Wn=typeof Object.is=="function"?Object.is:Zw;function Cl(n,s){if(Wn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!_t.call(s,f)||!Wn(n[f],s[f]))return!1}return!0}function zy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function By(n,s){var a=zy(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=s&&l>=s)return{node:a,offset:s-n};n=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=zy(a)}}function Fy(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Fy(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Hy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Ki(n.document);s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=Ki(n.document)}return s}function Gf(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var tx=ri&&"documentMode"in document&&11>=document.documentMode,eo=null,Kf=null,Il=null,Yf=!1;function qy(n,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Yf||eo==null||eo!==Ki(l)||(l=eo,"selectionStart"in l&&Gf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Il&&Cl(Il,l)||(Il=l,l=uh(Kf,"onSelect"),0<l.length&&(s=new Xi("onSelect","select",null,s,a),n.push({event:s,listeners:l}),s.target=eo)))}function sa(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var no={animationend:sa("Animation","AnimationEnd"),animationiteration:sa("Animation","AnimationIteration"),animationstart:sa("Animation","AnimationStart"),transitionrun:sa("Transition","TransitionRun"),transitionstart:sa("Transition","TransitionStart"),transitioncancel:sa("Transition","TransitionCancel"),transitionend:sa("Transition","TransitionEnd")},Qf={},Gy={};ri&&(Gy=document.createElement("div").style,"AnimationEvent"in window||(delete no.animationend.animation,delete no.animationiteration.animation,delete no.animationstart.animation),"TransitionEvent"in window||delete no.transitionend.transition);function ra(n){if(Qf[n])return Qf[n];if(!no[n])return n;var s=no[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in Gy)return Qf[n]=s[a];return n}var Ky=ra("animationend"),Yy=ra("animationiteration"),Qy=ra("animationstart"),ex=ra("transitionrun"),nx=ra("transitionstart"),ix=ra("transitioncancel"),Xy=ra("transitionend"),Wy=new Map,Xf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xf.push("scrollEnd");function Vi(n,s){Wy.set(n,s),qi(s,[n])}var bc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},oi=[],io=0,Wf=0;function Sc(){for(var n=io,s=Wf=io=0;s<n;){var a=oi[s];oi[s++]=null;var l=oi[s];oi[s++]=null;var f=oi[s];oi[s++]=null;var d=oi[s];if(oi[s++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&$y(a,f,d)}}function Ac(n,s,a,l){oi[io++]=n,oi[io++]=s,oi[io++]=a,oi[io++]=l,Wf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function $f(n,s,a,l){return Ac(n,s,a,l),wc(n)}function aa(n,s){return Ac(n,null,null,s),wc(n)}function $y(n,s,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&s!==null&&(f=31-De(a),n=d.hiddenUpdates,l=n[f],l===null?n[f]=[s]:l.push(s),s.lane=a|536870912),d):null}function wc(n){if(50<$l)throw $l=0,am=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var so={};function sx(n,s,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(n,s,a,l){return new sx(n,s,a,l)}function Jf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Ss(n,s){var a=n.alternate;return a===null?(a=$n(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Jy(n,s){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,s=a.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function xc(n,s,a,l,f,d){var _=0;if(l=n,typeof n=="function")Jf(n)&&(_=1);else if(typeof n=="string")_=uR(n,a,vt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case I:return n=$n(31,a,s,f),n.elementType=I,n.lanes=d,n;case M:return oa(a.children,f,d,s);case P:_=8,f|=24;break;case Q:return n=$n(12,a,s,f|2),n.elementType=Q,n.lanes=d,n;case ft:return n=$n(13,a,s,f),n.elementType=ft,n.lanes=d,n;case dt:return n=$n(19,a,s,f),n.elementType=dt,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case tt:_=10;break t;case it:_=9;break t;case ht:_=11;break t;case R:_=14;break t;case w:_=16,l=null;break t}_=29,a=Error(r(130,n===null?"null":typeof n,"")),l=null}return s=$n(_,a,s,f),s.elementType=n,s.type=l,s.lanes=d,s}function oa(n,s,a,l){return n=$n(7,n,l,s),n.lanes=a,n}function Zf(n,s,a){return n=$n(6,n,null,s),n.lanes=a,n}function Zy(n){var s=$n(18,null,null,0);return s.stateNode=n,s}function td(n,s,a){return s=$n(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var t0=new WeakMap;function li(n,s){if(typeof n=="object"&&n!==null){var a=t0.get(n);return a!==void 0?a:(s={value:n,source:s,stack:ys(s)},t0.set(n,s),s)}return{value:n,source:s,stack:ys(s)}}var ro=[],ao=0,Rc=null,Dl=0,ui=[],ci=0,rr=null,Zi=1,ts="";function As(n,s){ro[ao++]=Dl,ro[ao++]=Rc,Rc=n,Dl=s}function e0(n,s,a){ui[ci++]=Zi,ui[ci++]=ts,ui[ci++]=rr,rr=n;var l=Zi;n=ts;var f=32-De(l)-1;l&=~(1<<f),a+=1;var d=32-De(s)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Zi=1<<32-De(s)+f|a<<f|l,ts=d+n}else Zi=1<<d|a<<f|l,ts=n}function ed(n){n.return!==null&&(As(n,1),e0(n,1,0))}function nd(n){for(;n===Rc;)Rc=ro[--ao],ro[ao]=null,Dl=ro[--ao],ro[ao]=null;for(;n===rr;)rr=ui[--ci],ui[ci]=null,ts=ui[--ci],ui[ci]=null,Zi=ui[--ci],ui[ci]=null}function n0(n,s){ui[ci++]=Zi,ui[ci++]=ts,ui[ci++]=rr,Zi=s.id,ts=s.overflow,rr=n}var pn=null,be=null,Jt=!1,ar=null,hi=!1,id=Error(r(519));function or(n){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ml(li(s,n)),id}function i0(n){var s=n.stateNode,a=n.type,l=n.memoizedProps;switch(s[Te]=n,s[we]=l,a){case"dialog":Gt("cancel",s),Gt("close",s);break;case"iframe":case"object":case"embed":Gt("load",s);break;case"video":case"audio":for(a=0;a<Zl.length;a++)Gt(Zl[a],s);break;case"source":Gt("error",s);break;case"img":case"image":case"link":Gt("error",s),Gt("load",s);break;case"details":Gt("toggle",s);break;case"input":Gt("invalid",s),ac(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Gt("invalid",s);break;case"textarea":Gt("invalid",s),Js(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||T_(s.textContent,a)?(l.popover!=null&&(Gt("beforetoggle",s),Gt("toggle",s)),l.onScroll!=null&&Gt("scroll",s),l.onScrollEnd!=null&&Gt("scrollend",s),l.onClick!=null&&(s.onclick=Ri),s=!0):s=!1,s||or(n,!0)}function s0(n){for(pn=n.return;pn;)switch(pn.tag){case 5:case 31:case 13:hi=!1;return;case 27:case 3:hi=!0;return;default:pn=pn.return}}function oo(n){if(n!==pn)return!1;if(!Jt)return s0(n),Jt=!0,!1;var s=n.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Em(n.type,n.memoizedProps)),a=!a),a&&be&&or(n),s0(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));be=I_(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));be=I_(n)}else s===27?(s=be,Er(n.type)?(n=xm,xm=null,be=n):be=s):be=pn?di(n.stateNode.nextSibling):null;return!0}function la(){be=pn=null,Jt=!1}function sd(){var n=ar;return n!==null&&(Fn===null?Fn=n:Fn.push.apply(Fn,n),ar=null),n}function Ml(n){ar===null?ar=[n]:ar.push(n)}var rd=k(null),ua=null,ws=null;function lr(n,s,a){pt(rd,s._currentValue),s._currentValue=a}function xs(n){n._currentValue=rd.current,Z(rd)}function ad(n,s,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),n===a)break;n=n.return}}function od(n,s,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;t:for(;d!==null;){var A=d;d=f;for(var V=0;V<s.length;V++)if(A.context===s[V]){d.lanes|=a,A=d.alternate,A!==null&&(A.lanes|=a),ad(d.return,a,n),l||(_=null);break t}d=A.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),ad(_,a,n),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===n){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function lo(n,s,a,l){n=null;for(var f=s,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var A=f.type;Wn(f.pendingProps.value,_.value)||(n!==null?n.push(A):n=[A])}}else if(f===Ht.current){if(_=f.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(su):n=[su])}f=f.return}n!==null&&od(s,n,a,l),s.flags|=262144}function Cc(n){for(n=n.firstContext;n!==null;){if(!Wn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ca(n){ua=n,ws=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function gn(n){return r0(ua,n)}function Ic(n,s){return ua===null&&ca(n),r0(n,s)}function r0(n,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},ws===null){if(n===null)throw Error(r(308));ws=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else ws=ws.next=s;return a}var rx=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){s.aborted=!0,n.forEach(function(a){return a()})}},ax=i.unstable_scheduleCallback,ox=i.unstable_NormalPriority,Ye={$$typeof:tt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ld(){return{controller:new rx,data:new Map,refCount:0}}function Vl(n){n.refCount--,n.refCount===0&&ax(ox,function(){n.controller.abort()})}var Ol=null,ud=0,uo=0,co=null;function lx(n,s){if(Ol===null){var a=Ol=[];ud=0,uo=fm(),co={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ud++,s.then(a0,a0),s}function a0(){if(--ud===0&&Ol!==null){co!==null&&(co.status="fulfilled");var n=Ol;Ol=null,uo=0,co=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function ux(n,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var o0=G.S;G.S=function(n,s){qv=ue(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&lx(n,s),o0!==null&&o0(n,s)};var ha=k(null);function cd(){var n=ha.current;return n!==null?n:_e.pooledCache}function Dc(n,s){s===null?pt(ha,ha.current):pt(ha,s.pool)}function l0(){var n=cd();return n===null?null:{parent:Ye._currentValue,pool:n}}var ho=Error(r(460)),hd=Error(r(474)),Mc=Error(r(542)),Vc={then:function(){}};function u0(n){return n=n.status,n==="fulfilled"||n==="rejected"}function c0(n,s,a){switch(a=n[a],a===void 0?n.push(s):a!==s&&(s.then(Ri,Ri),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,f0(n),n;default:if(typeof s.status=="string")s.then(Ri,Ri);else{if(n=_e,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,f0(n),n}throw da=s,ho}}function fa(n){try{var s=n._init;return s(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(da=a,ho):a}}var da=null;function h0(){if(da===null)throw Error(r(459));var n=da;return da=null,n}function f0(n){if(n===ho||n===Mc)throw Error(r(483))}var fo=null,Nl=0;function Oc(n){var s=Nl;return Nl+=1,fo===null&&(fo=[]),c0(fo,n,s)}function Pl(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Nc(n,s){throw s.$$typeof===b?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function d0(n){function s(B,j){if(n){var H=B.deletions;H===null?(B.deletions=[j],B.flags|=16):H.push(j)}}function a(B,j){if(!n)return null;for(;j!==null;)s(B,j),j=j.sibling;return null}function l(B){for(var j=new Map;B!==null;)B.key!==null?j.set(B.key,B):j.set(B.index,B),B=B.sibling;return j}function f(B,j){return B=Ss(B,j),B.index=0,B.sibling=null,B}function d(B,j,H){return B.index=H,n?(H=B.alternate,H!==null?(H=H.index,H<j?(B.flags|=67108866,j):H):(B.flags|=67108866,j)):(B.flags|=1048576,j)}function _(B){return n&&B.alternate===null&&(B.flags|=67108866),B}function A(B,j,H,nt){return j===null||j.tag!==6?(j=Zf(H,B.mode,nt),j.return=B,j):(j=f(j,H),j.return=B,j)}function V(B,j,H,nt){var At=H.type;return At===M?J(B,j,H.props.children,nt,H.key):j!==null&&(j.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===w&&fa(At)===j.type)?(j=f(j,H.props),Pl(j,H),j.return=B,j):(j=xc(H.type,H.key,H.props,null,B.mode,nt),Pl(j,H),j.return=B,j)}function q(B,j,H,nt){return j===null||j.tag!==4||j.stateNode.containerInfo!==H.containerInfo||j.stateNode.implementation!==H.implementation?(j=td(H,B.mode,nt),j.return=B,j):(j=f(j,H.children||[]),j.return=B,j)}function J(B,j,H,nt,At){return j===null||j.tag!==7?(j=oa(H,B.mode,nt,At),j.return=B,j):(j=f(j,H),j.return=B,j)}function rt(B,j,H){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Zf(""+j,B.mode,H),j.return=B,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case C:return H=xc(j.type,j.key,j.props,null,B.mode,H),Pl(H,j),H.return=B,H;case U:return j=td(j,B.mode,H),j.return=B,j;case w:return j=fa(j),rt(B,j,H)}if(oe(j)||z(j))return j=oa(j,B.mode,H,null),j.return=B,j;if(typeof j.then=="function")return rt(B,Oc(j),H);if(j.$$typeof===tt)return rt(B,Ic(B,j),H);Nc(B,j)}return null}function K(B,j,H,nt){var At=j!==null?j.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return At!==null?null:A(B,j,""+H,nt);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case C:return H.key===At?V(B,j,H,nt):null;case U:return H.key===At?q(B,j,H,nt):null;case w:return H=fa(H),K(B,j,H,nt)}if(oe(H)||z(H))return At!==null?null:J(B,j,H,nt,null);if(typeof H.then=="function")return K(B,j,Oc(H),nt);if(H.$$typeof===tt)return K(B,j,Ic(B,H),nt);Nc(B,H)}return null}function X(B,j,H,nt,At){if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return B=B.get(H)||null,A(j,B,""+nt,At);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case C:return B=B.get(nt.key===null?H:nt.key)||null,V(j,B,nt,At);case U:return B=B.get(nt.key===null?H:nt.key)||null,q(j,B,nt,At);case w:return nt=fa(nt),X(B,j,H,nt,At)}if(oe(nt)||z(nt))return B=B.get(H)||null,J(j,B,nt,At,null);if(typeof nt.then=="function")return X(B,j,H,Oc(nt),At);if(nt.$$typeof===tt)return X(B,j,H,Ic(j,nt),At);Nc(j,nt)}return null}function Et(B,j,H,nt){for(var At=null,ne=null,bt=j,Ft=j=0,Qt=null;bt!==null&&Ft<H.length;Ft++){bt.index>Ft?(Qt=bt,bt=null):Qt=bt.sibling;var ie=K(B,bt,H[Ft],nt);if(ie===null){bt===null&&(bt=Qt);break}n&&bt&&ie.alternate===null&&s(B,bt),j=d(ie,j,Ft),ne===null?At=ie:ne.sibling=ie,ne=ie,bt=Qt}if(Ft===H.length)return a(B,bt),Jt&&As(B,Ft),At;if(bt===null){for(;Ft<H.length;Ft++)bt=rt(B,H[Ft],nt),bt!==null&&(j=d(bt,j,Ft),ne===null?At=bt:ne.sibling=bt,ne=bt);return Jt&&As(B,Ft),At}for(bt=l(bt);Ft<H.length;Ft++)Qt=X(bt,B,Ft,H[Ft],nt),Qt!==null&&(n&&Qt.alternate!==null&&bt.delete(Qt.key===null?Ft:Qt.key),j=d(Qt,j,Ft),ne===null?At=Qt:ne.sibling=Qt,ne=Qt);return n&&bt.forEach(function(xr){return s(B,xr)}),Jt&&As(B,Ft),At}function Ct(B,j,H,nt){if(H==null)throw Error(r(151));for(var At=null,ne=null,bt=j,Ft=j=0,Qt=null,ie=H.next();bt!==null&&!ie.done;Ft++,ie=H.next()){bt.index>Ft?(Qt=bt,bt=null):Qt=bt.sibling;var xr=K(B,bt,ie.value,nt);if(xr===null){bt===null&&(bt=Qt);break}n&&bt&&xr.alternate===null&&s(B,bt),j=d(xr,j,Ft),ne===null?At=xr:ne.sibling=xr,ne=xr,bt=Qt}if(ie.done)return a(B,bt),Jt&&As(B,Ft),At;if(bt===null){for(;!ie.done;Ft++,ie=H.next())ie=rt(B,ie.value,nt),ie!==null&&(j=d(ie,j,Ft),ne===null?At=ie:ne.sibling=ie,ne=ie);return Jt&&As(B,Ft),At}for(bt=l(bt);!ie.done;Ft++,ie=H.next())ie=X(bt,B,Ft,ie.value,nt),ie!==null&&(n&&ie.alternate!==null&&bt.delete(ie.key===null?Ft:ie.key),j=d(ie,j,Ft),ne===null?At=ie:ne.sibling=ie,ne=ie);return n&&bt.forEach(function(TR){return s(B,TR)}),Jt&&As(B,Ft),At}function ye(B,j,H,nt){if(typeof H=="object"&&H!==null&&H.type===M&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case C:t:{for(var At=H.key;j!==null;){if(j.key===At){if(At=H.type,At===M){if(j.tag===7){a(B,j.sibling),nt=f(j,H.props.children),nt.return=B,B=nt;break t}}else if(j.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===w&&fa(At)===j.type){a(B,j.sibling),nt=f(j,H.props),Pl(nt,H),nt.return=B,B=nt;break t}a(B,j);break}else s(B,j);j=j.sibling}H.type===M?(nt=oa(H.props.children,B.mode,nt,H.key),nt.return=B,B=nt):(nt=xc(H.type,H.key,H.props,null,B.mode,nt),Pl(nt,H),nt.return=B,B=nt)}return _(B);case U:t:{for(At=H.key;j!==null;){if(j.key===At)if(j.tag===4&&j.stateNode.containerInfo===H.containerInfo&&j.stateNode.implementation===H.implementation){a(B,j.sibling),nt=f(j,H.children||[]),nt.return=B,B=nt;break t}else{a(B,j);break}else s(B,j);j=j.sibling}nt=td(H,B.mode,nt),nt.return=B,B=nt}return _(B);case w:return H=fa(H),ye(B,j,H,nt)}if(oe(H))return Et(B,j,H,nt);if(z(H)){if(At=z(H),typeof At!="function")throw Error(r(150));return H=At.call(H),Ct(B,j,H,nt)}if(typeof H.then=="function")return ye(B,j,Oc(H),nt);if(H.$$typeof===tt)return ye(B,j,Ic(B,H),nt);Nc(B,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,j!==null&&j.tag===6?(a(B,j.sibling),nt=f(j,H),nt.return=B,B=nt):(a(B,j),nt=Zf(H,B.mode,nt),nt.return=B,B=nt),_(B)):a(B,j)}return function(B,j,H,nt){try{Nl=0;var At=ye(B,j,H,nt);return fo=null,At}catch(bt){if(bt===ho||bt===Mc)throw bt;var ne=$n(29,bt,null,B.mode);return ne.lanes=nt,ne.return=B,ne}finally{}}}var ma=d0(!0),m0=d0(!1),ur=!1;function fd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dd(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function cr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function hr(n,s,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(re&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=wc(n),$y(n,null,a),s}return Ac(n,l,s,a),wc(n)}function kl(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,fn(n,a)}}function md(n,s){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=s:d=d.next=s}else f=d=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}var pd=!1;function jl(){if(pd){var n=co;if(n!==null)throw n}}function Ll(n,s,a,l){pd=!1;var f=n.updateQueue;ur=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var V=A,q=V.next;V.next=null,_===null?d=q:_.next=q,_=V;var J=n.alternate;J!==null&&(J=J.updateQueue,A=J.lastBaseUpdate,A!==_&&(A===null?J.firstBaseUpdate=q:A.next=q,J.lastBaseUpdate=V))}if(d!==null){var rt=f.baseState;_=0,J=q=V=null,A=d;do{var K=A.lane&-536870913,X=K!==A.lane;if(X?(Yt&K)===K:(l&K)===K){K!==0&&K===uo&&(pd=!0),J!==null&&(J=J.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var Et=n,Ct=A;K=s;var ye=a;switch(Ct.tag){case 1:if(Et=Ct.payload,typeof Et=="function"){rt=Et.call(ye,rt,K);break t}rt=Et;break t;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=Ct.payload,K=typeof Et=="function"?Et.call(ye,rt,K):Et,K==null)break t;rt=E({},rt,K);break t;case 2:ur=!0}}K=A.callback,K!==null&&(n.flags|=64,X&&(n.flags|=8192),X=f.callbacks,X===null?f.callbacks=[K]:X.push(K))}else X={lane:K,tag:A.tag,payload:A.payload,callback:A.callback,next:null},J===null?(q=J=X,V=rt):J=J.next=X,_|=K;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;X=A,A=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);J===null&&(V=rt),f.baseState=V,f.firstBaseUpdate=q,f.lastBaseUpdate=J,d===null&&(f.shared.lanes=0),gr|=_,n.lanes=_,n.memoizedState=rt}}function p0(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function g0(n,s){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)p0(a[n],s)}var mo=k(null),Pc=k(0);function y0(n,s){n=Ps,pt(Pc,n),pt(mo,s),Ps=n|s.baseLanes}function gd(){pt(Pc,Ps),pt(mo,mo.current)}function yd(){Ps=Pc.current,Z(mo),Z(Pc)}var Jn=k(null),fi=null;function fr(n){var s=n.alternate;pt(ze,ze.current&1),pt(Jn,n),fi===null&&(s===null||mo.current!==null||s.memoizedState!==null)&&(fi=n)}function vd(n){pt(ze,ze.current),pt(Jn,n),fi===null&&(fi=n)}function v0(n){n.tag===22?(pt(ze,ze.current),pt(Jn,n),fi===null&&(fi=n)):dr()}function dr(){pt(ze,ze.current),pt(Jn,Jn.current)}function Zn(n){Z(Jn),fi===n&&(fi=null),Z(ze)}var ze=k(0);function kc(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Am(a)||wm(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Rs=0,Bt=null,pe=null,Qe=null,jc=!1,po=!1,pa=!1,Lc=0,Ul=0,go=null,cx=0;function ke(){throw Error(r(321))}function _d(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!Wn(n[a],s[a]))return!1;return!0}function Td(n,s,a,l,f,d){return Rs=d,Bt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,G.H=n===null||n.memoizedState===null?ev:Pd,pa=!1,d=a(l,f),pa=!1,po&&(d=T0(s,a,l,f)),_0(n),d}function _0(n){G.H=Fl;var s=pe!==null&&pe.next!==null;if(Rs=0,Qe=pe=Bt=null,jc=!1,Ul=0,go=null,s)throw Error(r(300));n===null||Xe||(n=n.dependencies,n!==null&&Cc(n)&&(Xe=!0))}function T0(n,s,a,l){Bt=n;var f=0;do{if(po&&(go=null),Ul=0,po=!1,25<=f)throw Error(r(301));if(f+=1,Qe=pe=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=nv,d=s(a,l)}while(po);return d}function hx(){var n=G.H,s=n.useState()[0];return s=typeof s.then=="function"?zl(s):s,n=n.useState()[0],(pe!==null?pe.memoizedState:null)!==n&&(Bt.flags|=1024),s}function Ed(){var n=Lc!==0;return Lc=0,n}function bd(n,s,a){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~a}function Sd(n){if(jc){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}jc=!1}Rs=0,Qe=pe=Bt=null,po=!1,Ul=Lc=0,go=null}function On(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?Bt.memoizedState=Qe=n:Qe=Qe.next=n,Qe}function Be(){if(pe===null){var n=Bt.alternate;n=n!==null?n.memoizedState:null}else n=pe.next;var s=Qe===null?Bt.memoizedState:Qe.next;if(s!==null)Qe=s,pe=n;else{if(n===null)throw Bt.alternate===null?Error(r(467)):Error(r(310));pe=n,n={memoizedState:pe.memoizedState,baseState:pe.baseState,baseQueue:pe.baseQueue,queue:pe.queue,next:null},Qe===null?Bt.memoizedState=Qe=n:Qe=Qe.next=n}return Qe}function Uc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zl(n){var s=Ul;return Ul+=1,go===null&&(go=[]),n=c0(go,n,s),s=Bt,(Qe===null?s.memoizedState:Qe.next)===null&&(s=s.alternate,G.H=s===null||s.memoizedState===null?ev:Pd),n}function zc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return zl(n);if(n.$$typeof===tt)return gn(n)}throw Error(r(438,String(n)))}function Ad(n){var s=null,a=Bt.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Bt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Uc(),Bt.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(n),l=0;l<n;l++)a[l]=N;return s.index++,a}function Cs(n,s){return typeof s=="function"?s(n):s}function Bc(n){var s=Be();return wd(s,pe,n)}function wd(n,s,a){var l=n.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=n.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}s.baseQueue=f=d,l.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{s=f.next;var A=_=null,V=null,q=s,J=!1;do{var rt=q.lane&-536870913;if(rt!==q.lane?(Yt&rt)===rt:(Rs&rt)===rt){var K=q.revertLane;if(K===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),rt===uo&&(J=!0);else if((Rs&K)===K){q=q.next,K===uo&&(J=!0);continue}else rt={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},V===null?(A=V=rt,_=d):V=V.next=rt,Bt.lanes|=K,gr|=K;rt=q.action,pa&&a(d,rt),d=q.hasEagerState?q.eagerState:a(d,rt)}else K={lane:rt,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},V===null?(A=V=K,_=d):V=V.next=K,Bt.lanes|=rt,gr|=rt;q=q.next}while(q!==null&&q!==s);if(V===null?_=d:V.next=A,!Wn(d,n.memoizedState)&&(Xe=!0,J&&(a=co,a!==null)))throw a;n.memoizedState=d,n.baseState=_,n.baseQueue=V,l.lastRenderedState=d}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function xd(n){var s=Be(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,d=s.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=n(d,_.action),_=_.next;while(_!==f);Wn(d,s.memoizedState)||(Xe=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,l]}function E0(n,s,a){var l=Bt,f=Be(),d=Jt;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=s();var _=!Wn((pe||f).memoizedState,a);if(_&&(f.memoizedState=a,Xe=!0),f=f.queue,Id(A0.bind(null,l,f,n),[n]),f.getSnapshot!==s||_||Qe!==null&&Qe.memoizedState.tag&1){if(l.flags|=2048,yo(9,{destroy:void 0},S0.bind(null,l,f,a,s),null),_e===null)throw Error(r(349));d||(Rs&127)!==0||b0(l,s,a)}return a}function b0(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=Bt.updateQueue,s===null?(s=Uc(),Bt.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function S0(n,s,a,l){s.value=a,s.getSnapshot=l,w0(s)&&x0(n)}function A0(n,s,a){return a(function(){w0(s)&&x0(n)})}function w0(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!Wn(n,a)}catch{return!0}}function x0(n){var s=aa(n,2);s!==null&&Hn(s,n,2)}function Rd(n){var s=On();if(typeof n=="function"){var a=n;if(n=a(),pa){kn(!0);try{a()}finally{kn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:n},s}function R0(n,s,a,l){return n.baseState=a,wd(n,pe,typeof l=="function"?l:Cs)}function fx(n,s,a,l,f){if(qc(n))throw Error(r(485));if(n=s.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};G.T!==null?a(!0):d.isTransition=!1,l(d),a=s.pending,a===null?(d.next=s.pending=d,C0(s,d)):(d.next=a.next,s.pending=a.next=d)}}function C0(n,s){var a=s.action,l=s.payload,f=n.state;if(s.isTransition){var d=G.T,_={};G.T=_;try{var A=a(f,l),V=G.S;V!==null&&V(_,A),I0(n,s,A)}catch(q){Cd(n,s,q)}finally{d!==null&&_.types!==null&&(d.types=_.types),G.T=d}}else try{d=a(f,l),I0(n,s,d)}catch(q){Cd(n,s,q)}}function I0(n,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){D0(n,s,l)},function(l){return Cd(n,s,l)}):D0(n,s,a)}function D0(n,s,a){s.status="fulfilled",s.value=a,M0(s),n.state=a,s=n.pending,s!==null&&(a=s.next,a===s?n.pending=null:(a=a.next,s.next=a,C0(n,a)))}function Cd(n,s,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,M0(s),s=s.next;while(s!==l)}n.action=null}function M0(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function V0(n,s){return s}function O0(n,s){if(Jt){var a=_e.formState;if(a!==null){t:{var l=Bt;if(Jt){if(be){e:{for(var f=be,d=hi;f.nodeType!==8;){if(!d){f=null;break e}if(f=di(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){be=di(f.nextSibling),l=f.data==="F!";break t}}or(l)}l=!1}l&&(s=a[0])}}return a=On(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:V0,lastRenderedState:s},a.queue=l,a=J0.bind(null,Bt,l),l.dispatch=a,l=Rd(!1),d=Nd.bind(null,Bt,!1,l.queue),l=On(),f={state:s,dispatch:null,action:n,pending:null},l.queue=f,a=fx.bind(null,Bt,f,d,a),f.dispatch=a,l.memoizedState=n,[s,a,!1]}function N0(n){var s=Be();return P0(s,pe,n)}function P0(n,s,a){if(s=wd(n,s,V0)[0],n=Bc(Cs)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=zl(s)}catch(_){throw _===ho?Mc:_}else l=s;s=Be();var f=s.queue,d=f.dispatch;return a!==s.memoizedState&&(Bt.flags|=2048,yo(9,{destroy:void 0},dx.bind(null,f,a),null)),[l,d,n]}function dx(n,s){n.action=s}function k0(n){var s=Be(),a=pe;if(a!==null)return P0(s,a,n);Be(),s=s.memoizedState,a=Be();var l=a.queue.dispatch;return a.memoizedState=n,[s,l,!1]}function yo(n,s,a,l){return n={tag:n,create:a,deps:l,inst:s,next:null},s=Bt.updateQueue,s===null&&(s=Uc(),Bt.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,s.lastEffect=n),n}function j0(){return Be().memoizedState}function Fc(n,s,a,l){var f=On();Bt.flags|=n,f.memoizedState=yo(1|s,{destroy:void 0},a,l===void 0?null:l)}function Hc(n,s,a,l){var f=Be();l=l===void 0?null:l;var d=f.memoizedState.inst;pe!==null&&l!==null&&_d(l,pe.memoizedState.deps)?f.memoizedState=yo(s,d,a,l):(Bt.flags|=n,f.memoizedState=yo(1|s,d,a,l))}function L0(n,s){Fc(8390656,8,n,s)}function Id(n,s){Hc(2048,8,n,s)}function mx(n){Bt.flags|=4;var s=Bt.updateQueue;if(s===null)s=Uc(),Bt.updateQueue=s,s.events=[n];else{var a=s.events;a===null?s.events=[n]:a.push(n)}}function U0(n){var s=Be().memoizedState;return mx({ref:s,nextImpl:n}),function(){if((re&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function z0(n,s){return Hc(4,2,n,s)}function B0(n,s){return Hc(4,4,n,s)}function F0(n,s){if(typeof s=="function"){n=n();var a=s(n);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function H0(n,s,a){a=a!=null?a.concat([n]):null,Hc(4,4,F0.bind(null,s,n),a)}function Dd(){}function q0(n,s){var a=Be();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&_d(s,l[1])?l[0]:(a.memoizedState=[n,s],n)}function G0(n,s){var a=Be();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&_d(s,l[1]))return l[0];if(l=n(),pa){kn(!0);try{n()}finally{kn(!1)}}return a.memoizedState=[l,s],l}function Md(n,s,a){return a===void 0||(Rs&1073741824)!==0&&(Yt&261930)===0?n.memoizedState=s:(n.memoizedState=a,n=Kv(),Bt.lanes|=n,gr|=n,a)}function K0(n,s,a,l){return Wn(a,s)?a:mo.current!==null?(n=Md(n,a,l),Wn(n,s)||(Xe=!0),n):(Rs&42)===0||(Rs&1073741824)!==0&&(Yt&261930)===0?(Xe=!0,n.memoizedState=a):(n=Kv(),Bt.lanes|=n,gr|=n,s)}function Y0(n,s,a,l,f){var d=ut.p;ut.p=d!==0&&8>d?d:8;var _=G.T,A={};G.T=A,Nd(n,!1,s,a);try{var V=f(),q=G.S;if(q!==null&&q(A,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var J=ux(V,l);Bl(n,s,J,ni(n))}else Bl(n,s,l,ni(n))}catch(rt){Bl(n,s,{then:function(){},status:"rejected",reason:rt},ni())}finally{ut.p=d,_!==null&&A.types!==null&&(_.types=A.types),G.T=_}}function px(){}function Vd(n,s,a,l){if(n.tag!==5)throw Error(r(476));var f=Q0(n).queue;Y0(n,f,s,yt,a===null?px:function(){return X0(n),a(l)})}function Q0(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:yt,baseState:yt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:yt},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:a},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function X0(n){var s=Q0(n);s.next===null&&(s=n.alternate.memoizedState),Bl(n,s.next.queue,{},ni())}function Od(){return gn(su)}function W0(){return Be().memoizedState}function $0(){return Be().memoizedState}function gx(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var a=ni();n=cr(a);var l=hr(s,n,a);l!==null&&(Hn(l,s,a),kl(l,s,a)),s={cache:ld()},n.payload=s;return}s=s.return}}function yx(n,s,a){var l=ni();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},qc(n)?Z0(s,a):(a=$f(n,s,a,l),a!==null&&(Hn(a,n,l),tv(a,s,l)))}function J0(n,s,a){var l=ni();Bl(n,s,a,l)}function Bl(n,s,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(qc(n))Z0(s,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var _=s.lastRenderedState,A=d(_,a);if(f.hasEagerState=!0,f.eagerState=A,Wn(A,_))return Ac(n,s,f,0),_e===null&&Sc(),!1}catch{}finally{}if(a=$f(n,s,f,l),a!==null)return Hn(a,n,l),tv(a,s,l),!0}return!1}function Nd(n,s,a,l){if(l={lane:2,revertLane:fm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},qc(n)){if(s)throw Error(r(479))}else s=$f(n,a,l,2),s!==null&&Hn(s,n,2)}function qc(n){var s=n.alternate;return n===Bt||s!==null&&s===Bt}function Z0(n,s){po=jc=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function tv(n,s,a){if((a&4194048)!==0){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,fn(n,a)}}var Fl={readContext:gn,use:zc,useCallback:ke,useContext:ke,useEffect:ke,useImperativeHandle:ke,useLayoutEffect:ke,useInsertionEffect:ke,useMemo:ke,useReducer:ke,useRef:ke,useState:ke,useDebugValue:ke,useDeferredValue:ke,useTransition:ke,useSyncExternalStore:ke,useId:ke,useHostTransitionStatus:ke,useFormState:ke,useActionState:ke,useOptimistic:ke,useMemoCache:ke,useCacheRefresh:ke};Fl.useEffectEvent=ke;var ev={readContext:gn,use:zc,useCallback:function(n,s){return On().memoizedState=[n,s===void 0?null:s],n},useContext:gn,useEffect:L0,useImperativeHandle:function(n,s,a){a=a!=null?a.concat([n]):null,Fc(4194308,4,F0.bind(null,s,n),a)},useLayoutEffect:function(n,s){return Fc(4194308,4,n,s)},useInsertionEffect:function(n,s){Fc(4,2,n,s)},useMemo:function(n,s){var a=On();s=s===void 0?null:s;var l=n();if(pa){kn(!0);try{n()}finally{kn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(n,s,a){var l=On();if(a!==void 0){var f=a(s);if(pa){kn(!0);try{a(s)}finally{kn(!1)}}}else f=s;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=yx.bind(null,Bt,n),[l.memoizedState,n]},useRef:function(n){var s=On();return n={current:n},s.memoizedState=n},useState:function(n){n=Rd(n);var s=n.queue,a=J0.bind(null,Bt,s);return s.dispatch=a,[n.memoizedState,a]},useDebugValue:Dd,useDeferredValue:function(n,s){var a=On();return Md(a,n,s)},useTransition:function(){var n=Rd(!1);return n=Y0.bind(null,Bt,n.queue,!0,!1),On().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,a){var l=Bt,f=On();if(Jt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),_e===null)throw Error(r(349));(Yt&127)!==0||b0(l,s,a)}f.memoizedState=a;var d={value:a,getSnapshot:s};return f.queue=d,L0(A0.bind(null,l,d,n),[n]),l.flags|=2048,yo(9,{destroy:void 0},S0.bind(null,l,d,a,s),null),a},useId:function(){var n=On(),s=_e.identifierPrefix;if(Jt){var a=ts,l=Zi;a=(l&~(1<<32-De(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Lc++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=cx++,s="_"+s+"r_"+a.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:Od,useFormState:O0,useActionState:O0,useOptimistic:function(n){var s=On();s.memoizedState=s.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Nd.bind(null,Bt,!0,a),a.dispatch=s,[n,s]},useMemoCache:Ad,useCacheRefresh:function(){return On().memoizedState=gx.bind(null,Bt)},useEffectEvent:function(n){var s=On(),a={impl:n};return s.memoizedState=a,function(){if((re&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Pd={readContext:gn,use:zc,useCallback:q0,useContext:gn,useEffect:Id,useImperativeHandle:H0,useInsertionEffect:z0,useLayoutEffect:B0,useMemo:G0,useReducer:Bc,useRef:j0,useState:function(){return Bc(Cs)},useDebugValue:Dd,useDeferredValue:function(n,s){var a=Be();return K0(a,pe.memoizedState,n,s)},useTransition:function(){var n=Bc(Cs)[0],s=Be().memoizedState;return[typeof n=="boolean"?n:zl(n),s]},useSyncExternalStore:E0,useId:W0,useHostTransitionStatus:Od,useFormState:N0,useActionState:N0,useOptimistic:function(n,s){var a=Be();return R0(a,pe,n,s)},useMemoCache:Ad,useCacheRefresh:$0};Pd.useEffectEvent=U0;var nv={readContext:gn,use:zc,useCallback:q0,useContext:gn,useEffect:Id,useImperativeHandle:H0,useInsertionEffect:z0,useLayoutEffect:B0,useMemo:G0,useReducer:xd,useRef:j0,useState:function(){return xd(Cs)},useDebugValue:Dd,useDeferredValue:function(n,s){var a=Be();return pe===null?Md(a,n,s):K0(a,pe.memoizedState,n,s)},useTransition:function(){var n=xd(Cs)[0],s=Be().memoizedState;return[typeof n=="boolean"?n:zl(n),s]},useSyncExternalStore:E0,useId:W0,useHostTransitionStatus:Od,useFormState:k0,useActionState:k0,useOptimistic:function(n,s){var a=Be();return pe!==null?R0(a,pe,n,s):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Ad,useCacheRefresh:$0};nv.useEffectEvent=U0;function kd(n,s,a,l){s=n.memoizedState,a=a(l,s),a=a==null?s:E({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var jd={enqueueSetState:function(n,s,a){n=n._reactInternals;var l=ni(),f=cr(l);f.payload=s,a!=null&&(f.callback=a),s=hr(n,f,l),s!==null&&(Hn(s,n,l),kl(s,n,l))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var l=ni(),f=cr(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=hr(n,f,l),s!==null&&(Hn(s,n,l),kl(s,n,l))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=ni(),l=cr(a);l.tag=2,s!=null&&(l.callback=s),s=hr(n,l,a),s!==null&&(Hn(s,n,a),kl(s,n,a))}};function iv(n,s,a,l,f,d,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,_):s.prototype&&s.prototype.isPureReactComponent?!Cl(a,l)||!Cl(f,d):!0}function sv(n,s,a,l){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==n&&jd.enqueueReplaceState(s,s.state,null)}function ga(n,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(n=n.defaultProps){a===s&&(a=E({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}function rv(n){bc(n)}function av(n){console.error(n)}function ov(n){bc(n)}function Gc(n,s){try{var a=n.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function lv(n,s,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ld(n,s,a){return a=cr(a),a.tag=3,a.payload={element:null},a.callback=function(){Gc(n,s)},a}function uv(n){return n=cr(n),n.tag=3,n}function cv(n,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;n.payload=function(){return f(d)},n.callback=function(){lv(s,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){lv(s,a,l),typeof f!="function"&&(yr===null?yr=new Set([this]):yr.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function vx(n,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&lo(s,a,f,!0),a=Jn.current,a!==null){switch(a.tag){case 31:case 13:return fi===null?ih():a.alternate===null&&je===0&&(je=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Vc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),um(n,l,f)),!1;case 22:return a.flags|=65536,l===Vc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),um(n,l,f)),!1}throw Error(r(435,a.tag))}return um(n,l,f),ih(),!1}if(Jt)return s=Jn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==id&&(n=Error(r(422),{cause:l}),Ml(li(n,a)))):(l!==id&&(s=Error(r(423),{cause:l}),Ml(li(s,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=li(l,a),f=Ld(n.stateNode,l,f),md(n,f),je!==4&&(je=2)),!1;var d=Error(r(520),{cause:l});if(d=li(d,a),Wl===null?Wl=[d]:Wl.push(d),je!==4&&(je=2),s===null)return!0;l=li(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=Ld(a.stateNode,l,n),md(a,n),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(yr===null||!yr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=uv(f),cv(f,n,a,l),md(a,f),!1}a=a.return}while(a!==null);return!1}var Ud=Error(r(461)),Xe=!1;function yn(n,s,a,l){s.child=n===null?m0(s,null,a,l):ma(s,n.child,a,l)}function hv(n,s,a,l,f){a=a.render;var d=s.ref;if("ref"in l){var _={};for(var A in l)A!=="ref"&&(_[A]=l[A])}else _=l;return ca(s),l=Td(n,s,a,_,d,f),A=Ed(),n!==null&&!Xe?(bd(n,s,f),Is(n,s,f)):(Jt&&A&&ed(s),s.flags|=1,yn(n,s,l,f),s.child)}function fv(n,s,a,l,f){if(n===null){var d=a.type;return typeof d=="function"&&!Jf(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,dv(n,s,d,l,f)):(n=xc(a.type,null,l,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(d=n.child,!Yd(n,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Cl,a(_,l)&&n.ref===s.ref)return Is(n,s,f)}return s.flags|=1,n=Ss(d,l),n.ref=s.ref,n.return=s,s.child=n}function dv(n,s,a,l,f){if(n!==null){var d=n.memoizedProps;if(Cl(d,l)&&n.ref===s.ref)if(Xe=!1,s.pendingProps=l=d,Yd(n,f))(n.flags&131072)!==0&&(Xe=!0);else return s.lanes=n.lanes,Is(n,s,f)}return zd(n,s,a,l,f)}function mv(n,s,a,l){var f=l.children,d=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,n!==null){for(l=s.child=n.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,s.child=null;return pv(n,s,d,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Dc(s,d!==null?d.cachePool:null),d!==null?y0(s,d):gd(),v0(s);else return l=s.lanes=536870912,pv(n,s,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Dc(s,d.cachePool),y0(s,d),dr(),s.memoizedState=null):(n!==null&&Dc(s,null),gd(),dr());return yn(n,s,f,a),s.child}function Hl(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function pv(n,s,a,l,f){var d=cd();return d=d===null?null:{parent:Ye._currentValue,pool:d},s.memoizedState={baseLanes:a,cachePool:d},n!==null&&Dc(s,null),gd(),v0(s),n!==null&&lo(n,s,l,!0),s.childLanes=f,null}function Kc(n,s){return s=Qc({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function gv(n,s,a){return ma(s,n.child,null,a),n=Kc(s,s.pendingProps),n.flags|=2,Zn(s),s.memoizedState=null,n}function _x(n,s,a){var l=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(Jt){if(l.mode==="hidden")return n=Kc(s,l),s.lanes=536870912,Hl(null,n);if(vd(s),(n=be)?(n=C_(n,hi),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:rr!==null?{id:Zi,overflow:ts}:null,retryLane:536870912,hydrationErrors:null},a=Zy(n),a.return=s,s.child=a,pn=s,be=null)):n=null,n===null)throw or(s);return s.lanes=536870912,null}return Kc(s,l)}var d=n.memoizedState;if(d!==null){var _=d.dehydrated;if(vd(s),f)if(s.flags&256)s.flags&=-257,s=gv(n,s,a);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(r(558));else if(Xe||lo(n,s,a,!1),f=(a&n.childLanes)!==0,Xe||f){if(l=_e,l!==null&&(_=Bi(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,aa(n,_),Hn(l,n,_),Ud;ih(),s=gv(n,s,a)}else n=d.treeContext,be=di(_.nextSibling),pn=s,Jt=!0,ar=null,hi=!1,n!==null&&n0(s,n),s=Kc(s,l),s.flags|=4096;return s}return n=Ss(n.child,{mode:l.mode,children:l.children}),n.ref=s.ref,s.child=n,n.return=s,n}function Yc(n,s){var a=s.ref;if(a===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(n===null||n.ref!==a)&&(s.flags|=4194816)}}function zd(n,s,a,l,f){return ca(s),a=Td(n,s,a,l,void 0,f),l=Ed(),n!==null&&!Xe?(bd(n,s,f),Is(n,s,f)):(Jt&&l&&ed(s),s.flags|=1,yn(n,s,a,f),s.child)}function yv(n,s,a,l,f,d){return ca(s),s.updateQueue=null,a=T0(s,l,a,f),_0(n),l=Ed(),n!==null&&!Xe?(bd(n,s,d),Is(n,s,d)):(Jt&&l&&ed(s),s.flags|=1,yn(n,s,a,d),s.child)}function vv(n,s,a,l,f){if(ca(s),s.stateNode===null){var d=so,_=a.contextType;typeof _=="object"&&_!==null&&(d=gn(_)),d=new a(l,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=jd,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=l,d.state=s.memoizedState,d.refs={},fd(s),_=a.contextType,d.context=typeof _=="object"&&_!==null?gn(_):so,d.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(kd(s,a,_,l),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&jd.enqueueReplaceState(d,d.state,null),Ll(s,l,d,f),jl(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(n===null){d=s.stateNode;var A=s.memoizedProps,V=ga(a,A);d.props=V;var q=d.context,J=a.contextType;_=so,typeof J=="object"&&J!==null&&(_=gn(J));var rt=a.getDerivedStateFromProps;J=typeof rt=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,J||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||q!==_)&&sv(s,d,l,_),ur=!1;var K=s.memoizedState;d.state=K,Ll(s,l,d,f),jl(),q=s.memoizedState,A||K!==q||ur?(typeof rt=="function"&&(kd(s,a,rt,l),q=s.memoizedState),(V=ur||iv(s,a,V,l,K,q,_))?(J||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=q),d.props=l,d.state=q,d.context=_,l=V):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{d=s.stateNode,dd(n,s),_=s.memoizedProps,J=ga(a,_),d.props=J,rt=s.pendingProps,K=d.context,q=a.contextType,V=so,typeof q=="object"&&q!==null&&(V=gn(q)),A=a.getDerivedStateFromProps,(q=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==rt||K!==V)&&sv(s,d,l,V),ur=!1,K=s.memoizedState,d.state=K,Ll(s,l,d,f),jl();var X=s.memoizedState;_!==rt||K!==X||ur||n!==null&&n.dependencies!==null&&Cc(n.dependencies)?(typeof A=="function"&&(kd(s,a,A,l),X=s.memoizedState),(J=ur||iv(s,a,J,l,K,X,V)||n!==null&&n.dependencies!==null&&Cc(n.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,X,V),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,X,V)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===n.memoizedProps&&K===n.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&K===n.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=X),d.props=l,d.state=X,d.context=V,l=J):(typeof d.componentDidUpdate!="function"||_===n.memoizedProps&&K===n.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&K===n.memoizedState||(s.flags|=1024),l=!1)}return d=l,Yc(n,s),l=(s.flags&128)!==0,d||l?(d=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,n!==null&&l?(s.child=ma(s,n.child,null,f),s.child=ma(s,null,a,f)):yn(n,s,a,f),s.memoizedState=d.state,n=s.child):n=Is(n,s,f),n}function _v(n,s,a,l){return la(),s.flags|=256,yn(n,s,a,l),s.child}var Bd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fd(n){return{baseLanes:n,cachePool:l0()}}function Hd(n,s,a){return n=n!==null?n.childLanes&~a:0,s&&(n|=ei),n}function Tv(n,s,a){var l=s.pendingProps,f=!1,d=(s.flags&128)!==0,_;if((_=d)||(_=n!==null&&n.memoizedState===null?!1:(ze.current&2)!==0),_&&(f=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,n===null){if(Jt){if(f?fr(s):dr(),(n=be)?(n=C_(n,hi),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:rr!==null?{id:Zi,overflow:ts}:null,retryLane:536870912,hydrationErrors:null},a=Zy(n),a.return=s,s.child=a,pn=s,be=null)):n=null,n===null)throw or(s);return wm(n)?s.lanes=32:s.lanes=536870912,null}var A=l.children;return l=l.fallback,f?(dr(),f=s.mode,A=Qc({mode:"hidden",children:A},f),l=oa(l,f,a,null),A.return=s,l.return=s,A.sibling=l,s.child=A,l=s.child,l.memoizedState=Fd(a),l.childLanes=Hd(n,_,a),s.memoizedState=Bd,Hl(null,l)):(fr(s),qd(s,A))}var V=n.memoizedState;if(V!==null&&(A=V.dehydrated,A!==null)){if(d)s.flags&256?(fr(s),s.flags&=-257,s=Gd(n,s,a)):s.memoizedState!==null?(dr(),s.child=n.child,s.flags|=128,s=null):(dr(),A=l.fallback,f=s.mode,l=Qc({mode:"visible",children:l.children},f),A=oa(A,f,a,null),A.flags|=2,l.return=s,A.return=s,l.sibling=A,s.child=l,ma(s,n.child,null,a),l=s.child,l.memoizedState=Fd(a),l.childLanes=Hd(n,_,a),s.memoizedState=Bd,s=Hl(null,l));else if(fr(s),wm(A)){if(_=A.nextSibling&&A.nextSibling.dataset,_)var q=_.dgst;_=q,l=Error(r(419)),l.stack="",l.digest=_,Ml({value:l,source:null,stack:null}),s=Gd(n,s,a)}else if(Xe||lo(n,s,a,!1),_=(a&n.childLanes)!==0,Xe||_){if(_=_e,_!==null&&(l=Bi(_,a),l!==0&&l!==V.retryLane))throw V.retryLane=l,aa(n,l),Hn(_,n,l),Ud;Am(A)||ih(),s=Gd(n,s,a)}else Am(A)?(s.flags|=192,s.child=n.child,s=null):(n=V.treeContext,be=di(A.nextSibling),pn=s,Jt=!0,ar=null,hi=!1,n!==null&&n0(s,n),s=qd(s,l.children),s.flags|=4096);return s}return f?(dr(),A=l.fallback,f=s.mode,V=n.child,q=V.sibling,l=Ss(V,{mode:"hidden",children:l.children}),l.subtreeFlags=V.subtreeFlags&65011712,q!==null?A=Ss(q,A):(A=oa(A,f,a,null),A.flags|=2),A.return=s,l.return=s,l.sibling=A,s.child=l,Hl(null,l),l=s.child,A=n.child.memoizedState,A===null?A=Fd(a):(f=A.cachePool,f!==null?(V=Ye._currentValue,f=f.parent!==V?{parent:V,pool:V}:f):f=l0(),A={baseLanes:A.baseLanes|a,cachePool:f}),l.memoizedState=A,l.childLanes=Hd(n,_,a),s.memoizedState=Bd,Hl(n.child,l)):(fr(s),a=n.child,n=a.sibling,a=Ss(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,n!==null&&(_=s.deletions,_===null?(s.deletions=[n],s.flags|=16):_.push(n)),s.child=a,s.memoizedState=null,a)}function qd(n,s){return s=Qc({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Qc(n,s){return n=$n(22,n,null,s),n.lanes=0,n}function Gd(n,s,a){return ma(s,n.child,null,a),n=qd(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Ev(n,s,a){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s),ad(n.return,s,a)}function Kd(n,s,a,l,f,d){var _=n.memoizedState;_===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function bv(n,s,a){var l=s.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=ze.current,A=(_&2)!==0;if(A?(_=_&1|2,s.flags|=128):_&=1,pt(ze,_),yn(n,s,l,a),l=Jt?Dl:0,!A&&n!==null&&(n.flags&128)!==0)t:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Ev(n,a,s);else if(n.tag===19)Ev(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break t;for(;n.sibling===null;){if(n.return===null||n.return===s)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)n=a.alternate,n!==null&&kc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Kd(s,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&kc(n)===null){s.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Kd(s,!0,a,null,d,l);break;case"together":Kd(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function Is(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),gr|=s.lanes,(a&s.childLanes)===0)if(n!==null){if(lo(n,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,a=Ss(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=Ss(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function Yd(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Cc(n)))}function Tx(n,s,a){switch(s.tag){case 3:Ie(s,s.stateNode.containerInfo),lr(s,Ye,n.memoizedState.cache),la();break;case 27:case 5:bi(s);break;case 4:Ie(s,s.stateNode.containerInfo);break;case 10:lr(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,vd(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(fr(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Tv(n,s,a):(fr(s),n=Is(n,s,a),n!==null?n.sibling:null);fr(s);break;case 19:var f=(n.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(lo(n,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return bv(n,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),pt(ze,ze.current),l)break;return null;case 22:return s.lanes=0,mv(n,s,a,s.pendingProps);case 24:lr(s,Ye,n.memoizedState.cache)}return Is(n,s,a)}function Sv(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps)Xe=!0;else{if(!Yd(n,a)&&(s.flags&128)===0)return Xe=!1,Tx(n,s,a);Xe=(n.flags&131072)!==0}else Xe=!1,Jt&&(s.flags&1048576)!==0&&e0(s,Dl,s.index);switch(s.lanes=0,s.tag){case 16:t:{var l=s.pendingProps;if(n=fa(s.elementType),s.type=n,typeof n=="function")Jf(n)?(l=ga(n,l),s.tag=1,s=vv(null,s,n,l,a)):(s.tag=0,s=zd(null,s,n,l,a));else{if(n!=null){var f=n.$$typeof;if(f===ht){s.tag=11,s=hv(null,s,n,l,a);break t}else if(f===R){s.tag=14,s=fv(null,s,n,l,a);break t}}throw s=jt(n)||n,Error(r(306,s,""))}}return s;case 0:return zd(n,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=ga(l,s.pendingProps),vv(n,s,l,f,a);case 3:t:{if(Ie(s,s.stateNode.containerInfo),n===null)throw Error(r(387));l=s.pendingProps;var d=s.memoizedState;f=d.element,dd(n,s),Ll(s,l,null,a);var _=s.memoizedState;if(l=_.cache,lr(s,Ye,l),l!==d.cache&&od(s,[Ye],a,!0),jl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=_v(n,s,l,a);break t}else if(l!==f){f=li(Error(r(424)),s),Ml(f),s=_v(n,s,l,a);break t}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(be=di(n.firstChild),pn=s,Jt=!0,ar=null,hi=!0,a=m0(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(la(),l===f){s=Is(n,s,a);break t}yn(n,s,l,a)}s=s.child}return s;case 26:return Yc(n,s),n===null?(a=N_(s.type,null,s.pendingProps,null))?s.memoizedState=a:Jt||(a=s.type,n=s.pendingProps,l=ch(Ot.current).createElement(a),l[Te]=s,l[we]=n,vn(l,a,n),Ge(l),s.stateNode=l):s.memoizedState=N_(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return bi(s),n===null&&Jt&&(l=s.stateNode=M_(s.type,s.pendingProps,Ot.current),pn=s,hi=!0,f=be,Er(s.type)?(xm=f,be=di(l.firstChild)):be=f),yn(n,s,s.pendingProps.children,a),Yc(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Jt&&((f=l=be)&&(l=Wx(l,s.type,s.pendingProps,hi),l!==null?(s.stateNode=l,pn=s,be=di(l.firstChild),hi=!1,f=!0):f=!1),f||or(s)),bi(s),f=s.type,d=s.pendingProps,_=n!==null?n.memoizedProps:null,l=d.children,Em(f,d)?l=null:_!==null&&Em(f,_)&&(s.flags|=32),s.memoizedState!==null&&(f=Td(n,s,hx,null,null,a),su._currentValue=f),Yc(n,s),yn(n,s,l,a),s.child;case 6:return n===null&&Jt&&((n=a=be)&&(a=$x(a,s.pendingProps,hi),a!==null?(s.stateNode=a,pn=s,be=null,n=!0):n=!1),n||or(s)),null;case 13:return Tv(n,s,a);case 4:return Ie(s,s.stateNode.containerInfo),l=s.pendingProps,n===null?s.child=ma(s,null,l,a):yn(n,s,l,a),s.child;case 11:return hv(n,s,s.type,s.pendingProps,a);case 7:return yn(n,s,s.pendingProps,a),s.child;case 8:return yn(n,s,s.pendingProps.children,a),s.child;case 12:return yn(n,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,lr(s,s.type,l.value),yn(n,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,ca(s),f=gn(f),l=l(f),s.flags|=1,yn(n,s,l,a),s.child;case 14:return fv(n,s,s.type,s.pendingProps,a);case 15:return dv(n,s,s.type,s.pendingProps,a);case 19:return bv(n,s,a);case 31:return _x(n,s,a);case 22:return mv(n,s,a,s.pendingProps);case 24:return ca(s),l=gn(Ye),n===null?(f=cd(),f===null&&(f=_e,d=ld(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),s.memoizedState={parent:l,cache:f},fd(s),lr(s,Ye,f)):((n.lanes&a)!==0&&(dd(n,s),Ll(s,null,null,a),jl()),f=n.memoizedState,d=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),lr(s,Ye,l)):(l=d.cache,lr(s,Ye,l),l!==f.cache&&od(s,[Ye],a,!0))),yn(n,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Ds(n){n.flags|=4}function Qd(n,s,a,l,f){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(Wv())n.flags|=8192;else throw da=Vc,hd}else n.flags&=-16777217}function Av(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!U_(s))if(Wv())n.flags|=8192;else throw da=Vc,hd}function Xc(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?Ne():536870912,n.lanes|=s,Eo|=s)}function ql(n,s){if(!Jt)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function Se(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(s)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,s}function Ex(n,s,a){var l=s.pendingProps;switch(nd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Se(s),null;case 1:return Se(s),null;case 3:return a=s.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),xs(Ye),de(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(oo(s)?Ds(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,sd())),Se(s),null;case 26:var f=s.type,d=s.memoizedState;return n===null?(Ds(s),d!==null?(Se(s),Av(s,d)):(Se(s),Qd(s,f,null,l,a))):d?d!==n.memoizedState?(Ds(s),Se(s),Av(s,d)):(Se(s),s.flags&=-16777217):(n=n.memoizedProps,n!==l&&Ds(s),Se(s),Qd(s,f,n,l,a)),null;case 27:if(zi(s),a=Ot.current,f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&Ds(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return Se(s),null}n=vt.current,oo(s)?i0(s):(n=M_(f,l,a),s.stateNode=n,Ds(s))}return Se(s),null;case 5:if(zi(s),f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&Ds(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return Se(s),null}if(d=vt.current,oo(s))i0(s);else{var _=ch(Ot.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[Te]=s,d[we]=l;t:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break t;for(;_.sibling===null;){if(_.return===null||_.return===s)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=d;t:switch(vn(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Ds(s)}}return Se(s),Qd(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,a),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==l&&Ds(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(n=Ot.current,oo(s)){if(n=s.stateNode,a=s.memoizedProps,l=null,f=pn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[Te]=s,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||T_(n.nodeValue,a)),n||or(s,!0)}else n=ch(n).createTextNode(l),n[Te]=s,s.stateNode=n}return Se(s),null;case 31:if(a=s.memoizedState,n===null||n.memoizedState!==null){if(l=oo(s),a!==null){if(n===null){if(!l)throw Error(r(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(557));n[Te]=s}else la(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Se(s),n=!1}else a=sd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return s.flags&256?(Zn(s),s):(Zn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return Se(s),null;case 13:if(l=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=oo(s),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Te]=s}else la(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Se(s),f=!1}else f=sd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Zn(s),s):(Zn(s),null)}return Zn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,n=n!==null&&n.memoizedState!==null,a&&(l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==n&&a&&(s.child.flags|=8192),Xc(s,s.updateQueue),Se(s),null);case 4:return de(),n===null&&gm(s.stateNode.containerInfo),Se(s),null;case 10:return xs(s.type),Se(s),null;case 19:if(Z(ze),l=s.memoizedState,l===null)return Se(s),null;if(f=(s.flags&128)!==0,d=l.rendering,d===null)if(f)ql(l,!1);else{if(je!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(d=kc(n),d!==null){for(s.flags|=128,ql(l,!1),n=d.updateQueue,s.updateQueue=n,Xc(s,n),s.subtreeFlags=0,n=a,a=s.child;a!==null;)Jy(a,n),a=a.sibling;return pt(ze,ze.current&1|2),Jt&&As(s,l.treeForkCount),s.child}n=n.sibling}l.tail!==null&&ue()>th&&(s.flags|=128,f=!0,ql(l,!1),s.lanes=4194304)}else{if(!f)if(n=kc(d),n!==null){if(s.flags|=128,f=!0,n=n.updateQueue,s.updateQueue=n,Xc(s,n),ql(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Jt)return Se(s),null}else 2*ue()-l.renderingStartTime>th&&a!==536870912&&(s.flags|=128,f=!0,ql(l,!1),s.lanes=4194304);l.isBackwards?(d.sibling=s.child,s.child=d):(n=l.last,n!==null?n.sibling=d:s.child=d,l.last=d)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=ue(),n.sibling=null,a=ze.current,pt(ze,f?a&1|2:a&1),Jt&&As(s,l.treeForkCount),n):(Se(s),null);case 22:case 23:return Zn(s),yd(),l=s.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(Se(s),s.subtreeFlags&6&&(s.flags|=8192)):Se(s),a=s.updateQueue,a!==null&&Xc(s,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),n!==null&&Z(ha),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),xs(Ye),Se(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function bx(n,s){switch(nd(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return xs(Ye),de(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return zi(s),null;case 31:if(s.memoizedState!==null){if(Zn(s),s.alternate===null)throw Error(r(340));la()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(Zn(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));la()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return Z(ze),null;case 4:return de(),null;case 10:return xs(s.type),null;case 22:case 23:return Zn(s),yd(),n!==null&&Z(ha),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return xs(Ye),null;case 25:return null;default:return null}}function wv(n,s){switch(nd(s),s.tag){case 3:xs(Ye),de();break;case 26:case 27:case 5:zi(s);break;case 4:de();break;case 31:s.memoizedState!==null&&Zn(s);break;case 13:Zn(s);break;case 19:Z(ze);break;case 10:xs(s.type);break;case 22:case 23:Zn(s),yd(),n!==null&&Z(ha);break;case 24:xs(Ye)}}function Gl(n,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(A){fe(s,s.return,A)}}function mr(n,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&n)===n){var _=l.inst,A=_.destroy;if(A!==void 0){_.destroy=void 0,f=s;var V=a,q=A;try{q()}catch(J){fe(f,V,J)}}}l=l.next}while(l!==d)}}catch(J){fe(s,s.return,J)}}function xv(n){var s=n.updateQueue;if(s!==null){var a=n.stateNode;try{g0(s,a)}catch(l){fe(n,n.return,l)}}}function Rv(n,s,a){a.props=ga(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){fe(n,s,l)}}function Kl(n,s){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){fe(n,s,f)}}function es(n,s){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){fe(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){fe(n,s,f)}else a.current=null}function Cv(n){var s=n.type,a=n.memoizedProps,l=n.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){fe(n,n.return,f)}}function Xd(n,s,a){try{var l=n.stateNode;qx(l,n.type,a,s),l[we]=s}catch(f){fe(n,n.return,f)}}function Iv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Er(n.type)||n.tag===4}function Wd(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||Iv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Er(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function $d(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(n),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Ri));else if(l!==4&&(l===27&&Er(n.type)&&(a=n.stateNode,s=null),n=n.child,n!==null))for($d(n,s,a),n=n.sibling;n!==null;)$d(n,s,a),n=n.sibling}function Wc(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(l!==4&&(l===27&&Er(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Wc(n,s,a),n=n.sibling;n!==null;)Wc(n,s,a),n=n.sibling}function Dv(n){var s=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);vn(s,l,a),s[Te]=n,s[we]=a}catch(d){fe(n,n.return,d)}}var Ms=!1,We=!1,Jd=!1,Mv=typeof WeakSet=="function"?WeakSet:Set,ln=null;function Sx(n,s){if(n=n.containerInfo,_m=yh,n=Hy(n),Gf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else t:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,A=-1,V=-1,q=0,J=0,rt=n,K=null;e:for(;;){for(var X;rt!==a||f!==0&&rt.nodeType!==3||(A=_+f),rt!==d||l!==0&&rt.nodeType!==3||(V=_+l),rt.nodeType===3&&(_+=rt.nodeValue.length),(X=rt.firstChild)!==null;)K=rt,rt=X;for(;;){if(rt===n)break e;if(K===a&&++q===f&&(A=_),K===d&&++J===l&&(V=_),(X=rt.nextSibling)!==null)break;rt=K,K=rt.parentNode}rt=X}a=A===-1||V===-1?null:{start:A,end:V}}else a=null}a=a||{start:0,end:0}}else a=null;for(Tm={focusedElem:n,selectionRange:a},yh=!1,ln=s;ln!==null;)if(s=ln,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,ln=n;else for(;ln!==null;){switch(s=ln,d=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)f=n[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=s,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Et=ga(a.type,f);n=l.getSnapshotBeforeUpdate(Et,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(Ct){fe(a,a.return,Ct)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,a=n.nodeType,a===9)Sm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Sm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,ln=n;break}ln=s.return}}function Vv(n,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Os(n,a),l&4&&Gl(5,a);break;case 1:if(Os(n,a),l&4)if(n=a.stateNode,s===null)try{n.componentDidMount()}catch(_){fe(a,a.return,_)}else{var f=ga(a.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(_){fe(a,a.return,_)}}l&64&&xv(a),l&512&&Kl(a,a.return);break;case 3:if(Os(n,a),l&64&&(n=a.updateQueue,n!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{g0(n,s)}catch(_){fe(a,a.return,_)}}break;case 27:s===null&&l&4&&Dv(a);case 26:case 5:Os(n,a),s===null&&l&4&&Cv(a),l&512&&Kl(a,a.return);break;case 12:Os(n,a);break;case 31:Os(n,a),l&4&&Pv(n,a);break;case 13:Os(n,a),l&4&&kv(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=Vx.bind(null,a),Jx(n,a))));break;case 22:if(l=a.memoizedState!==null||Ms,!l){s=s!==null&&s.memoizedState!==null||We,f=Ms;var d=We;Ms=l,(We=s)&&!d?Ns(n,a,(a.subtreeFlags&8772)!==0):Os(n,a),Ms=f,We=d}break;case 30:break;default:Os(n,a)}}function Ov(n){var s=n.alternate;s!==null&&(n.alternate=null,Ov(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&xi(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Re=null,Un=!1;function Vs(n,s,a){for(a=a.child;a!==null;)Nv(n,s,a),a=a.sibling}function Nv(n,s,a){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(Kn,a)}catch{}switch(a.tag){case 26:We||es(a,s),Vs(n,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:We||es(a,s);var l=Re,f=Un;Er(a.type)&&(Re=a.stateNode,Un=!1),Vs(n,s,a),eu(a.stateNode),Re=l,Un=f;break;case 5:We||es(a,s);case 6:if(l=Re,f=Un,Re=null,Vs(n,s,a),Re=l,Un=f,Re!==null)if(Un)try{(Re.nodeType===9?Re.body:Re.nodeName==="HTML"?Re.ownerDocument.body:Re).removeChild(a.stateNode)}catch(d){fe(a,s,d)}else try{Re.removeChild(a.stateNode)}catch(d){fe(a,s,d)}break;case 18:Re!==null&&(Un?(n=Re,x_(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Io(n)):x_(Re,a.stateNode));break;case 4:l=Re,f=Un,Re=a.stateNode.containerInfo,Un=!0,Vs(n,s,a),Re=l,Un=f;break;case 0:case 11:case 14:case 15:mr(2,a,s),We||mr(4,a,s),Vs(n,s,a);break;case 1:We||(es(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Rv(a,s,l)),Vs(n,s,a);break;case 21:Vs(n,s,a);break;case 22:We=(l=We)||a.memoizedState!==null,Vs(n,s,a),We=l;break;default:Vs(n,s,a)}}function Pv(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Io(n)}catch(a){fe(s,s.return,a)}}}function kv(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Io(n)}catch(a){fe(s,s.return,a)}}function Ax(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new Mv),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new Mv),s;default:throw Error(r(435,n.tag))}}function $c(n,s){var a=Ax(n);s.forEach(function(l){if(!a.has(l)){a.add(l);var f=Ox.bind(null,n,l);l.then(f,f)}})}function zn(n,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=n,_=s,A=_;t:for(;A!==null;){switch(A.tag){case 27:if(Er(A.type)){Re=A.stateNode,Un=!1;break t}break;case 5:Re=A.stateNode,Un=!1;break t;case 3:case 4:Re=A.stateNode.containerInfo,Un=!0;break t}A=A.return}if(Re===null)throw Error(r(160));Nv(d,_,f),Re=null,Un=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)jv(s,n),s=s.sibling}var Oi=null;function jv(n,s){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:zn(s,n),Bn(n),l&4&&(mr(3,n,n.return),Gl(3,n),mr(5,n,n.return));break;case 1:zn(s,n),Bn(n),l&512&&(We||a===null||es(a,a.return)),l&64&&Ms&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Oi;if(zn(s,n),Bn(n),l&512&&(We||a===null||es(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){t:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[An]||d[Te]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),vn(d,l,a),d[Te]=n,Ge(d),l=d;break t;case"link":var _=j_("link","href",f).get(l+(a.href||""));if(_){for(var A=0;A<_.length;A++)if(d=_[A],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(A,1);break e}}d=f.createElement(l),vn(d,l,a),f.head.appendChild(d);break;case"meta":if(_=j_("meta","content",f).get(l+(a.content||""))){for(A=0;A<_.length;A++)if(d=_[A],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(A,1);break e}}d=f.createElement(l),vn(d,l,a),f.head.appendChild(d);break;default:throw Error(r(468,l))}d[Te]=n,Ge(d),l=d}n.stateNode=l}else L_(f,n.type,n.stateNode);else n.stateNode=k_(f,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?L_(f,n.type,n.stateNode):k_(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Xd(n,n.memoizedProps,a.memoizedProps)}break;case 27:zn(s,n),Bn(n),l&512&&(We||a===null||es(a,a.return)),a!==null&&l&4&&Xd(n,n.memoizedProps,a.memoizedProps);break;case 5:if(zn(s,n),Bn(n),l&512&&(We||a===null||es(a,a.return)),n.flags&32){f=n.stateNode;try{Ln(f,"")}catch(Et){fe(n,n.return,Et)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,Xd(n,f,a!==null?a.memoizedProps:f)),l&1024&&(Jd=!0);break;case 6:if(zn(s,n),Bn(n),l&4){if(n.stateNode===null)throw Error(r(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(Et){fe(n,n.return,Et)}}break;case 3:if(dh=null,f=Oi,Oi=hh(s.containerInfo),zn(s,n),Oi=f,Bn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Io(s.containerInfo)}catch(Et){fe(n,n.return,Et)}Jd&&(Jd=!1,Lv(n));break;case 4:l=Oi,Oi=hh(n.stateNode.containerInfo),zn(s,n),Bn(n),Oi=l;break;case 12:zn(s,n),Bn(n);break;case 31:zn(s,n),Bn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,$c(n,l)));break;case 13:zn(s,n),Bn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Zc=ue()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,$c(n,l)));break;case 22:f=n.memoizedState!==null;var V=a!==null&&a.memoizedState!==null,q=Ms,J=We;if(Ms=q||f,We=J||V,zn(s,n),We=J,Ms=q,Bn(n),l&8192)t:for(s=n.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||V||Ms||We||ya(n)),a=null,s=n;;){if(s.tag===5||s.tag===26){if(a===null){V=a=s;try{if(d=V.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{A=V.stateNode;var rt=V.memoizedProps.style,K=rt!=null&&rt.hasOwnProperty("display")?rt.display:null;A.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(Et){fe(V,V.return,Et)}}}else if(s.tag===6){if(a===null){V=s;try{V.stateNode.nodeValue=f?"":V.memoizedProps}catch(Et){fe(V,V.return,Et)}}}else if(s.tag===18){if(a===null){V=s;try{var X=V.stateNode;f?R_(X,!0):R_(V.stateNode,!1)}catch(Et){fe(V,V.return,Et)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break t;for(;s.sibling===null;){if(s.return===null||s.return===n)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,$c(n,a))));break;case 19:zn(s,n),Bn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,$c(n,l)));break;case 30:break;case 21:break;default:zn(s,n),Bn(n)}}function Bn(n){var s=n.flags;if(s&2){try{for(var a,l=n.return;l!==null;){if(Iv(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,d=Wd(n);Wc(n,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(Ln(_,""),a.flags&=-33);var A=Wd(n);Wc(n,A,_);break;case 3:case 4:var V=a.stateNode.containerInfo,q=Wd(n);$d(n,q,V);break;default:throw Error(r(161))}}catch(J){fe(n,n.return,J)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function Lv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;Lv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Os(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Vv(n,s.alternate,s),s=s.sibling}function ya(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:mr(4,s,s.return),ya(s);break;case 1:es(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Rv(s,s.return,a),ya(s);break;case 27:eu(s.stateNode);case 26:case 5:es(s,s.return),ya(s);break;case 22:s.memoizedState===null&&ya(s);break;case 30:ya(s);break;default:ya(s)}n=n.sibling}}function Ns(n,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=n,d=s,_=d.flags;switch(d.tag){case 0:case 11:case 15:Ns(f,d,a),Gl(4,d);break;case 1:if(Ns(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(q){fe(l,l.return,q)}if(l=d,f=l.updateQueue,f!==null){var A=l.stateNode;try{var V=f.shared.hiddenCallbacks;if(V!==null)for(f.shared.hiddenCallbacks=null,f=0;f<V.length;f++)p0(V[f],A)}catch(q){fe(l,l.return,q)}}a&&_&64&&xv(d),Kl(d,d.return);break;case 27:Dv(d);case 26:case 5:Ns(f,d,a),a&&l===null&&_&4&&Cv(d),Kl(d,d.return);break;case 12:Ns(f,d,a);break;case 31:Ns(f,d,a),a&&_&4&&Pv(f,d);break;case 13:Ns(f,d,a),a&&_&4&&kv(f,d);break;case 22:d.memoizedState===null&&Ns(f,d,a),Kl(d,d.return);break;case 30:break;default:Ns(f,d,a)}s=s.sibling}}function Zd(n,s){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Vl(a))}function tm(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Vl(n))}function Ni(n,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Uv(n,s,a,l),s=s.sibling}function Uv(n,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Ni(n,s,a,l),f&2048&&Gl(9,s);break;case 1:Ni(n,s,a,l);break;case 3:Ni(n,s,a,l),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Vl(n)));break;case 12:if(f&2048){Ni(n,s,a,l),n=s.stateNode;try{var d=s.memoizedProps,_=d.id,A=d.onPostCommit;typeof A=="function"&&A(_,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(V){fe(s,s.return,V)}}else Ni(n,s,a,l);break;case 31:Ni(n,s,a,l);break;case 13:Ni(n,s,a,l);break;case 23:break;case 22:d=s.stateNode,_=s.alternate,s.memoizedState!==null?d._visibility&2?Ni(n,s,a,l):Yl(n,s):d._visibility&2?Ni(n,s,a,l):(d._visibility|=2,vo(n,s,a,l,(s.subtreeFlags&10256)!==0||!1)),f&2048&&Zd(_,s);break;case 24:Ni(n,s,a,l),f&2048&&tm(s.alternate,s);break;default:Ni(n,s,a,l)}}function vo(n,s,a,l,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var d=n,_=s,A=a,V=l,q=_.flags;switch(_.tag){case 0:case 11:case 15:vo(d,_,A,V,f),Gl(8,_);break;case 23:break;case 22:var J=_.stateNode;_.memoizedState!==null?J._visibility&2?vo(d,_,A,V,f):Yl(d,_):(J._visibility|=2,vo(d,_,A,V,f)),f&&q&2048&&Zd(_.alternate,_);break;case 24:vo(d,_,A,V,f),f&&q&2048&&tm(_.alternate,_);break;default:vo(d,_,A,V,f)}s=s.sibling}}function Yl(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=n,l=s,f=l.flags;switch(l.tag){case 22:Yl(a,l),f&2048&&Zd(l.alternate,l);break;case 24:Yl(a,l),f&2048&&tm(l.alternate,l);break;default:Yl(a,l)}s=s.sibling}}var Ql=8192;function _o(n,s,a){if(n.subtreeFlags&Ql)for(n=n.child;n!==null;)zv(n,s,a),n=n.sibling}function zv(n,s,a){switch(n.tag){case 26:_o(n,s,a),n.flags&Ql&&n.memoizedState!==null&&cR(a,Oi,n.memoizedState,n.memoizedProps);break;case 5:_o(n,s,a);break;case 3:case 4:var l=Oi;Oi=hh(n.stateNode.containerInfo),_o(n,s,a),Oi=l;break;case 22:n.memoizedState===null&&(l=n.alternate,l!==null&&l.memoizedState!==null?(l=Ql,Ql=16777216,_o(n,s,a),Ql=l):_o(n,s,a));break;default:_o(n,s,a)}}function Bv(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Xl(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];ln=l,Hv(l,n)}Bv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Fv(n),n=n.sibling}function Fv(n){switch(n.tag){case 0:case 11:case 15:Xl(n),n.flags&2048&&mr(9,n,n.return);break;case 3:Xl(n);break;case 12:Xl(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Jc(n)):Xl(n);break;default:Xl(n)}}function Jc(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];ln=l,Hv(l,n)}Bv(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:mr(8,s,s.return),Jc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Jc(s));break;default:Jc(s)}n=n.sibling}}function Hv(n,s){for(;ln!==null;){var a=ln;switch(a.tag){case 0:case 11:case 15:mr(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Vl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ln=l;else t:for(a=n;ln!==null;){l=ln;var f=l.sibling,d=l.return;if(Ov(l),l===a){ln=null;break t}if(f!==null){f.return=d,ln=f;break t}ln=d}}}var wx={getCacheForType:function(n){var s=gn(Ye),a=s.data.get(n);return a===void 0&&(a=n(),s.data.set(n,a)),a},cacheSignal:function(){return gn(Ye).controller.signal}},xx=typeof WeakMap=="function"?WeakMap:Map,re=0,_e=null,qt=null,Yt=0,he=0,ti=null,pr=!1,To=!1,em=!1,Ps=0,je=0,gr=0,va=0,nm=0,ei=0,Eo=0,Wl=null,Fn=null,im=!1,Zc=0,qv=0,th=1/0,eh=null,yr=null,nn=0,vr=null,bo=null,ks=0,sm=0,rm=null,Gv=null,$l=0,am=null;function ni(){return(re&2)!==0&&Yt!==0?Yt&-Yt:G.T!==null?fm():Ha()}function Kv(){if(ei===0)if((Yt&536870912)===0||Jt){var n=et;et<<=1,(et&3932160)===0&&(et=262144),ei=n}else ei=536870912;return n=Jn.current,n!==null&&(n.flags|=32),ei}function Hn(n,s,a){(n===_e&&(he===2||he===9)||n.cancelPendingCommit!==null)&&(So(n,0),_r(n,Yt,ei,!1)),hn(n,a),((re&2)===0||n!==_e)&&(n===_e&&((re&2)===0&&(va|=a),je===4&&_r(n,Yt,ei,!1)),ns(n))}function Yv(n,s,a){if((re&6)!==0)throw Error(r(327));var l=!a&&(s&127)===0&&(s&n.expiredLanes)===0||gt(n,s),f=l?Ix(n,s):lm(n,s,!0),d=l;do{if(f===0){To&&!l&&_r(n,s,0,!1);break}else{if(a=n.current.alternate,d&&!Rx(a)){f=lm(n,s,!1),d=!1;continue}if(f===2){if(d=s,n.errorRecoveryDisabledLanes&d)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;t:{var A=n;f=Wl;var V=A.current.memoizedState.isDehydrated;if(V&&(So(A,_).flags|=256),_=lm(A,_,!1),_!==2){if(em&&!V){A.errorRecoveryDisabledLanes|=d,va|=d,f=4;break t}d=Fn,Fn=f,d!==null&&(Fn===null?Fn=d:Fn.push.apply(Fn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){So(n,0),_r(n,s,0,!0);break}t:{switch(l=n,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:_r(l,s,ei,!pr);break t;case 2:Fn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=Zc+300-ue(),10<f)){if(_r(l,s,ei,!pr),ot(l,0,!0)!==0)break t;ks=s,l.timeoutHandle=A_(Qv.bind(null,l,a,Fn,eh,im,s,ei,va,Eo,pr,d,"Throttled",-0,0),f);break t}Qv(l,a,Fn,eh,im,s,ei,va,Eo,pr,d,null,-0,0)}}break}while(!0);ns(n)}function Qv(n,s,a,l,f,d,_,A,V,q,J,rt,K,X){if(n.timeoutHandle=-1,rt=s.subtreeFlags,rt&8192||(rt&16785408)===16785408){rt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ri},zv(s,d,rt);var Et=(d&62914560)===d?Zc-ue():(d&4194048)===d?qv-ue():0;if(Et=hR(rt,Et),Et!==null){ks=d,n.cancelPendingCommit=Et(n_.bind(null,n,s,d,a,l,f,_,A,V,J,rt,null,K,X)),_r(n,d,_,!q);return}}n_(n,s,d,a,l,f,_,A,V)}function Rx(n){for(var s=n;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!Wn(d(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function _r(n,s,a,l){s&=~nm,s&=~va,n.suspendedLanes|=s,n.pingedLanes&=~s,l&&(n.warmLanes|=s),l=n.expirationTimes;for(var f=s;0<f;){var d=31-De(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&te(n,a,s)}function nh(){return(re&6)===0?(Jl(0),!1):!0}function om(){if(qt!==null){if(he===0)var n=qt.return;else n=qt,ws=ua=null,Sd(n),fo=null,Nl=0,n=qt;for(;n!==null;)wv(n.alternate,n),n=n.return;qt=null}}function So(n,s){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,Yx(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),ks=0,om(),_e=n,qt=a=Ss(n.current,null),Yt=s,he=0,ti=null,pr=!1,To=gt(n,s),em=!1,Eo=ei=nm=va=gr=je=0,Fn=Wl=null,im=!1,(s&8)!==0&&(s|=s&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=s;0<l;){var f=31-De(l),d=1<<f;s|=n[f],l&=~d}return Ps=s,Sc(),a}function Xv(n,s){Bt=null,G.H=Fl,s===ho||s===Mc?(s=h0(),he=3):s===hd?(s=h0(),he=4):he=s===Ud?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,ti=s,qt===null&&(je=1,Gc(n,li(s,n.current)))}function Wv(){var n=Jn.current;return n===null?!0:(Yt&4194048)===Yt?fi===null:(Yt&62914560)===Yt||(Yt&536870912)!==0?n===fi:!1}function $v(){var n=G.H;return G.H=Fl,n===null?Fl:n}function Jv(){var n=G.A;return G.A=wx,n}function ih(){je=4,pr||(Yt&4194048)!==Yt&&Jn.current!==null||(To=!0),(gr&134217727)===0&&(va&134217727)===0||_e===null||_r(_e,Yt,ei,!1)}function lm(n,s,a){var l=re;re|=2;var f=$v(),d=Jv();(_e!==n||Yt!==s)&&(eh=null,So(n,s)),s=!1;var _=je;t:do try{if(he!==0&&qt!==null){var A=qt,V=ti;switch(he){case 8:om(),_=6;break t;case 3:case 2:case 9:case 6:Jn.current===null&&(s=!0);var q=he;if(he=0,ti=null,Ao(n,A,V,q),a&&To){_=0;break t}break;default:q=he,he=0,ti=null,Ao(n,A,V,q)}}Cx(),_=je;break}catch(J){Xv(n,J)}while(!0);return s&&n.shellSuspendCounter++,ws=ua=null,re=l,G.H=f,G.A=d,qt===null&&(_e=null,Yt=0,Sc()),_}function Cx(){for(;qt!==null;)Zv(qt)}function Ix(n,s){var a=re;re|=2;var l=$v(),f=Jv();_e!==n||Yt!==s?(eh=null,th=ue()+500,So(n,s)):To=gt(n,s);t:do try{if(he!==0&&qt!==null){s=qt;var d=ti;e:switch(he){case 1:he=0,ti=null,Ao(n,s,d,1);break;case 2:case 9:if(u0(d)){he=0,ti=null,t_(s);break}s=function(){he!==2&&he!==9||_e!==n||(he=7),ns(n)},d.then(s,s);break t;case 3:he=7;break t;case 4:he=5;break t;case 7:u0(d)?(he=0,ti=null,t_(s)):(he=0,ti=null,Ao(n,s,d,7));break;case 5:var _=null;switch(qt.tag){case 26:_=qt.memoizedState;case 5:case 27:var A=qt;if(_?U_(_):A.stateNode.complete){he=0,ti=null;var V=A.sibling;if(V!==null)qt=V;else{var q=A.return;q!==null?(qt=q,sh(q)):qt=null}break e}}he=0,ti=null,Ao(n,s,d,5);break;case 6:he=0,ti=null,Ao(n,s,d,6);break;case 8:om(),je=6;break t;default:throw Error(r(462))}}Dx();break}catch(J){Xv(n,J)}while(!0);return ws=ua=null,G.H=l,G.A=f,re=a,qt!==null?0:(_e=null,Yt=0,Sc(),je)}function Dx(){for(;qt!==null&&!Si();)Zv(qt)}function Zv(n){var s=Sv(n.alternate,n,Ps);n.memoizedProps=n.pendingProps,s===null?sh(n):qt=s}function t_(n){var s=n,a=s.alternate;switch(s.tag){case 15:case 0:s=yv(a,s,s.pendingProps,s.type,void 0,Yt);break;case 11:s=yv(a,s,s.pendingProps,s.type.render,s.ref,Yt);break;case 5:Sd(s);default:wv(a,s),s=qt=Jy(s,Ps),s=Sv(a,s,Ps)}n.memoizedProps=n.pendingProps,s===null?sh(n):qt=s}function Ao(n,s,a,l){ws=ua=null,Sd(s),fo=null,Nl=0;var f=s.return;try{if(vx(n,f,s,a,Yt)){je=1,Gc(n,li(a,n.current)),qt=null;return}}catch(d){if(f!==null)throw qt=f,d;je=1,Gc(n,li(a,n.current)),qt=null;return}s.flags&32768?(Jt||l===1?n=!0:To||(Yt&536870912)!==0?n=!1:(pr=n=!0,(l===2||l===9||l===3||l===6)&&(l=Jn.current,l!==null&&l.tag===13&&(l.flags|=16384))),e_(s,n)):sh(s)}function sh(n){var s=n;do{if((s.flags&32768)!==0){e_(s,pr);return}n=s.return;var a=Ex(s.alternate,s,Ps);if(a!==null){qt=a;return}if(s=s.sibling,s!==null){qt=s;return}qt=s=n}while(s!==null);je===0&&(je=5)}function e_(n,s){do{var a=bx(n.alternate,n);if(a!==null){a.flags&=32767,qt=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(n=n.sibling,n!==null)){qt=n;return}qt=n=a}while(n!==null);je=6,qt=null}function n_(n,s,a,l,f,d,_,A,V){n.cancelPendingCommit=null;do rh();while(nn!==0);if((re&6)!==0)throw Error(r(327));if(s!==null){if(s===n.current)throw Error(r(177));if(d=s.lanes|s.childLanes,d|=Wf,Zt(n,a,d,_,A,V),n===_e&&(qt=_e=null,Yt=0),bo=s,vr=n,ks=a,sm=d,rm=f,Gv=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,Nx(Ai,function(){return o_(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,f=ut.p,ut.p=2,_=re,re|=4;try{Sx(n,s,a)}finally{re=_,ut.p=f,G.T=l}}nn=1,i_(),s_(),r_()}}function i_(){if(nn===1){nn=0;var n=vr,s=bo,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=ut.p;ut.p=2;var f=re;re|=4;try{jv(s,n);var d=Tm,_=Hy(n.containerInfo),A=d.focusedElem,V=d.selectionRange;if(_!==A&&A&&A.ownerDocument&&Fy(A.ownerDocument.documentElement,A)){if(V!==null&&Gf(A)){var q=V.start,J=V.end;if(J===void 0&&(J=q),"selectionStart"in A)A.selectionStart=q,A.selectionEnd=Math.min(J,A.value.length);else{var rt=A.ownerDocument||document,K=rt&&rt.defaultView||window;if(K.getSelection){var X=K.getSelection(),Et=A.textContent.length,Ct=Math.min(V.start,Et),ye=V.end===void 0?Ct:Math.min(V.end,Et);!X.extend&&Ct>ye&&(_=ye,ye=Ct,Ct=_);var B=By(A,Ct),j=By(A,ye);if(B&&j&&(X.rangeCount!==1||X.anchorNode!==B.node||X.anchorOffset!==B.offset||X.focusNode!==j.node||X.focusOffset!==j.offset)){var H=rt.createRange();H.setStart(B.node,B.offset),X.removeAllRanges(),Ct>ye?(X.addRange(H),X.extend(j.node,j.offset)):(H.setEnd(j.node,j.offset),X.addRange(H))}}}}for(rt=[],X=A;X=X.parentNode;)X.nodeType===1&&rt.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<rt.length;A++){var nt=rt[A];nt.element.scrollLeft=nt.left,nt.element.scrollTop=nt.top}}yh=!!_m,Tm=_m=null}finally{re=f,ut.p=l,G.T=a}}n.current=s,nn=2}}function s_(){if(nn===2){nn=0;var n=vr,s=bo,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=ut.p;ut.p=2;var f=re;re|=4;try{Vv(n,s.alternate,s)}finally{re=f,ut.p=l,G.T=a}}nn=3}}function r_(){if(nn===4||nn===3){nn=0,le();var n=vr,s=bo,a=ks,l=Gv;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?nn=5:(nn=0,bo=vr=null,a_(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(yr=null),wi(a),s=s.stateNode,tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(Kn,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=G.T,f=ut.p,ut.p=2,G.T=null;try{for(var d=n.onRecoverableError,_=0;_<l.length;_++){var A=l[_];d(A.value,{componentStack:A.stack})}}finally{G.T=s,ut.p=f}}(ks&3)!==0&&rh(),ns(n),f=n.pendingLanes,(a&261930)!==0&&(f&42)!==0?n===am?$l++:($l=0,am=n):$l=0,Jl(0)}}function a_(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Vl(s)))}function rh(){return i_(),s_(),r_(),o_()}function o_(){if(nn!==5)return!1;var n=vr,s=sm;sm=0;var a=wi(ks),l=G.T,f=ut.p;try{ut.p=32>a?32:a,G.T=null,a=rm,rm=null;var d=vr,_=ks;if(nn=0,bo=vr=null,ks=0,(re&6)!==0)throw Error(r(331));var A=re;if(re|=4,Fv(d.current),Uv(d,d.current,_,a),re=A,Jl(0,!1),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(Kn,d)}catch{}return!0}finally{ut.p=f,G.T=l,a_(n,s)}}function l_(n,s,a){s=li(a,s),s=Ld(n.stateNode,s,2),n=hr(n,s,2),n!==null&&(hn(n,2),ns(n))}function fe(n,s,a){if(n.tag===3)l_(n,n,a);else for(;s!==null;){if(s.tag===3){l_(s,n,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(yr===null||!yr.has(l))){n=li(a,n),a=uv(2),l=hr(s,a,2),l!==null&&(cv(a,l,s,n),hn(l,2),ns(l));break}}s=s.return}}function um(n,s,a){var l=n.pingCache;if(l===null){l=n.pingCache=new xx;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(em=!0,f.add(a),n=Mx.bind(null,n,s,a),s.then(n,n))}function Mx(n,s,a){var l=n.pingCache;l!==null&&l.delete(s),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,_e===n&&(Yt&a)===a&&(je===4||je===3&&(Yt&62914560)===Yt&&300>ue()-Zc?(re&2)===0&&So(n,0):nm|=a,Eo===Yt&&(Eo=0)),ns(n)}function u_(n,s){s===0&&(s=Ne()),n=aa(n,s),n!==null&&(hn(n,s),ns(n))}function Vx(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),u_(n,a)}function Ox(n,s){var a=0;switch(n.tag){case 31:case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),u_(n,a)}function Nx(n,s){return Lt(n,s)}var ah=null,wo=null,cm=!1,oh=!1,hm=!1,Tr=0;function ns(n){n!==wo&&n.next===null&&(wo===null?ah=wo=n:wo=wo.next=n),oh=!0,cm||(cm=!0,kx())}function Jl(n,s){if(!hm&&oh){hm=!0;do for(var a=!1,l=ah;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,A=l.pingedLanes;d=(1<<31-De(42|n)+1)-1,d&=f&~(_&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,d_(l,d))}else d=Yt,d=ot(l,l===_e?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||gt(l,d)||(a=!0,d_(l,d));l=l.next}while(a);hm=!1}}function Px(){c_()}function c_(){oh=cm=!1;var n=0;Tr!==0&&Kx()&&(n=Tr);for(var s=ue(),a=null,l=ah;l!==null;){var f=l.next,d=h_(l,s);d===0?(l.next=null,a===null?ah=f:a.next=f,f===null&&(wo=a)):(a=l,(n!==0||(d&3)!==0)&&(oh=!0)),l=f}nn!==0&&nn!==5||Jl(n),Tr!==0&&(Tr=0)}function h_(n,s){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var _=31-De(d),A=1<<_,V=f[_];V===-1?((A&a)===0||(A&l)!==0)&&(f[_]=Ut(A,s)):V<=s&&(n.expiredLanes|=A),d&=~A}if(s=_e,a=Yt,a=ot(n,n===s?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===s&&(he===2||he===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Mn(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||gt(n,a)){if(s=a&-a,s===n.callbackPriority)return s;switch(l!==null&&Mn(l),wi(a)){case 2:case 8:a=Qr;break;case 32:a=Ai;break;case 268435456:a=Ua;break;default:a=Ai}return l=f_.bind(null,n),a=Lt(a,l),n.callbackPriority=s,n.callbackNode=a,s}return l!==null&&l!==null&&Mn(l),n.callbackPriority=2,n.callbackNode=null,2}function f_(n,s){if(nn!==0&&nn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(rh()&&n.callbackNode!==a)return null;var l=Yt;return l=ot(n,n===_e?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(Yv(n,l,s),h_(n,ue()),n.callbackNode!=null&&n.callbackNode===a?f_.bind(null,n):null)}function d_(n,s){if(rh())return null;Yv(n,s,!0)}function kx(){Qx(function(){(re&6)!==0?Lt(Yr,Px):c_()})}function fm(){if(Tr===0){var n=uo;n===0&&(n=lt,lt<<=1,(lt&261888)===0&&(lt=256)),Tr=n}return Tr}function m_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Qa(""+n)}function p_(n,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,n.id&&a.setAttribute("form",n.id),s.parentNode.insertBefore(a,s),n=new FormData(n),a.parentNode.removeChild(a),n}function jx(n,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var d=m_((f[we]||null).action),_=l.submitter;_&&(s=(s=_[we]||null)?m_(s.formAction):_.getAttribute("formAction"),s!==null&&(d=s,_=null));var A=new Xi("action","action",null,l,f);n.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Tr!==0){var V=_?p_(f,_):new FormData(f);Vd(a,{pending:!0,data:V,method:f.method,action:d},null,V)}}else typeof d=="function"&&(A.preventDefault(),V=_?p_(f,_):new FormData(f),Vd(a,{pending:!0,data:V,method:f.method,action:d},d,V))},currentTarget:f}]})}}for(var dm=0;dm<Xf.length;dm++){var mm=Xf[dm],Lx=mm.toLowerCase(),Ux=mm[0].toUpperCase()+mm.slice(1);Vi(Lx,"on"+Ux)}Vi(Ky,"onAnimationEnd"),Vi(Yy,"onAnimationIteration"),Vi(Qy,"onAnimationStart"),Vi("dblclick","onDoubleClick"),Vi("focusin","onFocus"),Vi("focusout","onBlur"),Vi(ex,"onTransitionRun"),Vi(nx,"onTransitionStart"),Vi(ix,"onTransitionCancel"),Vi(Xy,"onTransitionEnd"),Gi("onMouseEnter",["mouseout","mouseover"]),Gi("onMouseLeave",["mouseout","mouseover"]),Gi("onPointerEnter",["pointerout","pointerover"]),Gi("onPointerLeave",["pointerout","pointerover"]),qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qi("onBeforeInput",["compositionend","keypress","textInput","paste"]),qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zl));function g_(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;t:{var d=void 0;if(s)for(var _=l.length-1;0<=_;_--){var A=l[_],V=A.instance,q=A.currentTarget;if(A=A.listener,V!==d&&f.isPropagationStopped())break t;d=A,f.currentTarget=q;try{d(f)}catch(J){bc(J)}f.currentTarget=null,d=V}else for(_=0;_<l.length;_++){if(A=l[_],V=A.instance,q=A.currentTarget,A=A.listener,V!==d&&f.isPropagationStopped())break t;d=A,f.currentTarget=q;try{d(f)}catch(J){bc(J)}f.currentTarget=null,d=V}}}}function Gt(n,s){var a=s[_s];a===void 0&&(a=s[_s]=new Set);var l=n+"__bubble";a.has(l)||(y_(s,n,2,!1),a.add(l))}function pm(n,s,a){var l=0;s&&(l|=4),y_(a,n,l,s)}var lh="_reactListening"+Math.random().toString(36).slice(2);function gm(n){if(!n[lh]){n[lh]=!0,hl.forEach(function(a){a!=="selectionchange"&&(zx.has(a)||pm(a,!1,n),pm(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[lh]||(s[lh]=!0,pm("selectionchange",!1,s))}}function y_(n,s,a,l){switch(K_(s)){case 2:var f=mR;break;case 8:f=pR;break;default:f=Mm}a=f.bind(null,s,a,n),f=void 0,!Jr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(s,a,{capture:!0,passive:f}):n.addEventListener(s,a,!0):f!==void 0?n.addEventListener(s,a,{passive:f}):n.addEventListener(s,a,!1)}function ym(n,s,a,l,f){var d=l;if((s&1)===0&&(s&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var A=l.stateNode.containerInfo;if(A===f)break;if(_===4)for(_=l.return;_!==null;){var V=_.tag;if((V===3||V===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;A!==null;){if(_=Fi(A),_===null)return;if(V=_.tag,V===5||V===6||V===26||V===27){l=d=_;continue t}A=A.parentNode}}l=l.return}er(function(){var q=d,J=si(a),rt=[];t:{var K=Wy.get(n);if(K!==void 0){var X=Xi,Et=n;switch(n){case"keypress":if(ta(a)===0)break t;case"keydown":case"keyup":X=_c;break;case"focusin":Et="focus",X=na;break;case"focusout":Et="blur",X=na;break;case"beforeblur":case"afterblur":X=na;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Al;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=cc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=y;break;case Ky:case Yy:case Qy:X=fc;break;case Xy:X=x;break;case"scroll":case"scrollend":X=Sl;break;case"wheel":X=Y;break;case"copy":case"cut":case"paste":X=dc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=bs;break;case"toggle":case"beforetoggle":X=zt}var Ct=(s&4)!==0,ye=!Ct&&(n==="scroll"||n==="scrollend"),B=Ct?K!==null?K+"Capture":null:K;Ct=[];for(var j=q,H;j!==null;){var nt=j;if(H=nt.stateNode,nt=nt.tag,nt!==5&&nt!==26&&nt!==27||H===null||B===null||(nt=Ci(j,B),nt!=null&&Ct.push(tu(j,nt,H))),ye)break;j=j.return}0<Ct.length&&(K=new X(K,Et,null,a,J),rt.push({event:K,listeners:Ct}))}}if((s&7)===0){t:{if(K=n==="mouseover"||n==="pointerover",X=n==="mouseout"||n==="pointerout",K&&a!==Tl&&(Et=a.relatedTarget||a.fromElement)&&(Fi(Et)||Et[Yn]))break t;if((X||K)&&(K=J.window===J?J:(K=J.ownerDocument)?K.defaultView||K.parentWindow:window,X?(Et=a.relatedTarget||a.toElement,X=q,Et=Et?Fi(Et):null,Et!==null&&(ye=u(Et),Ct=Et.tag,Et!==ye||Ct!==5&&Ct!==27&&Ct!==6)&&(Et=null)):(X=null,Et=q),X!==Et)){if(Ct=Al,nt="onMouseLeave",B="onMouseEnter",j="mouse",(n==="pointerout"||n==="pointerover")&&(Ct=bs,nt="onPointerLeave",B="onPointerEnter",j="pointer"),ye=X==null?K:Qn(X),H=Et==null?K:Qn(Et),K=new Ct(nt,j+"leave",X,a,J),K.target=ye,K.relatedTarget=H,nt=null,Fi(J)===q&&(Ct=new Ct(B,j+"enter",Et,a,J),Ct.target=H,Ct.relatedTarget=ye,nt=Ct),ye=nt,X&&Et)e:{for(Ct=Bx,B=X,j=Et,H=0,nt=B;nt;nt=Ct(nt))H++;nt=0;for(var At=j;At;At=Ct(At))nt++;for(;0<H-nt;)B=Ct(B),H--;for(;0<nt-H;)j=Ct(j),nt--;for(;H--;){if(B===j||j!==null&&B===j.alternate){Ct=B;break e}B=Ct(B),j=Ct(j)}Ct=null}else Ct=null;X!==null&&v_(rt,K,X,Ct,!1),Et!==null&&ye!==null&&v_(rt,ye,Et,Ct,!0)}}t:{if(K=q?Qn(q):window,X=K.nodeName&&K.nodeName.toLowerCase(),X==="select"||X==="input"&&K.type==="file")var ne=Py;else if(Oy(K))if(ky)ne=Jw;else{ne=Ww;var bt=Xw}else X=K.nodeName,!X||X.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?q&&Ya(q.elementType)&&(ne=Py):ne=$w;if(ne&&(ne=ne(n,q))){Ny(rt,ne,a,J);break t}bt&&bt(n,K,q),n==="focusout"&&q&&K.type==="number"&&q.memoizedProps.value!=null&&yl(K,"number",K.value)}switch(bt=q?Qn(q):window,n){case"focusin":(Oy(bt)||bt.contentEditable==="true")&&(eo=bt,Kf=q,Il=null);break;case"focusout":Il=Kf=eo=null;break;case"mousedown":Yf=!0;break;case"contextmenu":case"mouseup":case"dragend":Yf=!1,qy(rt,a,J);break;case"selectionchange":if(tx)break;case"keydown":case"keyup":qy(rt,a,J)}var Ft;if(se)t:{switch(n){case"compositionstart":var Qt="onCompositionStart";break t;case"compositionend":Qt="onCompositionEnd";break t;case"compositionupdate":Qt="onCompositionUpdate";break t}Qt=void 0}else to?ia(n,a)&&(Qt="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Qt="onCompositionStart");Qt&&(Ji&&a.locale!=="ko"&&(to||Qt!=="onCompositionStart"?Qt==="onCompositionEnd"&&to&&(Ft=bl()):(Qi=J,El="value"in Qi?Qi.value:Qi.textContent,to=!0)),bt=uh(q,Qt),0<bt.length&&(Qt=new $i(Qt,n,null,a,J),rt.push({event:Qt,listeners:bt}),Ft?Qt.data=Ft:(Ft=Za(a),Ft!==null&&(Qt.data=Ft)))),(Ft=ai?Gw(n,a):Kw(n,a))&&(Qt=uh(q,"onBeforeInput"),0<Qt.length&&(bt=new $i("onBeforeInput","beforeinput",null,a,J),rt.push({event:bt,listeners:Qt}),bt.data=Ft)),jx(rt,n,q,a,J)}g_(rt,s)})}function tu(n,s,a){return{instance:n,listener:s,currentTarget:a}}function uh(n,s){for(var a=s+"Capture",l=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Ci(n,a),f!=null&&l.unshift(tu(n,f,d)),f=Ci(n,s),f!=null&&l.push(tu(n,f,d))),n.tag===3)return l;n=n.return}return[]}function Bx(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function v_(n,s,a,l,f){for(var d=s._reactName,_=[];a!==null&&a!==l;){var A=a,V=A.alternate,q=A.stateNode;if(A=A.tag,V!==null&&V===l)break;A!==5&&A!==26&&A!==27||q===null||(V=q,f?(q=Ci(a,d),q!=null&&_.unshift(tu(a,q,V))):f||(q=Ci(a,d),q!=null&&_.push(tu(a,q,V)))),a=a.return}_.length!==0&&n.push({event:s,listeners:_})}var Fx=/\r\n?/g,Hx=/\u0000|\uFFFD/g;function __(n){return(typeof n=="string"?n:""+n).replace(Fx,`
`).replace(Hx,"")}function T_(n,s){return s=__(s),__(n)===s}function ge(n,s,a,l,f,d){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||Ln(n,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&Ln(n,""+l);break;case"className":Xn(n,"class",l);break;case"tabIndex":Xn(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Xn(n,a,l);break;case"style":_l(n,l,d);break;case"data":if(s!=="object"){Xn(n,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Qa(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&ge(n,s,"name",f.name,f,null),ge(n,s,"formEncType",f.formEncType,f,null),ge(n,s,"formMethod",f.formMethod,f,null),ge(n,s,"formTarget",f.formTarget,f,null)):(ge(n,s,"encType",f.encType,f,null),ge(n,s,"method",f.method,f,null),ge(n,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Qa(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Ri);break;case"onScroll":l!=null&&Gt("scroll",n);break;case"onScrollEnd":l!=null&&Gt("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Qa(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Gt("beforetoggle",n),Gt("toggle",n),Ga(n,"popover",l);break;case"xlinkActuate":Ke(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ke(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ke(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ke(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ke(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ke(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ke(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ke(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ke(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ga(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=uc.get(a)||a,Ga(n,a,l))}}function vm(n,s,a,l,f,d){switch(a){case"style":_l(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Ln(n,l):(typeof l=="number"||typeof l=="bigint")&&Ln(n,""+l);break;case"onScroll":l!=null&&Gt("scroll",n);break;case"onScrollEnd":l!=null&&Gt("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Ri);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fl.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),d=n[we]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(s,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(s,l,f);break t}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Ga(n,a,l)}}}function vn(n,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Gt("error",n),Gt("load",n);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ge(n,s,d,_,a,null)}}f&&ge(n,s,"srcSet",a.srcSet,a,null),l&&ge(n,s,"src",a.src,a,null);return;case"input":Gt("invalid",n);var A=d=_=f=null,V=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var J=a[l];if(J!=null)switch(l){case"name":f=J;break;case"type":_=J;break;case"checked":V=J;break;case"defaultChecked":q=J;break;case"value":d=J;break;case"defaultValue":A=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,s));break;default:ge(n,s,l,J,a,null)}}ac(n,d,A,V,q,_,f,!1);return;case"select":Gt("invalid",n),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(A=a[f],A!=null))switch(f){case"value":d=A;break;case"defaultValue":_=A;break;case"multiple":l=A;default:ge(n,s,f,A,a,null)}s=d,a=_,n.multiple=!!l,s!=null?$s(n,!!l,s,!1):a!=null&&$s(n,!!l,a,!0);return;case"textarea":Gt("invalid",n),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(A=a[_],A!=null))switch(_){case"value":l=A;break;case"defaultValue":f=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:ge(n,s,_,A,a,null)}Js(n,l,f,d);return;case"option":for(V in a)if(a.hasOwnProperty(V)&&(l=a[V],l!=null))switch(V){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ge(n,s,V,l,a,null)}return;case"dialog":Gt("beforetoggle",n),Gt("toggle",n),Gt("cancel",n),Gt("close",n);break;case"iframe":case"object":Gt("load",n);break;case"video":case"audio":for(l=0;l<Zl.length;l++)Gt(Zl[l],n);break;case"image":Gt("error",n),Gt("load",n);break;case"details":Gt("toggle",n);break;case"embed":case"source":case"link":Gt("error",n),Gt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ge(n,s,q,l,a,null)}return;default:if(Ya(s)){for(J in a)a.hasOwnProperty(J)&&(l=a[J],l!==void 0&&vm(n,s,J,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&ge(n,s,A,l,a,null))}function qx(n,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,A=null,V=null,q=null,J=null;for(X in a){var rt=a[X];if(a.hasOwnProperty(X)&&rt!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":V=rt;default:l.hasOwnProperty(X)||ge(n,s,X,null,l,rt)}}for(var K in l){var X=l[K];if(rt=a[K],l.hasOwnProperty(K)&&(X!=null||rt!=null))switch(K){case"type":d=X;break;case"name":f=X;break;case"checked":q=X;break;case"defaultChecked":J=X;break;case"value":_=X;break;case"defaultValue":A=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,s));break;default:X!==rt&&ge(n,s,K,X,l,rt)}}Ka(n,_,A,V,q,J,d,f);return;case"select":X=_=A=K=null;for(d in a)if(V=a[d],a.hasOwnProperty(d)&&V!=null)switch(d){case"value":break;case"multiple":X=V;default:l.hasOwnProperty(d)||ge(n,s,d,null,l,V)}for(f in l)if(d=l[f],V=a[f],l.hasOwnProperty(f)&&(d!=null||V!=null))switch(f){case"value":K=d;break;case"defaultValue":A=d;break;case"multiple":_=d;default:d!==V&&ge(n,s,f,d,l,V)}s=A,a=_,l=X,K!=null?$s(n,!!a,K,!1):!!l!=!!a&&(s!=null?$s(n,!!a,s,!0):$s(n,!!a,a?[]:"",!1));return;case"textarea":X=K=null;for(A in a)if(f=a[A],a.hasOwnProperty(A)&&f!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ge(n,s,A,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":K=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&ge(n,s,_,f,l,d)}oc(n,K,X);return;case"option":for(var Et in a)if(K=a[Et],a.hasOwnProperty(Et)&&K!=null&&!l.hasOwnProperty(Et))switch(Et){case"selected":n.selected=!1;break;default:ge(n,s,Et,null,l,K)}for(V in l)if(K=l[V],X=a[V],l.hasOwnProperty(V)&&K!==X&&(K!=null||X!=null))switch(V){case"selected":n.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:ge(n,s,V,K,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ct in a)K=a[Ct],a.hasOwnProperty(Ct)&&K!=null&&!l.hasOwnProperty(Ct)&&ge(n,s,Ct,null,l,K);for(q in l)if(K=l[q],X=a[q],l.hasOwnProperty(q)&&K!==X&&(K!=null||X!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,s));break;default:ge(n,s,q,K,l,X)}return;default:if(Ya(s)){for(var ye in a)K=a[ye],a.hasOwnProperty(ye)&&K!==void 0&&!l.hasOwnProperty(ye)&&vm(n,s,ye,void 0,l,K);for(J in l)K=l[J],X=a[J],!l.hasOwnProperty(J)||K===X||K===void 0&&X===void 0||vm(n,s,J,K,l,X);return}}for(var B in a)K=a[B],a.hasOwnProperty(B)&&K!=null&&!l.hasOwnProperty(B)&&ge(n,s,B,null,l,K);for(rt in l)K=l[rt],X=a[rt],!l.hasOwnProperty(rt)||K===X||K==null&&X==null||ge(n,s,rt,K,l,X)}function E_(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Gx(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,A=f.duration;if(d&&A&&E_(_)){for(_=0,A=f.responseEnd,l+=1;l<a.length;l++){var V=a[l],q=V.startTime;if(q>A)break;var J=V.transferSize,rt=V.initiatorType;J&&E_(rt)&&(V=V.responseEnd,_+=J*(V<A?1:(A-q)/(V-q)))}if(--l,s+=8*(d+_)/(f.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var _m=null,Tm=null;function ch(n){return n.nodeType===9?n:n.ownerDocument}function b_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function S_(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Em(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var bm=null;function Kx(){var n=window.event;return n&&n.type==="popstate"?n===bm?!1:(bm=n,!0):(bm=null,!1)}var A_=typeof setTimeout=="function"?setTimeout:void 0,Yx=typeof clearTimeout=="function"?clearTimeout:void 0,w_=typeof Promise=="function"?Promise:void 0,Qx=typeof queueMicrotask=="function"?queueMicrotask:typeof w_<"u"?function(n){return w_.resolve(null).then(n).catch(Xx)}:A_;function Xx(n){setTimeout(function(){throw n})}function Er(n){return n==="head"}function x_(n,s){var a=s,l=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){n.removeChild(f),Io(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")eu(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,eu(a);for(var d=a.firstChild;d;){var _=d.nextSibling,A=d.nodeName;d[An]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&eu(n.ownerDocument.body);a=f}while(a);Io(s)}function R_(n,s){var a=n;n=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=l}while(a)}function Sm(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Sm(a),xi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function Wx(n,s,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[An])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=di(n.nextSibling),n===null)break}return null}function $x(n,s,a){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=di(n.nextSibling),n===null))return null;return n}function C_(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=di(n.nextSibling),n===null))return null;return n}function Am(n){return n.data==="$?"||n.data==="$~"}function wm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function Jx(n,s){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function di(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var xm=null;function I_(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(s===0)return di(n.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}n=n.nextSibling}return null}function D_(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return n;s--}else a!=="/$"&&a!=="/&"||s++}n=n.previousSibling}return null}function M_(n,s,a){switch(s=ch(a),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function eu(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);xi(n)}var mi=new Map,V_=new Set;function hh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var js=ut.d;ut.d={f:Zx,r:tR,D:eR,C:nR,L:iR,m:sR,X:aR,S:rR,M:oR};function Zx(){var n=js.f(),s=nh();return n||s}function tR(n){var s=ii(n);s!==null&&s.tag===5&&s.type==="form"?X0(s):js.r(n)}var xo=typeof document>"u"?null:document;function O_(n,s,a){var l=xo;if(l&&typeof s=="string"&&s){var f=jn(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),V_.has(f)||(V_.add(f),n={rel:n,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),vn(s,"link",n),Ge(s),l.head.appendChild(s)))}}function eR(n){js.D(n),O_("dns-prefetch",n,null)}function nR(n,s){js.C(n,s),O_("preconnect",n,s)}function iR(n,s,a){js.L(n,s,a);var l=xo;if(l&&n&&s){var f='link[rel="preload"][as="'+jn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+jn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+jn(a.imageSizes)+'"]')):f+='[href="'+jn(n)+'"]';var d=f;switch(s){case"style":d=Ro(n);break;case"script":d=Co(n)}mi.has(d)||(n=E({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:n,as:s},a),mi.set(d,n),l.querySelector(f)!==null||s==="style"&&l.querySelector(nu(d))||s==="script"&&l.querySelector(iu(d))||(s=l.createElement("link"),vn(s,"link",n),Ge(s),l.head.appendChild(s)))}}function sR(n,s){js.m(n,s);var a=xo;if(a&&n){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+jn(l)+'"][href="'+jn(n)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Co(n)}if(!mi.has(d)&&(n=E({rel:"modulepreload",href:n},s),mi.set(d,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(iu(d)))return}l=a.createElement("link"),vn(l,"link",n),Ge(l),a.head.appendChild(l)}}}function rR(n,s,a){js.S(n,s,a);var l=xo;if(l&&n){var f=Hi(l).hoistableStyles,d=Ro(n);s=s||"default";var _=f.get(d);if(!_){var A={loading:0,preload:null};if(_=l.querySelector(nu(d)))A.loading=5;else{n=E({rel:"stylesheet",href:n,"data-precedence":s},a),(a=mi.get(d))&&Rm(n,a);var V=_=l.createElement("link");Ge(V),vn(V,"link",n),V._p=new Promise(function(q,J){V.onload=q,V.onerror=J}),V.addEventListener("load",function(){A.loading|=1}),V.addEventListener("error",function(){A.loading|=2}),A.loading|=4,fh(_,s,l)}_={type:"stylesheet",instance:_,count:1,state:A},f.set(d,_)}}}function aR(n,s){js.X(n,s);var a=xo;if(a&&n){var l=Hi(a).hoistableScripts,f=Co(n),d=l.get(f);d||(d=a.querySelector(iu(f)),d||(n=E({src:n,async:!0},s),(s=mi.get(f))&&Cm(n,s),d=a.createElement("script"),Ge(d),vn(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function oR(n,s){js.M(n,s);var a=xo;if(a&&n){var l=Hi(a).hoistableScripts,f=Co(n),d=l.get(f);d||(d=a.querySelector(iu(f)),d||(n=E({src:n,async:!0,type:"module"},s),(s=mi.get(f))&&Cm(n,s),d=a.createElement("script"),Ge(d),vn(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function N_(n,s,a,l){var f=(f=Ot.current)?hh(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Ro(a.href),a=Hi(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Ro(a.href);var d=Hi(f).hoistableStyles,_=d.get(n);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,_),(d=f.querySelector(nu(n)))&&!d._p&&(_.instance=d,_.state.loading=5),mi.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},mi.set(n,a),d||lR(f,n,a,_.state))),s&&l===null)throw Error(r(528,""));return _}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Co(a),a=Hi(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function Ro(n){return'href="'+jn(n)+'"'}function nu(n){return'link[rel="stylesheet"]['+n+"]"}function P_(n){return E({},n,{"data-precedence":n.precedence,precedence:null})}function lR(n,s,a,l){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=n.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),vn(s,"link",a),Ge(s),n.head.appendChild(s))}function Co(n){return'[src="'+jn(n)+'"]'}function iu(n){return"script[async]"+n}function k_(n,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=n.querySelector('style[data-href~="'+jn(a.href)+'"]');if(l)return s.instance=l,Ge(l),l;var f=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),Ge(l),vn(l,"style",f),fh(l,a.precedence,n),s.instance=l;case"stylesheet":f=Ro(a.href);var d=n.querySelector(nu(f));if(d)return s.state.loading|=4,s.instance=d,Ge(d),d;l=P_(a),(f=mi.get(f))&&Rm(l,f),d=(n.ownerDocument||n).createElement("link"),Ge(d);var _=d;return _._p=new Promise(function(A,V){_.onload=A,_.onerror=V}),vn(d,"link",l),s.state.loading|=4,fh(d,a.precedence,n),s.instance=d;case"script":return d=Co(a.src),(f=n.querySelector(iu(d)))?(s.instance=f,Ge(f),f):(l=a,(f=mi.get(d))&&(l=E({},a),Cm(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),Ge(f),vn(f,"link",l),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,fh(l,a.precedence,n));return s.instance}function fh(n,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var A=l[_];if(A.dataset.precedence===s)d=A;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(n,s.firstChild))}function Rm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Cm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var dh=null;function j_(n,s,a){if(dh===null){var l=new Map,f=dh=new Map;f.set(a,l)}else f=dh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[An]||d[Te]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(s)||"";_=n+_;var A=l.get(_);A?A.push(d):l.set(_,[d])}}return l}function L_(n,s,a){n=n.ownerDocument||n,n.head.insertBefore(a,s==="title"?n.querySelector("head > title"):null)}function uR(n,s,a){if(a===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function U_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function cR(n,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Ro(l.href),d=s.querySelector(nu(f));if(d){s=d._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=mh.bind(n),s.then(n,n)),a.state.loading|=4,a.instance=d,Ge(d);return}d=s.ownerDocument||s,l=P_(l),(f=mi.get(f))&&Rm(l,f),d=d.createElement("link"),Ge(d);var _=d;_._p=new Promise(function(A,V){_.onload=A,_.onerror=V}),vn(d,"link",l),a.instance=d}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=mh.bind(n),s.addEventListener("load",a),s.addEventListener("error",a))}}var Im=0;function hR(n,s){return n.stylesheets&&n.count===0&&gh(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var l=setTimeout(function(){if(n.stylesheets&&gh(n,n.stylesheets),n.unsuspend){var d=n.unsuspend;n.unsuspend=null,d()}},6e4+s);0<n.imgBytes&&Im===0&&(Im=62500*Gx());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&gh(n,n.stylesheets),n.unsuspend)){var d=n.unsuspend;n.unsuspend=null,d()}},(n.imgBytes>Im?50:800)+s);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function mh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var ph=null;function gh(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,ph=new Map,s.forEach(fR,n),ph=null,mh.call(n))}function fR(n,s){if(!(s.state.loading&4)){var a=ph.get(n);if(a)var l=a.get(null);else{a=new Map,ph.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=s.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=mh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var su={$$typeof:tt,Provider:null,Consumer:null,_currentValue:yt,_currentValue2:yt,_threadCount:0};function dR(n,s,a,l,f,d,_,A,V){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=en(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=en(0),this.hiddenUpdates=en(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function z_(n,s,a,l,f,d,_,A,V,q,J,rt){return n=new dR(n,s,a,_,V,q,J,rt,A),s=1,d===!0&&(s|=24),d=$n(3,null,null,s),n.current=d,d.stateNode=n,s=ld(),s.refCount++,n.pooledCache=s,s.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:s},fd(d),n}function B_(n){return n?(n=so,n):so}function F_(n,s,a,l,f,d){f=B_(f),l.context===null?l.context=f:l.pendingContext=f,l=cr(s),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=hr(n,l,s),a!==null&&(Hn(a,n,s),kl(a,n,s))}function H_(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function Dm(n,s){H_(n,s),(n=n.alternate)&&H_(n,s)}function q_(n){if(n.tag===13||n.tag===31){var s=aa(n,67108864);s!==null&&Hn(s,n,67108864),Dm(n,67108864)}}function G_(n){if(n.tag===13||n.tag===31){var s=ni();s=vs(s);var a=aa(n,s);a!==null&&Hn(a,n,s),Dm(n,s)}}var yh=!0;function mR(n,s,a,l){var f=G.T;G.T=null;var d=ut.p;try{ut.p=2,Mm(n,s,a,l)}finally{ut.p=d,G.T=f}}function pR(n,s,a,l){var f=G.T;G.T=null;var d=ut.p;try{ut.p=8,Mm(n,s,a,l)}finally{ut.p=d,G.T=f}}function Mm(n,s,a,l){if(yh){var f=Vm(l);if(f===null)ym(n,s,l,vh,a),Y_(n,l);else if(yR(f,n,s,a,l))l.stopPropagation();else if(Y_(n,l),s&4&&-1<gR.indexOf(n)){for(;f!==null;){var d=ii(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=W(d.pendingLanes);if(_!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;_;){var V=1<<31-De(_);A.entanglements[1]|=V,_&=~V}ns(d),(re&6)===0&&(th=ue()+500,Jl(0))}}break;case 31:case 13:A=aa(d,2),A!==null&&Hn(A,d,2),nh(),Dm(d,2)}if(d=Vm(l),d===null&&ym(n,s,l,vh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else ym(n,s,l,null,a)}}function Vm(n){return n=si(n),Om(n)}var vh=null;function Om(n){if(vh=null,n=Fi(n),n!==null){var s=u(n);if(s===null)n=null;else{var a=s.tag;if(a===13){if(n=c(s),n!==null)return n;n=null}else if(a===31){if(n=m(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return vh=n,null}function K_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Sn()){case Yr:return 2;case Qr:return 8;case Ai:case cl:return 32;case Ua:return 268435456;default:return 32}default:return 32}}var Nm=!1,br=null,Sr=null,Ar=null,ru=new Map,au=new Map,wr=[],gR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Y_(n,s){switch(n){case"focusin":case"focusout":br=null;break;case"dragenter":case"dragleave":Sr=null;break;case"mouseover":case"mouseout":Ar=null;break;case"pointerover":case"pointerout":ru.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":au.delete(s.pointerId)}}function ou(n,s,a,l,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},s!==null&&(s=ii(s),s!==null&&q_(s)),n):(n.eventSystemFlags|=l,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function yR(n,s,a,l,f){switch(s){case"focusin":return br=ou(br,n,s,a,l,f),!0;case"dragenter":return Sr=ou(Sr,n,s,a,l,f),!0;case"mouseover":return Ar=ou(Ar,n,s,a,l,f),!0;case"pointerover":var d=f.pointerId;return ru.set(d,ou(ru.get(d)||null,n,s,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,au.set(d,ou(au.get(d)||null,n,s,a,l,f)),!0}return!1}function Q_(n){var s=Fi(n.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){n.blockedOn=s,ve(n.priority,function(){G_(a)});return}}else if(s===31){if(s=m(a),s!==null){n.blockedOn=s,ve(n.priority,function(){G_(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function _h(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=Vm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Tl=l,a.target.dispatchEvent(l),Tl=null}else return s=ii(a),s!==null&&q_(s),n.blockedOn=a,!1;s.shift()}return!0}function X_(n,s,a){_h(n)&&a.delete(s)}function vR(){Nm=!1,br!==null&&_h(br)&&(br=null),Sr!==null&&_h(Sr)&&(Sr=null),Ar!==null&&_h(Ar)&&(Ar=null),ru.forEach(X_),au.forEach(X_)}function Th(n,s){n.blockedOn===s&&(n.blockedOn=null,Nm||(Nm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,vR)))}var Eh=null;function W_(n){Eh!==n&&(Eh=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Eh===n&&(Eh=null);for(var s=0;s<n.length;s+=3){var a=n[s],l=n[s+1],f=n[s+2];if(typeof l!="function"){if(Om(l||a)===null)continue;break}var d=ii(a);d!==null&&(n.splice(s,3),s-=3,Vd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Io(n){function s(V){return Th(V,n)}br!==null&&Th(br,n),Sr!==null&&Th(Sr,n),Ar!==null&&Th(Ar,n),ru.forEach(s),au.forEach(s);for(var a=0;a<wr.length;a++){var l=wr[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<wr.length&&(a=wr[0],a.blockedOn===null);)Q_(a),a.blockedOn===null&&wr.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[we]||null;if(typeof d=="function")_||W_(a);else if(_){var A=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[we]||null)A=_.formAction;else if(Om(f)!==null)continue}else A=_.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),W_(a)}}}function $_(){function n(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function Pm(n){this._internalRoot=n}bh.prototype.render=Pm.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=ni();F_(a,l,n,s,null,null)},bh.prototype.unmount=Pm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;F_(n.current,2,null,n,null,null),nh(),s[Yn]=null}};function bh(n){this._internalRoot=n}bh.prototype.unstable_scheduleHydration=function(n){if(n){var s=Ha();n={blockedOn:null,target:n,priority:s};for(var a=0;a<wr.length&&s!==0&&s<wr[a].priority;a++);wr.splice(a,0,n),a===0&&Q_(n)}};var J_=t.version;if(J_!=="19.2.0")throw Error(r(527,J_,"19.2.0"));ut.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=g(s),n=n!==null?v(n):null,n=n===null?null:n.stateNode,n};var _R={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sh.isDisabled&&Sh.supportsFiber)try{Kn=Sh.inject(_R),tn=Sh}catch{}}return uu.createRoot=function(n,s){if(!o(n))throw Error(r(299));var a=!1,l="",f=rv,d=av,_=ov;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=z_(n,1,!1,null,null,a,l,null,f,d,_,$_),n[Yn]=s.current,gm(n),new Pm(s)},uu.hydrateRoot=function(n,s,a){if(!o(n))throw Error(r(299));var l=!1,f="",d=rv,_=av,A=ov,V=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(V=a.formState)),s=z_(n,1,!0,s,a??null,l,f,V,d,_,A,$_),s.context=B_(null),a=s.current,l=ni(),l=vs(l),f=cr(l),f.callback=null,hr(a,f,l),a=l,s.current.lanes=a,hn(s,a),ns(s),n[Yn]=s.current,gm(n),new bh(s)},uu.version="19.2.0",uu}var lT;function DR(){if(lT)return Lm.exports;lT=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Lm.exports=IR(),Lm.exports}var MR=DR();function VR({endTime:i}){const[t,e]=$.useState(Math.max(0,Math.ceil((i-Date.now())/1e3)));return $.useEffect(()=>{const r=setInterval(()=>{const o=Math.max(0,Math.ceil((i-Date.now())/1e3));e(o),o<=0&&clearInterval(r)},1e3);return()=>clearInterval(r)},[i]),S.jsxs("span",{children:[t,"s"]})}const OR=()=>{};var uT={};const YE=function(i){const t=[];let e=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},NR=function(i){const t=[];let e=0,r=0;for(;e<i.length;){const o=i[e++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[e++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[e++],c=i[e++],m=i[e++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|m&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const u=i[e++],c=i[e++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},QE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const u=i[o],c=o+1<i.length,m=c?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,v=u>>2,E=(u&3)<<4|m>>4;let b=(m&15)<<2|g>>6,C=g&63;p||(C=64,c||(b=64)),r.push(e[v],e[E],e[b],e[C])}return r.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(YE(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):NR(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const u=e[i.charAt(o++)],m=o<i.length?e[i.charAt(o)]:0;++o;const g=o<i.length?e[i.charAt(o)]:64;++o;const E=o<i.length?e[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||E==null)throw new PR;const b=u<<2|m>>4;if(r.push(b),g!==64){const C=m<<4&240|g>>2;if(r.push(C),E!==64){const U=g<<6&192|E;r.push(U)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class PR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kR=function(i){const t=YE(i);return QE.encodeByteArray(t,!0)},Wh=function(i){return kR(i).replace(/\./g,"")},XE=function(i){try{return QE.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function jR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const LR=()=>jR().__FIREBASE_DEFAULTS__,UR=()=>{if(typeof process>"u"||typeof uT>"u")return;const i=uT.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},zR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&XE(i[1]);return t&&JSON.parse(t)},Sf=()=>{try{return OR()||LR()||UR()||zR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},WE=i=>Sf()?.emulatorHosts?.[i],BR=i=>{const t=WE(i);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),r]:[t.substring(0,e),r]},$E=()=>Sf()?.config,JE=i=>Sf()?.[`_${i}`];class FR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}}function tl(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ZE(i){return(await fetch(i,{credentials:"include"})).ok}function HR(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},r=t||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Wh(JSON.stringify(e)),Wh(JSON.stringify(c)),""].join(".")}const gu={};function qR(){const i={prod:[],emulator:[]};for(const t of Object.keys(gu))gu[t]?i.emulator.push(t):i.prod.push(t);return i}function GR(i){let t=document.getElementById(i),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),e=!0),{created:e,element:t}}let cT=!1;function tb(i,t){if(typeof window>"u"||typeof document>"u"||!tl(window.location.host)||gu[i]===t||gu[i]||cT)return;gu[i]=t;function e(b){return`__firebase__banner__${b}`}const r="__firebase__banner",u=qR().prod.length>0;function c(){const b=document.getElementById(r);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,C){b.setAttribute("width","24"),b.setAttribute("id",C),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{cT=!0,c()},b}function v(b,C){b.setAttribute("id",C),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function E(){const b=GR(r),C=e("text"),U=document.getElementById(C)||document.createElement("span"),M=e("learnmore"),P=document.getElementById(M)||document.createElement("a"),Q=e("preprendIcon"),it=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const tt=b.element;m(tt),v(P,M);const ht=g();p(it,Q),tt.append(it,U,P,ht),document.body.appendChild(tt)}u?(U.innerText="Preview backend disconnected.",it.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(it.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function Dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dn())}function YR(){const i=Sf()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XR(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function WR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $R(){const i=Dn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function JR(){return!YR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ZR(){try{return typeof indexedDB=="object"}catch{return!1}}function tC(){return new Promise((i,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(e){t(e)}})}const eC="FirebaseError";class Qs extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=eC,Object.setPrototypeOf(this,Qs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qu.prototype.create)}}class qu{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?nC(u,r):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new Qs(o,m,r)}}function nC(i,t){return i.replace(iC,(e,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const iC=/\{\$([^}]+)}/g;function sC(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function Da(i,t){if(i===t)return!0;const e=Object.keys(i),r=Object.keys(t);for(const o of e){if(!r.includes(o))return!1;const u=i[o],c=t[o];if(hT(u)&&hT(c)){if(!Da(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!e.includes(o))return!1;return!0}function hT(i){return i!==null&&typeof i=="object"}function Gu(i){const t=[];for(const[e,r]of Object.entries(i))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function rC(i,t){const e=new aC(i,t);return e.subscribe.bind(e)}class aC{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let o;if(t===void 0&&e===void 0&&r===void 0)throw new Error("Missing Observer.");oC(t,["next","error","complete"])?o=t:o={next:t,error:e,complete:r},o.next===void 0&&(o.next=Fm),o.error===void 0&&(o.error=Fm),o.complete===void 0&&(o.complete=Fm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oC(i,t){if(typeof i!="object"||i===null)return!1;for(const e of t)if(e in i&&typeof i[e]=="function")return!0;return!1}function Fm(){}function Ei(i){return i&&i._delegate?i._delegate:i}class Ma{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ta="[DEFAULT]";class lC{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new FR;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(cC(t))try{this.getOrInitializeService({instanceIdentifier:Ta})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=Ta){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ta){return this.instances.has(t)}getOptions(t=Ta){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[u,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&c.resolve(o)}return o}onInit(t,e){const r=this.normalizeInstanceIdentifier(e),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const o of r)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:uC(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Ta){return this.component?this.component.multipleInstances?t:Ta:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uC(i){return i===Ta?void 0:i}function cC(i){return i.instantiationMode==="EAGER"}class hC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new lC(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var Xt;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Xt||(Xt={}));const fC={debug:Xt.DEBUG,verbose:Xt.VERBOSE,info:Xt.INFO,warn:Xt.WARN,error:Xt.ERROR,silent:Xt.SILENT},dC=Xt.INFO,mC={[Xt.DEBUG]:"log",[Xt.VERBOSE]:"log",[Xt.INFO]:"info",[Xt.WARN]:"warn",[Xt.ERROR]:"error"},pC=(i,t,...e)=>{if(t<i.logLevel)return;const r=new Date().toISOString(),o=mC[t];if(o)console[o](`[${r}]  ${i.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class og{constructor(t){this.name=t,this._logLevel=dC,this._logHandler=pC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Xt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?fC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Xt.DEBUG,...t),this._logHandler(this,Xt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Xt.VERBOSE,...t),this._logHandler(this,Xt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Xt.INFO,...t),this._logHandler(this,Xt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Xt.WARN,...t),this._logHandler(this,Xt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Xt.ERROR,...t),this._logHandler(this,Xt.ERROR,...t)}}const gC=(i,t)=>t.some(e=>i instanceof e);let fT,dT;function yC(){return fT||(fT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vC(){return dT||(dT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eb=new WeakMap,pp=new WeakMap,nb=new WeakMap,Hm=new WeakMap,lg=new WeakMap;function _C(i){const t=new Promise((e,r)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",c)},u=()=>{e(Or(i.result)),o()},c=()=>{r(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&eb.set(e,i)}).catch(()=>{}),lg.set(t,i),t}function TC(i){if(pp.has(i))return;const t=new Promise((e,r)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",c),i.removeEventListener("abort",c)},u=()=>{e(),o()},c=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",c),i.addEventListener("abort",c)});pp.set(i,t)}let gp={get(i,t,e){if(i instanceof IDBTransaction){if(t==="done")return pp.get(i);if(t==="objectStoreNames")return i.objectStoreNames||nb.get(i);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Or(i[t])},set(i,t,e){return i[t]=e,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function EC(i){gp=i(gp)}function bC(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const r=i.call(qm(this),t,...e);return nb.set(r,t.sort?t.sort():[t]),Or(r)}:vC().includes(i)?function(...t){return i.apply(qm(this),t),Or(eb.get(this))}:function(...t){return Or(i.apply(qm(this),t))}}function SC(i){return typeof i=="function"?bC(i):(i instanceof IDBTransaction&&TC(i),gC(i,yC())?new Proxy(i,gp):i)}function Or(i){if(i instanceof IDBRequest)return _C(i);if(Hm.has(i))return Hm.get(i);const t=SC(i);return t!==i&&(Hm.set(i,t),lg.set(t,i)),t}const qm=i=>lg.get(i);function AC(i,t,{blocked:e,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(i,t),m=Or(c);return r&&c.addEventListener("upgradeneeded",p=>{r(Or(c.result),p.oldVersion,p.newVersion,Or(c.transaction),p)}),e&&c.addEventListener("blocked",p=>e(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const wC=["get","getKey","getAll","getAllKeys","count"],xC=["put","add","delete","clear"],Gm=new Map;function mT(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Gm.get(t))return Gm.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,o=xC.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(o||wC.includes(e)))return;const u=async function(c,...m){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(m.shift())),(await Promise.all([g[e](...m),o&&p.done]))[0]};return Gm.set(t,u),u}EC(i=>({...i,get:(t,e,r)=>mT(t,e)||i.get(t,e,r),has:(t,e)=>!!mT(t,e)||i.has(t,e)}));class RC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(CC(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function CC(i){return i.getComponent()?.type==="VERSION"}const yp="@firebase/app",pT="0.14.6";const Fs=new og("@firebase/app"),IC="@firebase/app-compat",DC="@firebase/analytics-compat",MC="@firebase/analytics",VC="@firebase/app-check-compat",OC="@firebase/app-check",NC="@firebase/auth",PC="@firebase/auth-compat",kC="@firebase/database",jC="@firebase/data-connect",LC="@firebase/database-compat",UC="@firebase/functions",zC="@firebase/functions-compat",BC="@firebase/installations",FC="@firebase/installations-compat",HC="@firebase/messaging",qC="@firebase/messaging-compat",GC="@firebase/performance",KC="@firebase/performance-compat",YC="@firebase/remote-config",QC="@firebase/remote-config-compat",XC="@firebase/storage",WC="@firebase/storage-compat",$C="@firebase/firestore",JC="@firebase/ai",ZC="@firebase/firestore-compat",t2="firebase",e2="12.6.0";const vp="[DEFAULT]",n2={[yp]:"fire-core",[IC]:"fire-core-compat",[MC]:"fire-analytics",[DC]:"fire-analytics-compat",[OC]:"fire-app-check",[VC]:"fire-app-check-compat",[NC]:"fire-auth",[PC]:"fire-auth-compat",[kC]:"fire-rtdb",[jC]:"fire-data-connect",[LC]:"fire-rtdb-compat",[UC]:"fire-fn",[zC]:"fire-fn-compat",[BC]:"fire-iid",[FC]:"fire-iid-compat",[HC]:"fire-fcm",[qC]:"fire-fcm-compat",[GC]:"fire-perf",[KC]:"fire-perf-compat",[YC]:"fire-rc",[QC]:"fire-rc-compat",[XC]:"fire-gcs",[WC]:"fire-gcs-compat",[$C]:"fire-fst",[ZC]:"fire-fst-compat",[JC]:"fire-vertex","fire-js":"fire-js",[t2]:"fire-js-all"};const $h=new Map,i2=new Map,_p=new Map;function gT(i,t){try{i.container.addComponent(t)}catch(e){Fs.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,e)}}function qo(i){const t=i.name;if(_p.has(t))return Fs.debug(`There were multiple attempts to register component ${t}.`),!1;_p.set(t,i);for(const e of $h.values())gT(e,i);for(const e of i2.values())gT(e,i);return!0}function ug(i,t){const e=i.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),i.container.getProvider(t)}function ki(i){return i==null?!1:i.settings!==void 0}const s2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Nr=new qu("app","Firebase",s2);class r2{constructor(t,e,r){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ma("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Nr.create("app-deleted",{appName:this._name})}}const el=e2;function ib(i,t={}){let e=i;typeof t!="object"&&(t={name:t});const r={name:vp,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw Nr.create("bad-app-name",{appName:String(o)});if(e||(e=$E()),!e)throw Nr.create("no-options");const u=$h.get(o);if(u){if(Da(e,u.options)&&Da(r,u.config))return u;throw Nr.create("duplicate-app",{appName:o})}const c=new hC(o);for(const p of _p.values())c.addComponent(p);const m=new r2(e,r,c);return $h.set(o,m),m}function sb(i=vp){const t=$h.get(i);if(!t&&i===vp&&$E())return ib();if(!t)throw Nr.create("no-app",{appName:i});return t}function Pr(i,t,e){let r=n2[i]??i;e&&(r+=`-${e}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const c=[`Unable to register library "${r}" with version "${t}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Fs.warn(c.join(" "));return}qo(new Ma(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const a2="firebase-heartbeat-database",o2=1,Cu="firebase-heartbeat-store";let Km=null;function rb(){return Km||(Km=AC(a2,o2,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Cu)}catch(e){console.warn(e)}}}}).catch(i=>{throw Nr.create("idb-open",{originalErrorMessage:i.message})})),Km}async function l2(i){try{const e=(await rb()).transaction(Cu),r=await e.objectStore(Cu).get(ab(i));return await e.done,r}catch(t){if(t instanceof Qs)Fs.warn(t.message);else{const e=Nr.create("idb-get",{originalErrorMessage:t?.message});Fs.warn(e.message)}}}async function yT(i,t){try{const r=(await rb()).transaction(Cu,"readwrite");await r.objectStore(Cu).put(t,ab(i)),await r.done}catch(e){if(e instanceof Qs)Fs.warn(e.message);else{const r=Nr.create("idb-set",{originalErrorMessage:e?.message});Fs.warn(r.message)}}}function ab(i){return`${i.name}!${i.options.appId}`}const u2=1024,c2=30;class h2{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new d2(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=vT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:e}),this._heartbeatsCache.heartbeats.length>c2){const o=m2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Fs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=vT(),{heartbeatsToSend:e,unsentEntries:r}=f2(this._heartbeatsCache.heartbeats),o=Wh(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Fs.warn(t),""}}}function vT(){return new Date().toISOString().substring(0,10)}function f2(i,t=u2){const e=[];let r=i.slice();for(const o of i){const u=e.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),_T(e)>t){u.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),_T(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class d2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ZR()?tC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await l2(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return yT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return yT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function _T(i){return Wh(JSON.stringify({version:2,heartbeats:i})).length}function m2(i){if(i.length===0)return-1;let t=0,e=i[0].date;for(let r=1;r<i.length;r++)i[r].date<e&&(e=i[r].date,t=r);return t}function p2(i){qo(new Ma("platform-logger",t=>new RC(t),"PRIVATE")),qo(new Ma("heartbeat",t=>new h2(t),"PRIVATE")),Pr(yp,pT,i),Pr(yp,pT,"esm2020"),Pr("fire-js","")}p2("");var g2="firebase",y2="12.6.0";Pr(g2,y2,"app");function ob(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const v2=ob,lb=new qu("auth","Firebase",ob());const Jh=new og("@firebase/auth");function _2(i,...t){Jh.logLevel<=Xt.WARN&&Jh.warn(`Auth (${el}): ${i}`,...t)}function Ph(i,...t){Jh.logLevel<=Xt.ERROR&&Jh.error(`Auth (${el}): ${i}`,...t)}function fs(i,...t){throw hg(i,...t)}function Ui(i,...t){return hg(i,...t)}function cg(i,t,e){const r={...v2(),[t]:e};return new qu("auth","Firebase",r).create(t,{appName:i.name})}function xa(i){return cg(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function T2(i,t,e){const r=e;if(!(t instanceof r))throw r.name!==t.constructor.name&&fs(i,"argument-error"),cg(i,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function hg(i,...t){if(typeof i!="string"){const e=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(e,...r)}return lb.create(i,...t)}function Vt(i,t,...e){if(!i)throw hg(t,...e)}function Us(i){const t="INTERNAL ASSERTION FAILED: "+i;throw Ph(t),new Error(t)}function Hs(i,t){i||Us(t)}function Tp(){return typeof self<"u"&&self.location?.href||""}function E2(){return TT()==="http:"||TT()==="https:"}function TT(){return typeof self<"u"&&self.location?.protocol||null}function b2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(E2()||XR()||"connection"in navigator)?navigator.onLine:!0}function S2(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Ku{constructor(t,e){this.shortDelay=t,this.longDelay=e,Hs(e>t,"Short delay should be less than long delay!"),this.isMobile=KR()||WR()}get(){return b2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function fg(i,t){Hs(i.emulator,"Emulator should always be set here");const{url:e}=i.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class ub{static initialize(t,e,r){this.fetchImpl=t,e&&(this.headersImpl=e),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Us("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Us("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Us("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const A2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const w2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],x2=new Ku(3e4,6e4);function dg(i,t){return i.tenantId&&!t.tenantId?{...t,tenantId:i.tenantId}:t}async function nl(i,t,e,r,o={}){return cb(i,o,async()=>{let u={},c={};r&&(t==="GET"?c=r:u={body:JSON.stringify(r)});const m=Gu({key:i.config.apiKey,...c}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:t,headers:p,...u};return QR()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&tl(i.emulatorConfig.host)&&(g.credentials="include"),ub.fetch()(await hb(i,i.config.apiHost,e,m),g)})}async function cb(i,t,e){i._canInitEmulator=!1;const r={...A2,...t};try{const o=new C2(i),u=await Promise.race([e(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw Ah(i,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const m=u.ok?c.errorMessage:c.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ah(i,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Ah(i,"email-already-in-use",c);if(p==="USER_DISABLED")throw Ah(i,"user-disabled",c);const v=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw cg(i,v,g);fs(i,v)}}catch(o){if(o instanceof Qs)throw o;fs(i,"network-request-failed",{message:String(o)})}}async function R2(i,t,e,r,o={}){const u=await nl(i,t,e,r,o);return"mfaPendingCredential"in u&&fs(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function hb(i,t,e,r){const o=`${t}${e}?${r}`,u=i,c=u.config.emulator?fg(i.config,o):`${i.config.apiScheme}://${o}`;return w2.includes(e)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}class C2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,r)=>{this.timer=setTimeout(()=>r(Ui(this.auth,"network-request-failed")),x2.get())})}}function Ah(i,t,e){const r={appName:i.name};e.email&&(r.email=e.email),e.phoneNumber&&(r.phoneNumber=e.phoneNumber);const o=Ui(i,t,r);return o.customData._tokenResponse=e,o}async function I2(i,t){return nl(i,"POST","/v1/accounts:delete",t)}async function Zh(i,t){return nl(i,"POST","/v1/accounts:lookup",t)}function yu(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function D2(i,t=!1){const e=Ei(i),r=await e.getIdToken(t),o=mg(r);Vt(o&&o.exp&&o.auth_time&&o.iat,e.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:r,authTime:yu(Ym(o.auth_time)),issuedAtTime:yu(Ym(o.iat)),expirationTime:yu(Ym(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Ym(i){return Number(i)*1e3}function mg(i){const[t,e,r]=i.split(".");if(t===void 0||e===void 0||r===void 0)return Ph("JWT malformed, contained fewer than 3 sections"),null;try{const o=XE(e);return o?JSON.parse(o):(Ph("Failed to decode base64 JWT payload"),null)}catch(o){return Ph("Caught error parsing JWT payload as JSON",o?.toString()),null}}function ET(i){const t=mg(i);return Vt(t,"internal-error"),Vt(typeof t.exp<"u","internal-error"),Vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Iu(i,t,e=!1){if(e)return t;try{return await t}catch(r){throw r instanceof Qs&&M2(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function M2({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class V2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Ep{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=yu(this.lastLoginAt),this.creationTime=yu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function tf(i){const t=i.auth,e=await i.getIdToken(),r=await Iu(i,Zh(t,{idToken:e}));Vt(r?.users.length,t,"internal-error");const o=r.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?fb(o.providerUserInfo):[],c=N2(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!c?.length,g=m?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Ep(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,v)}async function O2(i){const t=Ei(i);await tf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function N2(i,t){return[...i.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function fb(i){return i.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function P2(i,t){const e=await cb(i,{},async()=>{const r=Gu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,c=await hb(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:r};return i.emulatorConfig&&tl(i.emulatorConfig.host)&&(p.credentials="include"),ub.fetch()(c,p)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function k2(i,t){return nl(i,"POST","/v2/accounts:revokeToken",dg(i,t))}class Uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Vt(t.idToken,"internal-error"),Vt(typeof t.idToken<"u","internal-error"),Vt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):ET(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Vt(t.length!==0,"internal-error");const e=ET(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:r,refreshToken:o,expiresIn:u}=await P2(t,e);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(t,e,r){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,e){const{refreshToken:r,accessToken:o,expirationTime:u}=e,c=new Uo;return r&&(Vt(typeof r=="string","internal-error",{appName:t}),c.refreshToken=r),o&&(Vt(typeof o=="string","internal-error",{appName:t}),c.accessToken=o),u&&(Vt(typeof u=="number","internal-error",{appName:t}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Uo,this.toJSON())}_performRefresh(){return Us("not implemented")}}function Rr(i,t){Vt(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class ji{constructor({uid:t,auth:e,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new V2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ep(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const e=await Iu(this,this.stsTokenManager.getToken(this.auth,t));return Vt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return D2(this,t)}reload(){return O2(this)}_assign(t){this!==t&&(Vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new ji({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){Vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),e&&await tf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ki(this.auth.app))return Promise.reject(xa(this.auth));const t=await this.getIdToken();return await Iu(this,I2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const r=e.displayName??void 0,o=e.email??void 0,u=e.phoneNumber??void 0,c=e.photoURL??void 0,m=e.tenantId??void 0,p=e._redirectEventId??void 0,g=e.createdAt??void 0,v=e.lastLoginAt??void 0,{uid:E,emailVerified:b,isAnonymous:C,providerData:U,stsTokenManager:M}=e;Vt(E&&M,t,"internal-error");const P=Uo.fromJSON(this.name,M);Vt(typeof E=="string",t,"internal-error"),Rr(r,t.name),Rr(o,t.name),Vt(typeof b=="boolean",t,"internal-error"),Vt(typeof C=="boolean",t,"internal-error"),Rr(u,t.name),Rr(c,t.name),Rr(m,t.name),Rr(p,t.name),Rr(g,t.name),Rr(v,t.name);const Q=new ji({uid:E,auth:t,email:o,emailVerified:b,displayName:r,isAnonymous:C,photoURL:c,phoneNumber:u,tenantId:m,stsTokenManager:P,createdAt:g,lastLoginAt:v});return U&&Array.isArray(U)&&(Q.providerData=U.map(it=>({...it}))),p&&(Q._redirectEventId=p),Q}static async _fromIdTokenResponse(t,e,r=!1){const o=new Uo;o.updateFromServerResponse(e);const u=new ji({uid:e.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await tf(u),u}static async _fromGetAccountInfoResponse(t,e,r){const o=e.users[0];Vt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?fb(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,m=new Uo;m.updateFromIdToken(r);const p=new ji({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Ep(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const bT=new Map;function zs(i){Hs(i instanceof Function,"Expected a class definition");let t=bT.get(i);return t?(Hs(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,bT.set(i,t),t)}class db{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}db.type="NONE";const ST=db;function kh(i,t,e){return`firebase:${i}:${t}:${e}`}class zo{constructor(t,e,r){this.persistence=t,this.auth=e,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=kh(this.userKey,o.apiKey,u),this.fullPersistenceKey=kh("persistence",o.apiKey,u),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Zh(this.auth,{idToken:t}).catch(()=>{});return e?ji._fromGetAccountInfoResponse(this.auth,e,t):null}return ji._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,r="authUser"){if(!e.length)return new zo(zs(ST),t,r);const o=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||zs(ST);const c=kh(r,t.config.apiKey,t.name);let m=null;for(const g of e)try{const v=await g._get(c);if(v){let E;if(typeof v=="string"){const b=await Zh(t,{idToken:v}).catch(()=>{});if(!b)break;E=await ji._fromGetAccountInfoResponse(t,b,v)}else E=ji._fromJSON(t,v);g!==u&&(m=E),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new zo(u,t,r):(u=p[0],m&&await u._set(c,m.toJSON()),await Promise.all(e.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new zo(u,t,r))}}function AT(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(yb(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(mb(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(_b(t))return"Blackberry";if(Tb(t))return"Webos";if(pb(t))return"Safari";if((t.includes("chrome/")||gb(t))&&!t.includes("edge/"))return"Chrome";if(vb(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(e);if(r?.length===2)return r[1]}return"Other"}function mb(i=Dn()){return/firefox\//i.test(i)}function pb(i=Dn()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function gb(i=Dn()){return/crios\//i.test(i)}function yb(i=Dn()){return/iemobile/i.test(i)}function vb(i=Dn()){return/android/i.test(i)}function _b(i=Dn()){return/blackberry/i.test(i)}function Tb(i=Dn()){return/webos/i.test(i)}function pg(i=Dn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function j2(i=Dn()){return pg(i)&&!!window.navigator?.standalone}function L2(){return $R()&&document.documentMode===10}function Eb(i=Dn()){return pg(i)||vb(i)||Tb(i)||_b(i)||/windows phone/i.test(i)||yb(i)}function bb(i,t=[]){let e;switch(i){case"Browser":e=AT(Dn());break;case"Worker":e=`${AT(Dn())}-${i}`;break;default:e=i}const r=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${el}/${r}`}class U2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const r=u=>new Promise((c,m)=>{try{const p=t(u);c(p)}catch(p){m(p)}});r.onAbort=e,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const r of this.queue)await r(t),r.onAbort&&e.push(r.onAbort)}catch(r){e.reverse();for(const o of e)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function z2(i,t={}){return nl(i,"GET","/v2/passwordPolicy",dg(i,t))}const B2=6;class F2{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??B2,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(e.meetsMinPasswordLength=t.length>=r),o&&(e.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(e,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,e,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class H2{constructor(t,e,r,o){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wT(this),this.idTokenSubscription=new wT(this),this.beforeStateQueue=new U2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=zs(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await zo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Zh(this,{idToken:t}),r=await ji._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ki(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let r=e,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=r?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===c)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await tf(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=S2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ki(this.app))return Promise.reject(xa(this));const e=t?Ei(t):null;return e&&Vt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ki(this.app)?Promise.reject(xa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ki(this.app)?Promise.reject(xa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await z2(this),e=new F2(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new qu("auth","Firebase",t())}onAuthStateChanged(t,e,r){return this.registerStateListener(this.authStateSubscription,t,e,r)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,r){return this.registerStateListener(this.idTokenSubscription,t,e,r)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(r.tenantId=this.tenantId),await k2(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const r=await this.getOrInitRedirectPersistenceManager(e);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&zs(t)||this._popupRedirectResolver;Vt(e,this,"argument-error"),this.redirectPersistenceManager=await zo.create(this,[zs(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,r,o){if(this._deleted)return()=>{};const u=typeof e=="function"?e:e.next.bind(e);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Vt(m,this,"internal-error"),m.then(()=>{c||u(this.currentUser)}),typeof e=="function"){const p=t.addObserver(e,r,o);return()=>{c=!0,p()}}else{const p=t.addObserver(e);return()=>{c=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=bb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(ki(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&_2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Af(i){return Ei(i)}class wT{constructor(t){this.auth=t,this.observer=null,this.addObserver=rC(e=>this.observer=e)}get next(){return Vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let gg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function q2(i){gg=i}function G2(i){return gg.loadJS(i)}function K2(){return gg.gapiScript}function Y2(i){return`__${i}${Math.floor(Math.random()*1e6)}`}function Q2(i,t){const e=ug(i,"auth");if(e.isInitialized()){const o=e.getImmediate(),u=e.getOptions();if(Da(u,t??{}))return o;fs(o,"already-initialized")}return e.initialize({options:t})}function X2(i,t){const e=t?.persistence||[],r=(Array.isArray(e)?e:[e]).map(zs);t?.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(r,t?.popupRedirectResolver)}function W2(i,t,e){const r=Af(i);Vt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,u=Sb(t),{host:c,port:m}=$2(t),p=m===null?"":`:${m}`,g={url:`${u}//${c}${p}/`},v=Object.freeze({host:c,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Vt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Vt(Da(g,r.config.emulator)&&Da(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,tl(c)?(ZE(`${u}//${c}${p}`),tb("Auth",!0)):J2()}function Sb(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function $2(i){const t=Sb(i),e=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!e)return{host:"",port:null};const r=e[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:xT(r.substr(u.length+1))}}else{const[u,c]=r.split(":");return{host:u,port:xT(c)}}}function xT(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function J2(){function i(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class Ab{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Us("not implemented")}_getIdTokenResponse(t){return Us("not implemented")}_linkToIdToken(t,e){return Us("not implemented")}_getReauthenticationResolver(t){return Us("not implemented")}}async function Bo(i,t){return R2(i,"POST","/v1/accounts:signInWithIdp",dg(i,t))}const Z2="http://localhost";class Va extends Ab{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Va(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):fs("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o,...u}=e;if(!r||!o)return null;const c=new Va(r,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return Bo(t,e)}_linkToIdToken(t,e){const r=this.buildRequest();return r.idToken=e,Bo(t,r)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Bo(t,e)}buildRequest(){const t={requestUri:Z2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Gu(e)}return t}}class yg{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Yu extends yg{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ir extends Yu{constructor(){super("facebook.com")}static credential(t){return Va._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ir.credentialFromTaggedObject(t)}static credentialFromError(t){return Ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ir.credential(t.oauthAccessToken)}catch{return null}}}Ir.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ir.PROVIDER_ID="facebook.com";class Ls extends Yu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Va._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Ls.credentialFromTaggedObject(t)}static credentialFromError(t){return Ls.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:r}=t;if(!e&&!r)return null;try{return Ls.credential(e,r)}catch{return null}}}Ls.GOOGLE_SIGN_IN_METHOD="google.com";Ls.PROVIDER_ID="google.com";class Dr extends Yu{constructor(){super("github.com")}static credential(t){return Va._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Dr.credentialFromTaggedObject(t)}static credentialFromError(t){return Dr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Dr.credential(t.oauthAccessToken)}catch{return null}}}Dr.GITHUB_SIGN_IN_METHOD="github.com";Dr.PROVIDER_ID="github.com";class Mr extends Yu{constructor(){super("twitter.com")}static credential(t,e){return Va._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Mr.credentialFromTaggedObject(t)}static credentialFromError(t){return Mr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:r}=t;if(!e||!r)return null;try{return Mr.credential(e,r)}catch{return null}}}Mr.TWITTER_SIGN_IN_METHOD="twitter.com";Mr.PROVIDER_ID="twitter.com";class Go{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,r,o=!1){const u=await ji._fromIdTokenResponse(t,r,o),c=RT(r);return new Go({user:u,providerId:c,_tokenResponse:r,operationType:e})}static async _forOperation(t,e,r){await t._updateTokensIfNecessary(r,!0);const o=RT(r);return new Go({user:t,providerId:o,_tokenResponse:r,operationType:e})}}function RT(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class ef extends Qs{constructor(t,e,r,o){super(e.code,e.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,ef.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,e,r,o){return new ef(t,e,r,o)}}function wb(i,t,e,r){return(t==="reauthenticate"?e._getReauthenticationResolver(i):e._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ef._fromErrorAndOperation(i,u,t,r):u})}async function tI(i,t,e=!1){const r=await Iu(i,t._linkToIdToken(i.auth,await i.getIdToken()),e);return Go._forOperation(i,"link",r)}async function eI(i,t,e=!1){const{auth:r}=i;if(ki(r.app))return Promise.reject(xa(r));const o="reauthenticate";try{const u=await Iu(i,wb(r,o,t,i),e);Vt(u.idToken,r,"internal-error");const c=mg(u.idToken);Vt(c,r,"internal-error");const{sub:m}=c;return Vt(i.uid===m,r,"user-mismatch"),Go._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&fs(r,"user-mismatch"),u}}async function nI(i,t,e=!1){if(ki(i.app))return Promise.reject(xa(i));const r="signIn",o=await wb(i,r,t),u=await Go._fromIdTokenResponse(i,r,o);return e||await i._updateCurrentUser(u.user),u}function iI(i,t,e,r){return Ei(i).onIdTokenChanged(t,e,r)}function sI(i,t,e){return Ei(i).beforeAuthStateChanged(t,e)}function rI(i,t,e,r){return Ei(i).onAuthStateChanged(t,e,r)}function aI(i){return Ei(i).signOut()}const nf="__sak";class xb{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(nf,"1"),this.storage.removeItem(nf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const oI=1e3,lI=10;class Rb extends xb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Eb(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const r=this.storage.getItem(e),o=this.localCache[e];r!==o&&t(e,o,r)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,m,p)=>{this.notifyListeners(c,p)});return}const r=t.key;e?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(r);!e&&this.localCache[r]===c||this.notifyListeners(r,c)},u=this.storage.getItem(r);L2()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,lI):o()}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:r}),!0)})},oI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}Rb.type="LOCAL";const uI=Rb;class Cb extends xb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}Cb.type="SESSION";const Ib=Cb;function cI(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class wf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(o=>o.isListeningto(t));if(e)return e;const r=new wf(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:r,eventType:o,data:u}=e.data,c=this.handlersMap[o];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(c).map(async g=>g(e.origin,u)),p=await cI(m);e.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wf.receivers=[];function vg(i="",t=10){let e="";for(let r=0;r<t;r++)e+=Math.floor(Math.random()*10);return i+e}class hI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((m,p)=>{const g=vg("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},r);c={messageChannel:o,onMessage(E){const b=E;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(b.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function rs(){return window}function fI(i){rs().location.href=i}function Db(){return typeof rs().WorkerGlobalScope<"u"&&typeof rs().importScripts=="function"}async function dI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mI(){return navigator?.serviceWorker?.controller||null}function pI(){return Db()?self:null}const Mb="firebaseLocalStorageDb",gI=1,sf="firebaseLocalStorage",Vb="fbase_key";class Qu{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function xf(i,t){return i.transaction([sf],t?"readwrite":"readonly").objectStore(sf)}function yI(){const i=indexedDB.deleteDatabase(Mb);return new Qu(i).toPromise()}function bp(){const i=indexedDB.open(Mb,gI);return new Promise((t,e)=>{i.addEventListener("error",()=>{e(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(sf,{keyPath:Vb})}catch(o){e(o)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(sf)?t(r):(r.close(),await yI(),t(await bp()))})})}async function CT(i,t,e){const r=xf(i,!0).put({[Vb]:t,value:e});return new Qu(r).toPromise()}async function vI(i,t){const e=xf(i,!1).get(t),r=await new Qu(e).toPromise();return r===void 0?null:r.value}function IT(i,t){const e=xf(i,!0).delete(t);return new Qu(e).toPromise()}const _I=800,TI=3;class Ob{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bp(),this.db)}async _withRetries(t){let e=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(e++>TI)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Db()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wf._getInstance(pI()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await dI(),!this.activeServiceWorker)return;this.sender=new hI(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||mI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await bp();return await CT(t,nf,"1"),await IT(t,nf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(r=>CT(r,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(r=>vI(r,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>IT(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=xf(o,!1).getAll();return new Qu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),e.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),e.push(o));return e}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_I)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ob.type="LOCAL";const EI=Ob;new Ku(3e4,6e4);function Nb(i,t){return t?zs(t):(Vt(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class _g extends Ab{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Bo(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Bo(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Bo(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function bI(i){return nI(i.auth,new _g(i),i.bypassAuthState)}function SI(i){const{auth:t,user:e}=i;return Vt(e,t,"internal-error"),eI(e,new _g(i),i.bypassAuthState)}async function AI(i){const{auth:t,user:e}=i;return Vt(e,t,"internal-error"),tI(e,new _g(i),i.bypassAuthState)}class Pb{constructor(t,e,r,o,u=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:r,postBody:o,tenantId:u,error:c,type:m}=t;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:e,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return bI;case"linkViaPopup":case"linkViaRedirect":return AI;case"reauthViaPopup":case"reauthViaRedirect":return SI;default:fs(this.auth,"internal-error")}}resolve(t){Hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wI=new Ku(2e3,1e4);async function xI(i,t,e){if(ki(i.app))return Promise.reject(Ui(i,"operation-not-supported-in-this-environment"));const r=Af(i);T2(i,t,yg);const o=Nb(r,e);return new ba(r,"signInViaPopup",t,o).executeNotNull()}class ba extends Pb{constructor(t,e,r,o,u){super(t,e,o,u),this.provider=r,this.authWindow=null,this.pollId=null,ba.currentPopupAction&&ba.currentPopupAction.cancel(),ba.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Vt(t,this.auth,"internal-error"),t}async onExecution(){Hs(this.filter.length===1,"Popup operations only handle one event");const t=vg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ba.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,wI.get())};t()}}ba.currentPopupAction=null;const RI="pendingRedirect",jh=new Map;class CI extends Pb{constructor(t,e,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,r),this.eventId=null}async execute(){let t=jh.get(this.auth._key());if(!t){try{const r=await II(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(e){t=()=>Promise.reject(e)}jh.set(this.auth._key(),t)}return this.bypassAuthState||jh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function II(i,t){const e=VI(t),r=MI(i);if(!await r._isAvailable())return!1;const o=await r._get(e)==="true";return await r._remove(e),o}function DI(i,t){jh.set(i._key(),t)}function MI(i){return zs(i._redirectPersistence)}function VI(i){return kh(RI,i.config.apiKey,i.name)}async function OI(i,t,e=!1){if(ki(i.app))return Promise.reject(xa(i));const r=Af(i),o=Nb(r,t),c=await new CI(r,o,e).execute();return c&&!e&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,t)),c}const NI=600*1e3;class PI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(e=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!kI(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!kb(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";e.onError(Ui(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const r=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=NI&&this.cachedEventUids.clear(),this.cachedEventUids.has(DT(t))}saveEventToCache(t){this.cachedEventUids.add(DT(t)),this.lastProcessedEventTime=Date.now()}}function DT(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function kb({type:i,error:t}){return i==="unknown"&&t?.code==="auth/no-auth-event"}function kI(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kb(i);default:return!1}}async function jI(i,t={}){return nl(i,"GET","/v1/projects",t)}const LI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UI=/^https?/;async function zI(i){if(i.config.emulator)return;const{authorizedDomains:t}=await jI(i);for(const e of t)try{if(BI(e))return}catch{}fs(i,"unauthorized-domain")}function BI(i){const t=Tp(),{protocol:e,hostname:r}=new URL(t);if(i.startsWith("chrome-extension://")){const c=new URL(i);return c.hostname===""&&r===""?e==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===r}if(!UI.test(e))return!1;if(LI.test(i))return r===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const FI=new Ku(3e4,6e4);function MT(){const i=rs().___jsl;if(i?.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let e=0;e<i.CP.length;e++)i.CP[e]=null}}function HI(i){return new Promise((t,e)=>{function r(){MT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{MT(),e(Ui(i,"network-request-failed"))},timeout:FI.get()})}if(rs().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(rs().gapi?.load)r();else{const o=Y2("iframefcb");return rs()[o]=()=>{gapi.load?r():e(Ui(i,"network-request-failed"))},G2(`${K2()}?onload=${o}`).catch(u=>e(u))}}).catch(t=>{throw Lh=null,t})}let Lh=null;function qI(i){return Lh=Lh||HI(i),Lh}const GI=new Ku(5e3,15e3),KI="__/auth/iframe",YI="emulator/auth/iframe",QI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WI(i){const t=i.config;Vt(t.authDomain,i,"auth-domain-config-required");const e=t.emulator?fg(t,YI):`https://${i.config.authDomain}/${KI}`,r={apiKey:t.apiKey,appName:i.name,v:el},o=XI.get(i.config.apiHost);o&&(r.eid=o);const u=i._getFrameworks();return u.length&&(r.fw=u.join(",")),`${e}?${Gu(r).slice(1)}`}async function $I(i){const t=await qI(i),e=rs().gapi;return Vt(e,i,"internal-error"),t.open({where:document.body,url:WI(i),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QI,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const c=Ui(i,"network-request-failed"),m=rs().setTimeout(()=>{u(c)},GI.get());function p(){rs().clearTimeout(m),o(r)}r.ping(p).then(p,()=>{u(c)})}))}const JI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZI=500,tD=600,eD="_blank",nD="http://localhost";class VT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function iD(i,t,e,r=ZI,o=tD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const p={...JI,width:r.toString(),height:o.toString(),top:u,left:c},g=Dn().toLowerCase();e&&(m=gb(g)?eD:e),mb(g)&&(t=t||nD,p.scrollbars="yes");const v=Object.entries(p).reduce((b,[C,U])=>`${b}${C}=${U},`,"");if(j2(g)&&m!=="_self")return sD(t||"",m),new VT(null);const E=window.open(t||"",m,v);Vt(E,i,"popup-blocked");try{E.focus()}catch{}return new VT(E)}function sD(i,t){const e=document.createElement("a");e.href=i,e.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(r)}const rD="__/auth/handler",aD="emulator/auth/handler",oD=encodeURIComponent("fac");async function OT(i,t,e,r,o,u){Vt(i.config.authDomain,i,"auth-domain-config-required"),Vt(i.config.apiKey,i,"invalid-api-key");const c={apiKey:i.config.apiKey,appName:i.name,authType:e,redirectUrl:r,v:el,eventId:o};if(t instanceof yg){t.setDefaultLanguage(i.languageCode),c.providerId=t.providerId||"",sC(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,E]of Object.entries({}))c[v]=E}if(t instanceof Yu){const v=t.getScopes().filter(E=>E!=="");v.length>0&&(c.scopes=v.join(","))}i.tenantId&&(c.tid=i.tenantId);const m=c;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await i._getAppCheckToken(),g=p?`#${oD}=${encodeURIComponent(p)}`:"";return`${lD(i)}?${Gu(m).slice(1)}${g}`}function lD({config:i}){return i.emulator?fg(i,aD):`https://${i.authDomain}/${rD}`}const Qm="webStorageSupport";class uD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ib,this._completeRedirectFn=OI,this._overrideRedirectResult=DI}async _openPopup(t,e,r,o){Hs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await OT(t,e,r,Tp(),o);return iD(t,u,vg())}async _openRedirect(t,e,r,o){await this._originValidation(t);const u=await OT(t,e,r,Tp(),o);return fI(u),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:o,promise:u}=this.eventManagers[e];return o?Promise.resolve(o):(Hs(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[e]={promise:r},r.catch(()=>{delete this.eventManagers[e]}),r}async initAndGetManager(t){const e=await $I(t),r=new PI(t);return e.register("authEvent",o=>(Vt(o?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=e,r}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Qm,{type:Qm},o=>{const u=o?.[0]?.[Qm];u!==void 0&&e(!!u),fs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=zI(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return Eb()||pb()||pg()}}const cD=uD;var NT="@firebase/auth",PT="1.11.1";class hD{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function fD(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dD(i){qo(new Ma("auth",(t,{options:e})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=r.options;Vt(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:c,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bb(i)},g=new H2(r,o,u,p);return X2(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,r)=>{t.getProvider("auth-internal").initialize()})),qo(new Ma("auth-internal",t=>{const e=Af(t.getProvider("auth").getImmediate());return(r=>new hD(r))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pr(NT,PT,fD(i)),Pr(NT,PT,"esm2020")}const mD=300,pD=JE("authIdTokenMaxAge")||mD;let kT=null;const gD=i=>async t=>{const e=t&&await t.getIdTokenResult(),r=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(r&&r>pD)return;const o=e?.token;kT!==o&&(kT=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function yD(i=sb()){const t=ug(i,"auth");if(t.isInitialized())return t.getImmediate();const e=Q2(i,{popupRedirectResolver:cD,persistence:[EI,uI,Ib]}),r=JE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const c=gD(u.toString());sI(e,c,()=>c(e.currentUser)),iI(e,m=>c(m))}}const o=WE("auth");return o&&W2(e,`http://${o}`),e}function vD(){return document.getElementsByTagName("head")?.[0]??document}q2({loadJS(i){return new Promise((t,e)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=t,r.onerror=o=>{const u=Ui("internal-error");u.customData=o,e(u)},r.type="text/javascript",r.charset="UTF-8",vD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dD("Browser");var jT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var kr,jb;(function(){var i;function t(R,w){function I(){}I.prototype=w.prototype,R.F=w.prototype,R.prototype=new I,R.prototype.constructor=R,R.D=function(N,O,z){for(var D=Array(arguments.length-2),jt=2;jt<arguments.length;jt++)D[jt-2]=arguments[jt];return w.prototype[O].apply(N,D)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,e),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,w,I){I||(I=0);const N=Array(16);if(typeof w=="string")for(var O=0;O<16;++O)N[O]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(O=0;O<16;++O)N[O]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=R.g[0],I=R.g[1],O=R.g[2];let z=R.g[3],D;D=w+(z^I&(O^z))+N[0]+3614090360&4294967295,w=I+(D<<7&4294967295|D>>>25),D=z+(O^w&(I^O))+N[1]+3905402710&4294967295,z=w+(D<<12&4294967295|D>>>20),D=O+(I^z&(w^I))+N[2]+606105819&4294967295,O=z+(D<<17&4294967295|D>>>15),D=I+(w^O&(z^w))+N[3]+3250441966&4294967295,I=O+(D<<22&4294967295|D>>>10),D=w+(z^I&(O^z))+N[4]+4118548399&4294967295,w=I+(D<<7&4294967295|D>>>25),D=z+(O^w&(I^O))+N[5]+1200080426&4294967295,z=w+(D<<12&4294967295|D>>>20),D=O+(I^z&(w^I))+N[6]+2821735955&4294967295,O=z+(D<<17&4294967295|D>>>15),D=I+(w^O&(z^w))+N[7]+4249261313&4294967295,I=O+(D<<22&4294967295|D>>>10),D=w+(z^I&(O^z))+N[8]+1770035416&4294967295,w=I+(D<<7&4294967295|D>>>25),D=z+(O^w&(I^O))+N[9]+2336552879&4294967295,z=w+(D<<12&4294967295|D>>>20),D=O+(I^z&(w^I))+N[10]+4294925233&4294967295,O=z+(D<<17&4294967295|D>>>15),D=I+(w^O&(z^w))+N[11]+2304563134&4294967295,I=O+(D<<22&4294967295|D>>>10),D=w+(z^I&(O^z))+N[12]+1804603682&4294967295,w=I+(D<<7&4294967295|D>>>25),D=z+(O^w&(I^O))+N[13]+4254626195&4294967295,z=w+(D<<12&4294967295|D>>>20),D=O+(I^z&(w^I))+N[14]+2792965006&4294967295,O=z+(D<<17&4294967295|D>>>15),D=I+(w^O&(z^w))+N[15]+1236535329&4294967295,I=O+(D<<22&4294967295|D>>>10),D=w+(O^z&(I^O))+N[1]+4129170786&4294967295,w=I+(D<<5&4294967295|D>>>27),D=z+(I^O&(w^I))+N[6]+3225465664&4294967295,z=w+(D<<9&4294967295|D>>>23),D=O+(w^I&(z^w))+N[11]+643717713&4294967295,O=z+(D<<14&4294967295|D>>>18),D=I+(z^w&(O^z))+N[0]+3921069994&4294967295,I=O+(D<<20&4294967295|D>>>12),D=w+(O^z&(I^O))+N[5]+3593408605&4294967295,w=I+(D<<5&4294967295|D>>>27),D=z+(I^O&(w^I))+N[10]+38016083&4294967295,z=w+(D<<9&4294967295|D>>>23),D=O+(w^I&(z^w))+N[15]+3634488961&4294967295,O=z+(D<<14&4294967295|D>>>18),D=I+(z^w&(O^z))+N[4]+3889429448&4294967295,I=O+(D<<20&4294967295|D>>>12),D=w+(O^z&(I^O))+N[9]+568446438&4294967295,w=I+(D<<5&4294967295|D>>>27),D=z+(I^O&(w^I))+N[14]+3275163606&4294967295,z=w+(D<<9&4294967295|D>>>23),D=O+(w^I&(z^w))+N[3]+4107603335&4294967295,O=z+(D<<14&4294967295|D>>>18),D=I+(z^w&(O^z))+N[8]+1163531501&4294967295,I=O+(D<<20&4294967295|D>>>12),D=w+(O^z&(I^O))+N[13]+2850285829&4294967295,w=I+(D<<5&4294967295|D>>>27),D=z+(I^O&(w^I))+N[2]+4243563512&4294967295,z=w+(D<<9&4294967295|D>>>23),D=O+(w^I&(z^w))+N[7]+1735328473&4294967295,O=z+(D<<14&4294967295|D>>>18),D=I+(z^w&(O^z))+N[12]+2368359562&4294967295,I=O+(D<<20&4294967295|D>>>12),D=w+(I^O^z)+N[5]+4294588738&4294967295,w=I+(D<<4&4294967295|D>>>28),D=z+(w^I^O)+N[8]+2272392833&4294967295,z=w+(D<<11&4294967295|D>>>21),D=O+(z^w^I)+N[11]+1839030562&4294967295,O=z+(D<<16&4294967295|D>>>16),D=I+(O^z^w)+N[14]+4259657740&4294967295,I=O+(D<<23&4294967295|D>>>9),D=w+(I^O^z)+N[1]+2763975236&4294967295,w=I+(D<<4&4294967295|D>>>28),D=z+(w^I^O)+N[4]+1272893353&4294967295,z=w+(D<<11&4294967295|D>>>21),D=O+(z^w^I)+N[7]+4139469664&4294967295,O=z+(D<<16&4294967295|D>>>16),D=I+(O^z^w)+N[10]+3200236656&4294967295,I=O+(D<<23&4294967295|D>>>9),D=w+(I^O^z)+N[13]+681279174&4294967295,w=I+(D<<4&4294967295|D>>>28),D=z+(w^I^O)+N[0]+3936430074&4294967295,z=w+(D<<11&4294967295|D>>>21),D=O+(z^w^I)+N[3]+3572445317&4294967295,O=z+(D<<16&4294967295|D>>>16),D=I+(O^z^w)+N[6]+76029189&4294967295,I=O+(D<<23&4294967295|D>>>9),D=w+(I^O^z)+N[9]+3654602809&4294967295,w=I+(D<<4&4294967295|D>>>28),D=z+(w^I^O)+N[12]+3873151461&4294967295,z=w+(D<<11&4294967295|D>>>21),D=O+(z^w^I)+N[15]+530742520&4294967295,O=z+(D<<16&4294967295|D>>>16),D=I+(O^z^w)+N[2]+3299628645&4294967295,I=O+(D<<23&4294967295|D>>>9),D=w+(O^(I|~z))+N[0]+4096336452&4294967295,w=I+(D<<6&4294967295|D>>>26),D=z+(I^(w|~O))+N[7]+1126891415&4294967295,z=w+(D<<10&4294967295|D>>>22),D=O+(w^(z|~I))+N[14]+2878612391&4294967295,O=z+(D<<15&4294967295|D>>>17),D=I+(z^(O|~w))+N[5]+4237533241&4294967295,I=O+(D<<21&4294967295|D>>>11),D=w+(O^(I|~z))+N[12]+1700485571&4294967295,w=I+(D<<6&4294967295|D>>>26),D=z+(I^(w|~O))+N[3]+2399980690&4294967295,z=w+(D<<10&4294967295|D>>>22),D=O+(w^(z|~I))+N[10]+4293915773&4294967295,O=z+(D<<15&4294967295|D>>>17),D=I+(z^(O|~w))+N[1]+2240044497&4294967295,I=O+(D<<21&4294967295|D>>>11),D=w+(O^(I|~z))+N[8]+1873313359&4294967295,w=I+(D<<6&4294967295|D>>>26),D=z+(I^(w|~O))+N[15]+4264355552&4294967295,z=w+(D<<10&4294967295|D>>>22),D=O+(w^(z|~I))+N[6]+2734768916&4294967295,O=z+(D<<15&4294967295|D>>>17),D=I+(z^(O|~w))+N[13]+1309151649&4294967295,I=O+(D<<21&4294967295|D>>>11),D=w+(O^(I|~z))+N[4]+4149444226&4294967295,w=I+(D<<6&4294967295|D>>>26),D=z+(I^(w|~O))+N[11]+3174756917&4294967295,z=w+(D<<10&4294967295|D>>>22),D=O+(w^(z|~I))+N[2]+718787259&4294967295,O=z+(D<<15&4294967295|D>>>17),D=I+(z^(O|~w))+N[9]+3951481745&4294967295,R.g[0]=R.g[0]+w&4294967295,R.g[1]=R.g[1]+(O+(D<<21&4294967295|D>>>11))&4294967295,R.g[2]=R.g[2]+O&4294967295,R.g[3]=R.g[3]+z&4294967295}r.prototype.v=function(R,w){w===void 0&&(w=R.length);const I=w-this.blockSize,N=this.C;let O=this.h,z=0;for(;z<w;){if(O==0)for(;z<=I;)o(this,R,z),z+=this.blockSize;if(typeof R=="string"){for(;z<w;)if(N[O++]=R.charCodeAt(z++),O==this.blockSize){o(this,N),O=0;break}}else for(;z<w;)if(N[O++]=R[z++],O==this.blockSize){o(this,N),O=0;break}}this.h=O,this.o+=w},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var w=1;w<R.length-8;++w)R[w]=0;w=this.o*8;for(var I=R.length-8;I<R.length;++I)R[I]=w&255,w/=256;for(this.v(R),R=Array(16),w=0,I=0;I<4;++I)for(let N=0;N<32;N+=8)R[w++]=this.g[I]>>>N&255;return R};function u(R,w){var I=m;return Object.prototype.hasOwnProperty.call(I,R)?I[R]:I[R]=w(R)}function c(R,w){this.h=w;const I=[];let N=!0;for(let O=R.length-1;O>=0;O--){const z=R[O]|0;N&&z==w||(I[O]=z,N=!1)}this.g=I}var m={};function p(R){return-128<=R&&R<128?u(R,function(w){return new c([w|0],w<0?-1:0)}):new c([R|0],R<0?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return E;if(R<0)return P(g(-R));const w=[];let I=1;for(let N=0;R>=I;N++)w[N]=R/I|0,I*=4294967296;return new c(w,0)}function v(R,w){if(R.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(R.charAt(0)=="-")return P(v(R.substring(1),w));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(w,8));let N=E;for(let z=0;z<R.length;z+=8){var O=Math.min(8,R.length-z);const D=parseInt(R.substring(z,z+O),w);O<8?(O=g(Math.pow(w,O)),N=N.j(O).add(g(D))):(N=N.j(I),N=N.add(g(D)))}return N}var E=p(0),b=p(1),C=p(16777216);i=c.prototype,i.m=function(){if(M(this))return-P(this).m();let R=0,w=1;for(let I=0;I<this.g.length;I++){const N=this.i(I);R+=(N>=0?N:4294967296+N)*w,w*=4294967296}return R},i.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(U(this))return"0";if(M(this))return"-"+P(this).toString(R);const w=g(Math.pow(R,6));var I=this;let N="";for(;;){const O=ht(I,w).g;I=Q(I,O.j(w));let z=((I.g.length>0?I.g[0]:I.h)>>>0).toString(R);if(I=O,U(I))return z+N;for(;z.length<6;)z="0"+z;N=z+N}},i.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function U(R){if(R.h!=0)return!1;for(let w=0;w<R.g.length;w++)if(R.g[w]!=0)return!1;return!0}function M(R){return R.h==-1}i.l=function(R){return R=Q(this,R),M(R)?-1:U(R)?0:1};function P(R){const w=R.g.length,I=[];for(let N=0;N<w;N++)I[N]=~R.g[N];return new c(I,~R.h).add(b)}i.abs=function(){return M(this)?P(this):this},i.add=function(R){const w=Math.max(this.g.length,R.g.length),I=[];let N=0;for(let O=0;O<=w;O++){let z=N+(this.i(O)&65535)+(R.i(O)&65535),D=(z>>>16)+(this.i(O)>>>16)+(R.i(O)>>>16);N=D>>>16,z&=65535,D&=65535,I[O]=D<<16|z}return new c(I,I[I.length-1]&-2147483648?-1:0)};function Q(R,w){return R.add(P(w))}i.j=function(R){if(U(this)||U(R))return E;if(M(this))return M(R)?P(this).j(P(R)):P(P(this).j(R));if(M(R))return P(this.j(P(R)));if(this.l(C)<0&&R.l(C)<0)return g(this.m()*R.m());const w=this.g.length+R.g.length,I=[];for(var N=0;N<2*w;N++)I[N]=0;for(N=0;N<this.g.length;N++)for(let O=0;O<R.g.length;O++){const z=this.i(N)>>>16,D=this.i(N)&65535,jt=R.i(O)>>>16,oe=R.i(O)&65535;I[2*N+2*O]+=D*oe,it(I,2*N+2*O),I[2*N+2*O+1]+=z*oe,it(I,2*N+2*O+1),I[2*N+2*O+1]+=D*jt,it(I,2*N+2*O+1),I[2*N+2*O+2]+=z*jt,it(I,2*N+2*O+2)}for(R=0;R<w;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=w;R<2*w;R++)I[R]=0;return new c(I,0)};function it(R,w){for(;(R[w]&65535)!=R[w];)R[w+1]+=R[w]>>>16,R[w]&=65535,w++}function tt(R,w){this.g=R,this.h=w}function ht(R,w){if(U(w))throw Error("division by zero");if(U(R))return new tt(E,E);if(M(R))return w=ht(P(R),w),new tt(P(w.g),P(w.h));if(M(w))return w=ht(R,P(w)),new tt(P(w.g),w.h);if(R.g.length>30){if(M(R)||M(w))throw Error("slowDivide_ only works with positive integers.");for(var I=b,N=w;N.l(R)<=0;)I=ft(I),N=ft(N);var O=dt(I,1),z=dt(N,1);for(N=dt(N,2),I=dt(I,2);!U(N);){var D=z.add(N);D.l(R)<=0&&(O=O.add(I),z=D),N=dt(N,1),I=dt(I,1)}return w=Q(R,O.j(w)),new tt(O,w)}for(O=E;R.l(w)>=0;){for(I=Math.max(1,Math.floor(R.m()/w.m())),N=Math.ceil(Math.log(I)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),z=g(I),D=z.j(w);M(D)||D.l(R)>0;)I-=N,z=g(I),D=z.j(w);U(z)&&(z=b),O=O.add(z),R=Q(R,D)}return new tt(O,R)}i.B=function(R){return ht(this,R).h},i.and=function(R){const w=Math.max(this.g.length,R.g.length),I=[];for(let N=0;N<w;N++)I[N]=this.i(N)&R.i(N);return new c(I,this.h&R.h)},i.or=function(R){const w=Math.max(this.g.length,R.g.length),I=[];for(let N=0;N<w;N++)I[N]=this.i(N)|R.i(N);return new c(I,this.h|R.h)},i.xor=function(R){const w=Math.max(this.g.length,R.g.length),I=[];for(let N=0;N<w;N++)I[N]=this.i(N)^R.i(N);return new c(I,this.h^R.h)};function ft(R){const w=R.g.length+1,I=[];for(let N=0;N<w;N++)I[N]=R.i(N)<<1|R.i(N-1)>>>31;return new c(I,R.h)}function dt(R,w){const I=w>>5;w%=32;const N=R.g.length-I,O=[];for(let z=0;z<N;z++)O[z]=w>0?R.i(z+I)>>>w|R.i(z+I+1)<<32-w:R.i(z+I);return new c(O,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,jb=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,kr=c}).apply(typeof jT<"u"?jT:typeof self<"u"?self:typeof window<"u"?window:{});var wh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Lb,hu,Ub,Uh,Sp,zb,Bb,Fb;(function(){var i,t=Object.defineProperty;function e(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof wh=="object"&&wh];for(var y=0;y<h.length;++y){var T=h[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=e(this);function o(h,y){if(y)t:{var T=r;h=h.split(".");for(var x=0;x<h.length-1;x++){var F=h[x];if(!(F in T))break t;T=T[F]}h=h[h.length-1],x=T[h],y=y(x),y!=x&&y!=null&&t(T,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var T=[],x;for(x in y)Object.prototype.hasOwnProperty.call(y,x)&&T.push([x,y[x]]);return T}});var u=u||{},c=this||self;function m(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,T){return h.call.apply(h.bind,arguments)}function g(h,y,T){return g=p,g.apply(null,arguments)}function v(h,y){var T=Array.prototype.slice.call(arguments,1);return function(){var x=T.slice();return x.push.apply(x,arguments),h.apply(this,x)}}function E(h,y){function T(){}T.prototype=y.prototype,h.Z=y.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(x,F,Y){for(var mt=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)mt[zt-2]=arguments[zt];return y.prototype[F].apply(x,mt)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function C(h){const y=h.length;if(y>0){const T=Array(y);for(let x=0;x<y;x++)T[x]=h[x];return T}return[]}function U(h,y){for(let x=1;x<arguments.length;x++){const F=arguments[x];var T=typeof F;if(T=T!="object"?T:F?Array.isArray(F)?"array":T:"null",T=="array"||T=="object"&&typeof F.length=="number"){T=h.length||0;const Y=F.length||0;h.length=T+Y;for(let mt=0;mt<Y;mt++)h[T+mt]=F[mt]}else h.push(F)}}class M{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function P(h){c.setTimeout(()=>{throw h},0)}function Q(){var h=R;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class it{constructor(){this.h=this.g=null}add(y,T){const x=tt.get();x.set(y,T),this.h?this.h.next=x:this.g=x,this.h=x}}var tt=new M(()=>new ht,h=>h.reset());class ht{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ft,dt=!1,R=new it,w=()=>{const h=Promise.resolve(void 0);ft=()=>{h.then(I)}};function I(){for(var h;h=Q();){try{h.h.call(h.g)}catch(T){P(T)}var y=tt;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}dt=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,y),c.removeEventListener("test",T,y)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function jt(h,y){O.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}E(jt,O),jt.prototype.init=function(h,y){const T=this.type=h.type,x=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(T=="mouseover"?y=h.fromElement:T=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&jt.Z.h.call(this)},jt.prototype.h=function(){jt.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var oe="closure_listenable_"+(Math.random()*1e6|0),G=0;function ut(h,y,T,x,F){this.listener=h,this.proxy=null,this.src=y,this.type=T,this.capture=!!x,this.ha=F,this.key=++G,this.da=this.fa=!1}function yt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Dt(h,y,T){for(const x in h)y.call(T,h[x],x,h)}function Rt(h,y){for(const T in h)y.call(void 0,h[T],T,h)}function k(h){const y={};for(const T in h)y[T]=h[T];return y}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pt(h,y){let T,x;for(let F=1;F<arguments.length;F++){x=arguments[F];for(T in x)h[T]=x[T];for(let Y=0;Y<Z.length;Y++)T=Z[Y],Object.prototype.hasOwnProperty.call(x,T)&&(h[T]=x[T])}}function vt(h){this.src=h,this.g={},this.h=0}vt.prototype.add=function(h,y,T,x,F){const Y=h.toString();h=this.g[Y],h||(h=this.g[Y]=[],this.h++);const mt=Ot(h,y,x,F);return mt>-1?(y=h[mt],T||(y.fa=!1)):(y=new ut(y,this.src,Y,!!x,F),y.fa=T,h.push(y)),y};function wt(h,y){const T=y.type;if(T in h.g){var x=h.g[T],F=Array.prototype.indexOf.call(x,y,void 0),Y;(Y=F>=0)&&Array.prototype.splice.call(x,F,1),Y&&(yt(y),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Ot(h,y,T,x){for(let F=0;F<h.length;++F){const Y=h[F];if(!Y.da&&Y.listener==y&&Y.capture==!!T&&Y.ha==x)return F}return-1}var Ht="closure_lm_"+(Math.random()*1e6|0),Ie={};function de(h,y,T,x,F){if(Array.isArray(y)){for(let Y=0;Y<y.length;Y++)de(h,y[Y],T,x,F);return null}return T=ys(T),h&&h[oe]?h.J(y,T,m(x)?!!x.capture:!1,F):bi(h,y,T,!1,x,F)}function bi(h,y,T,x,F,Y){if(!y)throw Error("Invalid event type");const mt=m(F)?!!F.capture:!!F;let zt=Pn(h);if(zt||(h[Ht]=zt=new vt(h)),T=zt.add(y,T,x,mt,Y),T.proxy)return T;if(x=zi(),T.proxy=x,x.src=h,x.listener=T,h.addEventListener)z||(F=mt),F===void 0&&(F=!1),h.addEventListener(y.toString(),x,F);else if(h.attachEvent)h.attachEvent(Ee(y.toString()),x);else if(h.addListener&&h.removeListener)h.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return T}function zi(){function h(T){return y.call(h.src,h.listener,T)}const y=ps;return h}function Kt(h,y,T,x,F){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)Kt(h,y[Y],T,x,F);else x=m(x)?!!x.capture:!!x,T=ys(T),h&&h[oe]?(h=h.i,Y=String(y).toString(),Y in h.g&&(y=h.g[Y],T=Ot(y,T,x,F),T>-1&&(yt(y[T]),Array.prototype.splice.call(y,T,1),y.length==0&&(delete h.g[Y],h.h--)))):h&&(h=Pn(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Ot(y,T,x,F)),(T=h>-1?y[h]:null)&&an(T))}function an(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[oe])wt(y.i,h);else{var T=h.type,x=h.proxy;y.removeEventListener?y.removeEventListener(T,x,h.capture):y.detachEvent?y.detachEvent(Ee(T),x):y.addListener&&y.removeListener&&y.removeListener(x),(T=Pn(y))?(wt(T,h),T.h==0&&(T.src=null,y[Ht]=null)):yt(h)}}}function Ee(h){return h in Ie?Ie[h]:Ie[h]="on"+h}function ps(h,y){if(h.da)h=!0;else{y=new jt(y,this);const T=h.listener,x=h.ha||h.src;h.fa&&an(h),h=T.call(x,y)}return h}function Pn(h){return h=h[Ht],h instanceof vt?h:null}var gs="__closure_events_fn_"+(Math.random()*1e9>>>0);function ys(h){return typeof h=="function"?h:(h[gs]||(h[gs]=function(y){return h.handleEvent(y)}),h[gs])}function _t(){N.call(this),this.i=new vt(this),this.M=this,this.G=null}E(_t,N),_t.prototype[oe]=!0,_t.prototype.removeEventListener=function(h,y,T,x){Kt(this,h,y,T,x)};function Lt(h,y){var T,x=h.G;if(x)for(T=[];x;x=x.G)T.push(x);if(h=h.M,x=y.type||y,typeof y=="string")y=new O(y,h);else if(y instanceof O)y.target=y.target||h;else{var F=y;y=new O(x,h),pt(y,F)}F=!0;let Y,mt;if(T)for(mt=T.length-1;mt>=0;mt--)Y=y.g=T[mt],F=Mn(Y,x,!0,y)&&F;if(Y=y.g=h,F=Mn(Y,x,!0,y)&&F,F=Mn(Y,x,!1,y)&&F,T)for(mt=0;mt<T.length;mt++)Y=y.g=T[mt],F=Mn(Y,x,!1,y)&&F}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const T=h.g[y];for(let x=0;x<T.length;x++)yt(T[x]);delete h.g[y],h.h--}}this.G=null},_t.prototype.J=function(h,y,T,x){return this.i.add(String(h),y,!1,T,x)},_t.prototype.K=function(h,y,T,x){return this.i.add(String(h),y,!0,T,x)};function Mn(h,y,T,x){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let F=!0;for(let Y=0;Y<y.length;++Y){const mt=y[Y];if(mt&&!mt.da&&mt.capture==T){const zt=mt.listener,Ue=mt.ha||mt.src;mt.fa&&wt(h.i,mt),F=zt.call(Ue,x)!==!1&&F}}return F&&!x.defaultPrevented}function Si(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function le(h){h.g=Si(()=>{h.g=null,h.i&&(h.i=!1,le(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class ue extends N{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:le(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sn(h){N.call(this),this.h=h,this.g={}}E(Sn,N);var Yr=[];function Qr(h){Dt(h.g,function(y,T){this.g.hasOwnProperty(T)&&an(y)},h),h.g={}}Sn.prototype.N=function(){Sn.Z.N.call(this),Qr(this)},Sn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ai=c.JSON.stringify,cl=c.JSON.parse,Ua=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function za(){}function Ba(){}var Kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function tn(){O.call(this,"d")}E(tn,O);function kn(){O.call(this,"c")}E(kn,O);var De={},Fa=null;function Xs(){return Fa=Fa||new _t}De.Ia="serverreachability";function L(h){O.call(this,De.Ia,h)}E(L,O);function lt(h){const y=Xs();Lt(y,new L(y))}De.STAT_EVENT="statevent";function et(h,y){O.call(this,De.STAT_EVENT,h),this.stat=y}E(et,O);function st(h){const y=Xs();Lt(y,new et(y,h))}De.Ja="timingevent";function W(h,y){O.call(this,De.Ja,h),this.size=y}E(W,O);function ot(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function gt(){this.g=!0}gt.prototype.ua=function(){this.g=!1};function Ut(h,y,T,x,F,Y){h.info(function(){if(h.g)if(Y){var mt="",zt=Y.split("&");for(let se=0;se<zt.length;se++){var Ue=zt[se].split("=");if(Ue.length>1){const xe=Ue[0];Ue=Ue[1];const ai=xe.split("_");mt=ai.length>=2&&ai[1]=="type"?mt+(xe+"="+Ue+"&"):mt+(xe+"=redacted&")}}}else mt=null;else mt=Y;return"XMLHTTP REQ ("+x+") [attempt "+F+"]: "+y+`
`+T+`
`+mt})}function Ne(h,y,T,x,F,Y,mt){h.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+F+"]: "+y+`
`+T+`
`+Y+" "+mt})}function en(h,y,T,x){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Zt(h,T)+(x?" "+x:"")})}function hn(h,y){h.info(function(){return"TIMEOUT: "+y})}gt.prototype.info=function(){};function Zt(h,y){if(!h.g)return y;if(!y)return null;try{const Y=JSON.parse(y);if(Y){for(h=0;h<Y.length;h++)if(Array.isArray(Y[h])){var T=Y[h];if(!(T.length<2)){var x=T[1];if(Array.isArray(x)&&!(x.length<1)){var F=x[0];if(F!="noop"&&F!="stop"&&F!="close")for(let mt=1;mt<x.length;mt++)x[mt]=""}}}}return Ai(Y)}catch{return y}}var te={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},fn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Bi;function vs(){}E(vs,za),vs.prototype.g=function(){return new XMLHttpRequest},Bi=new vs;function wi(h){return encodeURIComponent(String(h))}function Ha(h){var y=1;h=h.split(":");const T=[];for(;y>0&&h.length;)T.push(h.shift()),y--;return h.length&&T.push(h.join(":")),T}function ve(h,y,T,x){this.j=h,this.i=y,this.l=T,this.S=x||1,this.V=new Sn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new dn}function dn(){this.i=null,this.g="",this.h=!1}var Te={},we={};function Yn(h,y,T){h.M=1,h.A=Xr(Ke(y)),h.u=T,h.R=!0,_s(h,null)}function _s(h,y){h.F=Date.now(),An(h),h.B=Ke(h.A);var T=h.B,x=h.S;Array.isArray(x)||(x=[String(x)]),Ya(T.i,"t",x),h.C=0,T=h.j.L,h.h=new dn,h.g=yc(h.j,T?y:null,!h.u),h.P>0&&(h.O=new ue(g(h.Y,h,h.g),h.P)),y=h.V,T=h.g,x=h.ba;var F="readystatechange";Array.isArray(F)||(F&&(Yr[0]=F.toString()),F=Yr);for(let Y=0;Y<F.length;Y++){const mt=de(T,F[Y],x||y.handleEvent,!1,y.h||y);if(!mt)break;y.g[mt.key]=mt}y=h.J?k(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),lt(),Ut(h.i,h.v,h.B,h.l,h.S,h.u)}ve.prototype.ba=function(h){h=h.target;const y=this.O;y&&Ii(h)==3?y.j():this.Y(h)},ve.prototype.Y=function(h){try{if(h==this.g)t:{const zt=Ii(this.g),Ue=this.g.ya(),se=this.g.ca();if(!(zt<3)&&(zt!=3||this.g&&(this.h.h||this.g.la()||mn(this.g)))){this.K||zt!=4||Ue==7||(Ue==8||se<=0?lt(3):lt(2)),Fi(this);var y=this.g.ca();this.X=y;var T=sc(this);if(this.o=y==200,Ne(this.i,this.v,this.B,this.l,this.S,zt,y),this.o){if(this.U&&!this.L){e:{if(this.g){var x,F=this.g;if((x=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(x)){var Y=x;break e}}Y=null}if(h=Y)en(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Hi(this,h);else{this.o=!1,this.m=3,st(12),Qn(this),ii(this);break t}}if(this.R){h=!0;let xe;for(;!this.K&&this.C<T.length;)if(xe=Pe(this,T),xe==we){zt==4&&(this.m=4,st(14),h=!1),en(this.i,this.l,null,"[Incomplete Response]");break}else if(xe==Te){this.m=4,st(15),en(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else en(this.i,this.l,xe,null),Hi(this,xe);if(qa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),zt!=4||T.length!=0||this.h.h||(this.m=1,st(16),h=!1),this.o=this.o&&h,!h)en(this.i,this.l,T,"[Invalid Chunked Response]"),Qn(this),ii(this);else if(T.length>0&&!this.W){this.W=!0;var mt=this.j;mt.g==this&&mt.aa&&!mt.P&&(mt.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),wl(mt),mt.P=!0,st(11))}}else en(this.i,this.l,T,null),Hi(this,T);zt==4&&Qn(this),this.o&&!this.K&&(zt==4?dc(this.j,this):(this.o=!1,An(this)))}else Es(this.g),y==400&&T.indexOf("Unknown SID")>0?(this.m=3,st(12)):(this.m=0,st(13)),Qn(this),ii(this)}}}catch{}finally{}};function sc(h){if(!qa(h))return h.g.la();const y=mn(h.g);if(y==="")return"";let T="";const x=y.length,F=Ii(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Qn(h),ii(h),"";h.h.i=new c.TextDecoder}for(let Y=0;Y<x;Y++)h.h.h=!0,T+=h.h.i.decode(y[Y],{stream:!(F&&Y==x-1)});return y.length=0,h.h.g+=T,h.C=0,h.h.g}function qa(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Pe(h,y){var T=h.C,x=y.indexOf(`
`,T);return x==-1?we:(T=Number(y.substring(T,x)),isNaN(T)?Te:(x+=1,x+T>y.length?we:(y=y.slice(x,x+T),h.C=x+T,y)))}ve.prototype.cancel=function(){this.K=!0,Qn(this)};function An(h){h.T=Date.now()+h.H,xi(h,h.H)}function xi(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=ot(g(h.aa,h),y)}function Fi(h){h.D&&(c.clearTimeout(h.D),h.D=null)}ve.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(hn(this.i,this.B),this.M!=2&&(lt(),st(17)),Qn(this),this.m=2,ii(this)):xi(this,this.T-h)};function ii(h){h.j.I==0||h.K||dc(h.j,h)}function Qn(h){Fi(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,Qr(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function Hi(h,y){try{var T=h.j;if(T.I!=0&&(T.g==h||Gi(T.h,h))){if(!h.L&&Gi(T.h,h)&&T.I==3){try{var x=T.Ba.g.parse(y)}catch{x=null}if(Array.isArray(x)&&x.length==3){var F=x;if(F[0]==0){t:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)Ja(T),ir(T);else break t;na(T),st(18)}}else T.xa=F[1],0<T.xa-T.K&&F[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=ot(g(T.Va,T),6e3));qi(T.h)<=1&&T.ta&&(T.ta=void 0)}else $i(T,11)}else if((h.L||T.g==h)&&Ja(T),!D(y))for(F=T.Ba.g.parse(y),y=0;y<F.length;y++){let se=F[y];const xe=se[0];if(!(xe<=T.K))if(T.K=xe,se=se[1],T.I==2)if(se[0]=="c"){T.M=se[1],T.ba=se[2];const ai=se[3];ai!=null&&(T.ka=ai,T.j.info("VER="+T.ka));const Ji=se[4];Ji!=null&&(T.za=Ji,T.j.info("SVER="+T.za));const Di=se[5];Di!=null&&typeof Di=="number"&&Di>0&&(x=1.5*Di,T.O=x,T.j.info("backChannelRequestTimeoutMs_="+x)),x=T;const Mi=h.g;if(Mi){const ia=Mi.g?Mi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ia){var Y=x.h;Y.g||ia.indexOf("spdy")==-1&&ia.indexOf("quic")==-1&&ia.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(dl(Y,Y.h),Y.h=null))}if(x.G){const Za=Mi.g?Mi.g.getResponseHeader("X-HTTP-Session-Id"):null;Za&&(x.wa=Za,ce(x.J,x.G,Za))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),x=T;var mt=h;if(x.na=gc(x,x.L?x.ba:null,x.W),mt.L){ml(x.h,mt);var zt=mt,Ue=x.O;Ue&&(zt.H=Ue),zt.D&&(Fi(zt),An(zt)),x.g=mt}else hc(x);T.i.length>0&&Wi(T)}else se[0]!="stop"&&se[0]!="close"||$i(T,7);else T.I==3&&(se[0]=="stop"||se[0]=="close"?se[0]=="stop"?$i(T,7):Sl(T):se[0]!="noop"&&T.l&&T.l.qa(se),T.A=0)}}lt(4)}catch{}}var Ge=class{constructor(h,y){this.g=h,this.map=y}};function hl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function fl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function qi(h){return h.h?1:h.g?h.g.size:0}function Gi(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function dl(h,y){h.g?h.g.add(y):h.h=y}function ml(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}hl.prototype.cancel=function(){if(this.i=pl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function pl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const T of h.g.values())y=y.concat(T.G);return y}return C(h.i)}var rc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ga(h,y){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const x=h[T].indexOf("=");let F,Y=null;x>=0?(F=h[T].substring(0,x),Y=h[T].substring(x+1)):F=h[T],y(F,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Xn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof Xn?(this.l=h.l,on(this,h.j),this.o=h.o,this.g=h.g,Ws(this,h.u),this.h=h.h,gl(this,uc(h.i)),this.m=h.m):h&&(y=String(h).match(rc))?(this.l=!1,on(this,y[1]||"",!0),this.o=Ki(y[2]||""),this.g=Ki(y[3]||"",!0),Ws(this,y[4]),this.h=Ki(y[5]||"",!0),gl(this,y[6]||"",!0),this.m=Ki(y[7]||"")):(this.l=!1,this.i=new Js(null,this.l))}Xn.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(Wr(y,Ka,!0),":");var T=this.g;return(T||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Wr(y,Ka,!0),"@"),h.push(wi(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Wr(T,T.charAt(0)=="/"?yl:ac,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Wr(T,oc)),h.join("")},Xn.prototype.resolve=function(h){const y=Ke(this);let T=!!h.j;T?on(y,h.j):T=!!h.o,T?y.o=h.o:T=!!h.g,T?y.g=h.g:T=h.u!=null;var x=h.h;if(T)Ws(y,h.u);else if(T=!!h.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var F=y.h.lastIndexOf("/");F!=-1&&(x=y.h.slice(0,F+1)+x)}if(F=x,F==".."||F==".")x="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){x=F.lastIndexOf("/",0)==0,F=F.split("/");const Y=[];for(let mt=0;mt<F.length;){const zt=F[mt++];zt=="."?x&&mt==F.length&&Y.push(""):zt==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),x&&mt==F.length&&Y.push("")):(Y.push(zt),x=!0)}x=Y.join("/")}else x=F}return T?y.h=x:T=h.i.toString()!=="",T?gl(y,uc(h.i)):T=!!h.m,T&&(y.m=h.m),y};function Ke(h){return new Xn(h)}function on(h,y,T){h.j=T?Ki(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Ws(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function gl(h,y,T){y instanceof Js?(h.i=y,Qa(h.i,h.l)):(T||(y=Wr(y,$s)),h.i=new Js(y,h.l))}function ce(h,y,T){h.i.set(y,T)}function Xr(h){return ce(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ki(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Wr(h,y,T){return typeof h=="string"?(h=encodeURI(h).replace(y,jn),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function jn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ka=/[#\/\?@]/g,ac=/[#\?:]/g,yl=/[#\?]/g,$s=/[#\?@]/g,oc=/#/g;function Js(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function Ln(h){h.g||(h.g=new Map,h.h=0,h.i&&Ga(h.i,function(y,T){h.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}i=Js.prototype,i.add=function(h,y){Ln(this),this.i=null,h=Zs(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(y),this.h+=1,this};function lc(h,y){Ln(h),y=Zs(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function vl(h,y){return Ln(h),y=Zs(h,y),h.g.has(y)}i.forEach=function(h,y){Ln(this),this.g.forEach(function(T,x){T.forEach(function(F){h.call(y,F,x,this)},this)},this)};function _l(h,y){Ln(h);let T=[];if(typeof y=="string")vl(h,y)&&(T=T.concat(h.g.get(Zs(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)T=T.concat(h[y]);return T}i.set=function(h,y){return Ln(this),this.i=null,h=Zs(this,h),vl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},i.get=function(h,y){return h?(h=_l(this,h),h.length>0?String(h[0]):y):y};function Ya(h,y,T){lc(h,y),T.length>0&&(h.i=null,h.g.set(Zs(h,y),C(T)),h.h+=T.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let x=0;x<y.length;x++){var T=y[x];const F=wi(T);T=_l(this,T);for(let Y=0;Y<T.length;Y++){let mt=F;T[Y]!==""&&(mt+="="+wi(T[Y])),h.push(mt)}}return this.i=h.join("&")};function uc(h){const y=new Js;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function Zs(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Qa(h,y){y&&!h.j&&(Ln(h),h.i=null,h.g.forEach(function(T,x){const F=x.toLowerCase();x!=F&&(lc(this,x),Ya(this,F,T))},h)),h.j=y}function Ri(h,y){const T=new gt;if(c.Image){const x=new Image;x.onload=v(si,T,"TestLoadImage: loaded",!0,y,x),x.onerror=v(si,T,"TestLoadImage: error",!1,y,x),x.onabort=v(si,T,"TestLoadImage: abort",!1,y,x),x.ontimeout=v(si,T,"TestLoadImage: timeout",!1,y,x),c.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=h}else y(!1)}function Tl(h,y){const T=new gt,x=new AbortController,F=setTimeout(()=>{x.abort(),si(T,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:x.signal}).then(Y=>{clearTimeout(F),Y.ok?si(T,"TestPingServer: ok",!0,y):si(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),si(T,"TestPingServer: error",!1,y)})}function si(h,y,T,x,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),x(T)}catch{}}function tr(){this.g=new Ua}function Yi(h){this.i=h.Sb||null,this.h=h.ab||!1}E(Yi,za),Yi.prototype.g=function(){return new $r(this.i,this.h)};function $r(h,y){_t.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E($r,_t),i=$r.prototype,i.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,Ci(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,er(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ci(this)),this.g&&(this.readyState=3,Ci(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Xa(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Xa(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?er(this):Ci(this),this.readyState==3&&Xa(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,er(this))},i.Na=function(h){this.g&&(this.response=h,er(this))},i.ga=function(){this.g&&er(this)};function er(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Ci(h)}i.setRequestHeader=function(h,y){this.A.append(h,y)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=y.next();return h.join(`\r
`)};function Ci(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty($r.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ri(h){let y="";return Dt(h,function(T,x){y+=x,y+=":",y+=T,y+=`\r
`}),y}function Jr(h,y,T){t:{for(x in T){var x=!1;break t}x=!0}x||(T=ri(T),typeof h=="string"?T!=null&&wi(T):ce(h,y,T))}function me(h){_t.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(me,_t);var Qi=/^https?$/i,El=["POST","PUT"];i=me.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,y,T,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Bi.g(),this.g.onreadystatechange=b(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(Y){Zr(this,Y);return}if(h=T||"",T=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var F in x)T.set(F,x[F]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const Y of x.keys())T.set(Y,x.get(Y));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(T.keys()).find(Y=>Y.toLowerCase()=="content-type"),F=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(El,y,void 0)>=0)||x||F||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,mt]of T)this.g.setRequestHeader(Y,mt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Y){Zr(this,Y)}};function Zr(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,bl(h),Ts(h)}function bl(h){h.A||(h.A=!0,Lt(h,"complete"),Lt(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Lt(this,"complete"),Lt(this,"abort"),Ts(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ts(this,!0)),me.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?ta(this):this.Xa())},i.Xa=function(){ta(this)};function ta(h){if(h.h&&typeof u<"u"){if(h.v&&Ii(h)==4)setTimeout(h.Ca.bind(h),0);else if(Lt(h,"readystatechange"),Ii(h)==4){h.h=!1;try{const Y=h.ca();t:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var T;if(!(T=y)){var x;if(x=Y===0){let mt=String(h.D).match(rc)[1]||null;!mt&&c.self&&c.self.location&&(mt=c.self.location.protocol.slice(0,-1)),x=!Qi.test(mt?mt.toLowerCase():"")}T=x}if(T)Lt(h,"complete"),Lt(h,"success");else{h.o=6;try{var F=Ii(h)>2?h.g.statusText:""}catch{F=""}h.l=F+" ["+h.ca()+"]",bl(h)}}finally{Ts(h)}}}}function Ts(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,y||Lt(h,"ready");try{T.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Ii(h){return h.g?h.g.readyState:0}i.ca=function(){try{return Ii(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),cl(y)}};function mn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Es(h){const y={};h=(h.g&&Ii(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<h.length;x++){if(D(h[x]))continue;var T=Ha(h[x]);const F=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Y=y[F]||[];y[F]=Y,Y.push(T)}Rt(y,function(x){return x.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xi(h,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||y}function nr(h){this.za=0,this.i=[],this.j=new gt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Xi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Xi("baseRetryDelayMs",5e3,h),this.Za=Xi("retryDelaySeedMs",1e4,h),this.Ta=Xi("forwardChannelMaxRetries",2,h),this.va=Xi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new hl(h&&h.concurrentRequestLimit),this.Ba=new tr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=nr.prototype,i.ka=8,i.I=1,i.connect=function(h,y,T,x){st(0),this.W=h,this.H=y||{},T&&x!==void 0&&(this.H.OSID=T,this.H.OAID=x),this.F=this.X,this.J=gc(this,null,this.W),Wi(this)};function Sl(h){if(Wa(h),h.I==3){var y=h.V++,T=Ke(h.J);if(ce(T,"SID",h.M),ce(T,"RID",y),ce(T,"TYPE","terminate"),ea(h,T),y=new ve(h,h.j,y),y.M=2,y.A=Xr(Ke(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=y.A,T=!0),T||(y.g=yc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),An(y)}pc(h)}function ir(h){h.g&&(wl(h),h.g.cancel(),h.g=null)}function Wa(h){ir(h),h.v&&(c.clearTimeout(h.v),h.v=null),Ja(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Wi(h){if(!fl(h.h)&&!h.m){h.m=!0;var y=h.Ea;ft||w(),dt||(ft(),dt=!0),R.add(y,h),h.D=0}}function $a(h,y){return qi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=ot(g(h.Ea,h,y),mc(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const F=new ve(this,this.j,h);let Y=this.o;if(this.U&&(Y?(Y=k(Y),pt(Y,this.U)):Y=this.U),this.u!==null||this.R||(F.J=Y,Y=null),this.S)t:{for(var y=0,T=0;T<this.i.length;T++){e:{var x=this.i[T];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break e}x=void 0}if(x===void 0)break;if(y+=x,y>4096){y=T;break t}if(y===4096||T===this.i.length-1){y=T+1;break t}}y=1e3}else y=1e3;y=cc(this,F,y),T=Ke(this.J),ce(T,"RID",h),ce(T,"CVER",22),this.G&&ce(T,"X-HTTP-Session-Id",this.G),ea(this,T),Y&&(this.R?y="headers="+wi(ri(Y))+"&"+y:this.u&&Jr(T,this.u,Y)),dl(this.h,F),this.Ra&&ce(T,"TYPE","init"),this.S?(ce(T,"$req",y),ce(T,"SID","null"),F.U=!0,Yn(F,T,null)):Yn(F,T,y),this.I=2}}else this.I==3&&(h?Al(this,h):this.i.length==0||fl(this.h)||Al(this))};function Al(h,y){var T;y?T=y.l:T=h.V++;const x=Ke(h.J);ce(x,"SID",h.M),ce(x,"RID",T),ce(x,"AID",h.K),ea(h,x),h.u&&h.o&&Jr(x,h.u,h.o),T=new ve(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),y&&(h.i=y.G.concat(h.i)),y=cc(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),dl(h.h,T),Yn(T,x,y)}function ea(h,y){h.H&&Dt(h.H,function(T,x){ce(y,x,T)}),h.l&&Dt({},function(T,x){ce(y,x,T)})}function cc(h,y,T){T=Math.min(h.i.length,T);const x=h.l?g(h.l.Ka,h.l,h):null;t:{var F=h.i;let zt=-1;for(;;){const Ue=["count="+T];zt==-1?T>0?(zt=F[0].g,Ue.push("ofs="+zt)):zt=0:Ue.push("ofs="+zt);let se=!0;for(let xe=0;xe<T;xe++){var Y=F[xe].g;const ai=F[xe].map;if(Y-=zt,Y<0)zt=Math.max(0,F[xe].g-100),se=!1;else try{Y="req"+Y+"_"||"";try{var mt=ai instanceof Map?ai:Object.entries(ai);for(const[Ji,Di]of mt){let Mi=Di;m(Di)&&(Mi=Ai(Di)),Ue.push(Y+Ji+"="+encodeURIComponent(Mi))}}catch(Ji){throw Ue.push(Y+"type="+encodeURIComponent("_badmap")),Ji}}catch{x&&x(ai)}}if(se){mt=Ue.join("&");break t}}mt=void 0}return h=h.i.splice(0,T),y.G=h,mt}function hc(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;ft||w(),dt||(ft(),dt=!0),R.add(y,h),h.A=0}}function na(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=ot(g(h.Da,h),mc(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,fc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=ot(g(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,st(10),ir(this),fc(this))};function wl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function fc(h){h.g=new ve(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=Ke(h.na);ce(y,"RID","rpc"),ce(y,"SID",h.M),ce(y,"AID",h.K),ce(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&ce(y,"TO",h.ia),ce(y,"TYPE","xmlhttp"),ea(h,y),h.u&&h.o&&Jr(y,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=Xr(Ke(y)),T.u=null,T.R=!0,_s(T,h)}i.Va=function(){this.C!=null&&(this.C=null,ir(this),na(this),st(19))};function Ja(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function dc(h,y){var T=null;if(h.g==y){Ja(h),wl(h),h.g=null;var x=2}else if(Gi(h.h,y))T=y.G,ml(h.h,y),x=1;else return;if(h.I!=0){if(y.o)if(x==1){T=y.u?y.u.length:0,y=Date.now()-y.F;var F=h.D;x=Xs(),Lt(x,new W(x,T)),Wi(h)}else hc(h);else if(F=y.m,F==3||F==0&&y.X>0||!(x==1&&$a(h,y)||x==2&&na(h)))switch(T&&T.length>0&&(y=h.h,y.i=y.i.concat(T)),F){case 1:$i(h,5);break;case 4:$i(h,10);break;case 3:$i(h,6);break;default:$i(h,2)}}}function mc(h,y){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*y}function $i(h,y){if(h.j.info("Error code "+y),y==2){var T=g(h.bb,h),x=h.Ua;const F=!x;x=new Xn(x||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||on(x,"https"),Xr(x),F?Ri(x.toString(),T):Tl(x.toString(),T)}else st(2);h.I=0,h.l&&h.l.pa(y),pc(h),Wa(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function pc(h){if(h.I=0,h.ja=[],h.l){const y=pl(h.h);(y.length!=0||h.i.length!=0)&&(U(h.ja,y),U(h.ja,h.i),h.h.i.length=0,C(h.i),h.i.length=0),h.l.oa()}}function gc(h,y,T){var x=T instanceof Xn?Ke(T):new Xn(T);if(x.g!="")y&&(x.g=y+"."+x.g),Ws(x,x.u);else{var F=c.location;x=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;const Y=new Xn(null);x&&on(Y,x),y&&(Y.g=y),F&&Ws(Y,F),T&&(Y.h=T),x=Y}return T=h.G,y=h.wa,T&&y&&ce(x,T,y),ce(x,"VER",h.ka),ea(h,x),x}function yc(h,y,T){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new me(new Yi({ab:T})):new me(h.ma),y.Fa(h.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function vc(){}i=vc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function sr(){}sr.prototype.g=function(h,y){return new Vn(h,y)};function Vn(h,y){_t.call(this),this.g=new nr(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!D(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!D(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new bs(this)}E(Vn,_t),Vn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Vn.prototype.close=function(){Sl(this.g)},Vn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=Ai(h),h=T);y.i.push(new Ge(y.Ya++,h)),y.I==3&&Wi(y)},Vn.prototype.N=function(){this.g.l=null,delete this.j,Sl(this.g),delete this.g,Vn.Z.N.call(this)};function _c(h){tn.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){t:{for(const T in y){h=T;break t}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}E(_c,tn);function Tc(){kn.call(this),this.status=1}E(Tc,kn);function bs(h){this.g=h}E(bs,vc),bs.prototype.ra=function(){Lt(this.g,"a")},bs.prototype.qa=function(h){Lt(this.g,new _c(h))},bs.prototype.pa=function(h){Lt(this.g,new Tc)},bs.prototype.oa=function(){Lt(this.g,"b")},sr.prototype.createWebChannel=sr.prototype.g,Vn.prototype.send=Vn.prototype.o,Vn.prototype.open=Vn.prototype.m,Vn.prototype.close=Vn.prototype.close,Fb=function(){return new sr},Bb=function(){return Xs()},zb=De,Sp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},te.NO_ERROR=0,te.TIMEOUT=8,te.HTTP_ERROR=6,Uh=te,fn.COMPLETE="complete",Ub=fn,Ba.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",_t.prototype.listen=_t.prototype.J,hu=Ba,me.prototype.listenOnce=me.prototype.K,me.prototype.getLastError=me.prototype.Ha,me.prototype.getLastErrorCode=me.prototype.ya,me.prototype.getStatus=me.prototype.ca,me.prototype.getResponseJson=me.prototype.La,me.prototype.getResponseText=me.prototype.la,me.prototype.send=me.prototype.ea,me.prototype.setWithCredentials=me.prototype.Fa,Lb=me}).apply(typeof wh<"u"?wh:typeof self<"u"?self:typeof window<"u"?window:{});const LT="@firebase/firestore",UT="4.9.2";class Rn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Rn.UNAUTHENTICATED=new Rn(null),Rn.GOOGLE_CREDENTIALS=new Rn("google-credentials-uid"),Rn.FIRST_PARTY=new Rn("first-party-uid"),Rn.MOCK_USER=new Rn("mock-user");let il="12.3.0";const Oa=new og("@firebase/firestore");function Do(){return Oa.logLevel}function Tt(i,...t){if(Oa.logLevel<=Xt.DEBUG){const e=t.map(Tg);Oa.debug(`Firestore (${il}): ${i}`,...e)}}function qs(i,...t){if(Oa.logLevel<=Xt.ERROR){const e=t.map(Tg);Oa.error(`Firestore (${il}): ${i}`,...e)}}function Ko(i,...t){if(Oa.logLevel<=Xt.WARN){const e=t.map(Tg);Oa.warn(`Firestore (${il}): ${i}`,...e)}}function Tg(i){if(typeof i=="string")return i;try{return(function(e){return JSON.stringify(e)})(i)}catch{return i}}function It(i,t,e){let r="Unexpected state";typeof t=="string"?r=t:e=t,Hb(i,r,e)}function Hb(i,t,e){let r=`FIRESTORE (${il}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(e!==void 0)try{r+=" CONTEXT: "+JSON.stringify(e)}catch{r+=" CONTEXT: "+e}throw qs(r),new Error(r)}function ae(i,t,e,r){let o="Unexpected state";typeof e=="string"?o=e:r=e,i||Hb(t,o,r)}function kt(i,t){return i}const ct={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class St extends Qs{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class jr{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class qb{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class _D{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(Rn.UNAUTHENTICATED)))}shutdown(){}}class TD{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class ED{constructor(t){this.t=t,this.currentUser=Rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){ae(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,e(p)):Promise.resolve();let u=new jr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new jr,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{Tt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(Tt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new jr)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((r=>this.i!==t?(Tt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ae(typeof r.accessToken=="string",31837,{l:r}),new qb(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ae(t===null||typeof t=="string",2055,{h:t}),new Rn(t)}}class bD{constructor(t,e,r){this.P=t,this.T=e,this.I=r,this.type="FirstParty",this.user=Rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class SD{constructor(t,e,r){this.P=t,this.T=e,this.I=r}getToken(){return Promise.resolve(new bD(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(Rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class zT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AD{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ki(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){ae(this.o===void 0,3512);const r=u=>{u.error!=null&&Tt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,Tt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{Tt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):Tt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new zT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(ae(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new zT(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function wD(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let r=0;r<i;r++)e[r]=Math.floor(256*Math.random());return e}class Eg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=wD(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<e&&(r+=t.charAt(o[u]%62))}return r}}function Wt(i,t){return i<t?-1:i>t?1:0}function Ap(i,t){const e=Math.min(i.length,t.length);for(let r=0;r<e;r++){const o=i.charAt(r),u=t.charAt(r);if(o!==u)return Xm(o)===Xm(u)?Wt(o,u):Xm(o)?1:-1}return Wt(i.length,t.length)}const xD=55296,RD=57343;function Xm(i){const t=i.charCodeAt(0);return t>=xD&&t<=RD}function Yo(i,t,e){return i.length===t.length&&i.every(((r,o)=>e(r,t[o])))}const BT="__name__";class is{constructor(t,e,r){e===void 0?e=0:e>t.length&&It(637,{offset:e,range:t.length}),r===void 0?r=t.length-e:r>t.length-e&&It(1746,{length:r,range:t.length-e}),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return is.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof is?t.forEach((r=>{e.push(r)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let o=0;o<r;o++){const u=is.compareSegments(t.get(o),e.get(o));if(u!==0)return u}return Wt(t.length,e.length)}static compareSegments(t,e){const r=is.isNumericId(t),o=is.isNumericId(e);return r&&!o?-1:!r&&o?1:r&&o?is.extractNumericId(t).compare(is.extractNumericId(e)):Ap(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return kr.fromString(t.substring(4,t.length-2))}}class Me extends is{construct(t,e,r){return new Me(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new St(ct.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter((o=>o.length>0)))}return new Me(e)}static emptyPath(){return new Me([])}}const CD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class En extends is{construct(t,e,r){return new En(t,e,r)}static isValidIdentifier(t){return CD.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),En.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===BT}static keyField(){return new En([BT])}static fromServerFormat(t){const e=[];let r="",o=0;const u=()=>{if(r.length===0)throw new St(ct.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let c=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new St(ct.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new St(ct.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(r+=m,o++):(u(),o++)}if(u(),c)throw new St(ct.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new En(e)}static emptyPath(){return new En([])}}class xt{constructor(t){this.path=t}static fromPath(t){return new xt(Me.fromString(t))}static fromName(t){return new xt(Me.fromString(t).popFirst(5))}static empty(){return new xt(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Me.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Me.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new xt(new Me(t.slice()))}}function ID(i,t,e){if(!e)throw new St(ct.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function DD(i,t,e,r){if(t===!0&&r===!0)throw new St(ct.INVALID_ARGUMENT,`${i} and ${e} cannot be used together.`)}function FT(i){if(!xt.isDocumentKey(i))throw new St(ct.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Gb(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function bg(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":It(12329,{type:typeof i})}function Du(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new St(ct.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=bg(i);throw new St(ct.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return i}function Ze(i,t){const e={typeString:i};return t&&(e.value=t),e}function Xu(i,t){if(!Gb(i))throw new St(ct.INVALID_ARGUMENT,"JSON must be an object");let e;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in i)){e=`JSON missing required field: '${r}'`;break}const c=i[r];if(o&&typeof c!==o){e=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){e=`Expected '${r}' field to equal '${u.value}'`;break}}if(e)throw new St(ct.INVALID_ARGUMENT,e);return!0}const HT=-62135596800,qT=1e6;class Ae{static now(){return Ae.fromMillis(Date.now())}static fromDate(t){return Ae.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor((t-1e3*e)*qT);return new Ae(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new St(ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new St(ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<HT)throw new St(ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new St(ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qT}_compareTo(t){return this.seconds===t.seconds?Wt(this.nanoseconds,t.nanoseconds):Wt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Xu(t,Ae._jsonSchema))return new Ae(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-HT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ae._jsonSchemaVersion="firestore/timestamp/1.0",Ae._jsonSchema={type:Ze("string",Ae._jsonSchemaVersion),seconds:Ze("number"),nanoseconds:Ze("number")};class Nt{static fromTimestamp(t){return new Nt(t)}static min(){return new Nt(new Ae(0,0))}static max(){return new Nt(new Ae(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Mu=-1;function MD(i,t){const e=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,o=Nt.fromTimestamp(r===1e9?new Ae(e+1,0):new Ae(e,r));return new Lr(o,xt.empty(),t)}function VD(i){return new Lr(i.readTime,i.key,Mu)}class Lr{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new Lr(Nt.min(),xt.empty(),Mu)}static max(){return new Lr(Nt.max(),xt.empty(),Mu)}}function OD(i,t){let e=i.readTime.compareTo(t.readTime);return e!==0?e:(e=xt.comparator(i.documentKey,t.documentKey),e!==0?e:Wt(i.largestBatchId,t.largestBatchId))}const ND="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function sl(i){if(i.code!==ct.FAILED_PRECONDITION||i.message!==ND)throw i;Tt("LocalStore","Unexpectedly lost primary lease")}class at{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&It(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new at(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(e,u).next(r,o)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof at?e:at.resolve(e)}catch(e){return at.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):at.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):at.reject(e)}static resolve(t){return new at(((e,r)=>{e(t)}))}static reject(t){return new at(((e,r)=>{r(t)}))}static waitFor(t){return new at(((e,r)=>{let o=0,u=0,c=!1;t.forEach((m=>{++o,m.next((()=>{++u,c&&u===o&&e()}),(p=>r(p)))})),c=!0,u===o&&e()}))}static or(t){let e=at.resolve(!1);for(const r of t)e=e.next((o=>o?at.resolve(o):r()));return e}static forEach(t,e){const r=[];return t.forEach(((o,u)=>{r.push(e.call(this,o,u))})),this.waitFor(r)}static mapArray(t,e){return new at(((r,o)=>{const u=t.length,c=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;e(t[g]).next((v=>{c[g]=v,++m,m===u&&r(c)}),(v=>o(v)))}}))}static doWhile(t,e){return new at(((r,o)=>{const u=()=>{t()===!0?e().next((()=>{u()}),o):r()};u()}))}}function kD(i){const t=i.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function rl(i){return i.name==="IndexedDbTransactionError"}class Rf{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>e.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Rf.ce=-1;const Sg=-1;function Cf(i){return i==null}function rf(i){return i===0&&1/i==-1/0}function jD(i){return typeof i=="number"&&Number.isInteger(i)&&!rf(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const Kb="";function LD(i){let t="";for(let e=0;e<i.length;e++)t.length>0&&(t=GT(t)),t=UD(i.get(e),t);return GT(t)}function UD(i,t){let e=t;const r=i.length;for(let o=0;o<r;o++){const u=i.charAt(o);switch(u){case"\0":e+="";break;case Kb:e+="";break;default:e+=u}}return e}function GT(i){return i+Kb+""}function KT(i){let t=0;for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t++;return t}function Pa(i,t){for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t(e,i[e])}function Yb(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}class Oe{constructor(t,e){this.comparator=t,this.root=e||Tn.EMPTY}insert(t,e){return new Oe(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Tn.BLACK,null,null))}remove(t){return new Oe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Tn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return e+r.left.size;o<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,r)=>(t(e,r),!1)))}toString(){const t=[];return this.inorderTraversal(((e,r)=>(t.push(`${e}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new xh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new xh(this.root,t,this.comparator,!1)}getReverseIterator(){return new xh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new xh(this.root,t,this.comparator,!0)}}class xh{constructor(t,e,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=e?r(t.key,e):1,e&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Tn{constructor(t,e,r,o,u){this.key=t,this.value=e,this.color=r??Tn.RED,this.left=o??Tn.EMPTY,this.right=u??Tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,o,u){return new Tn(t??this.key,e??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,e,r),null):u===0?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Tn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),e(t,o.key)===0){if(o.right.isEmpty())return Tn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw It(43730,{key:this.key,value:this.value});if(this.right.isRed())throw It(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw It(27949);return t+(this.isRed()?0:1)}}Tn.EMPTY=null,Tn.RED=!0,Tn.BLACK=!1;Tn.EMPTY=new class{constructor(){this.size=0}get key(){throw It(57766)}get value(){throw It(16141)}get color(){throw It(16727)}get left(){throw It(29726)}get right(){throw It(36894)}copy(t,e,r,o,u){return this}insert(t,e,r){return new Tn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class rn{constructor(t){this.comparator=t,this.data=new Oe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,r)=>(t(e),!1)))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new YT(this.data.getIterator())}getIteratorFrom(t){return new YT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((r=>{e=e.add(r)})),e}isEqual(t){if(!(t instanceof rn)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new rn(this.comparator);return e.data=t,e}}class YT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Li{constructor(t){this.fields=t,t.sort(En.comparator)}static empty(){return new Li([])}unionWith(t){let e=new rn(En.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new Li(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Yo(this.fields,t.fields,((e,r)=>e.isEqual(r)))}}class Qb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class bn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Qb("Invalid base64 string: "+u):u}})(t);return new bn(e)}static fromUint8Array(t){const e=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new bn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Wt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}bn.EMPTY_BYTE_STRING=new bn("");const zD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ur(i){if(ae(!!i,39018),typeof i=="string"){let t=0;const e=zD.exec(i);if(ae(!!e,46558,{timestamp:i}),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:He(i.seconds),nanos:He(i.nanos)}}function He(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function zr(i){return typeof i=="string"?bn.fromBase64String(i):bn.fromUint8Array(i)}const Xb="server_timestamp",Wb="__type__",$b="__previous_value__",Jb="__local_write_time__";function Ag(i){return(i?.mapValue?.fields||{})[Wb]?.stringValue===Xb}function If(i){const t=i.mapValue.fields[$b];return Ag(t)?If(t):t}function Vu(i){const t=Ur(i.mapValue.fields[Jb].timestampValue);return new Ae(t.seconds,t.nanos)}class BD{constructor(t,e,r,o,u,c,m,p,g,v){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const af="(default)";class Ou{constructor(t,e){this.projectId=t,this.database=e||af}static empty(){return new Ou("","")}get isDefaultDatabase(){return this.database===af}isEqual(t){return t instanceof Ou&&t.projectId===this.projectId&&t.database===this.database}}const Zb="__type__",FD="__max__",Rh={mapValue:{}},tS="__vector__",of="value";function Br(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ag(i)?4:qD(i)?9007199254740991:HD(i)?10:11:It(28295,{value:i})}function ds(i,t){if(i===t)return!0;const e=Br(i);if(e!==Br(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return Vu(i).isEqual(Vu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=Ur(o.timestampValue),m=Ur(u.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(i,t);case 5:return i.stringValue===t.stringValue;case 6:return(function(o,u){return zr(o.bytesValue).isEqual(zr(u.bytesValue))})(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return(function(o,u){return He(o.geoPointValue.latitude)===He(u.geoPointValue.latitude)&&He(o.geoPointValue.longitude)===He(u.geoPointValue.longitude)})(i,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return He(o.integerValue)===He(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=He(o.doubleValue),m=He(u.doubleValue);return c===m?rf(c)===rf(m):isNaN(c)&&isNaN(m)}return!1})(i,t);case 9:return Yo(i.arrayValue.values||[],t.arrayValue.values||[],ds);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},m=u.mapValue.fields||{};if(KT(c)!==KT(m))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(m[p]===void 0||!ds(c[p],m[p])))return!1;return!0})(i,t);default:return It(52216,{left:i})}}function Nu(i,t){return(i.values||[]).find((e=>ds(e,t)))!==void 0}function Qo(i,t){if(i===t)return 0;const e=Br(i),r=Br(t);if(e!==r)return Wt(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return Wt(i.booleanValue,t.booleanValue);case 2:return(function(u,c){const m=He(u.integerValue||u.doubleValue),p=He(c.integerValue||c.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,t);case 3:return QT(i.timestampValue,t.timestampValue);case 4:return QT(Vu(i),Vu(t));case 5:return Ap(i.stringValue,t.stringValue);case 6:return(function(u,c){const m=zr(u),p=zr(c);return m.compareTo(p)})(i.bytesValue,t.bytesValue);case 7:return(function(u,c){const m=u.split("/"),p=c.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=Wt(m[g],p[g]);if(v!==0)return v}return Wt(m.length,p.length)})(i.referenceValue,t.referenceValue);case 8:return(function(u,c){const m=Wt(He(u.latitude),He(c.latitude));return m!==0?m:Wt(He(u.longitude),He(c.longitude))})(i.geoPointValue,t.geoPointValue);case 9:return XT(i.arrayValue,t.arrayValue);case 10:return(function(u,c){const m=u.fields||{},p=c.fields||{},g=m[of]?.arrayValue,v=p[of]?.arrayValue,E=Wt(g?.values?.length||0,v?.values?.length||0);return E!==0?E:XT(g,v)})(i.mapValue,t.mapValue);case 11:return(function(u,c){if(u===Rh.mapValue&&c===Rh.mapValue)return 0;if(u===Rh.mapValue)return 1;if(c===Rh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=c.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let E=0;E<p.length&&E<v.length;++E){const b=Ap(p[E],v[E]);if(b!==0)return b;const C=Qo(m[p[E]],g[v[E]]);if(C!==0)return C}return Wt(p.length,v.length)})(i.mapValue,t.mapValue);default:throw It(23264,{he:e})}}function QT(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return Wt(i,t);const e=Ur(i),r=Ur(t),o=Wt(e.seconds,r.seconds);return o!==0?o:Wt(e.nanos,r.nanos)}function XT(i,t){const e=i.values||[],r=t.values||[];for(let o=0;o<e.length&&o<r.length;++o){const u=Qo(e[o],r[o]);if(u)return u}return Wt(e.length,r.length)}function Xo(i){return wp(i)}function wp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(e){const r=Ur(e);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(e){return zr(e).toBase64()})(i.bytesValue):"referenceValue"in i?(function(e){return xt.fromName(e).toString()})(i.referenceValue):"geoPointValue"in i?(function(e){return`geo(${e.latitude},${e.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(e){let r="[",o=!0;for(const u of e.values||[])o?o=!1:r+=",",r+=wp(u);return r+"]"})(i.arrayValue):"mapValue"in i?(function(e){const r=Object.keys(e.fields||{}).sort();let o="{",u=!0;for(const c of r)u?u=!1:o+=",",o+=`${c}:${wp(e.fields[c])}`;return o+"}"})(i.mapValue):It(61005,{value:i})}function zh(i){switch(Br(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=If(i);return t?16+zh(t):16;case 5:return 2*i.stringValue.length;case 6:return zr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+zh(u)),0)})(i.arrayValue);case 10:case 11:return(function(r){let o=0;return Pa(r.fields,((u,c)=>{o+=u.length+zh(c)})),o})(i.mapValue);default:throw It(13486,{value:i})}}function xp(i){return!!i&&"integerValue"in i}function wg(i){return!!i&&"arrayValue"in i}function WT(i){return!!i&&"nullValue"in i}function $T(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Bh(i){return!!i&&"mapValue"in i}function HD(i){return(i?.mapValue?.fields||{})[Zb]?.stringValue===tS}function vu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const t={mapValue:{fields:{}}};return Pa(i.mapValue.fields,((e,r)=>t.mapValue.fields[e]=vu(r))),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(i.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=vu(i.arrayValue.values[e]);return t}return{...i}}function qD(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===FD}class yi{constructor(t){this.value=t}static empty(){return new yi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!Bh(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=vu(e)}setAll(t){let e=En.emptyPath(),r={},o=[];t.forEach(((c,m)=>{if(!e.isImmediateParentOf(m)){const p=this.getFieldsMap(e);this.applyChanges(p,r,o),r={},o=[],e=m.popLast()}c?r[m.lastSegment()]=vu(c):o.push(m.lastSegment())}));const u=this.getFieldsMap(e);this.applyChanges(u,r,o)}delete(t){const e=this.field(t.popLast());Bh(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return ds(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=e.mapValue.fields[t.get(r)];Bh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,r){Pa(e,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new yi(vu(this.value))}}function eS(i){const t=[];return Pa(i.fields,((e,r)=>{const o=new En([e]);if(Bh(r)){const u=eS(r.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)})),new Li(t)}class Cn{constructor(t,e,r,o,u,c,m){this.key=t,this.documentType=e,this.version=r,this.readTime=o,this.createTime=u,this.data=c,this.documentState=m}static newInvalidDocument(t){return new Cn(t,0,Nt.min(),Nt.min(),Nt.min(),yi.empty(),0)}static newFoundDocument(t,e,r,o){return new Cn(t,1,e,Nt.min(),r,o,0)}static newNoDocument(t,e){return new Cn(t,2,e,Nt.min(),Nt.min(),yi.empty(),0)}static newUnknownDocument(t,e){return new Cn(t,3,e,Nt.min(),Nt.min(),yi.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Nt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=yi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=yi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Cn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class lf{constructor(t,e){this.position=t,this.inclusive=e}}function JT(i,t,e){let r=0;for(let o=0;o<i.position.length;o++){const u=t[o],c=i.position[o];if(u.field.isKeyField()?r=xt.comparator(xt.fromName(c.referenceValue),e.key):r=Qo(c,e.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function ZT(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let e=0;e<i.position.length;e++)if(!ds(i.position[e],t.position[e]))return!1;return!0}class uf{constructor(t,e="asc"){this.field=t,this.dir=e}}function GD(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}class nS{}class sn extends nS{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,r):new YD(t,e,r):e==="array-contains"?new WD(t,r):e==="in"?new $D(t,r):e==="not-in"?new JD(t,r):e==="array-contains-any"?new ZD(t,r):new sn(t,e,r)}static createKeyFieldInFilter(t,e,r){return e==="in"?new QD(t,r):new XD(t,r)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Qo(e,this.value)):e!==null&&Br(this.value)===Br(e)&&this.matchesComparison(Qo(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return It(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ms extends nS{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new ms(t,e)}matches(t){return iS(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function iS(i){return i.op==="and"}function sS(i){return KD(i)&&iS(i)}function KD(i){for(const t of i.filters)if(t instanceof ms)return!1;return!0}function Rp(i){if(i instanceof sn)return i.field.canonicalString()+i.op.toString()+Xo(i.value);if(sS(i))return i.filters.map((t=>Rp(t))).join(",");{const t=i.filters.map((e=>Rp(e))).join(",");return`${i.op}(${t})`}}function rS(i,t){return i instanceof sn?(function(r,o){return o instanceof sn&&r.op===o.op&&r.field.isEqual(o.field)&&ds(r.value,o.value)})(i,t):i instanceof ms?(function(r,o){return o instanceof ms&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,c,m)=>u&&rS(c,o.filters[m])),!0):!1})(i,t):void It(19439)}function aS(i){return i instanceof sn?(function(e){return`${e.field.canonicalString()} ${e.op} ${Xo(e.value)}`})(i):i instanceof ms?(function(e){return e.op.toString()+" {"+e.getFilters().map(aS).join(" ,")+"}"})(i):"Filter"}class YD extends sn{constructor(t,e,r){super(t,e,r),this.key=xt.fromName(r.referenceValue)}matches(t){const e=xt.comparator(t.key,this.key);return this.matchesComparison(e)}}class QD extends sn{constructor(t,e){super(t,"in",e),this.keys=oS("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class XD extends sn{constructor(t,e){super(t,"not-in",e),this.keys=oS("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function oS(i,t){return(t.arrayValue?.values||[]).map((e=>xt.fromName(e.referenceValue)))}class WD extends sn{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return wg(e)&&Nu(e.arrayValue,this.value)}}class $D extends sn{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Nu(this.value.arrayValue,e)}}class JD extends sn{constructor(t,e){super(t,"not-in",e)}matches(t){if(Nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Nu(this.value.arrayValue,e)}}class ZD extends sn{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!wg(e)||!e.arrayValue.values)&&e.arrayValue.values.some((r=>Nu(this.value.arrayValue,r)))}}class tM{constructor(t,e=null,r=[],o=[],u=null,c=null,m=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=c,this.endAt=m,this.Te=null}}function t1(i,t=null,e=[],r=[],o=null,u=null,c=null){return new tM(i,t,e,r,o,u,c)}function xg(i){const t=kt(i);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((r=>Rp(r))).join(","),e+="|ob:",e+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Cf(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((r=>Xo(r))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((r=>Xo(r))).join(",")),t.Te=e}return t.Te}function Rg(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<i.orderBy.length;e++)if(!GD(i.orderBy[e],t.orderBy[e]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let e=0;e<i.filters.length;e++)if(!rS(i.filters[e],t.filters[e]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!ZT(i.startAt,t.startAt)&&ZT(i.endAt,t.endAt)}function Cp(i){return xt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class Df{constructor(t,e=null,r=[],o=[],u=null,c="F",m=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function eM(i,t,e,r,o,u,c,m){return new Df(i,t,e,r,o,u,c,m)}function Cg(i){return new Df(i)}function e1(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function nM(i){return i.collectionGroup!==null}function _u(i){const t=kt(i);if(t.Ie===null){t.Ie=[];const e=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),e.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new rn(En.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(t).forEach((u=>{e.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new uf(u,r))})),e.has(En.keyField().canonicalString())||t.Ie.push(new uf(En.keyField(),r))}return t.Ie}function as(i){const t=kt(i);return t.Ee||(t.Ee=iM(t,_u(i))),t.Ee}function iM(i,t){if(i.limitType==="F")return t1(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new uf(o.field,u)}));const e=i.endAt?new lf(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new lf(i.startAt.position,i.startAt.inclusive):null;return t1(i.path,i.collectionGroup,t,i.filters,i.limit,e,r)}}function Ip(i,t,e){return new Df(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,e,i.startAt,i.endAt)}function Mf(i,t){return Rg(as(i),as(t))&&i.limitType===t.limitType}function lS(i){return`${xg(as(i))}|lt:${i.limitType}`}function Mo(i){return`Query(target=${(function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map((o=>aS(o))).join(", ")}]`),Cf(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((o=>Xo(o))).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((o=>Xo(o))).join(",")),`Target(${r})`})(as(i))}; limitType=${i.limitType})`}function Vf(i,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):xt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(i,t)&&(function(r,o){for(const u of _u(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(i,t)&&(function(r,o){return!(r.startAt&&!(function(c,m,p){const g=JT(c,m,p);return c.inclusive?g<=0:g<0})(r.startAt,_u(r),o)||r.endAt&&!(function(c,m,p){const g=JT(c,m,p);return c.inclusive?g>=0:g>0})(r.endAt,_u(r),o))})(i,t)}function sM(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function uS(i){return(t,e)=>{let r=!1;for(const o of _u(i)){const u=rM(o,t,e);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function rM(i,t,e){const r=i.field.isKeyField()?xt.comparator(t.key,e.key):(function(u,c,m){const p=c.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Qo(p,g):It(42886)})(i.field,t,e);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return It(19790,{direction:i.dir})}}class ka{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,e){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,e]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[e]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Pa(this.inner,((e,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return Yb(this.inner)}size(){return this.innerSize}}const aM=new Oe(xt.comparator);function Gs(){return aM}const cS=new Oe(xt.comparator);function fu(...i){let t=cS;for(const e of i)t=t.insert(e.key,e);return t}function hS(i){let t=cS;return i.forEach(((e,r)=>t=t.insert(e,r.overlayedDocument))),t}function Sa(){return Tu()}function fS(){return Tu()}function Tu(){return new ka((i=>i.toString()),((i,t)=>i.isEqual(t)))}const oM=new Oe(xt.comparator),lM=new rn(xt.comparator);function $t(...i){let t=lM;for(const e of i)t=t.add(e);return t}const uM=new rn(Wt);function cM(){return uM}function Ig(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rf(t)?"-0":t}}function dS(i){return{integerValue:""+i}}function hM(i,t){return jD(t)?dS(t):Ig(i,t)}class Of{constructor(){this._=void 0}}function fM(i,t,e){return i instanceof cf?(function(o,u){const c={fields:{[Wb]:{stringValue:Xb},[Jb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Ag(u)&&(u=If(u)),u&&(c.fields[$b]=u),{mapValue:c}})(e,t):i instanceof Pu?pS(i,t):i instanceof ku?gS(i,t):(function(o,u){const c=mS(o,u),m=n1(c)+n1(o.Ae);return xp(c)&&xp(o.Ae)?dS(m):Ig(o.serializer,m)})(i,t)}function dM(i,t,e){return i instanceof Pu?pS(i,t):i instanceof ku?gS(i,t):e}function mS(i,t){return i instanceof hf?(function(r){return xp(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class cf extends Of{}class Pu extends Of{constructor(t){super(),this.elements=t}}function pS(i,t){const e=yS(t);for(const r of i.elements)e.some((o=>ds(o,r)))||e.push(r);return{arrayValue:{values:e}}}class ku extends Of{constructor(t){super(),this.elements=t}}function gS(i,t){let e=yS(t);for(const r of i.elements)e=e.filter((o=>!ds(o,r)));return{arrayValue:{values:e}}}class hf extends Of{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function n1(i){return He(i.integerValue||i.doubleValue)}function yS(i){return wg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function mM(i,t){return i.field.isEqual(t.field)&&(function(r,o){return r instanceof Pu&&o instanceof Pu||r instanceof ku&&o instanceof ku?Yo(r.elements,o.elements,ds):r instanceof hf&&o instanceof hf?ds(r.Ae,o.Ae):r instanceof cf&&o instanceof cf})(i.transform,t.transform)}class pM{constructor(t,e){this.version=t,this.transformResults=e}}class Bs{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Bs}static exists(t){return new Bs(void 0,t)}static updateTime(t){return new Bs(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Fh(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class Nf{}function vS(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new TS(i.key,Bs.none()):new Wu(i.key,i.data,Bs.none());{const e=i.data,r=yi.empty();let o=new rn(En.comparator);for(let u of t.fields)if(!o.has(u)){let c=e.field(u);c===null&&u.length>1&&(u=u.popLast(),c=e.field(u)),c===null?r.delete(u):r.set(u,c),o=o.add(u)}return new ja(i.key,r,new Li(o.toArray()),Bs.none())}}function gM(i,t,e){i instanceof Wu?(function(o,u,c){const m=o.value.clone(),p=s1(o.fieldTransforms,u,c.transformResults);m.setAll(p),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(i,t,e):i instanceof ja?(function(o,u,c){if(!Fh(o.precondition,u))return void u.convertToUnknownDocument(c.version);const m=s1(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(_S(o)),p.setAll(m),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(i,t,e):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function Eu(i,t,e,r){return i instanceof Wu?(function(u,c,m,p){if(!Fh(u.precondition,c))return m;const g=u.value.clone(),v=r1(u.fieldTransforms,p,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(i,t,e,r):i instanceof ja?(function(u,c,m,p){if(!Fh(u.precondition,c))return m;const g=r1(u.fieldTransforms,p,c),v=c.data;return v.setAll(_S(u)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((E=>E.field)))})(i,t,e,r):(function(u,c,m){return Fh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(i,t,e)}function yM(i,t){let e=null;for(const r of i.fieldTransforms){const o=t.data.field(r.field),u=mS(r.transform,o||null);u!=null&&(e===null&&(e=yi.empty()),e.set(r.field,u))}return e||null}function i1(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Yo(r,o,((u,c)=>mM(u,c)))})(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class Wu extends Nf{constructor(t,e,r,o=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ja extends Nf{constructor(t,e,r,o,u=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function _S(i){const t=new Map;return i.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const r=i.data.field(e);t.set(e,r)}})),t}function s1(i,t,e){const r=new Map;ae(i.length===e.length,32656,{Re:e.length,Ve:i.length});for(let o=0;o<e.length;o++){const u=i[o],c=u.transform,m=t.data.field(u.field);r.set(u.field,dM(c,m,e[o]))}return r}function r1(i,t,e){const r=new Map;for(const o of i){const u=o.transform,c=e.data.field(o.field);r.set(o.field,fM(u,c,t))}return r}class TS extends Nf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vM extends Nf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class _M{constructor(t,e,r,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&gM(u,t,r[o])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=Eu(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=Eu(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=fS();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let m=this.applyToLocalView(c,u.mutatedFields);m=e.has(o.key)?null:m;const p=vS(c,m);p!==null&&r.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Nt.min())})),r}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),$t())}isEqual(t){return this.batchId===t.batchId&&Yo(this.mutations,t.mutations,((e,r)=>i1(e,r)))&&Yo(this.baseMutations,t.baseMutations,((e,r)=>i1(e,r)))}}class Dg{constructor(t,e,r,o){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=o}static from(t,e,r){ae(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return oM})();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,r[c].version);return new Dg(t,e,r,o)}}class TM{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class EM{constructor(t,e){this.count=t,this.unchangedNames=e}}var $e,ee;function bM(i){switch(i){case ct.OK:return It(64938);case ct.CANCELLED:case ct.UNKNOWN:case ct.DEADLINE_EXCEEDED:case ct.RESOURCE_EXHAUSTED:case ct.INTERNAL:case ct.UNAVAILABLE:case ct.UNAUTHENTICATED:return!1;case ct.INVALID_ARGUMENT:case ct.NOT_FOUND:case ct.ALREADY_EXISTS:case ct.PERMISSION_DENIED:case ct.FAILED_PRECONDITION:case ct.ABORTED:case ct.OUT_OF_RANGE:case ct.UNIMPLEMENTED:case ct.DATA_LOSS:return!0;default:return It(15467,{code:i})}}function ES(i){if(i===void 0)return qs("GRPC error has no .code"),ct.UNKNOWN;switch(i){case $e.OK:return ct.OK;case $e.CANCELLED:return ct.CANCELLED;case $e.UNKNOWN:return ct.UNKNOWN;case $e.DEADLINE_EXCEEDED:return ct.DEADLINE_EXCEEDED;case $e.RESOURCE_EXHAUSTED:return ct.RESOURCE_EXHAUSTED;case $e.INTERNAL:return ct.INTERNAL;case $e.UNAVAILABLE:return ct.UNAVAILABLE;case $e.UNAUTHENTICATED:return ct.UNAUTHENTICATED;case $e.INVALID_ARGUMENT:return ct.INVALID_ARGUMENT;case $e.NOT_FOUND:return ct.NOT_FOUND;case $e.ALREADY_EXISTS:return ct.ALREADY_EXISTS;case $e.PERMISSION_DENIED:return ct.PERMISSION_DENIED;case $e.FAILED_PRECONDITION:return ct.FAILED_PRECONDITION;case $e.ABORTED:return ct.ABORTED;case $e.OUT_OF_RANGE:return ct.OUT_OF_RANGE;case $e.UNIMPLEMENTED:return ct.UNIMPLEMENTED;case $e.DATA_LOSS:return ct.DATA_LOSS;default:return It(39323,{code:i})}}(ee=$e||($e={}))[ee.OK=0]="OK",ee[ee.CANCELLED=1]="CANCELLED",ee[ee.UNKNOWN=2]="UNKNOWN",ee[ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ee[ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ee[ee.NOT_FOUND=5]="NOT_FOUND",ee[ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",ee[ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",ee[ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",ee[ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ee[ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ee[ee.ABORTED=10]="ABORTED",ee[ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",ee[ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",ee[ee.INTERNAL=13]="INTERNAL",ee[ee.UNAVAILABLE=14]="UNAVAILABLE",ee[ee.DATA_LOSS=15]="DATA_LOSS";function SM(){return new TextEncoder}const AM=new kr([4294967295,4294967295],0);function a1(i){const t=SM().encode(i),e=new jb;return e.update(t),new Uint8Array(e.digest())}function o1(i){const t=new DataView(i.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new kr([e,r],0),new kr([o,u],0)]}class Mg{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new du(`Invalid padding: ${e}`);if(r<0)throw new du(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new du(`Invalid hash count: ${r}`);if(t.length===0&&e!==0)throw new du(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=kr.fromNumber(this.ge)}ye(t,e,r){let o=t.add(e.multiply(kr.fromNumber(r)));return o.compare(AM)===1&&(o=new kr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=a1(t),[r,o]=o1(e);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);if(!this.we(c))return!1}return!0}static create(t,e,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new Mg(u,o,e);return r.forEach((m=>c.insert(m))),c}insert(t){if(this.ge===0)return;const e=a1(t),[r,o]=o1(e);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);this.Se(c)}}Se(t){const e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}}class du extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Pf{constructor(t,e,r,o,u){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const o=new Map;return o.set(t,$u.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new Pf(Nt.min(),o,new Oe(Wt),Gs(),$t())}}class $u{constructor(t,e,r,o,u){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new $u(r,e,$t(),$t(),$t())}}class Hh{constructor(t,e,r,o){this.be=t,this.removedTargetIds=e,this.key=r,this.De=o}}class bS{constructor(t,e){this.targetId=t,this.Ce=e}}class SS{constructor(t,e,r=bn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=o}}class l1{constructor(){this.ve=0,this.Fe=u1(),this.Me=bn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=$t(),e=$t(),r=$t();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:r=r.add(o);break;default:It(38017,{changeType:u})}})),new $u(this.Me,this.xe,t,e,r)}qe(){this.Oe=!1,this.Fe=u1()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ae(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class wM{constructor(t){this.Ge=t,this.ze=new Map,this.je=Gs(),this.Je=Ch(),this.He=Ch(),this.Ye=new Oe(Wt)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const r=this.nt(e);switch(t.state){case 0:this.rt(e)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),r.Le(t.resumeToken));break;default:It(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((r,o)=>{this.rt(o)&&e(o)}))}st(t){const e=t.targetId,r=t.Ce.count,o=this.ot(e);if(o){const u=o.target;if(Cp(u))if(r===0){const c=new xt(u.path);this.et(e,c,Cn.newNoDocument(c,Nt.min()))}else ae(r===1,20013,{expectedCount:r});else{const c=this._t(e);if(c!==r){const m=this.ut(t),p=m?this.ct(m,t,c):1;if(p!==0){this.it(e);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,g)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=e;let c,m;try{c=zr(r).toUint8Array()}catch(p){if(p instanceof Qb)return Ko("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Mg(c,o,u)}catch(p){return Ko(p instanceof du?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(t,e,r){return e.Ce.count===r-this.Pt(t,e.targetId)?0:2}Pt(t,e){const r=this.Ge.getRemoteKeysForTarget(e);let o=0;return r.forEach((u=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(e,u,null),o++)})),o}Tt(t){const e=new Map;this.ze.forEach(((u,c)=>{const m=this.ot(c);if(m){if(u.current&&Cp(m.target)){const p=new xt(m.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,Cn.newNoDocument(p,t))}u.Be&&(e.set(c,u.ke()),u.qe())}}));let r=$t();this.He.forEach(((u,c)=>{let m=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(t)));const o=new Pf(t,e,this.Ye,this.je,r);return this.je=Gs(),this.Je=Ch(),this.He=Ch(),this.Ye=new Oe(Wt),o}Xe(t,e){if(!this.rt(t))return;const r=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,r),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,e)?o.Qe(e,1):o.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),r&&(this.je=this.je.insert(e,r))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new l1,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new rn(Wt),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new rn(Wt),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||Tt("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new l1),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Ch(){return new Oe(xt.comparator)}function u1(){return new Oe(xt.comparator)}const xM={asc:"ASCENDING",desc:"DESCENDING"},RM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CM={and:"AND",or:"OR"};class IM{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Dp(i,t){return i.useProto3Json||Cf(t)?t:{value:t}}function ff(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function AS(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function DM(i,t){return ff(i,t.toTimestamp())}function os(i){return ae(!!i,49232),Nt.fromTimestamp((function(e){const r=Ur(e);return new Ae(r.seconds,r.nanos)})(i))}function Vg(i,t){return Mp(i,t).canonicalString()}function Mp(i,t){const e=(function(o){return new Me(["projects",o.projectId,"databases",o.database])})(i).child("documents");return t===void 0?e:e.child(t)}function wS(i){const t=Me.fromString(i);return ae(DS(t),10190,{key:t.toString()}),t}function Vp(i,t){return Vg(i.databaseId,t.path)}function Wm(i,t){const e=wS(t);if(e.get(1)!==i.databaseId.projectId)throw new St(ct.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+i.databaseId.projectId);if(e.get(3)!==i.databaseId.database)throw new St(ct.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+i.databaseId.database);return new xt(RS(e))}function xS(i,t){return Vg(i.databaseId,t)}function MM(i){const t=wS(i);return t.length===4?Me.emptyPath():RS(t)}function Op(i){return new Me(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function RS(i){return ae(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function c1(i,t,e){return{name:Vp(i,t),fields:e.value.mapValue.fields}}function VM(i,t){let e;if("targetChange"in t){t.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:It(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,v){return g.useProto3Json?(ae(v===void 0||typeof v=="string",58123),bn.fromBase64String(v||"")):(ae(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),bn.fromUint8Array(v||new Uint8Array))})(i,t.targetChange.resumeToken),c=t.targetChange.cause,m=c&&(function(g){const v=g.code===void 0?ct.UNKNOWN:ES(g.code);return new St(v,g.message||"")})(c);e=new SS(r,o,u,m||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=Wm(i,r.document.name),u=os(r.document.updateTime),c=r.document.createTime?os(r.document.createTime):Nt.min(),m=new yi({mapValue:{fields:r.document.fields}}),p=Cn.newFoundDocument(o,u,c,m),g=r.targetIds||[],v=r.removedTargetIds||[];e=new Hh(g,v,p.key,p)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=Wm(i,r.document),u=r.readTime?os(r.readTime):Nt.min(),c=Cn.newNoDocument(o,u),m=r.removedTargetIds||[];e=new Hh([],m,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=Wm(i,r.document),u=r.removedTargetIds||[];e=new Hh([],u,o,null)}else{if(!("filter"in t))return It(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,c=new EM(o,u),m=r.targetId;e=new bS(m,c)}}return e}function OM(i,t){let e;if(t instanceof Wu)e={update:c1(i,t.key,t.value)};else if(t instanceof TS)e={delete:Vp(i,t.key)};else if(t instanceof ja)e={update:c1(i,t.key,t.data),updateMask:FM(t.fieldMask)};else{if(!(t instanceof vM))return It(16599,{Vt:t.type});e={verify:Vp(i,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((r=>(function(u,c){const m=c.transform;if(m instanceof cf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Pu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ku)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof hf)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw It(20930,{transform:c.transform})})(0,r)))),t.precondition.isNone||(e.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:DM(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:It(27497)})(i,t.precondition)),e}function NM(i,t){return i&&i.length>0?(ae(t!==void 0,14353),i.map((e=>(function(o,u){let c=o.updateTime?os(o.updateTime):os(u);return c.isEqual(Nt.min())&&(c=os(u)),new pM(c,o.transformResults||[])})(e,t)))):[]}function PM(i,t){return{documents:[xS(i,t.path)]}}function kM(i,t){const e={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=xS(i,o);const u=(function(g){if(g.length!==0)return IS(ms.create(g,"and"))})(t.filters);u&&(e.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((v=>(function(b){return{field:Vo(b.field),direction:UM(b.dir)}})(v)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const m=Dp(i,t.limit);return m!==null&&(e.structuredQuery.limit=m),t.startAt&&(e.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:e,parent:o}}function jM(i){let t=MM(i.parent);const e=i.structuredQuery,r=e.from?e.from.length:0;let o=null;if(r>0){ae(r===1,65062);const v=e.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let u=[];e.where&&(u=(function(E){const b=CS(E);return b instanceof ms&&sS(b)?b.getFilters():[b]})(e.where));let c=[];e.orderBy&&(c=(function(E){return E.map((b=>(function(U){return new uf(Oo(U.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(b)))})(e.orderBy));let m=null;e.limit&&(m=(function(E){let b;return b=typeof E=="object"?E.value:E,Cf(b)?null:b})(e.limit));let p=null;e.startAt&&(p=(function(E){const b=!!E.before,C=E.values||[];return new lf(C,b)})(e.startAt));let g=null;return e.endAt&&(g=(function(E){const b=!E.before,C=E.values||[];return new lf(C,b)})(e.endAt)),eM(t,o,c,u,m,"F",p,g)}function LM(i,t){const e=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return It(28987,{purpose:o})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function CS(i){return i.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=Oo(e.unaryFilter.field);return sn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Oo(e.unaryFilter.field);return sn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Oo(e.unaryFilter.field);return sn.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Oo(e.unaryFilter.field);return sn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return It(61313);default:return It(60726)}})(i):i.fieldFilter!==void 0?(function(e){return sn.create(Oo(e.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return It(58110);default:return It(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(e){return ms.create(e.compositeFilter.filters.map((r=>CS(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return It(1026)}})(e.compositeFilter.op))})(i):It(30097,{filter:i})}function UM(i){return xM[i]}function zM(i){return RM[i]}function BM(i){return CM[i]}function Vo(i){return{fieldPath:i.canonicalString()}}function Oo(i){return En.fromServerFormat(i.fieldPath)}function IS(i){return i instanceof sn?(function(e){if(e.op==="=="){if($T(e.value))return{unaryFilter:{field:Vo(e.field),op:"IS_NAN"}};if(WT(e.value))return{unaryFilter:{field:Vo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if($T(e.value))return{unaryFilter:{field:Vo(e.field),op:"IS_NOT_NAN"}};if(WT(e.value))return{unaryFilter:{field:Vo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vo(e.field),op:zM(e.op),value:e.value}}})(i):i instanceof ms?(function(e){const r=e.getFilters().map((o=>IS(o)));return r.length===1?r[0]:{compositeFilter:{op:BM(e.op),filters:r}}})(i):It(54877,{filter:i})}function FM(i){const t=[];return i.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function DS(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class Vr{constructor(t,e,r,o,u=Nt.min(),c=Nt.min(),m=bn.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new Vr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class HM{constructor(t){this.yt=t}}function qM(i){const t=jM({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Ip(t,t.limit,"L"):t}class GM{constructor(){this.Cn=new KM}addToCollectionParentIndex(t,e){return this.Cn.add(e),at.resolve()}getCollectionParents(t,e){return at.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return at.resolve()}deleteFieldIndex(t,e){return at.resolve()}deleteAllFieldIndexes(t){return at.resolve()}createTargetIndexes(t,e){return at.resolve()}getDocumentsMatchingTarget(t,e){return at.resolve(null)}getIndexType(t,e){return at.resolve(0)}getFieldIndexes(t,e){return at.resolve([])}getNextCollectionGroupToUpdate(t){return at.resolve(null)}getMinOffset(t,e){return at.resolve(Lr.min())}getMinOffsetFromCollectionGroup(t,e){return at.resolve(Lr.min())}updateCollectionGroup(t,e,r){return at.resolve()}updateIndexEntries(t,e){return at.resolve()}}class KM{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e]||new rn(Me.comparator),u=!o.has(r);return this.index[e]=o.add(r),u}has(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e];return o&&o.has(r)}getEntries(t){return(this.index[t]||new rn(Me.comparator)).toArray()}}const h1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},MS=41943040;class qn{static withCacheSize(t){return new qn(t,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}qn.DEFAULT_COLLECTION_PERCENTILE=10,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qn.DEFAULT=new qn(MS,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qn.DISABLED=new qn(-1,0,0);class Wo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Wo(0)}static cr(){return new Wo(-1)}}const f1="LruGarbageCollector",YM=1048576;function d1([i,t],[e,r]){const o=Wt(i,e);return o===0?Wt(t,r):o}class QM{constructor(t){this.Ir=t,this.buffer=new rn(d1),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();d1(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class XM{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){Tt(f1,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){rl(e)?Tt(f1,"Ignoring IndexedDB error during garbage collection: ",e):await sl(e)}await this.Vr(3e5)}))}}class WM{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((r=>Math.floor(e/100*r)))}nthSequenceNumber(t,e){if(e===0)return at.resolve(Rf.ce);const r=new QM(e);return this.mr.forEachTarget(t,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(t,e,r){return this.mr.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(Tt("LruGarbageCollector","Garbage collection skipped; disabled"),at.resolve(h1)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(Tt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),h1):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let r,o,u,c,m,p,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(Tt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,c=Date.now(),this.nthSequenceNumber(t,o)))).next((E=>(r=E,m=Date.now(),this.removeTargets(t,r,e)))).next((E=>(u=E,p=Date.now(),this.removeOrphanedDocuments(t,r)))).next((E=>(g=Date.now(),Do()<=Xt.DEBUG&&Tt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${E} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),at.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:E}))))}}function $M(i,t){return new WM(i,t)}class JM{constructor(){this.changes=new ka((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Cn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return r!==void 0?at.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class ZM{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class tV{constructor(t,e,r,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,e)))).next((o=>(r!==null&&Eu(r.mutation,o,Li.empty(),Ae.now()),o)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.getLocalViewOfDocuments(t,r,$t()).next((()=>r))))}getLocalViewOfDocuments(t,e,r=$t()){const o=Sa();return this.populateOverlays(t,o,e).next((()=>this.computeViews(t,e,o,r).next((u=>{let c=fu();return u.forEach(((m,p)=>{c=c.insert(m,p.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const r=Sa();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,$t())))}populateOverlays(t,e,r){const o=[];return r.forEach((u=>{e.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,m)=>{e.set(c,m)}))}))}computeViews(t,e,r,o){let u=Gs();const c=Tu(),m=(function(){return Tu()})();return e.forEach(((p,g)=>{const v=r.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof ja)?u=u.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),Eu(v.mutation,g,v.mutation.getFieldMask(),Ae.now())):c.set(g.key,Li.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,v)=>c.set(g,v))),e.forEach(((g,v)=>m.set(g,new ZM(v,c.get(g)??null)))),m)))}recalculateAndSaveOverlays(t,e){const r=Tu();let o=new Oe(((c,m)=>c-m)),u=$t();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const m of c)m.keys().forEach((p=>{const g=e.get(p);if(g===null)return;let v=r.get(p)||Li.empty();v=m.applyToLocalView(g,v),r.set(p,v);const E=(o.get(m.batchId)||$t()).add(p);o=o.insert(m.batchId,E)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,E=fS();v.forEach((b=>{if(!u.has(b)){const C=vS(e.get(b),r.get(b));C!==null&&E.set(b,C),u=u.add(b)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,E))}return at.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,e,r,o){return(function(c){return xt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):nM(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,o):this.getDocumentsMatchingCollectionQuery(t,e,r,o)}getNextDocuments(t,e,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,o-u.size):at.resolve(Sa());let m=Mu,p=u;return c.next((g=>at.forEach(g,((v,E)=>(m<E.largestBatchId&&(m=E.largestBatchId),u.get(v)?at.resolve():this.remoteDocumentCache.getEntry(t,v).next((b=>{p=p.insert(v,b)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,$t()))).next((v=>({batchId:m,changes:hS(v)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new xt(e)).next((r=>{let o=fu();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,e,r,o){const u=e.collectionGroup;let c=fu();return this.indexManager.getCollectionParents(t,u).next((m=>at.forEach(m,(p=>{const g=(function(E,b){return new Df(b,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(e,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,r,o).next((v=>{v.forEach(((E,b)=>{c=c.insert(E,b)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,u,o)))).next((c=>{u.forEach(((p,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,Cn.newInvalidDocument(v)))}));let m=fu();return c.forEach(((p,g)=>{const v=u.get(p);v!==void 0&&Eu(v.mutation,g,Li.empty(),Ae.now()),Vf(e,g)&&(m=m.insert(p,g))})),m}))}}class eV{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return at.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(o){return{id:o.id,version:o.version,createTime:os(o.createTime)}})(e)),at.resolve()}getNamedQuery(t,e){return at.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(o){return{name:o.name,query:qM(o.bundledQuery),readTime:os(o.readTime)}})(e)),at.resolve()}}class nV{constructor(){this.overlays=new Oe(xt.comparator),this.qr=new Map}getOverlay(t,e){return at.resolve(this.overlays.get(e))}getOverlays(t,e){const r=Sa();return at.forEach(e,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,e,r){return r.forEach(((o,u)=>{this.St(t,e,u)})),at.resolve()}removeOverlaysForBatchId(t,e,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),at.resolve()}getOverlaysForCollection(t,e,r){const o=Sa(),u=e.length+1,c=new xt(e.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>r&&o.set(p.getKey(),p)}return at.resolve(o)}getOverlaysForCollectionGroup(t,e,r,o){let u=new Oe(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>r){let v=u.get(g.largestBatchId);v===null&&(v=Sa(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=Sa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>m.set(g,v))),!(m.size()>=o)););return at.resolve(m)}St(t,e,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new TM(e,r));let u=this.qr.get(e);u===void 0&&(u=$t(),this.qr.set(e,u)),this.qr.set(e,u.add(r.key))}}class iV{constructor(){this.sessionToken=bn.EMPTY_BYTE_STRING}getSessionToken(t){return at.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,at.resolve()}}class Og{constructor(){this.Qr=new rn(un.$r),this.Ur=new rn(un.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const r=new un(t,e);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,e){t.forEach((r=>this.addReference(r,e)))}removeReference(t,e){this.Gr(new un(t,e))}zr(t,e){t.forEach((r=>this.removeReference(r,e)))}jr(t){const e=new xt(new Me([])),r=new un(e,t),o=new un(e,t+1),u=[];return this.Ur.forEachInRange([r,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new xt(new Me([])),r=new un(e,t),o=new un(e,t+1);let u=$t();return this.Ur.forEachInRange([r,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const e=new un(t,0),r=this.Qr.firstAfterOrEqual(e);return r!==null&&t.isEqual(r.key)}}class un{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return xt.comparator(t.key,e.key)||Wt(t.Yr,e.Yr)}static Kr(t,e){return Wt(t.Yr,e.Yr)||xt.comparator(t.key,e.key)}}class sV{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new rn(un.$r)}checkEmpty(t){return at.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new _M(u,e,r,o);this.mutationQueue.push(c);for(const m of o)this.Zr=this.Zr.add(new un(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return at.resolve(c)}lookupMutationBatch(t,e){return at.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,o=this.ei(r),u=o<0?0:o;return at.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return at.resolve(this.mutationQueue.length===0?Sg:this.tr-1)}getAllMutationBatches(t){return at.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new un(e,0),o=new un(e,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(c=>{const m=this.Xr(c.Yr);u.push(m)})),at.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new rn(Wt);return e.forEach((o=>{const u=new un(o,0),c=new un(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(m=>{r=r.add(m.Yr)}))})),at.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,o=r.length+1;let u=r;xt.isDocumentKey(u)||(u=u.child(""));const c=new un(new xt(u),0);let m=new rn(Wt);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),c),at.resolve(this.ti(m))}ti(t){const e=[];return t.forEach((r=>{const o=this.Xr(r);o!==null&&e.push(o)})),e}removeMutationBatch(t,e){ae(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return at.forEach(e.mutations,(o=>{const u=new un(o.key,e.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,e){const r=new un(e,0),o=this.Zr.firstAfterOrEqual(r);return at.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,at.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class rV{constructor(t){this.ri=t,this.docs=(function(){return new Oe(xt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,o=this.docs.get(r),u=o?o.size:0,c=this.ri(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return at.resolve(r?r.document.mutableCopy():Cn.newInvalidDocument(e))}getEntries(t,e){let r=Gs();return e.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Cn.newInvalidDocument(o))})),at.resolve(r)}getDocumentsMatchingQuery(t,e,r,o){let u=Gs();const c=e.path,m=new xt(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||OD(VD(v),r)<=0||(o.has(v.key)||Vf(e,v))&&(u=u.insert(v.key,v.mutableCopy()))}return at.resolve(u)}getAllFromCollectionGroup(t,e,r,o){It(9500)}ii(t,e){return at.forEach(this.docs,(r=>e(r)))}newChangeBuffer(t){return new aV(this)}getSize(t){return at.resolve(this.size)}}class aV extends JM{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?e.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(r)})),at.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}class oV{constructor(t){this.persistence=t,this.si=new ka((e=>xg(e)),Rg),this.lastRemoteSnapshotVersion=Nt.min(),this.highestTargetId=0,this.oi=0,this._i=new Og,this.targetCount=0,this.ai=Wo.ur()}forEachTarget(t,e){return this.si.forEach(((r,o)=>e(o))),at.resolve()}getLastRemoteSnapshotVersion(t){return at.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return at.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),at.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.oi&&(this.oi=e),at.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new Wo(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,at.resolve()}updateTargetData(t,e){return this.Pr(e),at.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,at.resolve()}removeTargets(t,e,r){let o=0;const u=[];return this.si.forEach(((c,m)=>{m.sequenceNumber<=e&&r.get(m.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),at.waitFor(u).next((()=>o))}getTargetCount(t){return at.resolve(this.targetCount)}getTargetData(t,e){const r=this.si.get(e)||null;return at.resolve(r)}addMatchingKeys(t,e,r){return this._i.Wr(e,r),at.resolve()}removeMatchingKeys(t,e,r){this._i.zr(e,r);const o=this.persistence.referenceDelegate,u=[];return o&&e.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),at.waitFor(u)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),at.resolve()}getMatchingKeysForTargetId(t,e){const r=this._i.Hr(e);return at.resolve(r)}containsKey(t,e){return at.resolve(this._i.containsKey(e))}}class VS{constructor(t,e){this.ui={},this.overlays={},this.ci=new Rf(0),this.li=!1,this.li=!0,this.hi=new iV,this.referenceDelegate=t(this),this.Pi=new oV(this),this.indexManager=new GM,this.remoteDocumentCache=(function(o){return new rV(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new HM(e),this.Ii=new eV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new nV,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.ui[t.toKey()];return r||(r=new sV(e,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,r){Tt("MemoryPersistence","Starting transaction:",t);const o=new lV(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,e){return at.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,e))))}}class lV extends PD{constructor(t){super(),this.currentSequenceNumber=t}}class Ng{constructor(t){this.persistence=t,this.Ri=new Og,this.Vi=null}static mi(t){return new Ng(t)}get fi(){if(this.Vi)return this.Vi;throw It(60996)}addReference(t,e,r){return this.Ri.addReference(r,e),this.fi.delete(r.toString()),at.resolve()}removeReference(t,e,r){return this.Ri.removeReference(r,e),this.fi.add(r.toString()),at.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),at.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return at.forEach(this.fi,(r=>{const o=xt.fromPath(r);return this.gi(t,o).next((u=>{u||e.removeEntry(o,Nt.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((r=>{r?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return at.or([()=>at.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class df{constructor(t,e){this.persistence=t,this.pi=new ka((r=>LD(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=$M(this,e)}static mi(t,e){return new df(t,e)}Ei(){}di(t){return at.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>e.next((o=>r+o))))}wr(t){let e=0;return this.pr(t,(r=>{e++})).next((()=>e))}pr(t,e){return at.forEach(this.pi,((r,o)=>this.br(t,r,o).next((u=>u?at.resolve():e(o)))))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(c=>this.br(t,c,e).next((m=>{m||(r++,u.removeEntry(c,Nt.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),at.resolve()}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),at.resolve()}removeReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),at.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),at.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=zh(t.data.value)),e}br(t,e,r){return at.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const o=this.pi.get(e);return at.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Pg{constructor(t,e,r,o){this.targetId=t,this.fromCache=e,this.Es=r,this.ds=o}static As(t,e){let r=$t(),o=$t();for(const u of e.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Pg(t,e.fromCache,r,o)}}class uV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class cV{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return JR()?8:kD(Dn())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,r,o){const u={result:null};return this.ys(t,e).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(t,e,o,r).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new uV;return this.Ss(t,e,c).next((m=>{if(u.result=m,this.Vs)return this.bs(t,e,c,m.size)}))})).next((()=>u.result))}bs(t,e,r,o){return r.documentReadCount<this.fs?(Do()<=Xt.DEBUG&&Tt("QueryEngine","SDK will not create cache indexes for query:",Mo(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),at.resolve()):(Do()<=Xt.DEBUG&&Tt("QueryEngine","Query:",Mo(e),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Do()<=Xt.DEBUG&&Tt("QueryEngine","The SDK decides to create cache indexes for query:",Mo(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,as(e))):at.resolve())}ys(t,e){if(e1(e))return at.resolve(null);let r=as(e);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(e.limit!==null&&o===1&&(e=Ip(e,null,"F"),r=as(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const c=$t(...u);return this.ps.getDocuments(t,c).next((m=>this.indexManager.getMinOffset(t,r).next((p=>{const g=this.Ds(e,m);return this.Cs(e,g,c,p.readTime)?this.ys(t,Ip(e,null,"F")):this.vs(t,g,e,p)}))))})))))}ws(t,e,r,o){return e1(e)||o.isEqual(Nt.min())?at.resolve(null):this.ps.getDocuments(t,r).next((u=>{const c=this.Ds(e,u);return this.Cs(e,c,r,o)?at.resolve(null):(Do()<=Xt.DEBUG&&Tt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Mo(e)),this.vs(t,c,e,MD(o,Mu)).next((m=>m)))}))}Ds(t,e){let r=new rn(uS(t));return e.forEach(((o,u)=>{Vf(t,u)&&(r=r.add(u))})),r}Cs(t,e,r,o){if(t.limit===null)return!1;if(r.size!==e.size)return!0;const u=t.limitType==="F"?e.last():e.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,e,r){return Do()<=Xt.DEBUG&&Tt("QueryEngine","Using full collection scan to execute query:",Mo(e)),this.ps.getDocumentsMatchingQuery(t,e,Lr.min(),r)}vs(t,e,r,o){return this.ps.getDocumentsMatchingQuery(t,r,o).next((u=>(e.forEach((c=>{u=u.insert(c.key,c)})),u)))}}const kg="LocalStore",hV=3e8;class fV{constructor(t,e,r,o){this.persistence=t,this.Fs=e,this.serializer=o,this.Ms=new Oe(Wt),this.xs=new ka((u=>xg(u)),Rg),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new tV(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function dV(i,t,e,r){return new fV(i,t,e,r)}async function OS(i,t){const e=kt(i);return await e.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return e.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,e.Bs(t),e.mutationQueue.getAllMutationBatches(r)))).next((u=>{const c=[],m=[];let p=$t();for(const g of o){c.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return e.localDocuments.getDocuments(r,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:m})))}))}))}function mV(i,t){const e=kt(i);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,v){const E=g.batch,b=E.keys();let C=at.resolve();return b.forEach((U=>{C=C.next((()=>v.getEntry(p,U))).next((M=>{const P=g.docVersions.get(U);ae(P!==null,48541),M.version.compareTo(P)<0&&(E.applyToRemoteDocument(M,g),M.isValidDocument()&&(M.setReadTime(g.commitVersion),v.addEntry(M)))}))})),C.next((()=>m.mutationQueue.removeMutationBatch(p,E)))})(e,r,t,u).next((()=>u.apply(r))).next((()=>e.mutationQueue.performConsistencyCheck(r))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let p=$t();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(t)))).next((()=>e.localDocuments.getDocuments(r,o)))}))}function NS(i){const t=kt(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function pV(i,t){const e=kt(i),r=t.snapshotVersion;let o=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=e.Ns.newChangeBuffer({trackRemovals:!0});o=e.Ms;const m=[];t.targetChanges.forEach(((v,E)=>{const b=o.get(E);if(!b)return;m.push(e.Pi.removeMatchingKeys(u,v.removedDocuments,E).next((()=>e.Pi.addMatchingKeys(u,v.addedDocuments,E))));let C=b.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(E)!==null?C=C.withResumeToken(bn.EMPTY_BYTE_STRING,Nt.min()).withLastLimboFreeSnapshotVersion(Nt.min()):v.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(v.resumeToken,r)),o=o.insert(E,C),(function(M,P,Q){return M.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=hV?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0})(b,C,v)&&m.push(e.Pi.updateTargetData(u,C))}));let p=Gs(),g=$t();if(t.documentUpdates.forEach((v=>{t.resolvedLimboDocuments.has(v)&&m.push(e.persistence.referenceDelegate.updateLimboDocument(u,v))})),m.push(gV(u,c,t.documentUpdates).next((v=>{p=v.ks,g=v.qs}))),!r.isEqual(Nt.min())){const v=e.Pi.getLastRemoteSnapshotVersion(u).next((E=>e.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(v)}return at.waitFor(m).next((()=>c.apply(u))).next((()=>e.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(e.Ms=o,u)))}function gV(i,t,e){let r=$t(),o=$t();return e.forEach((u=>r=r.add(u))),t.getEntries(i,r).next((u=>{let c=Gs();return e.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Nt.min())?(t.removeEntry(m,p.readTime),c=c.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),c=c.insert(m,p)):Tt(kg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function yV(i,t){const e=kt(i);return e.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Sg),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function vV(i,t){const e=kt(i);return e.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return e.Pi.getTargetData(r,t).next((u=>u?(o=u,at.resolve(o)):e.Pi.allocateTargetId(r).next((c=>(o=new Vr(t,c,"TargetPurposeListen",r.currentSequenceNumber),e.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=e.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(r.targetId,r),e.xs.set(t,r.targetId)),r}))}async function Np(i,t,e){const r=kt(i),o=r.Ms.get(t),u=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",u,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!rl(c))throw c;Tt(kg,`Failed to update sequence numbers for target ${t}: ${c}`)}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function m1(i,t,e){const r=kt(i);let o=Nt.min(),u=$t();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,v){const E=kt(p),b=E.xs.get(v);return b!==void 0?at.resolve(E.Ms.get(b)):E.Pi.getTargetData(g,v)})(r,c,as(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,m.targetId).next((p=>{u=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,t,e?o:Nt.min(),e?u:$t()))).next((m=>(_V(r,sM(t),m),{documents:m,Qs:u})))))}function _V(i,t,e){let r=i.Os.get(t)||Nt.min();e.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),i.Os.set(t,r)}class p1{constructor(){this.activeTargetIds=cM()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class TV{constructor(){this.Mo=new p1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,r){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new p1,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class EV{Oo(t){}shutdown(){}}const g1="ConnectivityMonitor";class y1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Tt(g1,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){Tt(g1,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ih=null;function Pp(){return Ih===null?Ih=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ih++,"0x"+Ih.toString(16)}const $m="RestConnection",bV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class SV{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===af?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(t,e,r,o,u){const c=Pp(),m=this.zo(t,e.toUriEncodedString());Tt($m,`Sending RPC '${t}' ${c}:`,m,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),v=tl(g);return this.Jo(t,m,p,r,v).then((E=>(Tt($m,`Received RPC '${t}' ${c}: `,E),E)),(E=>{throw Ko($m,`RPC '${t}' ${c} failed with error: `,E,"url: ",m,"request:",r),E}))}Ho(t,e,r,o,u,c){return this.Go(t,e,r,o,u)}jo(t,e,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+il})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}zo(t,e){const r=bV[t];return`${this.Uo}/v1/${e}:${r}`}terminate(){}}class AV{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const xn="WebChannelConnection";class wV extends SV{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,r,o,u){const c=Pp();return new Promise(((m,p)=>{const g=new Lb;g.setWithCredentials(!0),g.listenOnce(Ub.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Uh.NO_ERROR:const E=g.getResponseJson();Tt(xn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(E)),m(E);break;case Uh.TIMEOUT:Tt(xn,`RPC '${t}' ${c} timed out`),p(new St(ct.DEADLINE_EXCEEDED,"Request time out"));break;case Uh.HTTP_ERROR:const b=g.getStatus();if(Tt(xn,`RPC '${t}' ${c} failed with status:`,b,"response text:",g.getResponseText()),b>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const U=C?.error;if(U&&U.status&&U.message){const M=(function(Q){const it=Q.toLowerCase().replace(/_/g,"-");return Object.values(ct).indexOf(it)>=0?it:ct.UNKNOWN})(U.status);p(new St(M,U.message))}else p(new St(ct.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new St(ct.UNAVAILABLE,"Connection failed."));break;default:It(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{Tt(xn,`RPC '${t}' ${c} completed.`)}}));const v=JSON.stringify(o);Tt(xn,`RPC '${t}' ${c} sending request:`,o),g.send(e,"POST",v,r,15)}))}T_(t,e,r){const o=Pp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=Fb(),m=Bb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,e,r),p.encodeInitMessageHeaders=!0;const v=u.join("");Tt(xn,`Creating RPC '${t}' stream ${o}: ${v}`,p);const E=c.createWebChannel(v,p);this.I_(E);let b=!1,C=!1;const U=new AV({Yo:P=>{C?Tt(xn,`Not sending because RPC '${t}' stream ${o} is closed:`,P):(b||(Tt(xn,`Opening RPC '${t}' stream ${o} transport.`),E.open(),b=!0),Tt(xn,`RPC '${t}' stream ${o} sending:`,P),E.send(P))},Zo:()=>E.close()}),M=(P,Q,it)=>{P.listen(Q,(tt=>{try{it(tt)}catch(ht){setTimeout((()=>{throw ht}),0)}}))};return M(E,hu.EventType.OPEN,(()=>{C||(Tt(xn,`RPC '${t}' stream ${o} transport opened.`),U.o_())})),M(E,hu.EventType.CLOSE,(()=>{C||(C=!0,Tt(xn,`RPC '${t}' stream ${o} transport closed`),U.a_(),this.E_(E))})),M(E,hu.EventType.ERROR,(P=>{C||(C=!0,Ko(xn,`RPC '${t}' stream ${o} transport errored. Name:`,P.name,"Message:",P.message),U.a_(new St(ct.UNAVAILABLE,"The operation could not be completed")))})),M(E,hu.EventType.MESSAGE,(P=>{if(!C){const Q=P.data[0];ae(!!Q,16349);const it=Q,tt=it?.error||it[0]?.error;if(tt){Tt(xn,`RPC '${t}' stream ${o} received error:`,tt);const ht=tt.status;let ft=(function(w){const I=$e[w];if(I!==void 0)return ES(I)})(ht),dt=tt.message;ft===void 0&&(ft=ct.INTERNAL,dt="Unknown error status: "+ht+" with message "+tt.message),C=!0,U.a_(new St(ft,dt)),E.close()}else Tt(xn,`RPC '${t}' stream ${o} received:`,Q),U.u_(Q)}})),M(m,zb.STAT_EVENT,(P=>{P.stat===Sp.PROXY?Tt(xn,`RPC '${t}' stream ${o} detected buffering proxy`):P.stat===Sp.NOPROXY&&Tt(xn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{U.__()}),0),U}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function Jm(){return typeof document<"u"?document:null}function kf(i){return new IM(i,!0)}class PS{constructor(t,e,r=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=e,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,e-r);o>0&&Tt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const v1="PersistentStream";class kS{constructor(t,e,r,o,u,c,m,p){this.Mi=t,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new PS(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===ct.RESOURCE_EXHAUSTED?(qs(e.toString()),qs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===ct.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===e&&this.G_(r,o)}),(r=>{t((()=>{const o=new St(ct.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,e){const r=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return Tt(v1,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(Tt(v1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xV extends kS{constructor(t,e,r,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,o,c),this.serializer=u}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=VM(this.serializer,t),r=(function(u){if(!("targetChange"in u))return Nt.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?Nt.min():c.readTime?os(c.readTime):Nt.min()})(t);return this.listener.H_(e,r)}Y_(t){const e={};e.database=Op(this.serializer),e.addTarget=(function(u,c){let m;const p=c.target;if(m=Cp(p)?{documents:PM(u,p)}:{query:kM(u,p).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=AS(u,c.resumeToken);const g=Dp(u,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(Nt.min())>0){m.readTime=ff(u,c.snapshotVersion.toTimestamp());const g=Dp(u,c.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,t);const r=LM(this.serializer,t);r&&(e.labels=r),this.q_(e)}Z_(t){const e={};e.database=Op(this.serializer),e.removeTarget=t,this.q_(e)}}class RV extends kS{constructor(t,e,r,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return ae(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ae(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ae(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=NM(t.writeResults,t.commitTime),r=os(t.commitTime);return this.listener.na(r,e)}ra(){const t={};t.database=Op(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((r=>OM(this.serializer,r)))};this.q_(e)}}class CV{}class IV extends CV{constructor(t,e,r,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new St(ct.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(t,Mp(e,r),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new St(ct.UNKNOWN,u.toString())}))}Ho(t,e,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.Ho(t,Mp(e,r),o,c,m,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new St(ct.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class DV{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(qs(e),this.aa=!1):Tt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Na="RemoteStore";class MV{constructor(t,e,r,o,u){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{La(this)&&(Tt(Na,"Restarting streams for network reachability change."),await(async function(p){const g=kt(p);g.Ea.add(4),await Ju(g),g.Ra.set("Unknown"),g.Ea.delete(4),await jf(g)})(this))}))})),this.Ra=new DV(r,o)}}async function jf(i){if(La(i))for(const t of i.da)await t(!0)}async function Ju(i){for(const t of i.da)await t(!1)}function jS(i,t){const e=kt(i);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),zg(e)?Ug(e):al(e).O_()&&Lg(e,t))}function jg(i,t){const e=kt(i),r=al(e);e.Ia.delete(t),r.O_()&&LS(e,t),e.Ia.size===0&&(r.O_()?r.L_():La(e)&&e.Ra.set("Unknown"))}function Lg(i,t){if(i.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Nt.min())>0){const e=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}al(i).Y_(t)}function LS(i,t){i.Va.Ue(t),al(i).Z_(t)}function Ug(i){i.Va=new wM({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),At:t=>i.Ia.get(t)||null,ht:()=>i.datastore.serializer.databaseId}),al(i).start(),i.Ra.ua()}function zg(i){return La(i)&&!al(i).x_()&&i.Ia.size>0}function La(i){return kt(i).Ea.size===0}function US(i){i.Va=void 0}async function VV(i){i.Ra.set("Online")}async function OV(i){i.Ia.forEach(((t,e)=>{Lg(i,t)}))}async function NV(i,t){US(i),zg(i)?(i.Ra.ha(t),Ug(i)):i.Ra.set("Unknown")}async function PV(i,t,e){if(i.Ra.set("Online"),t instanceof SS&&t.state===2&&t.cause)try{await(async function(o,u){const c=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.Va.removeTarget(m))})(i,t)}catch(r){Tt(Na,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await mf(i,r)}else if(t instanceof Hh?i.Va.Ze(t):t instanceof bS?i.Va.st(t):i.Va.tt(t),!e.isEqual(Nt.min()))try{const r=await NS(i.localStore);e.compareTo(r)>=0&&await(function(u,c){const m=u.Va.Tt(c);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(p.resumeToken,c))}})),m.targetMismatches.forEach(((p,g)=>{const v=u.Ia.get(p);if(!v)return;u.Ia.set(p,v.withResumeToken(bn.EMPTY_BYTE_STRING,v.snapshotVersion)),LS(u,p);const E=new Vr(v.target,p,g,v.sequenceNumber);Lg(u,E)})),u.remoteSyncer.applyRemoteEvent(m)})(i,e)}catch(r){Tt(Na,"Failed to raise snapshot:",r),await mf(i,r)}}async function mf(i,t,e){if(!rl(t))throw t;i.Ea.add(1),await Ju(i),i.Ra.set("Offline"),e||(e=()=>NS(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{Tt(Na,"Retrying IndexedDB access"),await e(),i.Ea.delete(1),await jf(i)}))}function zS(i,t){return t().catch((e=>mf(i,e,t)))}async function Lf(i){const t=kt(i),e=Fr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Sg;for(;kV(t);)try{const o=await yV(t.localStore,r);if(o===null){t.Ta.length===0&&e.L_();break}r=o.batchId,jV(t,o)}catch(o){await mf(t,o)}BS(t)&&FS(t)}function kV(i){return La(i)&&i.Ta.length<10}function jV(i,t){i.Ta.push(t);const e=Fr(i);e.O_()&&e.X_&&e.ea(t.mutations)}function BS(i){return La(i)&&!Fr(i).x_()&&i.Ta.length>0}function FS(i){Fr(i).start()}async function LV(i){Fr(i).ra()}async function UV(i){const t=Fr(i);for(const e of i.Ta)t.ea(e.mutations)}async function zV(i,t,e){const r=i.Ta.shift(),o=Dg.from(r,t,e);await zS(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Lf(i)}async function BV(i,t){t&&Fr(i).X_&&await(async function(r,o){if((function(c){return bM(c)&&c!==ct.ABORTED})(o.code)){const u=r.Ta.shift();Fr(r).B_(),await zS(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Lf(r)}})(i,t),BS(i)&&FS(i)}async function _1(i,t){const e=kt(i);e.asyncQueue.verifyOperationInProgress(),Tt(Na,"RemoteStore received new credentials");const r=La(e);e.Ea.add(3),await Ju(e),r&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await jf(e)}async function FV(i,t){const e=kt(i);t?(e.Ea.delete(2),await jf(e)):t||(e.Ea.add(2),await Ju(e),e.Ra.set("Unknown"))}function al(i){return i.ma||(i.ma=(function(e,r,o){const u=kt(e);return u.sa(),new xV(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:VV.bind(null,i),t_:OV.bind(null,i),r_:NV.bind(null,i),H_:PV.bind(null,i)}),i.da.push((async t=>{t?(i.ma.B_(),zg(i)?Ug(i):i.Ra.set("Unknown")):(await i.ma.stop(),US(i))}))),i.ma}function Fr(i){return i.fa||(i.fa=(function(e,r,o){const u=kt(e);return u.sa(),new RV(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:LV.bind(null,i),r_:BV.bind(null,i),ta:UV.bind(null,i),na:zV.bind(null,i)}),i.da.push((async t=>{t?(i.fa.B_(),await Lf(i)):(await i.fa.stop(),i.Ta.length>0&&(Tt(Na,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class Bg{constructor(t,e,r,o,u){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,o,u){const c=Date.now()+r,m=new Bg(t,e,c,o,u);return m.start(r),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new St(ct.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fg(i,t){if(qs("AsyncQueue",`${t}: ${i}`),rl(i))return new St(ct.UNAVAILABLE,`${t}: ${i}`);throw i}class Fo{static emptySet(t){return new Fo(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||xt.comparator(e.key,r.key):(e,r)=>xt.comparator(e.key,r.key),this.keyedMap=fu(),this.sortedSet=new Oe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,r)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Fo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const r=new Fo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}class T1{constructor(){this.ga=new Oe(xt.comparator)}track(t){const e=t.doc.key,r=this.ga.get(e);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(e,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(e,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(e):t.type===1&&r.type===2?this.ga=this.ga.insert(e,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):It(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,r)=>{t.push(r)})),t}}class $o{constructor(t,e,r,o,u,c,m,p,g){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,e,r,o,u){const c=[];return e.forEach((m=>{c.push({type:0,doc:m})})),new $o(t,e,Fo.emptySet(e),c,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Mf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==r[o].type||!e[o].doc.isEqual(r[o].doc))return!1;return!0}}class HV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class qV{constructor(){this.queries=E1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,r){const o=kt(e),u=o.queries;o.queries=E1(),u.forEach(((c,m)=>{for(const p of m.Sa)p.onError(r)}))})(this,new St(ct.ABORTED,"Firestore shutting down"))}}function E1(){return new ka((i=>lS(i)),Mf)}async function GV(i,t){const e=kt(i);let r=3;const o=t.query;let u=e.queries.get(o);u?!u.ba()&&t.Da()&&(r=2):(u=new HV,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await e.onListen(o,!0);break;case 1:u.wa=await e.onListen(o,!1);break;case 2:await e.onFirstRemoteStoreListen(o)}}catch(c){const m=Fg(c,`Initialization of query '${Mo(t.query)}' failed`);return void t.onError(m)}e.queries.set(o,u),u.Sa.push(t),t.va(e.onlineState),u.wa&&t.Fa(u.wa)&&Hg(e)}async function KV(i,t){const e=kt(i),r=t.query;let o=3;const u=e.queries.get(r);if(u){const c=u.Sa.indexOf(t);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function YV(i,t){const e=kt(i);let r=!1;for(const o of t){const u=o.query,c=e.queries.get(u);if(c){for(const m of c.Sa)m.Fa(o)&&(r=!0);c.wa=o}}r&&Hg(e)}function QV(i,t,e){const r=kt(i),o=r.queries.get(t);if(o)for(const u of o.Sa)u.onError(e);r.queries.delete(t)}function Hg(i){i.Ca.forEach((t=>{t.next()}))}var kp,b1;(b1=kp||(kp={})).Ma="default",b1.Cache="cache";class XV{constructor(t,e,r){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new $o(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const r=e!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=$o.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==kp.Cache}}class HS{constructor(t){this.key=t}}class qS{constructor(t){this.key=t}}class WV{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=$t(),this.mutatedKeys=$t(),this.eu=uS(t),this.tu=new Fo(this.eu)}get nu(){return this.Ya}ru(t,e){const r=e?e.iu:new T1,o=e?e.tu:this.tu;let u=e?e.mutatedKeys:this.mutatedKeys,c=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((v,E)=>{const b=o.get(v),C=Vf(this.query,E)?E:null,U=!!b&&this.mutatedKeys.has(b.key),M=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let P=!1;b&&C?b.data.isEqual(C.data)?U!==M&&(r.track({type:3,doc:C}),P=!0):this.su(b,C)||(r.track({type:2,doc:C}),P=!0,(p&&this.eu(C,p)>0||g&&this.eu(C,g)<0)&&(m=!0)):!b&&C?(r.track({type:0,doc:C}),P=!0):b&&!C&&(r.track({type:1,doc:b}),P=!0,(p||g)&&(m=!0)),P&&(C?(c=c.add(C),u=M?u.add(v):u.delete(v)):(c=c.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),u=u.delete(v.key),r.track({type:1,doc:v})}return{tu:c,iu:r,Cs:m,mutatedKeys:u}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((v,E)=>(function(C,U){const M=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return It(20277,{Rt:P})}};return M(C)-M(U)})(v.type,E.type)||this.eu(v.doc,E.doc))),this.ou(r),o=o??!1;const m=e&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new $o(this.query,t.tu,u,c,t.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new T1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=$t(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const e=[];return t.forEach((r=>{this.Xa.has(r)||e.push(new qS(r))})),this.Xa.forEach((r=>{t.has(r)||e.push(new HS(r))})),e}cu(t){this.Ya=t.Qs,this.Xa=$t();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return $o.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const qg="SyncEngine";class $V{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class JV{constructor(t){this.key=t,this.hu=!1}}class ZV{constructor(t,e,r,o,u,c){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ka((m=>lS(m)),Mf),this.Iu=new Map,this.Eu=new Set,this.du=new Oe(xt.comparator),this.Au=new Map,this.Ru=new Og,this.Vu={},this.mu=new Map,this.fu=Wo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function tO(i,t,e=!0){const r=WS(i);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await GS(r,t,e,!0),o}async function eO(i,t){const e=WS(i);await GS(e,t,!0,!1)}async function GS(i,t,e,r){const o=await vV(i.localStore,as(t)),u=o.targetId,c=i.sharedClientState.addLocalQueryTarget(u,e);let m;return r&&(m=await nO(i,t,u,c==="current",o.resumeToken)),i.isPrimaryClient&&e&&jS(i.remoteStore,o),m}async function nO(i,t,e,r,o){i.pu=(E,b,C)=>(async function(M,P,Q,it){let tt=P.view.ru(Q);tt.Cs&&(tt=await m1(M.localStore,P.query,!1).then((({documents:R})=>P.view.ru(R,tt))));const ht=it&&it.targetChanges.get(P.targetId),ft=it&&it.targetMismatches.get(P.targetId)!=null,dt=P.view.applyChanges(tt,M.isPrimaryClient,ht,ft);return A1(M,P.targetId,dt.au),dt.snapshot})(i,E,b,C);const u=await m1(i.localStore,t,!0),c=new WV(t,u.Qs),m=c.ru(u.documents),p=$u.createSynthesizedTargetChangeForCurrentChange(e,r&&i.onlineState!=="Offline",o),g=c.applyChanges(m,i.isPrimaryClient,p);A1(i,e,g.au);const v=new $V(t,e,c);return i.Tu.set(t,v),i.Iu.has(e)?i.Iu.get(e).push(t):i.Iu.set(e,[t]),g.snapshot}async function iO(i,t,e){const r=kt(i),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((c=>!Mf(c,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Np(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),e&&jg(r.remoteStore,o.targetId),jp(r,o.targetId)})).catch(sl)):(jp(r,o.targetId),await Np(r.localStore,o.targetId,!0))}async function sO(i,t){const e=kt(i),r=e.Tu.get(t),o=e.Iu.get(r.targetId);e.isPrimaryClient&&o.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),jg(e.remoteStore,r.targetId))}async function rO(i,t,e){const r=fO(i);try{const o=await(function(c,m){const p=kt(c),g=Ae.now(),v=m.reduce(((C,U)=>C.add(U.key)),$t());let E,b;return p.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let U=Gs(),M=$t();return p.Ns.getEntries(C,v).next((P=>{U=P,U.forEach(((Q,it)=>{it.isValidDocument()||(M=M.add(Q))}))})).next((()=>p.localDocuments.getOverlayedDocuments(C,U))).next((P=>{E=P;const Q=[];for(const it of m){const tt=yM(it,E.get(it.key).overlayedDocument);tt!=null&&Q.push(new ja(it.key,tt,eS(tt.value.mapValue),Bs.exists(!0)))}return p.mutationQueue.addMutationBatch(C,g,Q,m)})).next((P=>{b=P;const Q=P.applyToLocalDocumentSet(E,M);return p.documentOverlayCache.saveOverlays(C,P.batchId,Q)}))})).then((()=>({batchId:b.batchId,changes:hS(E)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(c,m,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new Oe(Wt)),g=g.insert(m,p),c.Vu[c.currentUser.toKey()]=g})(r,o.batchId,e),await Zu(r,o.changes),await Lf(r.remoteStore)}catch(o){const u=Fg(o,"Failed to persist write");e.reject(u)}}async function KS(i,t){const e=kt(i);try{const r=await pV(e.localStore,t);t.targetChanges.forEach(((o,u)=>{const c=e.Au.get(u);c&&(ae(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?ae(c.hu,14607):o.removedDocuments.size>0&&(ae(c.hu,42227),c.hu=!1))})),await Zu(e,r,t)}catch(r){await sl(r)}}function S1(i,t,e){const r=kt(i);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){const o=[];r.Tu.forEach(((u,c)=>{const m=c.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const p=kt(c);p.onlineState=m;let g=!1;p.queries.forEach(((v,E)=>{for(const b of E.Sa)b.va(m)&&(g=!0)})),g&&Hg(p)})(r.eventManager,t),o.length&&r.Pu.H_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function aO(i,t,e){const r=kt(i);r.sharedClientState.updateQueryState(t,"rejected",e);const o=r.Au.get(t),u=o&&o.key;if(u){let c=new Oe(xt.comparator);c=c.insert(u,Cn.newNoDocument(u,Nt.min()));const m=$t().add(u),p=new Pf(Nt.min(),new Map,new Oe(Wt),c,m);await KS(r,p),r.du=r.du.remove(u),r.Au.delete(t),Gg(r)}else await Np(r.localStore,t,!1).then((()=>jp(r,t,e))).catch(sl)}async function oO(i,t){const e=kt(i),r=t.batch.batchId;try{const o=await mV(e.localStore,t);QS(e,r,null),YS(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await Zu(e,o)}catch(o){await sl(o)}}async function lO(i,t,e){const r=kt(i);try{const o=await(function(c,m){const p=kt(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next((E=>(ae(E!==null,37113),v=E.keys(),p.mutationQueue.removeMutationBatch(g,E)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(r.localStore,t);QS(r,t,e),YS(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),await Zu(r,o)}catch(o){await sl(o)}}function YS(i,t){(i.mu.get(t)||[]).forEach((e=>{e.resolve()})),i.mu.delete(t)}function QS(i,t,e){const r=kt(i);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(e?u.reject(e):u.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function jp(i,t,e=null){i.sharedClientState.removeLocalQueryTarget(t);for(const r of i.Iu.get(t))i.Tu.delete(r),e&&i.Pu.yu(r,e);i.Iu.delete(t),i.isPrimaryClient&&i.Ru.jr(t).forEach((r=>{i.Ru.containsKey(r)||XS(i,r)}))}function XS(i,t){i.Eu.delete(t.path.canonicalString());const e=i.du.get(t);e!==null&&(jg(i.remoteStore,e),i.du=i.du.remove(t),i.Au.delete(e),Gg(i))}function A1(i,t,e){for(const r of e)r instanceof HS?(i.Ru.addReference(r.key,t),uO(i,r)):r instanceof qS?(Tt(qg,"Document no longer in limbo: "+r.key),i.Ru.removeReference(r.key,t),i.Ru.containsKey(r.key)||XS(i,r.key)):It(19791,{wu:r})}function uO(i,t){const e=t.key,r=e.path.canonicalString();i.du.get(e)||i.Eu.has(r)||(Tt(qg,"New document in limbo: "+e),i.Eu.add(r),Gg(i))}function Gg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const t=i.Eu.values().next().value;i.Eu.delete(t);const e=new xt(Me.fromString(t)),r=i.fu.next();i.Au.set(r,new JV(e)),i.du=i.du.insert(e,r),jS(i.remoteStore,new Vr(as(Cg(e.path)),r,"TargetPurposeLimboResolution",Rf.ce))}}async function Zu(i,t,e){const r=kt(i),o=[],u=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,p)=>{c.push(r.pu(p,t,e).then((g=>{if((g||e)&&r.isPrimaryClient){const v=g?!g.fromCache:e?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){o.push(g);const v=Pg.As(p.targetId,g);u.push(v)}})))})),await Promise.all(c),r.Pu.H_(o),await(async function(p,g){const v=kt(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>at.forEach(g,(b=>at.forEach(b.Es,(C=>v.persistence.referenceDelegate.addReference(E,b.targetId,C))).next((()=>at.forEach(b.ds,(C=>v.persistence.referenceDelegate.removeReference(E,b.targetId,C)))))))))}catch(E){if(!rl(E))throw E;Tt(kg,"Failed to update sequence numbers: "+E)}for(const E of g){const b=E.targetId;if(!E.fromCache){const C=v.Ms.get(b),U=C.snapshotVersion,M=C.withLastLimboFreeSnapshotVersion(U);v.Ms=v.Ms.insert(b,M)}}})(r.localStore,u))}async function cO(i,t){const e=kt(i);if(!e.currentUser.isEqual(t)){Tt(qg,"User change. New user:",t.toKey());const r=await OS(e.localStore,t);e.currentUser=t,(function(u,c){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new St(ct.CANCELLED,c))}))})),u.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Zu(e,r.Ls)}}function hO(i,t){const e=kt(i),r=e.Au.get(t);if(r&&r.hu)return $t().add(r.key);{let o=$t();const u=e.Iu.get(t);if(!u)return o;for(const c of u){const m=e.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}function WS(i){const t=kt(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=KS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=hO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=aO.bind(null,t),t.Pu.H_=YV.bind(null,t.eventManager),t.Pu.yu=QV.bind(null,t.eventManager),t}function fO(i){const t=kt(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=oO.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=lO.bind(null,t),t}class pf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=kf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return dV(this.persistence,new cV,t.initialUser,this.serializer)}Cu(t){return new VS(Ng.mi,this.serializer)}Du(t){return new TV}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pf.provider={build:()=>new pf};class dO extends pf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){ae(this.persistence.referenceDelegate instanceof df,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new XM(r,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?qn.withCacheSize(this.cacheSizeBytes):qn.DEFAULT;return new VS((r=>df.mi(r,e)),this.serializer)}}class Lp{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>S1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=cO.bind(null,this.syncEngine),await FV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new qV})()}createDatastore(t){const e=kf(t.databaseInfo.databaseId),r=(function(u){return new wV(u)})(t.databaseInfo);return(function(u,c,m,p){return new IV(u,c,m,p)})(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return(function(r,o,u,c,m){return new MV(r,o,u,c,m)})(this.localStore,this.datastore,t.asyncQueue,(e=>S1(this.syncEngine,e,0)),(function(){return y1.v()?new y1:new EV})())}createSyncEngine(t,e){return(function(o,u,c,m,p,g,v){const E=new ZV(o,u,c,m,p,g);return v&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const r=kt(e);Tt(Na,"RemoteStore shutting down."),r.Ea.add(5),await Ju(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Lp.provider={build:()=>new Lp};class mO{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):qs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const Hr="FirestoreClient";class pO{constructor(t,e,r,o,u){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=o,this.user=Rn.UNAUTHENTICATED,this.clientId=Eg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async c=>{Tt(Hr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(Tt(Hr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const r=Fg(e,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Zm(i,t){i.asyncQueue.verifyOperationInProgress(),Tt(Hr,"Initializing OfflineComponentProvider");const e=i.configuration;await t.initialize(e);let r=e.initialUser;i.setCredentialChangeListener((async o=>{r.isEqual(o)||(await OS(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=t}async function w1(i,t){i.asyncQueue.verifyOperationInProgress();const e=await gO(i);Tt(Hr,"Initializing OnlineComponentProvider"),await t.initialize(e,i.configuration),i.setCredentialChangeListener((r=>_1(t.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,o)=>_1(t.remoteStore,o))),i._onlineComponents=t}async function gO(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Tt(Hr,"Using user provided OfflineComponentProvider");try{await Zm(i,i._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(o){return o.name==="FirebaseError"?o.code===ct.FAILED_PRECONDITION||o.code===ct.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(e))throw e;Ko("Error using user provided cache. Falling back to memory cache: "+e),await Zm(i,new pf)}}else Tt(Hr,"Using default OfflineComponentProvider"),await Zm(i,new dO(void 0));return i._offlineComponents}async function $S(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Tt(Hr,"Using user provided OnlineComponentProvider"),await w1(i,i._uninitializedComponentsProvider._online)):(Tt(Hr,"Using default OnlineComponentProvider"),await w1(i,new Lp))),i._onlineComponents}function yO(i){return $S(i).then((t=>t.syncEngine))}async function vO(i){const t=await $S(i),e=t.eventManager;return e.onListen=tO.bind(null,t.syncEngine),e.onUnlisten=iO.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=eO.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=sO.bind(null,t.syncEngine),e}function _O(i,t,e={}){const r=new jr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,c,m,p,g){const v=new mO({next:b=>{v.Nu(),c.enqueueAndForget((()=>KV(u,E)));const C=b.docs.has(m);!C&&b.fromCache?g.reject(new St(ct.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&b.fromCache&&p&&p.source==="server"?g.reject(new St(ct.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),E=new XV(Cg(m.path),v,{includeMetadataChanges:!0,qa:!0});return GV(u,E)})(await vO(i),i.asyncQueue,t,e,r))),r.promise}function JS(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}const x1=new Map;const ZS="firestore.googleapis.com",R1=!0;class C1{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new St(ct.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ZS,this.ssl=R1}else this.host=t.host,this.ssl=t.ssl??R1;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=MS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<YM)throw new St(ct.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}DD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JS(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new St(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new St(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new St(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Kg{constructor(t,e,r,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new C1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new St(ct.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new St(ct.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new C1(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new _D;switch(r.type){case"firstParty":return new SD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new St(ct.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const r=x1.get(e);r&&(Tt("ComponentProvider","Removing Datastore"),x1.delete(e),r.terminate())})(this),Promise.resolve()}}function TO(i,t,e,r={}){i=Du(i,Kg);const o=tl(t),u=i._getSettings(),c={...u,emulatorOptions:i._getEmulatorOptions()},m=`${t}:${e}`;o&&(ZE(`https://${m}`),tb("Firestore",!0)),u.host!==ZS&&u.host!==m&&Ko("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:r};if(!Da(p,c)&&(i._setSettings(p),r.mockUserToken)){let g,v;if(typeof r.mockUserToken=="string")g=r.mockUserToken,v=Rn.MOCK_USER;else{g=HR(r.mockUserToken,i._app?.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new St(ct.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Rn(E)}i._authCredentials=new TD(new qb(g,v))}}class Yg{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Yg(this.firestore,t,this._query)}}class cn{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ju(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new cn(this.firestore,t,this._key)}toJSON(){return{type:cn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,r){if(Xu(e,cn._jsonSchema))return new cn(t,r||null,new xt(Me.fromString(e.referencePath)))}}cn._jsonSchemaVersion="firestore/documentReference/1.0",cn._jsonSchema={type:Ze("string",cn._jsonSchemaVersion),referencePath:Ze("string")};class ju extends Yg{constructor(t,e,r){super(t,e,Cg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new cn(this.firestore,null,new xt(t))}withConverter(t){return new ju(this.firestore,t,this._path)}}function tA(i,t,...e){if(i=Ei(i),arguments.length===1&&(t=Eg.newId()),ID("doc","path",t),i instanceof Kg){const r=Me.fromString(t,...e);return FT(r),new cn(i,null,new xt(r))}{if(!(i instanceof cn||i instanceof ju))throw new St(ct.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(Me.fromString(t,...e));return FT(r),new cn(i.firestore,i instanceof ju?i.converter:null,new xt(r))}}const I1="AsyncQueue";class D1{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new PS(this,"async_queue_retry"),this._c=()=>{const r=Jm();r&&Tt(I1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const e=Jm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Jm();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new jr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!rl(t))throw t;Tt(I1,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,qs("INTERNAL UNHANDLED ERROR: ",M1(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=e,e}enqueueAfterDelay(t,e,r){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const o=Bg.createAndSchedule(this,t,e,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&It(47125,{Pc:M1(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,r)=>e.targetTimeMs-r.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function M1(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}class Qg extends Kg{constructor(t,e,r,o){super(t,e,r,o),this.type="firestore",this._queue=new D1,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new D1(t),this._firestoreClient=void 0,await t}}}function EO(i,t){const e=typeof i=="object"?i:sb(),r=typeof i=="string"?i:af,o=ug(e,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=BR("firestore");u&&TO(o,...u)}return o}function eA(i){if(i._terminated)throw new St(ct.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||bO(i),i._firestoreClient}function bO(i){const t=i._freezeSettings(),e=(function(o,u,c,m){return new BD(o,u,c,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,JS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,t);i._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),i._firestoreClient=new pO(i._authCredentials,i._appCheckCredentials,i._queue,e,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class vi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new vi(bn.fromBase64String(t))}catch(e){throw new St(ct.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new vi(bn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:vi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Xu(t,vi._jsonSchema))return vi.fromBase64String(t.bytes)}}vi._jsonSchemaVersion="firestore/bytes/1.0",vi._jsonSchema={type:Ze("string",vi._jsonSchemaVersion),bytes:Ze("string")};class Xg{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new St(ct.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new En(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class nA{constructor(t){this._methodName=t}}class ls{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new St(ct.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new St(ct.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Wt(this._lat,t._lat)||Wt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ls._jsonSchemaVersion}}static fromJSON(t){if(Xu(t,ls._jsonSchema))return new ls(t.latitude,t.longitude)}}ls._jsonSchemaVersion="firestore/geoPoint/1.0",ls._jsonSchema={type:Ze("string",ls._jsonSchemaVersion),latitude:Ze("number"),longitude:Ze("number")};class us{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:us._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Xu(t,us._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new us(t.vectorValues);throw new St(ct.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}us._jsonSchemaVersion="firestore/vectorValue/1.0",us._jsonSchema={type:Ze("string",us._jsonSchemaVersion),vectorValues:Ze("object")};const SO=/^__.*__$/;class AO{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return this.fieldMask!==null?new ja(t,this.data,this.fieldMask,e,this.fieldTransforms):new Wu(t,this.data,e,this.fieldTransforms)}}function iA(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw It(40011,{Ac:i})}}class Wg{constructor(t,e,r,o,u,c){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Wg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),r=this.Vc({path:e,fc:!1});return r.gc(t),r}yc(t){const e=this.path?.child(t),r=this.Vc({path:e,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return gf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(iA(this.Ac)&&SO.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class wO{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||kf(t)}Cc(t,e,r,o=!1){return new Wg({Ac:t,methodName:e,Dc:r,path:En.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xO(i){const t=i._freezeSettings(),e=kf(i._databaseId);return new wO(i._databaseId,!!t.ignoreUndefinedProperties,e)}function RO(i,t,e,r,o,u={}){const c=i.Cc(u.merge||u.mergeFields?2:0,t,e,o);oA("Data must be an object, but it was:",c,r);const m=rA(r,c);let p,g;if(u.merge)p=new Li(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const v=[];for(const E of u.mergeFields){const b=CO(t,E,e);if(!c.contains(b))throw new St(ct.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);DO(v,b)||v.push(b)}p=new Li(v),g=c.fieldTransforms.filter((E=>p.covers(E.field)))}else p=null,g=c.fieldTransforms;return new AO(new yi(m),p,g)}function sA(i,t){if(aA(i=Ei(i)))return oA("Unsupported field value:",t,i),rA(i,t);if(i instanceof nA)return(function(r,o){if(!iA(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let c=0;for(const m of r){let p=sA(m,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(i,t)}return(function(r,o){if((r=Ei(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return hM(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=Ae.fromDate(r);return{timestampValue:ff(o.serializer,u)}}if(r instanceof Ae){const u=new Ae(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ff(o.serializer,u)}}if(r instanceof ls)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof vi)return{bytesValue:AS(o.serializer,r._byteString)};if(r instanceof cn){const u=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Vg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof us)return(function(c,m){return{mapValue:{fields:{[Zb]:{stringValue:tS},[of]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Ig(m.serializer,g)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${bg(r)}`)})(i,t)}function rA(i,t){const e={};return Yb(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Pa(i,((r,o)=>{const u=sA(o,t.mc(r));u!=null&&(e[r]=u)})),{mapValue:{fields:e}}}function aA(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Ae||i instanceof ls||i instanceof vi||i instanceof cn||i instanceof nA||i instanceof us)}function oA(i,t,e){if(!aA(e)||!Gb(e)){const r=bg(e);throw r==="an object"?t.Sc(i+" a custom object"):t.Sc(i+" "+r)}}function CO(i,t,e){if((t=Ei(t))instanceof Xg)return t._internalPath;if(typeof t=="string")return lA(i,t);throw gf("Field path arguments must be of type string or ",i,!1,void 0,e)}const IO=new RegExp("[~\\*/\\[\\]]");function lA(i,t,e){if(t.search(IO)>=0)throw gf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,e);try{return new Xg(...t.split("."))._internalPath}catch{throw gf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,e)}}function gf(i,t,e,r,o){const u=r&&!r.isEmpty(),c=o!==void 0;let m=`Function ${t}() called with invalid data`;e&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${r}`),c&&(p+=` in document ${o}`),p+=")"),new St(ct.INVALID_ARGUMENT,m+i+p)}function DO(i,t){return i.some((e=>e.isEqual(t)))}class uA{constructor(t,e,r,o,u){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new MO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(cA("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class MO extends uA{data(){return super.data()}}function cA(i,t){return typeof t=="string"?lA(i,t):t instanceof Xg?t._internalPath:t._delegate._internalPath}class VO{convertValue(t,e="none"){switch(Br(t)){case 0:return null;case 1:return t.booleanValue;case 2:return He(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(zr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw It(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return Pa(t,((o,u)=>{r[o]=this.convertValue(u,e)})),r}convertVectorValue(t){const e=t.fields?.[of].arrayValue?.values?.map((r=>He(r.doubleValue)));return new us(e)}convertGeoPoint(t){return new ls(He(t.latitude),He(t.longitude))}convertArray(t,e){return(t.values||[]).map((r=>this.convertValue(r,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const r=If(t);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(Vu(t));default:return null}}convertTimestamp(t){const e=Ur(t);return new Ae(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=Me.fromString(t);ae(DS(r),9688,{name:t});const o=new Ou(r.get(1),r.get(3)),u=new xt(r.popFirst(5));return o.isEqual(e)||qs(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),u}}function OO(i,t,e){let r;return r=i?i.toFirestore(t):t,r}class mu{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ra extends uA{constructor(t,e,r,o,u,c){super(t,e,r,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new qh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(cA("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new St(ct.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Ra._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Ra._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ra._jsonSchema={type:Ze("string",Ra._jsonSchemaVersion),bundleSource:Ze("string","DocumentSnapshot"),bundleName:Ze("string"),bundle:Ze("string")};class qh extends Ra{data(t={}){return super.data(t)}}class bu{constructor(t,e,r,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new mu(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((r=>{t.call(e,new qh(this._firestore,this._userDataWriter,r.key,r,new mu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new St(ct.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const p=new qh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new mu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new qh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new mu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),v=c.indexOf(m.doc.key)),{type:NO(m.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new St(ct.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=bu._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Eg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(e.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function NO(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return It(61501,{type:i})}}function PO(i){i=Du(i,cn);const t=Du(i.firestore,Qg);return _O(eA(t),i._key).then((e=>UO(t,i,e)))}bu._jsonSchemaVersion="firestore/querySnapshot/1.0",bu._jsonSchema={type:Ze("string",bu._jsonSchemaVersion),bundleSource:Ze("string","QuerySnapshot"),bundleName:Ze("string"),bundle:Ze("string")};class kO extends VO{constructor(t){super(),this.firestore=t}convertBytes(t){return new vi(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new cn(this.firestore,null,e)}}function jO(i,t,e){i=Du(i,cn);const r=Du(i.firestore,Qg),o=OO(i.converter,t);return LO(r,[RO(xO(r),"setDoc",i._key,o,i.converter!==null,e).toMutation(i._key,Bs.none())])}function LO(i,t){return(function(r,o){const u=new jr;return r.asyncQueue.enqueueAndForget((async()=>rO(await yO(r),o,u))),u.promise})(eA(i),t)}function UO(i,t,e){const r=e.docs.get(t._key),o=new kO(i);return new Ra(i,o,t._key,r,new mu(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(o){il=o})(el),qo(new Ma("firestore",((r,{instanceIdentifier:o,options:u})=>{const c=r.getProvider("app").getImmediate(),m=new Qg(new ED(r.getProvider("auth-internal")),new AD(c,r.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new St(ct.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ou(g.options.projectId,v)})(c,o),c);return u={useFetchStreams:e,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Pr(LT,UT,t),Pr(LT,UT,"esm2020")})();const zO={apiKey:"AIzaSyAKvyD0SV7kUX5UciilZ0bk2F08wkf0T7g",authDomain:"planttycoon-c9dc0.firebaseapp.com",projectId:"planttycoon-c9dc0",storageBucket:"planttycoon-c9dc0.firebasestorage.app",messagingSenderId:"49910703062",appId:"1:49910703062:web:60c410e51c98714f3bfa77",measurementId:"G-NY5W0YD0SX"},hA=ib(zO),$g=yD(hA),fA=EO(hA),BO=new Ls,FO=async()=>{try{return(await xI($g,BO)).user}catch(i){throw console.error("Login failed:",i),i}},HO=async()=>{try{await aI($g)}catch(i){throw console.error("Logout failed:",i),i}},qO=async(i,t)=>{try{return await jO(tA(fA,"users",i),{savedAt:new Date().toISOString(),gameData:t}),!0}catch(e){return console.error("Save failed:",e),!1}},GO=async i=>{try{const t=tA(fA,"users",i),e=await PO(t);return e.exists()?e.data().gameData:null}catch(t){throw console.error("Load failed:",t),t}},KO=[{emoji:"",value:5,rarity:"common",weight:100,description:" ",flavorText:"      .    ,    ."},{emoji:"",value:6,rarity:"common",weight:90,description:" ",flavorText:"   .   ,   ."},{emoji:"",value:7,rarity:"common",weight:80,description:"",flavorText:"   .       ."},{emoji:"",value:8,rarity:"common",weight:70,description:"",flavorText:"   .        ."},{emoji:"",value:10,rarity:"common",weight:60,description:"",flavorText:"  .       ."},{emoji:"",value:15,rarity:"rare",weight:10,description:"",flavorText:"   .     ."},{emoji:"",value:16,rarity:"rare",weight:9,description:"",flavorText:"    .      ."},{emoji:"",value:17,rarity:"rare",weight:8,description:"",flavorText:"   .      ."},{emoji:"",value:18,rarity:"rare",weight:7,description:"",flavorText:"  .     ."},{emoji:"",value:19,rarity:"rare",weight:6,description:"",flavorText:"  .     ."},{emoji:"",value:20,rarity:"rare",weight:5,description:"",flavorText:"    .       ."},{emoji:"",value:21,rarity:"rare",weight:4,description:"",flavorText:"   .       ."},{emoji:"",value:23,rarity:"rare",weight:3,description:"",flavorText:"     .       ."},{emoji:"",value:25,rarity:"rare",weight:2,description:"",flavorText:"  .    ."},{emoji:"",value:40,rarity:"epic",weight:2,description:"",flavorText:"   .       ."},{emoji:"",value:42,rarity:"epic",weight:1.8,description:"",flavorText:"    .   ."},{emoji:"",value:44,rarity:"epic",weight:1.6,description:"",flavorText:"     .    ."},{emoji:"",value:46,rarity:"epic",weight:1.4,description:"",flavorText:"   .     ."},{emoji:"",value:48,rarity:"epic",weight:1.2,description:"",flavorText:"    .      ."},{emoji:"",value:50,rarity:"epic",weight:1,description:"",flavorText:"  , .    ."},{emoji:"",value:52,rarity:"epic",weight:.8,description:"",flavorText:"      .     ."},{emoji:"",value:55,rarity:"epic",weight:.6,description:"",flavorText:"   .    ."},{emoji:"",value:60,rarity:"epic",weight:.4,description:"",flavorText:"    .     ."},{emoji:"",value:80,rarity:"legendary",weight:.3,description:"",flavorText:"   .      ."},{emoji:"",value:82,rarity:"legendary",weight:.25,description:"",flavorText:"   .    ."},{emoji:"",value:84,rarity:"legendary",weight:.2,description:"",flavorText:"   .    ."},{emoji:"",value:86,rarity:"legendary",weight:.18,description:"",flavorText:"   .      ."},{emoji:"",value:88,rarity:"legendary",weight:.16,description:"",flavorText:"  .      ."},{emoji:"",value:90,rarity:"legendary",weight:.14,description:"",flavorText:"  .     ."},{emoji:"",value:92,rarity:"legendary",weight:.12,description:"",flavorText:"   .      ."},{emoji:"",value:95,rarity:"legendary",weight:.1,description:"",flavorText:"   .     ."},{emoji:"",value:98,rarity:"legendary",weight:.08,description:"",flavorText:"   .      ."},{emoji:"",value:100,rarity:"legendary",weight:.06,description:"",flavorText:"    .     ."},{emoji:"",value:250,rarity:"mythic",weight:.05,description:"",flavorText:"    .     ."},{emoji:"",value:260,rarity:"mythic",weight:.03,description:"",flavorText:"   .       ."},{emoji:"",value:270,rarity:"mythic",weight:.02,description:"",flavorText:"   .     ."},{emoji:"",value:280,rarity:"mythic",weight:.01,description:" ",flavorText:"   .     ."},{emoji:"",value:300,rarity:"mythic",weight:.005,description:"",flavorText:"     .    ."}],ss={mushrooms:KO},YO=[{id:"red_stew",name:" ",emoji:"",description:"    .   50% .",ingredients:["","",""],time:1e4,value:20,effect:{type:"speed",value:.5,duration:12e4}},{id:"rainbow_salad",name:" ",emoji:"",description:"  !     .",ingredients:["","",""],time:3e4,value:150,effect:{type:"fill_empty_slots",value:1,duration:0}},{id:"nut_bomb",name:" ",emoji:"",description:"  .   1 .",ingredients:["","",""],time:45e3,value:80,effect:{type:"add_consumable",value:"seedBomb",count:1,duration:0}},{id:"golden_tea",name:" ",emoji:"",description:"   .    50% .",ingredients:["","",""],time:6e4,value:130,effect:{type:"spawn_rate",value:.5,duration:12e4}},{id:"elixir_of_life",name:" ",emoji:"",description:"  . 30    10 .",ingredients:["","",""],time:12e4,value:2e3,effect:{type:"speed",value:9,duration:3e4}},{id:"mushroom_soup",name:" ",emoji:"",description:"  . 3    30% .",ingredients:["","",""],time:15e3,value:30,effect:{type:"speed",value:.3,duration:18e4}},{id:"nut_bar",name:" ",emoji:"",description:" ! 3     30% .",ingredients:["","",""],time:2e4,value:40,effect:{type:"spawn_rate",value:.3,duration:18e4}},{id:"tropical_punch",name:" ",emoji:"",description:"   . 2    100% .",ingredients:["","",""],time:4e4,value:200,effect:{type:"speed",value:1,duration:12e4}},{id:"flower_bouquet",name:"",emoji:"",description:" . 2     100% .",ingredients:["","",""],time:5e4,value:250,effect:{type:"spawn_rate",value:1,duration:12e4}},{id:"lucky_charm",name:" ",emoji:"",description:" . 5     50% .",ingredients:["","",""],time:35e3,value:100,effect:{type:"spawn_rate",value:.5,duration:3e5}},{id:"lucky_stew",name:" ",emoji:"",description:"    . 3       2 .",ingredients:["","",""],time:2e4,value:50,effect:{type:"rarity_boost",target:"all",value:2,duration:18e4}},{id:"green_smoothie",name:" ",emoji:"",description:" ! 3  '(Rare)'     3 .",ingredients:["","",""],time:25e3,value:60,effect:{type:"rarity_boost",target:"rare",value:3,duration:18e4}},{id:"purple_tart",name:" ",emoji:"",description:" . 3  '(Epic)'     3 .",ingredients:["","",""],time:4e4,value:150,effect:{type:"rarity_boost",target:"epic",value:3,duration:18e4}},{id:"royal_cake",name:" ",emoji:"",description:" . 3  '(Legendary)'     3 .",ingredients:["","",""],time:6e4,value:300,effect:{type:"rarity_boost",target:"legendary",value:3,duration:18e4}},{id:"starlight_pudding",name:" ",emoji:"",description:" . 3  '(Mythic)'     3 .",ingredients:["","",""],time:1e5,value:1e3,effect:{type:"rarity_boost",target:"mythic",value:3,duration:18e4}}],Gh={recipes:YO},QO=[{id:"harvest_10",title:" ",description:"  10 .",icon:"",condition:{type:"total_harvest",value:10},reward:{type:"gold",value:100}},{id:"harvest_100",title:" ",description:"  100 .",icon:"",condition:{type:"total_harvest",value:100},reward:{type:"gold",value:500}},{id:"harvest_1000",title:" ",description:"  1,000 .",icon:"",condition:{type:"total_harvest",value:1e3},reward:{type:"gold",value:5e3}},{id:"gold_1000",title:"",description:" 1,000  .",icon:"",condition:{type:"total_gold",value:1e3},reward:{type:"gold",value:200}},{id:"gold_10000",title:"",description:" 10,000  .",icon:"",condition:{type:"total_gold",value:1e4},reward:{type:"gold",value:1e3}},{id:"gold_100000",title:"",description:" 100,000  .",icon:"",condition:{type:"total_gold",value:1e5},reward:{type:"gold",value:1e4}},{id:"cook_1",title:" ",description:" 1 .",icon:"",condition:{type:"total_cook",value:1},reward:{type:"gold",value:50}},{id:"cook_10",title:"",description:" 10 .",icon:"",condition:{type:"total_cook",value:10},reward:{type:"gold",value:300}},{id:"cook_50",title:" ",description:" 50 .",icon:"",condition:{type:"total_cook",value:50},reward:{type:"gold",value:2e3}},{id:"collection_5",title:"",description:"  5 .",icon:"",condition:{type:"collection_count",value:5},reward:{type:"gold",value:150}},{id:"collection_10",title:" ",description:"  10 .",icon:"",condition:{type:"collection_count",value:10},reward:{type:"gold",value:500}},{id:"collection_20",title:" ",description:"  20 .",icon:"",condition:{type:"collection_count",value:20},reward:{type:"gold",value:2e3}}],yf={achievements:QO},XO=[{id:"chef",name:" ",emoji:"",dialogue:["  !","  ?","   ?","   ."]},{id:"merchant",name:" ",emoji:"",dialogue:["   ."," .","  ?","   !"]},{id:"farmer",name:" ",emoji:"",dialogue:["...   ."," .","  ?"," ..."]},{id:"wizard",name:" ",emoji:"",dialogue:["  .","  .","   ?","   ."]}],V1={npcs:XO},Dh=25,WO=.01;function $O(){const[i,t]=$.useState(()=>{const L=localStorage.getItem("plant_game_gold");return L?parseInt(L):50}),[e,r]=$.useState(()=>{const L=localStorage.getItem("plant_game_plants");return L?JSON.parse(L):Array(Dh).fill(null)}),[o,u]=$.useState(()=>{const L=localStorage.getItem("plant_game_inventory");return L?JSON.parse(L):{}}),[c,m]=$.useState(()=>{const L=localStorage.getItem("plant_game_collection");return L?JSON.parse(L):{}}),[p,g]=$.useState(()=>{const L=localStorage.getItem("plant_game_upgradeLevel");return L?parseInt(L):0}),[v,E]=$.useState(()=>{const L=localStorage.getItem("plant_game_unlocks");return L?JSON.parse(L):{statistics:!1,harvestAll:!1}}),[b,C]=$.useState(()=>{const L=localStorage.getItem("plant_game_rarityLevel");return L?parseInt(L):1}),[U,M]=$.useState(()=>{const L=localStorage.getItem("plant_game_foodState");return L?JSON.parse(L):{active:!1,endTime:0,type:null,multiplier:1}}),[P,Q]=$.useState(()=>{const L=localStorage.getItem("plant_game_activeBuffs");return L?JSON.parse(L):[]}),[it,tt]=$.useState(()=>{const L=localStorage.getItem("plant_game_stats");return L?JSON.parse(L):{total_harvest:0,total_gold:0,total_cook:0,collection_count:0}}),[ht,ft]=$.useState(()=>{const L=localStorage.getItem("plant_game_achievements");return L?JSON.parse(L):{}}),[dt,R]=$.useState(()=>{const L=localStorage.getItem("plant_game_activeQuests");return L?JSON.parse(L):[]}),[w,I]=$.useState(()=>{const L=localStorage.getItem("plant_game_questTimer");return L?parseInt(L):Date.now()+18e5}),[N,O]=$.useState(()=>{const L=localStorage.getItem("plant_game_pityCounter");return L?parseInt(L):0}),[z,D]=$.useState(()=>{const L=localStorage.getItem("plant_game_fertilizerLevel");return L?parseInt(L):0}),[jt,oe]=$.useState(()=>{const L=localStorage.getItem("plant_game_consumables");return L?JSON.parse(L):{seedBomb:0,growthPotion:0}}),[G,ut]=$.useState(()=>{const L=localStorage.getItem("plant_game_cookedItems");return L?JSON.parse(L):{}}),[yt,Dt]=$.useState(()=>{const L=localStorage.getItem("plant_game_cookingState");let lt=L?JSON.parse(L):{active:!1,startTime:0,duration:0,ingredients:[],result:null};return lt.result&&!lt.result.ingredients&&(lt.result.ingredients=["","",""]),lt}),[Rt,k]=$.useState(()=>{const L=localStorage.getItem("plant_game_discoveredRecipes");return L?JSON.parse(L):[]}),[Z,pt]=$.useState(null),[vt,wt]=$.useState(!1),[Ot,Ht]=$.useState(null);$.useEffect(()=>{const L=rI($g,lt=>{pt(lt)});return()=>L()},[]);const Ie=async()=>{try{await FO()}catch(L){alert(" : "+L.message)}},de=async()=>{try{await HO(),pt(null)}catch(L){alert(" : "+L.message)}},bi=async()=>{if(!Z){alert(" .");return}wt(!0);const L={gold:i,plants:e,inventory:o,collection:c,upgradeLevel:p,unlocks:v,rarityLevel:b,fertilizerLevel:z,consumables:jt,cookedItems:G,discoveredRecipes:Rt,stats:it,achievements:ht,foodState:U,activeBuffs:P,cookingState:yt,pityCounter:N,questTimer:w,activeQuests:dt,savedAt:Date.now()},lt=await qO(Z.uid,L);wt(!1),lt?(Ht(new Date),alert(" ! ")):alert(" .  .")},zi=async()=>{if(!Z){alert(" .");return}if(window.confirm("    ?")){wt(!0);try{const L=await GO(Z.uid);L?(t(L.gold||50),r(L.plants||Array(Dh).fill(null)),u(L.inventory||{}),m(L.collection||{}),g(L.upgradeLevel||0),E(L.unlocks||{statistics:!1,harvestAll:!1}),C(L.rarityLevel||1),D(L.fertilizerLevel||0),oe(L.consumables||{seedBomb:0,growthPotion:0}),ut(L.cookedItems||{}),k(L.discoveredRecipes||[]),tt(L.stats||{total_harvest:0,total_gold:0,total_cook:0,collection_count:0}),ft(L.achievements||{}),M(L.foodState||{active:!1,endTime:0,type:null,multiplier:1}),Q(L.activeBuffs||[]),Dt(L.cookingState||{active:!1,startTime:0,duration:0,ingredients:[],result:null}),O(L.pityCounter||0),I(L.questTimer||Date.now()+18e5),R(L.activeQuests||[]),alert("  ! ")):alert("  .")}catch(L){console.error(L),alert(" .")}finally{wt(!1)}}};$.useEffect(()=>{localStorage.setItem("plant_game_gold",i),localStorage.setItem("plant_game_plants",JSON.stringify(e)),localStorage.setItem("plant_game_inventory",JSON.stringify(o)),localStorage.setItem("plant_game_collection",JSON.stringify(c)),localStorage.setItem("plant_game_upgradeLevel",p),localStorage.setItem("plant_game_unlocks",JSON.stringify(v)),localStorage.setItem("plant_game_rarityLevel",b),localStorage.setItem("plant_game_foodState",JSON.stringify(U)),localStorage.setItem("plant_game_pityCounter",N),localStorage.setItem("plant_game_fertilizerLevel",z),localStorage.setItem("plant_game_consumables",JSON.stringify(jt)),localStorage.setItem("plant_game_cookedItems",JSON.stringify(G)),localStorage.setItem("plant_game_activeBuffs",JSON.stringify(P)),localStorage.setItem("plant_game_cookingState",JSON.stringify(yt)),localStorage.setItem("plant_game_discoveredRecipes",JSON.stringify(Rt)),localStorage.setItem("plant_game_stats",JSON.stringify(it)),localStorage.setItem("plant_game_achievements",JSON.stringify(ht)),localStorage.setItem("plant_game_activeQuests",JSON.stringify(dt)),localStorage.setItem("plant_game_questTimer",w)},[i,e,o,c,p,v,b,U,N,z,jt,G,P,yt,Rt,it,ht,dt,w]);const Kt=$.useRef({plants:e,foodState:U,upgradeLevel:p,rarityLevel:b,pityCounter:N,fertilizerLevel:z,consumables:jt,activeBuffs:P});$.useEffect(()=>{Kt.current={plants:e,foodState:U,upgradeLevel:p,rarityLevel:b,pityCounter:N,fertilizerLevel:z,consumables:jt,activeBuffs:P}},[e,U,p,b,N,z,jt,P]),$.useEffect(()=>{const L=setInterval(()=>{const{plants:lt,foodState:et,upgradeLevel:st,rarityLevel:W,pityCounter:ot,activeBuffs:gt}=Kt.current,Ut=Date.now(),Ne=gt.filter(Zt=>Zt.endTime>Ut);Ne.length!==gt.length&&Q(Ne);let en=1,hn=1;if(Ne.forEach(Zt=>{Zt.type==="speed"&&(en+=Zt.value),Zt.type==="spawn_rate"&&(hn+=Zt.value)}),et.active&&Date.now()>et.endTime){M({active:!1,endTime:0,type:null,multiplier:1});return}r(Zt=>{let te=[...Zt],fn=!1;const Bi=te.map((ve,dn)=>ve===null?dn:-1).filter(ve=>ve!==-1);if(!et.active)return Zt;const vs=WO*et.multiplier*hn,wi=ot*.01,Ha=Math.min(vs+wi,1);if(Bi.length>0&&Math.random()<Ha){O(0);const ve=Bi[Math.floor(Math.random()*Bi.length)],dn=gt.filter(Pe=>Pe.type==="rarity_boost"),Te=ss.mushrooms.filter(Pe=>!(Pe.rarity==="epic"&&W<5||Pe.rarity==="legendary"&&W<10||Pe.rarity==="mythic"&&W<15)).map(Pe=>{let An=1;return dn.forEach(xi=>{(xi.target==="all"&&Pe.rarity!=="common"||xi.target===Pe.rarity)&&(An*=xi.value)}),{...Pe,effectiveWeight:Pe.rarity==="common"?Pe.weight/(1+W*.15):Pe.weight*(1+(W-1)*.8)*An}}),we=Te.reduce((Pe,An)=>Pe+An.effectiveWeight,0);let Yn=Math.random()*we,_s=Te[0];for(const Pe of Te)if(Yn-=Pe.effectiveWeight,Yn<=0){_s=Pe;break}let qa=Math.max(6e4-st*3e3,5e3);te[ve]={..._s,id:Date.now()+Math.random(),stage:"baby",plantedAt:Date.now(),growthProgress:0,growthDuration:qa},fn=!0}else Bi.length>0&&O(ve=>ve+1);return et.active&&(te=te.map(ve=>{if(ve&&ve.stage==="baby"){const dn=ve.growthProgress||0,Te=1e3*(et.multiplier||1)*en,we=dn+Te;return we>=ve.growthDuration?(fn=!0,{...ve,stage:"adult",growthProgress:we}):(fn=!0,{...ve,growthProgress:we})}return ve})),fn?te:Zt})},1e3);return()=>clearInterval(L)},[]);const an=$.useCallback((L,lt)=>{const et={};let st=!1;const W=Object.keys(lt).length;L.collection_count!==W&&(L.collection_count=W),yf.achievements.forEach(ot=>{if(ht[ot.id])return;const gt=ot.condition;L[gt.type]>=gt.value&&(et[ot.id]={unlocked:!0,date:new Date().toISOString(),claimed:!1},st=!0)}),st&&ft(ot=>({...ot,...et}))},[ht]),Ee=$.useCallback((L,lt=1)=>{tt(et=>({...et,[L]:(et[L]||0)+lt}))},[]);$.useEffect(()=>{an(it,c)},[it,c,an]);const ps=$.useCallback(L=>{const lt=ht[L];if(!lt||!lt.unlocked||lt.claimed)return;const et=yf.achievements.find(W=>W.id===L);if(!et)return;const st=et.reward;st.type==="gold"&&t(W=>W+st.value),ft(W=>({...W,[L]:{...W[L],claimed:!0}}))},[ht]),Pn=$.useCallback(()=>{const L=[],lt=V1.npcs;for(let et=0;et<3;et++){const st=lt[Math.floor(Math.random()*lt.length)],W=Rt.length>0&&Math.random()<.3;let ot,gt,Ut;if(W){const hn=Rt[Math.floor(Math.random()*Rt.length)],Zt=Gh.recipes.find(te=>te.id===hn);if(!Zt)continue;ot={type:"dish",id:Zt.id,name:Zt.name,emoji:Zt.emoji,value:Zt.value},gt=Math.floor(Math.random()*3)+1}else{const hn=ss.mushrooms.filter(te=>te.rarity==="common"||te.rarity==="rare"&&b>=2||te.rarity==="epic"&&b>=5||te.rarity==="legendary"&&b>=10),Zt=hn[Math.floor(Math.random()*hn.length)];ot={type:"plant",id:Zt.emoji,name:Zt.name,emoji:Zt.emoji,value:Zt.value},gt=Math.floor(Math.random()*5)+3}const Ne=ot.value*gt,en=1.5+Math.random()*.5;Ut=Math.floor(Ne*en),L.push({id:Date.now()+et,npcId:st.id,npcName:st.name,npcEmoji:st.emoji,dialogue:st.dialogue[Math.floor(Math.random()*st.dialogue.length)],request:{...ot,count:gt},reward:{gold:Ut}})}R(L),I(Date.now()+18e5)},[b,Rt]),gs=$.useCallback((L=0)=>{Date.now()>=w?Pn():i>=L&&(t(lt=>lt-L),Pn())},[i,Pn,w]),ys=$.useCallback(L=>{if(i<100)return;t(Zt=>Zt-100);const et=V1.npcs,st=et[Math.floor(Math.random()*et.length)],W=Rt.length>0&&Math.random()<.3;let ot,gt,Ut;if(W){const Zt=Rt[Math.floor(Math.random()*Rt.length)],te=Gh.recipes.find(fn=>fn.id===Zt);if(!te)return;ot={type:"dish",id:te.id,name:te.name,emoji:te.emoji,value:te.value},gt=Math.floor(Math.random()*3)+1}else{const Zt=ss.mushrooms.filter(fn=>fn.rarity==="common"||fn.rarity==="rare"&&b>=2||fn.rarity==="epic"&&b>=5||fn.rarity==="legendary"&&b>=10),te=Zt[Math.floor(Math.random()*Zt.length)];ot={type:"plant",id:te.emoji,name:te.name,emoji:te.emoji,value:te.value},gt=Math.floor(Math.random()*10)+5}const Ne=ot.value*gt,en=1.5+Math.random()*.5;Ut=Math.floor(Ne*en);const hn={id:Date.now(),npcId:st.id,npcName:st.name,npcEmoji:st.emoji,dialogue:st.dialogue[Math.floor(Math.random()*st.dialogue.length)],request:{...ot,count:gt},reward:{gold:Ut}};R(Zt=>Zt.map(te=>te.id===L?hn:te))},[i,b,Rt]),_t=$.useCallback(L=>{const lt=dt.find(st=>st.id===L);if(!lt)return;const et=lt.request;if(et.type==="plant"){if(!o[et.id]||o[et.id].count<et.count)return;u(st=>{const W={...st};return W[et.id]={...W[et.id]},W[et.id].count-=et.count,W[et.id].count<=0&&delete W[et.id],W})}else if(et.type==="dish"){if(!G[et.id]||G[et.id].count<et.count)return;ut(st=>{const W={...st};return W[et.id]={...W[et.id]},W[et.id].count-=et.count,W[et.id].count<=0&&delete W[et.id],W})}t(st=>st+lt.reward.gold),R(st=>st.filter(W=>W.id!==L))},[dt,o,G]);$.useEffect(()=>{w||I(Date.now()+18e5)},[w]),$.useEffect(()=>{dt.length===0&&Pn()},[]);const Lt=$.useCallback(L=>{const lt=e[L];!lt||lt.stage!=="adult"||(r(et=>{const st=[...et];return st[L]=null,st}),u(et=>{const st={...et};return st[lt.emoji]?st[lt.emoji]={...st[lt.emoji]}:st[lt.emoji]={...lt,count:0},st[lt.emoji].count+=1,st}),m(et=>{const st={...et};return st[lt.emoji]?st[lt.emoji]={...st[lt.emoji]}:st[lt.emoji]={discovered:!0,count:0,firstDiscoveredAt:new Date().toISOString()},st[lt.emoji].count+=1,st}),Ee("total_harvest",1))},[e,Ee]),Mn=$.useCallback((L,lt=1)=>{const et=o[L];!et||et.count<lt||(u(st=>{const W={...st};return W[L]&&(W[L]={...W[L]},W[L].count-=lt,W[L].count<=0&&delete W[L]),W}),t(st=>{const W=P.find(Ut=>Ut.type==="gold"),ot=W?1+W.value:1,gt=Math.floor(et.value*lt*ot);return Ee("total_gold",gt),st+gt}))},[o,P,Ee]),Si=$.useCallback(()=>{let L=0;Object.values(o).forEach(lt=>{L+=lt.value*lt.count}),L>0&&(u({}),t(lt=>{const et=P.find(ot=>ot.type==="gold"),st=et?1+et.value:1,W=Math.floor(L*st);return Ee("total_gold",W),lt+W}))},[o,P,Ee]),le=$.useCallback(()=>{const L=100+p*50;return i>=L?(t(lt=>lt-L),g(lt=>lt+1),!0):!1},[i,p]),ue=$.useCallback(L=>i>=500&&!v[L]?(t(et=>et-500),E(et=>({...et,[L]:!0})),!0):!1,[i,v]),Sn=$.useCallback(()=>{const L=500*b;i>=L&&(t(lt=>lt-L),C(lt=>lt+1))},[i,b]),Yr=$.useCallback(()=>{const L=1e3+z*500;i>=L&&(t(lt=>lt-L),D(lt=>lt+1))},[i,z]),Qr=$.useCallback((L,lt)=>{i>=lt&&(t(et=>et-lt),oe(et=>({...et,[L]:(et[L]||0)+1})))},[i]),Ai=L=>{const lt=P.filter(ot=>ot.type==="rarity_boost"),et=ss.mushrooms.filter(ot=>!(ot.rarity==="epic"&&L<5||ot.rarity==="legendary"&&L<10||ot.rarity==="mythic"&&L<15)).map(ot=>{let gt=1;return lt.forEach(Ut=>{(Ut.target==="all"&&ot.rarity!=="common"||Ut.target===ot.rarity)&&(gt*=Ut.value)}),{...ot,effectiveWeight:ot.rarity==="common"?ot.weight:ot.weight*(1+(L-1)*.1)*gt}}),st=et.reduce((ot,gt)=>ot+gt.effectiveWeight,0);let W=Math.random()*st;for(const ot of et)if(W-=ot.effectiveWeight,W<=0)return ot;return et[0]},cl=$.useCallback(L=>{if(!jt[L]||jt[L]<=0)return;let lt=!1;L==="seedBomb"?r(et=>{const st=[...et];let W=!1;st.forEach((ot,gt)=>{ot&&ot.stage==="baby"&&(st[gt]={...ot,stage:"adult",growthProgress:ot.growthDuration},W=!0)});for(let ot=0;ot<Dh;ot++)if(!st[ot]){const gt=Ai(b),Ut=Math.max(6e4-p*3e3,5e3);st[ot]={...gt,id:Date.now()+Math.random()+ot,stage:"adult",plantedAt:Date.now(),growthProgress:Ut,growthDuration:Ut},W=!0}return W&&(lt=!0),W?st:et}):L==="growthPotion"&&r(et=>{const st=et.map(W=>W&&W.stage==="baby"?(lt=!0,{...W,stage:"adult",growthProgress:W.growthDuration}):W);return lt=!0,st}),lt&&oe(et=>({...et,[L]:et[L]-1}))},[jt,b,p]),Ua=$.useCallback(()=>{v.harvestAll&&r(L=>{const lt=[...L];let et=0;const st={};return lt.forEach((W,ot)=>{W&&W.stage==="adult"&&(lt[ot]=null,et++,st[W.emoji]||(st[W.emoji]={...W,count:0}),st[W.emoji].count++)}),et===0?L:(u(W=>{const ot={...W};return Object.values(st).forEach(gt=>{ot[gt.emoji]?ot[gt.emoji]={...ot[gt.emoji]}:ot[gt.emoji]={...gt,count:0},ot[gt.emoji].count+=gt.count}),ot}),m(W=>{const ot={...W};return Object.values(st).forEach(gt=>{ot[gt.emoji]?ot[gt.emoji]={...ot[gt.emoji]}:ot[gt.emoji]={discovered:!0,count:0,firstDiscoveredAt:new Date().toISOString()},ot[gt.emoji].count+=gt.count}),ot}),lt)})},[v.harvestAll]),za=$.useCallback(L=>{const et={"3min-free":{duration:18e4,multiplier:.5,cost:0,name:"3min Free"},"1min":{duration:6e4,multiplier:2.5,cost:200,name:"1min Speed (2.5x)"},"5min":{duration:3e5,multiplier:1,cost:150,name:"5min Normal"},"10min":{duration:6e5,multiplier:.7,cost:350,name:"10min Slow"}}[L];if(et&&i>=et.cost){t(ot=>ot-et.cost);const st=1+z*.1,W=et.duration*st;M({active:!0,endTime:Date.now()+W,type:L,multiplier:et.multiplier})}},[i,z]),Ba=$.useCallback(()=>{M({active:!1,endTime:0,type:null,multiplier:1})},[]),Kn=$.useCallback(L=>{if(L.length!==3)return;const lt={};L.forEach(W=>{lt[W]=(lt[W]||0)+1});for(const[W,ot]of Object.entries(lt))if(!o[W]||o[W].count<ot)return;u(W=>{const ot={...W};return L.forEach(gt=>{ot[gt]&&(ot[gt]={...ot[gt]},ot[gt].count-=1,ot[gt].count<=0&&delete ot[gt])}),ot});const et=[...L].sort(),st=Gh.recipes.find(W=>{const ot=[...W.ingredients].sort();return JSON.stringify(ot)===JSON.stringify(et)});if(st)Dt({active:!0,startTime:Date.now(),duration:st.time,ingredients:L,result:st});else{const W=L.reduce((gt,Ut)=>{const Ne=ss.mushrooms.find(en=>en.emoji===Ut);return gt+(Ne?Ne.value:0)},0),ot={id:`mixed_stew_${Date.now()}`,name:" ",emoji:"",description:"     .    .",value:Math.floor(W*1.1),count:1,effect:null};Dt({active:!0,startTime:Date.now(),duration:1e4,ingredients:L,result:{...ot,ingredients:L}})}},[o]),tn=$.useCallback(()=>{if(!yt.active||Date.now()-yt.startTime<yt.duration)return;const et=yt.result;ut(st=>{const W={...st},ot=et.id.startsWith("mixed_stew")?`mixed_stew_${et.value}`:et.id;return W[ot]?W[ot]={...W[ot]}:W[ot]={...et,id:ot,count:0},W[ot].count===void 0&&(W[ot].count=0),W[ot].count+=1,W}),et.id.startsWith("mixed_stew")||k(st=>st.includes(et.id)?st:[...st,et.id]),Dt({active:!1,startTime:0,duration:0,ingredients:[],result:null}),Ee("total_cook",1)},[yt,Ee]),kn=$.useCallback(L=>{if(!G[L]||G[L].count<=0)return;const lt=G[L],et=lt.effect;et.type==="instant_growth"?r(st=>{const W=[...st];let ot=et.value;const gt=W.map((Ut,Ne)=>({p:Ut,i:Ne})).filter(({p:Ut})=>Ut&&Ut.stage==="baby");for(let Ut=gt.length-1;Ut>0;Ut--){const Ne=Math.floor(Math.random()*(Ut+1));[gt[Ut],gt[Ne]]=[gt[Ne],gt[Ut]]}return gt.slice(0,ot).forEach(({i:Ut})=>{W[Ut]={...W[Ut],stage:"adult",growthProgress:W[Ut].growthDuration}}),W}):et.type==="fill_empty_slots"?r(st=>{const W=[...st];let ot=!1;for(let gt=0;gt<Dh;gt++)if(!W[gt]){const Ut=Ai(b),Ne=Math.max(6e4-p*3e3,5e3);W[gt]={...Ut,id:Date.now()+Math.random()+gt,stage:"baby",plantedAt:Date.now(),growthProgress:0,growthDuration:Ne},ot=!0}return ot?W:st}):Q(st=>[...st.filter(W=>W.type!==et.type||W.target!==et.target),{type:et.type,target:et.target,value:et.value,endTime:Date.now()+et.duration,name:lt.name}]),ut(st=>{const W={...st};return W[L]={...W[L]},W[L].count-=1,W[L].count<=0&&delete W[L],W})},[G]),De=$.useCallback((L,lt=1)=>{const et=G[L];!et||et.count<lt||(ut(st=>{const W={...st};return W[L]={...W[L]},W[L].count-=lt,W[L].count<=0&&delete W[L],W}),t(st=>{const W=P.find(Ut=>Ut.type==="gold"),ot=W?1+W.value:1,gt=Math.floor(et.value*lt*ot);return Ee("total_gold",gt),st+gt}))},[G,P,Ee]),Fa=$.useCallback(()=>{window.confirm(" ?   .")&&(localStorage.clear(),window.location.reload())},[]),Xs=$.useCallback(()=>{t(1e5);const L=ss.mushrooms,lt={};L.forEach(et=>{lt[et.emoji]={...et,count:99}}),u(lt),alert("God Mode Activated! ")},[]);return{user:Z,handleLogin:Ie,handleLogout:de,handleSaveGame:bi,handleLoadGame:zi,isSaving:vt,lastSaved:Ot,gold:i,plants:e,inventory:o,collection:c,upgradeLevel:p,unlocks:v,rarityLevel:b,fertilizerLevel:z,consumables:jt,foodState:U,pityCounter:N,harvest:Lt,sell:Mn,sellAll:Si,buyUpgrade:le,buyUnlock:ue,buyRarityUpgrade:Sn,buyFertilizerUpgrade:Yr,buyConsumable:Qr,useConsumable:cl,harvestAll:Ua,activateFood:za,cancelFood:Ba,cookedItems:G,activeBuffs:P,useCookedItem:kn,cookingState:yt,discoveredRecipes:Rt,startCooking:Kn,claimDish:tn,sellCookedItem:De,resetGame:Fa,activateGodMode:Xs,stats:it,achievements:ht,claimAchievement:ps,activeQuests:dt,questTimer:w,refreshQuests:gs,rerollQuest:ys,completeQuest:_t}}const Jg=$.createContext({});function Zg(i){const t=$.useRef(null);return t.current===null&&(t.current=i()),t.current}const ty=typeof window<"u",dA=ty?$.useLayoutEffect:$.useEffect,Uf=$.createContext(null);function ey(i,t){i.indexOf(t)===-1&&i.push(t)}function ny(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}const Ks=(i,t,e)=>e>t?t:e<i?i:e;let iy=()=>{};const Ys={},mA=i=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(i);function pA(i){return typeof i=="object"&&i!==null}const gA=i=>/^0[^.\s]+$/u.test(i);function sy(i){let t;return()=>(t===void 0&&(t=i()),t)}const Ti=i=>i,JO=(i,t)=>e=>t(i(e)),tc=(...i)=>i.reduce(JO),Lu=(i,t,e)=>{const r=t-i;return r===0?1:(e-i)/r};class ry{constructor(){this.subscriptions=[]}add(t){return ey(this.subscriptions,t),()=>ny(this.subscriptions,t)}notify(t,e,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,e,r);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(t,e,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const cs=i=>i*1e3,_i=i=>i/1e3;function yA(i,t){return t?i*(1e3/t):0}const vA=(i,t,e)=>(((1-3*e+3*t)*i+(3*e-6*t))*i+3*t)*i,ZO=1e-7,tN=12;function eN(i,t,e,r,o){let u,c,m=0;do c=t+(e-t)/2,u=vA(c,r,o)-i,u>0?e=c:t=c;while(Math.abs(u)>ZO&&++m<tN);return c}function ec(i,t,e,r){if(i===t&&e===r)return Ti;const o=u=>eN(u,0,1,i,e);return u=>u===0||u===1?u:vA(o(u),t,r)}const _A=i=>t=>t<=.5?i(2*t)/2:(2-i(2*(1-t)))/2,TA=i=>t=>1-i(1-t),EA=ec(.33,1.53,.69,.99),ay=TA(EA),bA=_A(ay),SA=i=>(i*=2)<1?.5*ay(i):.5*(2-Math.pow(2,-10*(i-1))),oy=i=>1-Math.sin(Math.acos(i)),AA=TA(oy),wA=_A(oy),nN=ec(.42,0,1,1),iN=ec(0,0,.58,1),xA=ec(.42,0,.58,1),sN=i=>Array.isArray(i)&&typeof i[0]!="number",RA=i=>Array.isArray(i)&&typeof i[0]=="number",rN={linear:Ti,easeIn:nN,easeInOut:xA,easeOut:iN,circIn:oy,circInOut:wA,circOut:AA,backIn:ay,backInOut:bA,backOut:EA,anticipate:SA},aN=i=>typeof i=="string",O1=i=>{if(RA(i)){iy(i.length===4);const[t,e,r,o]=i;return ec(t,e,r,o)}else if(aN(i))return rN[i];return i},Mh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function oN(i,t){let e=new Set,r=new Set,o=!1,u=!1;const c=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function p(v){c.has(v)&&(g.schedule(v),i()),v(m)}const g={schedule:(v,E=!1,b=!1)=>{const U=b&&o?e:r;return E&&c.add(v),U.has(v)||U.add(v),v},cancel:v=>{r.delete(v),c.delete(v)},process:v=>{if(m=v,o){u=!0;return}o=!0,[e,r]=[r,e],e.forEach(p),e.clear(),o=!1,u&&(u=!1,g.process(v))}};return g}const lN=40;function CA(i,t){let e=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>e=!0,c=Mh.reduce((tt,ht)=>(tt[ht]=oN(u),tt),{}),{setup:m,read:p,resolveKeyframes:g,preUpdate:v,update:E,preRender:b,render:C,postRender:U}=c,M=()=>{const tt=Ys.useManualTiming?o.timestamp:performance.now();e=!1,Ys.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(tt-o.timestamp,lN),1)),o.timestamp=tt,o.isProcessing=!0,m.process(o),p.process(o),g.process(o),v.process(o),E.process(o),b.process(o),C.process(o),U.process(o),o.isProcessing=!1,e&&t&&(r=!1,i(M))},P=()=>{e=!0,r=!0,o.isProcessing||i(M)};return{schedule:Mh.reduce((tt,ht)=>{const ft=c[ht];return tt[ht]=(dt,R=!1,w=!1)=>(e||P(),ft.schedule(dt,R,w)),tt},{}),cancel:tt=>{for(let ht=0;ht<Mh.length;ht++)c[Mh[ht]].cancel(tt)},state:o,steps:c}}const{schedule:Ce,cancel:qr,state:_n,steps:tp}=CA(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ti,!0);let Kh;function uN(){Kh=void 0}const Gn={now:()=>(Kh===void 0&&Gn.set(_n.isProcessing||Ys.useManualTiming?_n.timestamp:performance.now()),Kh),set:i=>{Kh=i,queueMicrotask(uN)}},IA=i=>t=>typeof t=="string"&&t.startsWith(i),ly=IA("--"),cN=IA("var(--"),uy=i=>cN(i)?hN.test(i.split("/*")[0].trim()):!1,hN=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ol={test:i=>typeof i=="number",parse:parseFloat,transform:i=>i},Uu={...ol,transform:i=>Ks(0,1,i)},Vh={...ol,default:1},Su=i=>Math.round(i*1e5)/1e5,cy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function fN(i){return i==null}const dN=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,hy=(i,t)=>e=>!!(typeof e=="string"&&dN.test(e)&&e.startsWith(i)||t&&!fN(e)&&Object.prototype.hasOwnProperty.call(e,t)),DA=(i,t,e)=>r=>{if(typeof r!="string")return r;const[o,u,c,m]=r.match(cy);return{[i]:parseFloat(o),[t]:parseFloat(u),[e]:parseFloat(c),alpha:m!==void 0?parseFloat(m):1}},mN=i=>Ks(0,255,i),ep={...ol,transform:i=>Math.round(mN(i))},Aa={test:hy("rgb","red"),parse:DA("red","green","blue"),transform:({red:i,green:t,blue:e,alpha:r=1})=>"rgba("+ep.transform(i)+", "+ep.transform(t)+", "+ep.transform(e)+", "+Su(Uu.transform(r))+")"};function pN(i){let t="",e="",r="",o="";return i.length>5?(t=i.substring(1,3),e=i.substring(3,5),r=i.substring(5,7),o=i.substring(7,9)):(t=i.substring(1,2),e=i.substring(2,3),r=i.substring(3,4),o=i.substring(4,5),t+=t,e+=e,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Up={test:hy("#"),parse:pN,transform:Aa.transform},nc=i=>({test:t=>typeof t=="string"&&t.endsWith(i)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${i}`}),Cr=nc("deg"),hs=nc("%"),Mt=nc("px"),gN=nc("vh"),yN=nc("vw"),N1={...hs,parse:i=>hs.parse(i)/100,transform:i=>hs.transform(i*100)},No={test:hy("hsl","hue"),parse:DA("hue","saturation","lightness"),transform:({hue:i,saturation:t,lightness:e,alpha:r=1})=>"hsla("+Math.round(i)+", "+hs.transform(Su(t))+", "+hs.transform(Su(e))+", "+Su(Uu.transform(r))+")"},Je={test:i=>Aa.test(i)||Up.test(i)||No.test(i),parse:i=>Aa.test(i)?Aa.parse(i):No.test(i)?No.parse(i):Up.parse(i),transform:i=>typeof i=="string"?i:i.hasOwnProperty("red")?Aa.transform(i):No.transform(i),getAnimatableNone:i=>{const t=Je.parse(i);return t.alpha=0,Je.transform(t)}},vN=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function _N(i){return isNaN(i)&&typeof i=="string"&&(i.match(cy)?.length||0)+(i.match(vN)?.length||0)>0}const MA="number",VA="color",TN="var",EN="var(",P1="${}",bN=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function zu(i){const t=i.toString(),e=[],r={color:[],number:[],var:[]},o=[];let u=0;const m=t.replace(bN,p=>(Je.test(p)?(r.color.push(u),o.push(VA),e.push(Je.parse(p))):p.startsWith(EN)?(r.var.push(u),o.push(TN),e.push(p)):(r.number.push(u),o.push(MA),e.push(parseFloat(p))),++u,P1)).split(P1);return{values:e,split:m,indexes:r,types:o}}function OA(i){return zu(i).values}function NA(i){const{split:t,types:e}=zu(i),r=t.length;return o=>{let u="";for(let c=0;c<r;c++)if(u+=t[c],o[c]!==void 0){const m=e[c];m===MA?u+=Su(o[c]):m===VA?u+=Je.transform(o[c]):u+=o[c]}return u}}const SN=i=>typeof i=="number"?0:Je.test(i)?Je.getAnimatableNone(i):i;function AN(i){const t=OA(i);return NA(i)(t.map(SN))}const Gr={test:_N,parse:OA,createTransformer:NA,getAnimatableNone:AN};function np(i,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?i+(t-i)*6*e:e<1/2?t:e<2/3?i+(t-i)*(2/3-e)*6:i}function wN({hue:i,saturation:t,lightness:e,alpha:r}){i/=360,t/=100,e/=100;let o=0,u=0,c=0;if(!t)o=u=c=e;else{const m=e<.5?e*(1+t):e+t-e*t,p=2*e-m;o=np(p,m,i+1/3),u=np(p,m,i),c=np(p,m,i-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:r}}function vf(i,t){return e=>e>0?t:i}const Ve=(i,t,e)=>i+(t-i)*e,ip=(i,t,e)=>{const r=i*i,o=e*(t*t-r)+r;return o<0?0:Math.sqrt(o)},xN=[Up,Aa,No],RN=i=>xN.find(t=>t.test(i));function k1(i){const t=RN(i);if(!t)return!1;let e=t.parse(i);return t===No&&(e=wN(e)),e}const j1=(i,t)=>{const e=k1(i),r=k1(t);if(!e||!r)return vf(i,t);const o={...e};return u=>(o.red=ip(e.red,r.red,u),o.green=ip(e.green,r.green,u),o.blue=ip(e.blue,r.blue,u),o.alpha=Ve(e.alpha,r.alpha,u),Aa.transform(o))},zp=new Set(["none","hidden"]);function CN(i,t){return zp.has(i)?e=>e<=0?i:t:e=>e>=1?t:i}function IN(i,t){return e=>Ve(i,t,e)}function fy(i){return typeof i=="number"?IN:typeof i=="string"?uy(i)?vf:Je.test(i)?j1:VN:Array.isArray(i)?PA:typeof i=="object"?Je.test(i)?j1:DN:vf}function PA(i,t){const e=[...i],r=e.length,o=i.map((u,c)=>fy(u)(u,t[c]));return u=>{for(let c=0;c<r;c++)e[c]=o[c](u);return e}}function DN(i,t){const e={...i,...t},r={};for(const o in e)i[o]!==void 0&&t[o]!==void 0&&(r[o]=fy(i[o])(i[o],t[o]));return o=>{for(const u in r)e[u]=r[u](o);return e}}function MN(i,t){const e=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],c=i.indexes[u][r[u]],m=i.values[c]??0;e[o]=m,r[u]++}return e}const VN=(i,t)=>{const e=Gr.createTransformer(t),r=zu(i),o=zu(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?zp.has(i)&&!o.values.length||zp.has(t)&&!r.values.length?CN(i,t):tc(PA(MN(r,o),o.values),e):vf(i,t)};function kA(i,t,e){return typeof i=="number"&&typeof t=="number"&&typeof e=="number"?Ve(i,t,e):fy(i)(i,t)}const ON=i=>{const t=({timestamp:e})=>i(e);return{start:(e=!0)=>Ce.update(t,e),stop:()=>qr(t),now:()=>_n.isProcessing?_n.timestamp:Gn.now()}},jA=(i,t,e=10)=>{let r="";const o=Math.max(Math.round(t/e),2);for(let u=0;u<o;u++)r+=Math.round(i(u/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},_f=2e4;function dy(i){let t=0;const e=50;let r=i.next(t);for(;!r.done&&t<_f;)t+=e,r=i.next(t);return t>=_f?1/0:t}function NN(i,t=100,e){const r=e({...i,keyframes:[0,t]}),o=Math.min(dy(r),_f);return{type:"keyframes",ease:u=>r.next(o*u).value/t,duration:_i(o)}}const PN=5;function LA(i,t,e){const r=Math.max(t-PN,0);return yA(e-i(r),t-r)}const Le={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},sp=.001;function kN({duration:i=Le.duration,bounce:t=Le.bounce,velocity:e=Le.velocity,mass:r=Le.mass}){let o,u,c=1-t;c=Ks(Le.minDamping,Le.maxDamping,c),i=Ks(Le.minDuration,Le.maxDuration,_i(i)),c<1?(o=g=>{const v=g*c,E=v*i,b=v-e,C=Bp(g,c),U=Math.exp(-E);return sp-b/C*U},u=g=>{const E=g*c*i,b=E*e+e,C=Math.pow(c,2)*Math.pow(g,2)*i,U=Math.exp(-E),M=Bp(Math.pow(g,2),c);return(-o(g)+sp>0?-1:1)*((b-C)*U)/M}):(o=g=>{const v=Math.exp(-g*i),E=(g-e)*i+1;return-sp+v*E},u=g=>{const v=Math.exp(-g*i),E=(e-g)*(i*i);return v*E});const m=5/i,p=LN(o,u,m);if(i=cs(i),isNaN(p))return{stiffness:Le.stiffness,damping:Le.damping,duration:i};{const g=Math.pow(p,2)*r;return{stiffness:g,damping:c*2*Math.sqrt(r*g),duration:i}}}const jN=12;function LN(i,t,e){let r=e;for(let o=1;o<jN;o++)r=r-i(r)/t(r);return r}function Bp(i,t){return i*Math.sqrt(1-t*t)}const UN=["duration","bounce"],zN=["stiffness","damping","mass"];function L1(i,t){return t.some(e=>i[e]!==void 0)}function BN(i){let t={velocity:Le.velocity,stiffness:Le.stiffness,damping:Le.damping,mass:Le.mass,isResolvedFromDuration:!1,...i};if(!L1(i,zN)&&L1(i,UN))if(i.visualDuration){const e=i.visualDuration,r=2*Math.PI/(e*1.2),o=r*r,u=2*Ks(.05,1,1-(i.bounce||0))*Math.sqrt(o);t={...t,mass:Le.mass,stiffness:o,damping:u}}else{const e=kN(i);t={...t,...e,mass:Le.mass},t.isResolvedFromDuration=!0}return t}function Tf(i=Le.visualDuration,t=Le.bounce){const e=typeof i!="object"?{visualDuration:i,keyframes:[0,1],bounce:t}:i;let{restSpeed:r,restDelta:o}=e;const u=e.keyframes[0],c=e.keyframes[e.keyframes.length-1],m={done:!1,value:u},{stiffness:p,damping:g,mass:v,duration:E,velocity:b,isResolvedFromDuration:C}=BN({...e,velocity:-_i(e.velocity||0)}),U=b||0,M=g/(2*Math.sqrt(p*v)),P=c-u,Q=_i(Math.sqrt(p/v)),it=Math.abs(P)<5;r||(r=it?Le.restSpeed.granular:Le.restSpeed.default),o||(o=it?Le.restDelta.granular:Le.restDelta.default);let tt;if(M<1){const ft=Bp(Q,M);tt=dt=>{const R=Math.exp(-M*Q*dt);return c-R*((U+M*Q*P)/ft*Math.sin(ft*dt)+P*Math.cos(ft*dt))}}else if(M===1)tt=ft=>c-Math.exp(-Q*ft)*(P+(U+Q*P)*ft);else{const ft=Q*Math.sqrt(M*M-1);tt=dt=>{const R=Math.exp(-M*Q*dt),w=Math.min(ft*dt,300);return c-R*((U+M*Q*P)*Math.sinh(w)+ft*P*Math.cosh(w))/ft}}const ht={calculatedDuration:C&&E||null,next:ft=>{const dt=tt(ft);if(C)m.done=ft>=E;else{let R=ft===0?U:0;M<1&&(R=ft===0?cs(U):LA(tt,ft,dt));const w=Math.abs(R)<=r,I=Math.abs(c-dt)<=o;m.done=w&&I}return m.value=m.done?c:dt,m},toString:()=>{const ft=Math.min(dy(ht),_f),dt=jA(R=>ht.next(ft*R).value,ft,30);return ft+"ms "+dt},toTransition:()=>{}};return ht}Tf.applyToOptions=i=>{const t=NN(i,100,Tf);return i.ease=t.ease,i.duration=cs(t.duration),i.type="keyframes",i};function Fp({keyframes:i,velocity:t=0,power:e=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:m,max:p,restDelta:g=.5,restSpeed:v}){const E=i[0],b={done:!1,value:E},C=w=>m!==void 0&&w<m||p!==void 0&&w>p,U=w=>m===void 0?p:p===void 0||Math.abs(m-w)<Math.abs(p-w)?m:p;let M=e*t;const P=E+M,Q=c===void 0?P:c(P);Q!==P&&(M=Q-E);const it=w=>-M*Math.exp(-w/r),tt=w=>Q+it(w),ht=w=>{const I=it(w),N=tt(w);b.done=Math.abs(I)<=g,b.value=b.done?Q:N};let ft,dt;const R=w=>{C(b.value)&&(ft=w,dt=Tf({keyframes:[b.value,U(b.value)],velocity:LA(tt,w,b.value),damping:o,stiffness:u,restDelta:g,restSpeed:v}))};return R(0),{calculatedDuration:null,next:w=>{let I=!1;return!dt&&ft===void 0&&(I=!0,ht(w),R(w)),ft!==void 0&&w>=ft?dt.next(w-ft):(!I&&ht(w),b)}}}function FN(i,t,e){const r=[],o=e||Ys.mix||kA,u=i.length-1;for(let c=0;c<u;c++){let m=o(i[c],i[c+1]);if(t){const p=Array.isArray(t)?t[c]||Ti:t;m=tc(p,m)}r.push(m)}return r}function HN(i,t,{clamp:e=!0,ease:r,mixer:o}={}){const u=i.length;if(iy(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=i[0]===i[1];i[0]>i[u-1]&&(i=[...i].reverse(),t=[...t].reverse());const m=FN(t,r,o),p=m.length,g=v=>{if(c&&v<i[0])return t[0];let E=0;if(p>1)for(;E<i.length-2&&!(v<i[E+1]);E++);const b=Lu(i[E],i[E+1],v);return m[E](b)};return e?v=>g(Ks(i[0],i[u-1],v)):g}function qN(i,t){const e=i[i.length-1];for(let r=1;r<=t;r++){const o=Lu(0,t,r);i.push(Ve(e,1,o))}}function GN(i){const t=[0];return qN(t,i.length-1),t}function KN(i,t){return i.map(e=>e*t)}function YN(i,t){return i.map(()=>t||xA).splice(0,i.length-1)}function Au({duration:i=300,keyframes:t,times:e,ease:r="easeInOut"}){const o=sN(r)?r.map(O1):O1(r),u={done:!1,value:t[0]},c=KN(e&&e.length===t.length?e:GN(t),i),m=HN(c,t,{ease:Array.isArray(o)?o:YN(t,o)});return{calculatedDuration:i,next:p=>(u.value=m(p),u.done=p>=i,u)}}const QN=i=>i!==null;function my(i,{repeat:t,repeatType:e="loop"},r,o=1){const u=i.filter(QN),m=o<0||t&&e!=="loop"&&t%2===1?0:u.length-1;return!m||r===void 0?u[m]:r}const XN={decay:Fp,inertia:Fp,tween:Au,keyframes:Au,spring:Tf};function UA(i){typeof i.type=="string"&&(i.type=XN[i.type])}class py{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const WN=i=>i/100;class gy extends py{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==Gn.now()&&this.tick(Gn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;UA(t);const{type:e=Au,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=t;let{keyframes:m}=t;const p=e||Au;p!==Au&&typeof m[0]!="number"&&(this.mixKeyframes=tc(WN,kA(m[0],m[1])),m=[0,100]);const g=p({...t,keyframes:m});u==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...m].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=dy(g));const{calculatedDuration:v}=g;this.calculatedDuration=v,this.resolvedDuration=v+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=g}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:m,calculatedDuration:p}=this;if(this.startTime===null)return r.next(0);const{delay:g=0,keyframes:v,repeat:E,repeatType:b,repeatDelay:C,type:U,onUpdate:M,finalKeyframe:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const Q=this.currentTime-g*(this.playbackSpeed>=0?1:-1),it=this.playbackSpeed>=0?Q<0:Q>o;this.currentTime=Math.max(Q,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let tt=this.currentTime,ht=r;if(E){const w=Math.min(this.currentTime,o)/m;let I=Math.floor(w),N=w%1;!N&&w>=1&&(N=1),N===1&&I--,I=Math.min(I,E+1),!!(I%2)&&(b==="reverse"?(N=1-N,C&&(N-=C/m)):b==="mirror"&&(ht=c)),tt=Ks(0,1,N)*m}const ft=it?{done:!1,value:v[0]}:ht.next(tt);u&&(ft.value=u(ft.value));let{done:dt}=ft;!it&&p!==null&&(dt=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&dt);return R&&U!==Fp&&(ft.value=my(v,this.options,P,this.speed)),M&&M(ft.value),R&&this.finish(),ft}then(t,e){return this.finished.then(t,e)}get duration(){return _i(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+_i(t)}get time(){return _i(this.currentTime)}set time(t){t=cs(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Gn.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=_i(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=ON,startTime:e}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=e??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Gn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function $N(i){for(let t=1;t<i.length;t++)i[t]??(i[t]=i[t-1])}const wa=i=>i*180/Math.PI,Hp=i=>{const t=wa(Math.atan2(i[1],i[0]));return qp(t)},JN={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:i=>(Math.abs(i[0])+Math.abs(i[3]))/2,rotate:Hp,rotateZ:Hp,skewX:i=>wa(Math.atan(i[1])),skewY:i=>wa(Math.atan(i[2])),skew:i=>(Math.abs(i[1])+Math.abs(i[2]))/2},qp=i=>(i=i%360,i<0&&(i+=360),i),U1=Hp,z1=i=>Math.sqrt(i[0]*i[0]+i[1]*i[1]),B1=i=>Math.sqrt(i[4]*i[4]+i[5]*i[5]),ZN={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:z1,scaleY:B1,scale:i=>(z1(i)+B1(i))/2,rotateX:i=>qp(wa(Math.atan2(i[6],i[5]))),rotateY:i=>qp(wa(Math.atan2(-i[2],i[0]))),rotateZ:U1,rotate:U1,skewX:i=>wa(Math.atan(i[4])),skewY:i=>wa(Math.atan(i[1])),skew:i=>(Math.abs(i[1])+Math.abs(i[4]))/2};function Gp(i){return i.includes("scale")?1:0}function Kp(i,t){if(!i||i==="none")return Gp(t);const e=i.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(e)r=ZN,o=e;else{const m=i.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=JN,o=m}if(!o)return Gp(t);const u=r[t],c=o[1].split(",").map(e3);return typeof u=="function"?u(c):c[u]}const t3=(i,t)=>{const{transform:e="none"}=getComputedStyle(i);return Kp(e,t)};function e3(i){return parseFloat(i.trim())}const ll=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ul=new Set(ll),F1=i=>i===ol||i===Mt,n3=new Set(["x","y","z"]),i3=ll.filter(i=>!n3.has(i));function s3(i){const t=[];return i3.forEach(e=>{const r=i.getValue(e);r!==void 0&&(t.push([e,r.get()]),r.set(e.startsWith("scale")?1:0))}),t}const Ca={width:({x:i},{paddingLeft:t="0",paddingRight:e="0"})=>i.max-i.min-parseFloat(t)-parseFloat(e),height:({y:i},{paddingTop:t="0",paddingBottom:e="0"})=>i.max-i.min-parseFloat(t)-parseFloat(e),top:(i,{top:t})=>parseFloat(t),left:(i,{left:t})=>parseFloat(t),bottom:({y:i},{top:t})=>parseFloat(t)+(i.max-i.min),right:({x:i},{left:t})=>parseFloat(t)+(i.max-i.min),x:(i,{transform:t})=>Kp(t,"x"),y:(i,{transform:t})=>Kp(t,"y")};Ca.translateX=Ca.x;Ca.translateY=Ca.y;const Ia=new Set;let Yp=!1,Qp=!1,Xp=!1;function zA(){if(Qp){const i=Array.from(Ia).filter(r=>r.needsMeasurement),t=new Set(i.map(r=>r.element)),e=new Map;t.forEach(r=>{const o=s3(r);o.length&&(e.set(r,o),r.render())}),i.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=e.get(r);o&&o.forEach(([u,c])=>{r.getValue(u)?.set(c)})}),i.forEach(r=>r.measureEndState()),i.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Qp=!1,Yp=!1,Ia.forEach(i=>i.complete(Xp)),Ia.clear()}function BA(){Ia.forEach(i=>{i.readKeyframes(),i.needsMeasurement&&(Qp=!0)})}function r3(){Xp=!0,BA(),zA(),Xp=!1}class yy{constructor(t,e,r,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=r,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Ia.add(this),Yp||(Yp=!0,Ce.read(BA),Ce.resolveKeyframes(zA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:r,motionValue:o}=this;if(t[0]===null){const u=o?.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(r&&e){const m=r.readValue(e,c);m!=null&&(t[0]=m)}t[0]===void 0&&(t[0]=c),o&&u===void 0&&o.set(t[0])}$N(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ia.delete(this)}cancel(){this.state==="scheduled"&&(Ia.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const a3=i=>i.startsWith("--");function o3(i,t,e){a3(t)?i.style.setProperty(t,e):i.style[t]=e}const l3=sy(()=>window.ScrollTimeline!==void 0),u3={};function c3(i,t){const e=sy(i);return()=>u3[t]??e()}const FA=c3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),pu=([i,t,e,r])=>`cubic-bezier(${i}, ${t}, ${e}, ${r})`,H1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:pu([0,.65,.55,1]),circOut:pu([.55,0,1,.45]),backIn:pu([.31,.01,.66,-.59]),backOut:pu([.33,1.53,.69,.99])};function HA(i,t){if(i)return typeof i=="function"?FA()?jA(i,t):"ease-out":RA(i)?pu(i):Array.isArray(i)?i.map(e=>HA(e,t)||H1.easeOut):H1[i]}function h3(i,t,e,{delay:r=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:m="easeOut",times:p}={},g=void 0){const v={[t]:e};p&&(v.offset=p);const E=HA(m,o);Array.isArray(E)&&(v.easing=E);const b={delay:r,duration:o,easing:Array.isArray(E)?"linear":E,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return g&&(b.pseudoElement=g),i.animate(v,b)}function qA(i){return typeof i=="function"&&"applyToOptions"in i}function f3({type:i,...t}){return qA(i)&&FA()?i.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class d3 extends py{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:e,name:r,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:m,onComplete:p}=t;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=t,iy(typeof t.type!="string");const g=f3(t);this.animation=h3(e,r,o,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const v=my(o,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(v):o3(e,r,v),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return _i(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+_i(t)}get time(){return _i(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=cs(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&l3()?(this.animation.timeline=t,Ti):e(this)}}const GA={anticipate:SA,backInOut:bA,circInOut:wA};function m3(i){return i in GA}function p3(i){typeof i.ease=="string"&&m3(i.ease)&&(i.ease=GA[i.ease])}const q1=10;class g3 extends d3{constructor(t){p3(t),UA(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:r,onComplete:o,element:u,...c}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const m=new gy({...c,autoplay:!1}),p=cs(this.finishedTime??this.time);e.setWithVelocity(m.sample(p-q1).value,m.sample(p).value,q1),m.stop()}}const G1=(i,t)=>t==="zIndex"?!1:!!(typeof i=="number"||Array.isArray(i)||typeof i=="string"&&(Gr.test(i)||i==="0")&&!i.startsWith("url("));function y3(i){const t=i[0];if(i.length===1)return!0;for(let e=0;e<i.length;e++)if(i[e]!==t)return!0}function v3(i,t,e,r){const o=i[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=i[i.length-1],c=G1(o,t),m=G1(u,t);return!c||!m?!1:y3(i)||(e==="spring"||qA(e))&&r}function Wp(i){i.duration=0,i.type="keyframes"}const _3=new Set(["opacity","clipPath","filter","transform"]),T3=sy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function E3(i){const{motionValue:t,name:e,repeatDelay:r,repeatType:o,damping:u,type:c}=i;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=t.owner.getProps();return T3()&&e&&_3.has(e)&&(e!=="transform"||!g)&&!p&&!r&&o!=="mirror"&&u!==0&&c!=="inertia"}const b3=40;class S3 extends py{constructor({autoplay:t=!0,delay:e=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:m,name:p,motionValue:g,element:v,...E}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Gn.now();const b={autoplay:t,delay:e,type:r,repeat:o,repeatDelay:u,repeatType:c,name:p,motionValue:g,element:v,...E},C=v?.KeyframeResolver||yy;this.keyframeResolver=new C(m,(U,M,P)=>this.onKeyframesResolved(U,M,b,!P),p,g,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,r,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:m,delay:p,isHandoff:g,onUpdate:v}=r;this.resolvedAt=Gn.now(),v3(t,u,c,m)||((Ys.instantAnimations||!p)&&v?.(my(t,r,e)),t[0]=t[t.length-1],Wp(r),r.repeat=0);const b={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>b3?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...r,keyframes:t},C=!g&&E3(b)?new g3({...b,element:b.motionValue.owner.current}):new gy(b);C.finished.then(()=>this.notifyFinished()).catch(Ti),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),r3()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const A3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function w3(i){const t=A3.exec(i);if(!t)return[,];const[,e,r,o]=t;return[`--${e??r}`,o]}function KA(i,t,e=1){const[r,o]=w3(i);if(!r)return;const u=window.getComputedStyle(t).getPropertyValue(r);if(u){const c=u.trim();return mA(c)?parseFloat(c):c}return uy(o)?KA(o,t,e+1):o}function vy(i,t){return i?.[t]??i?.default??i}const YA=new Set(["width","height","top","left","right","bottom",...ll]),x3={test:i=>i==="auto",parse:i=>i},QA=i=>t=>t.test(i),XA=[ol,Mt,hs,Cr,yN,gN,x3],K1=i=>XA.find(QA(i));function R3(i){return typeof i=="number"?i===0:i!==null?i==="none"||i==="0"||gA(i):!0}const C3=new Set(["brightness","contrast","saturate","opacity"]);function I3(i){const[t,e]=i.slice(0,-1).split("(");if(t==="drop-shadow")return i;const[r]=e.match(cy)||[];if(!r)return i;const o=e.replace(r,"");let u=C3.has(t)?1:0;return r!==e&&(u*=100),t+"("+u+o+")"}const D3=/\b([a-z-]*)\(.*?\)/gu,$p={...Gr,getAnimatableNone:i=>{const t=i.match(D3);return t?t.map(I3).join(" "):i}},Y1={...ol,transform:Math.round},M3={rotate:Cr,rotateX:Cr,rotateY:Cr,rotateZ:Cr,scale:Vh,scaleX:Vh,scaleY:Vh,scaleZ:Vh,skew:Cr,skewX:Cr,skewY:Cr,distance:Mt,translateX:Mt,translateY:Mt,translateZ:Mt,x:Mt,y:Mt,z:Mt,perspective:Mt,transformPerspective:Mt,opacity:Uu,originX:N1,originY:N1,originZ:Mt},_y={borderWidth:Mt,borderTopWidth:Mt,borderRightWidth:Mt,borderBottomWidth:Mt,borderLeftWidth:Mt,borderRadius:Mt,radius:Mt,borderTopLeftRadius:Mt,borderTopRightRadius:Mt,borderBottomRightRadius:Mt,borderBottomLeftRadius:Mt,width:Mt,maxWidth:Mt,height:Mt,maxHeight:Mt,top:Mt,right:Mt,bottom:Mt,left:Mt,padding:Mt,paddingTop:Mt,paddingRight:Mt,paddingBottom:Mt,paddingLeft:Mt,margin:Mt,marginTop:Mt,marginRight:Mt,marginBottom:Mt,marginLeft:Mt,backgroundPositionX:Mt,backgroundPositionY:Mt,...M3,zIndex:Y1,fillOpacity:Uu,strokeOpacity:Uu,numOctaves:Y1},V3={..._y,color:Je,backgroundColor:Je,outlineColor:Je,fill:Je,stroke:Je,borderColor:Je,borderTopColor:Je,borderRightColor:Je,borderBottomColor:Je,borderLeftColor:Je,filter:$p,WebkitFilter:$p},WA=i=>V3[i];function $A(i,t){let e=WA(i);return e!==$p&&(e=Gr),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const O3=new Set(["auto","none","0"]);function N3(i,t,e){let r=0,o;for(;r<i.length&&!o;){const u=i[r];typeof u=="string"&&!O3.has(u)&&zu(u).values.length&&(o=i[r]),r++}if(o&&e)for(const u of t)i[u]=$A(e,o)}class P3 extends yy{constructor(t,e,r,o,u){super(t,e,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:r}=this;if(!e||!e.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let g=t[p];if(typeof g=="string"&&(g=g.trim(),uy(g))){const v=KA(g,e.current);v!==void 0&&(t[p]=v),p===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!YA.has(r)||t.length!==2)return;const[o,u]=t,c=K1(o),m=K1(u);if(c!==m)if(F1(c)&&F1(m))for(let p=0;p<t.length;p++){const g=t[p];typeof g=="string"&&(t[p]=parseFloat(g))}else Ca[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||R3(t[o]))&&r.push(o);r.length&&N3(t,r,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ca[r](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const o=e[e.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(e);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,c=r[u];r[u]=Ca[e](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([m,p])=>{t.getValue(m).set(p)}),this.resolveNoneKeyframes()}}function k3(i,t,e){if(i instanceof EventTarget)return[i];if(typeof i=="string"){let r=document;const o=e?.[i]??r.querySelectorAll(i);return o?Array.from(o):[]}return Array.from(i)}const JA=(i,t)=>t&&typeof i=="number"?t.transform(i):i;function ZA(i){return pA(i)&&"offsetHeight"in i}const Q1=30,j3=i=>!isNaN(parseFloat(i));class L3{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const o=Gn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=Gn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=j3(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new ry);const r=this.events[t].add(e);return t==="change"?()=>{r(),Ce.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,r){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Gn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Q1)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,Q1);return yA(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Jo(i,t){return new L3(i,t)}const{schedule:Ty}=CA(queueMicrotask,!1),Pi={x:!1,y:!1};function tw(){return Pi.x||Pi.y}function U3(i){return i==="x"||i==="y"?Pi[i]?null:(Pi[i]=!0,()=>{Pi[i]=!1}):Pi.x||Pi.y?null:(Pi.x=Pi.y=!0,()=>{Pi.x=Pi.y=!1})}function ew(i,t){const e=k3(i),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[e,o,()=>r.abort()]}function X1(i){return!(i.pointerType==="touch"||tw())}function z3(i,t,e={}){const[r,o,u]=ew(i,e),c=m=>{if(!X1(m))return;const{target:p}=m,g=t(p,m);if(typeof g!="function"||!p)return;const v=E=>{X1(E)&&(g(E),p.removeEventListener("pointerleave",v))};p.addEventListener("pointerleave",v,o)};return r.forEach(m=>{m.addEventListener("pointerenter",c,o)}),u}const nw=(i,t)=>t?i===t?!0:nw(i,t.parentElement):!1,Ey=i=>i.pointerType==="mouse"?typeof i.button!="number"||i.button<=0:i.isPrimary!==!1,B3=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function F3(i){return B3.has(i.tagName)||i.tabIndex!==-1}const Yh=new WeakSet;function W1(i){return t=>{t.key==="Enter"&&i(t)}}function rp(i,t){i.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const H3=(i,t)=>{const e=i.currentTarget;if(!e)return;const r=W1(()=>{if(Yh.has(e))return;rp(e,"down");const o=W1(()=>{rp(e,"up")}),u=()=>rp(e,"cancel");e.addEventListener("keyup",o,t),e.addEventListener("blur",u,t)});e.addEventListener("keydown",r,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",r),t)};function $1(i){return Ey(i)&&!tw()}function q3(i,t,e={}){const[r,o,u]=ew(i,e),c=m=>{const p=m.currentTarget;if(!$1(m))return;Yh.add(p);const g=t(p,m),v=(C,U)=>{window.removeEventListener("pointerup",E),window.removeEventListener("pointercancel",b),Yh.has(p)&&Yh.delete(p),$1(C)&&typeof g=="function"&&g(C,{success:U})},E=C=>{v(C,p===window||p===document||e.useGlobalTarget||nw(p,C.target))},b=C=>{v(C,!1)};window.addEventListener("pointerup",E,o),window.addEventListener("pointercancel",b,o)};return r.forEach(m=>{(e.useGlobalTarget?window:m).addEventListener("pointerdown",c,o),ZA(m)&&(m.addEventListener("focus",g=>H3(g,o)),!F3(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),u}function iw(i){return pA(i)&&"ownerSVGElement"in i}function G3(i){return iw(i)&&i.tagName==="svg"}const In=i=>!!(i&&i.getVelocity),K3=[...XA,Je,Gr],Y3=i=>K3.find(QA(i)),by=$.createContext({transformPagePoint:i=>i,isStatic:!1,reducedMotion:"never"});function J1(i,t){if(typeof i=="function")return i(t);i!=null&&(i.current=t)}function Q3(...i){return t=>{let e=!1;const r=i.map(o=>{const u=J1(o,t);return!e&&typeof u=="function"&&(e=!0),u});if(e)return()=>{for(let o=0;o<r.length;o++){const u=r[o];typeof u=="function"?u():J1(i[o],null)}}}}function X3(...i){return $.useCallback(Q3(...i),i)}class W3 extends $.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const r=e.offsetParent,o=ZA(r)&&r.offsetWidth||0,u=this.props.sizeRef.current;u.height=e.offsetHeight||0,u.width=e.offsetWidth||0,u.top=e.offsetTop,u.left=e.offsetLeft,u.right=o-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function $3({children:i,isPresent:t,anchorX:e,root:r}){const o=$.useId(),u=$.useRef(null),c=$.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:m}=$.useContext(by),p=X3(u,i?.ref);return $.useInsertionEffect(()=>{const{width:g,height:v,top:E,left:b,right:C}=c.current;if(t||!u.current||!g||!v)return;const U=e==="left"?`left: ${b}`:`right: ${C}`;u.current.dataset.motionPopId=o;const M=document.createElement("style");m&&(M.nonce=m);const P=r??document.head;return P.appendChild(M),M.sheet&&M.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${v}px !important;
            ${U}px !important;
            top: ${E}px !important;
          }
        `),()=>{P.contains(M)&&P.removeChild(M)}},[t]),S.jsx(W3,{isPresent:t,childRef:u,sizeRef:c,children:$.cloneElement(i,{ref:p})})}const J3=({children:i,initial:t,isPresent:e,onExitComplete:r,custom:o,presenceAffectsLayout:u,mode:c,anchorX:m,root:p})=>{const g=Zg(Z3),v=$.useId();let E=!0,b=$.useMemo(()=>(E=!1,{id:v,initial:t,isPresent:e,custom:o,onExitComplete:C=>{g.set(C,!0);for(const U of g.values())if(!U)return;r&&r()},register:C=>(g.set(C,!1),()=>g.delete(C))}),[e,g,r]);return u&&E&&(b={...b}),$.useMemo(()=>{g.forEach((C,U)=>g.set(U,!1))},[e]),$.useEffect(()=>{!e&&!g.size&&r&&r()},[e]),c==="popLayout"&&(i=S.jsx($3,{isPresent:e,anchorX:m,root:p,children:i})),S.jsx(Uf.Provider,{value:b,children:i})};function Z3(){return new Map}function sw(i=!0){const t=$.useContext(Uf);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:r,register:o}=t,u=$.useId();$.useEffect(()=>{if(i)return o(u)},[i]);const c=$.useCallback(()=>i&&r&&r(u),[u,r,i]);return!e&&r?[!1,c]:[!0]}const Oh=i=>i.key||"";function Z1(i){const t=[];return $.Children.forEach(i,e=>{$.isValidElement(e)&&t.push(e)}),t}const Sy=({children:i,custom:t,initial:e=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:u="sync",propagate:c=!1,anchorX:m="left",root:p})=>{const[g,v]=sw(c),E=$.useMemo(()=>Z1(i),[i]),b=c&&!g?[]:E.map(Oh),C=$.useRef(!0),U=$.useRef(E),M=Zg(()=>new Map),[P,Q]=$.useState(E),[it,tt]=$.useState(E);dA(()=>{C.current=!1,U.current=E;for(let dt=0;dt<it.length;dt++){const R=Oh(it[dt]);b.includes(R)?M.delete(R):M.get(R)!==!0&&M.set(R,!1)}},[it,b.length,b.join("-")]);const ht=[];if(E!==P){let dt=[...E];for(let R=0;R<it.length;R++){const w=it[R],I=Oh(w);b.includes(I)||(dt.splice(R,0,w),ht.push(w))}return u==="wait"&&ht.length&&(dt=ht),tt(Z1(dt)),Q(E),null}const{forceRender:ft}=$.useContext(Jg);return S.jsx(S.Fragment,{children:it.map(dt=>{const R=Oh(dt),w=c&&!g?!1:E===it||b.includes(R),I=()=>{if(M.has(R))M.set(R,!0);else return;let N=!0;M.forEach(O=>{O||(N=!1)}),N&&(ft?.(),tt(U.current),c&&v?.(),r&&r())};return S.jsx(J3,{isPresent:w,initial:!C.current||e?void 0:!1,custom:t,presenceAffectsLayout:o,mode:u,root:p,onExitComplete:w?void 0:I,anchorX:m,children:dt},R)})})},rw=$.createContext({strict:!1}),tE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Zo={};for(const i in tE)Zo[i]={isEnabled:t=>tE[i].some(e=>!!t[e])};function t4(i){for(const t in i)Zo[t]={...Zo[t],...i[t]}}const e4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ef(i){return i.startsWith("while")||i.startsWith("drag")&&i!=="draggable"||i.startsWith("layout")||i.startsWith("onTap")||i.startsWith("onPan")||i.startsWith("onLayout")||e4.has(i)}let aw=i=>!Ef(i);function n4(i){typeof i=="function"&&(aw=t=>t.startsWith("on")?!Ef(t):i(t))}try{n4(require("@emotion/is-prop-valid").default)}catch{}function i4(i,t,e){const r={};for(const o in i)o==="values"&&typeof i.values=="object"||(aw(o)||e===!0&&Ef(o)||!t&&!Ef(o)||i.draggable&&o.startsWith("onDrag"))&&(r[o]=i[o]);return r}const zf=$.createContext({});function Bf(i){return i!==null&&typeof i=="object"&&typeof i.start=="function"}function Bu(i){return typeof i=="string"||Array.isArray(i)}const Ay=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],wy=["initial",...Ay];function Ff(i){return Bf(i.animate)||wy.some(t=>Bu(i[t]))}function ow(i){return!!(Ff(i)||i.variants)}function s4(i,t){if(Ff(i)){const{initial:e,animate:r}=i;return{initial:e===!1||Bu(e)?e:void 0,animate:Bu(r)?r:void 0}}return i.inherit!==!1?t:{}}function r4(i){const{initial:t,animate:e}=s4(i,$.useContext(zf));return $.useMemo(()=>({initial:t,animate:e}),[eE(t),eE(e)])}function eE(i){return Array.isArray(i)?i.join(" "):i}const Fu={};function a4(i){for(const t in i)Fu[t]=i[t],ly(t)&&(Fu[t].isCSSVariable=!0)}function lw(i,{layout:t,layoutId:e}){return ul.has(i)||i.startsWith("origin")||(t||e!==void 0)&&(!!Fu[i]||i==="opacity")}const o4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},l4=ll.length;function u4(i,t,e){let r="",o=!0;for(let u=0;u<l4;u++){const c=ll[u],m=i[c];if(m===void 0)continue;let p=!0;if(typeof m=="number"?p=m===(c.startsWith("scale")?1:0):p=parseFloat(m)===0,!p||e){const g=JA(m,_y[c]);if(!p){o=!1;const v=o4[c]||c;r+=`${v}(${g}) `}e&&(t[c]=g)}}return r=r.trim(),e?r=e(t,o?"":r):o&&(r="none"),r}function xy(i,t,e){const{style:r,vars:o,transformOrigin:u}=i;let c=!1,m=!1;for(const p in t){const g=t[p];if(ul.has(p)){c=!0;continue}else if(ly(p)){o[p]=g;continue}else{const v=JA(g,_y[p]);p.startsWith("origin")?(m=!0,u[p]=v):r[p]=v}}if(t.transform||(c||e?r.transform=u4(t,i.transform,e):r.transform&&(r.transform="none")),m){const{originX:p="50%",originY:g="50%",originZ:v=0}=u;r.transformOrigin=`${p} ${g} ${v}`}}const Ry=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function uw(i,t,e){for(const r in t)!In(t[r])&&!lw(r,e)&&(i[r]=t[r])}function c4({transformTemplate:i},t){return $.useMemo(()=>{const e=Ry();return xy(e,t,i),Object.assign({},e.vars,e.style)},[t])}function h4(i,t){const e=i.style||{},r={};return uw(r,e,i),Object.assign(r,c4(i,t)),r}function f4(i,t){const e={},r=h4(i,t);return i.drag&&i.dragListener!==!1&&(e.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=i.drag===!0?"none":`pan-${i.drag==="x"?"y":"x"}`),i.tabIndex===void 0&&(i.onTap||i.onTapStart||i.whileTap)&&(e.tabIndex=0),e.style=r,e}const d4={offset:"stroke-dashoffset",array:"stroke-dasharray"},m4={offset:"strokeDashoffset",array:"strokeDasharray"};function p4(i,t,e=1,r=0,o=!0){i.pathLength=1;const u=o?d4:m4;i[u.offset]=Mt.transform(-r);const c=Mt.transform(t),m=Mt.transform(e);i[u.array]=`${c} ${m}`}function cw(i,{attrX:t,attrY:e,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...m},p,g,v){if(xy(i,m,g),p){i.style.viewBox&&(i.attrs.viewBox=i.style.viewBox);return}i.attrs=i.style,i.style={};const{attrs:E,style:b}=i;E.transform&&(b.transform=E.transform,delete E.transform),(b.transform||E.transformOrigin)&&(b.transformOrigin=E.transformOrigin??"50% 50%",delete E.transformOrigin),b.transform&&(b.transformBox=v?.transformBox??"fill-box",delete E.transformBox),t!==void 0&&(E.x=t),e!==void 0&&(E.y=e),r!==void 0&&(E.scale=r),o!==void 0&&p4(E,o,u,c,!1)}const hw=()=>({...Ry(),attrs:{}}),fw=i=>typeof i=="string"&&i.toLowerCase()==="svg";function g4(i,t,e,r){const o=$.useMemo(()=>{const u=hw();return cw(u,t,fw(r),i.transformTemplate,i.style),{...u.attrs,style:{...u.style}}},[t]);if(i.style){const u={};uw(u,i.style,i),o.style={...u,...o.style}}return o}const y4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Cy(i){return typeof i!="string"||i.includes("-")?!1:!!(y4.indexOf(i)>-1||/[A-Z]/u.test(i))}function v4(i,t,e,{latestValues:r},o,u=!1){const m=(Cy(i)?g4:f4)(t,r,o,i),p=i4(t,typeof i=="string",u),g=i!==$.Fragment?{...p,...m,ref:e}:{},{children:v}=t,E=$.useMemo(()=>In(v)?v.get():v,[v]);return $.createElement(i,{...g,children:E})}function nE(i){const t=[{},{}];return i?.values.forEach((e,r)=>{t[0][r]=e.get(),t[1][r]=e.getVelocity()}),t}function Iy(i,t,e,r){if(typeof t=="function"){const[o,u]=nE(r);t=t(e!==void 0?e:i.custom,o,u)}if(typeof t=="string"&&(t=i.variants&&i.variants[t]),typeof t=="function"){const[o,u]=nE(r);t=t(e!==void 0?e:i.custom,o,u)}return t}function Qh(i){return In(i)?i.get():i}function _4({scrapeMotionValuesFromProps:i,createRenderState:t},e,r,o){return{latestValues:T4(e,r,o,i),renderState:t()}}function T4(i,t,e,r){const o={},u=r(i,{});for(const b in u)o[b]=Qh(u[b]);let{initial:c,animate:m}=i;const p=Ff(i),g=ow(i);t&&g&&!p&&i.inherit!==!1&&(c===void 0&&(c=t.initial),m===void 0&&(m=t.animate));let v=e?e.initial===!1:!1;v=v||c===!1;const E=v?m:c;if(E&&typeof E!="boolean"&&!Bf(E)){const b=Array.isArray(E)?E:[E];for(let C=0;C<b.length;C++){const U=Iy(i,b[C]);if(U){const{transitionEnd:M,transition:P,...Q}=U;for(const it in Q){let tt=Q[it];if(Array.isArray(tt)){const ht=v?tt.length-1:0;tt=tt[ht]}tt!==null&&(o[it]=tt)}for(const it in M)o[it]=M[it]}}}return o}const dw=i=>(t,e)=>{const r=$.useContext(zf),o=$.useContext(Uf),u=()=>_4(i,t,r,o);return e?u():Zg(u)};function Dy(i,t,e){const{style:r}=i,o={};for(const u in r)(In(r[u])||t.style&&In(t.style[u])||lw(u,i)||e?.getValue(u)?.liveStyle!==void 0)&&(o[u]=r[u]);return o}const E4=dw({scrapeMotionValuesFromProps:Dy,createRenderState:Ry});function mw(i,t,e){const r=Dy(i,t,e);for(const o in i)if(In(i[o])||In(t[o])){const u=ll.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=i[o]}return r}const b4=dw({scrapeMotionValuesFromProps:mw,createRenderState:hw}),S4=Symbol.for("motionComponentSymbol");function Po(i){return i&&typeof i=="object"&&Object.prototype.hasOwnProperty.call(i,"current")}function A4(i,t,e){return $.useCallback(r=>{r&&i.onMount&&i.onMount(r),t&&(r?t.mount(r):t.unmount()),e&&(typeof e=="function"?e(r):Po(e)&&(e.current=r))},[t])}const My=i=>i.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),w4="framerAppearId",pw="data-"+My(w4),gw=$.createContext({});function x4(i,t,e,r,o){const{visualElement:u}=$.useContext(zf),c=$.useContext(rw),m=$.useContext(Uf),p=$.useContext(by).reducedMotion,g=$.useRef(null);r=r||c.renderer,!g.current&&r&&(g.current=r(i,{visualState:t,parent:u,props:e,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:p}));const v=g.current,E=$.useContext(gw);v&&!v.projection&&o&&(v.type==="html"||v.type==="svg")&&R4(g.current,e,o,E);const b=$.useRef(!1);$.useInsertionEffect(()=>{v&&b.current&&v.update(e,m)});const C=e[pw],U=$.useRef(!!C&&!window.MotionHandoffIsComplete?.(C)&&window.MotionHasOptimisedAnimation?.(C));return dA(()=>{v&&(b.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),U.current&&v.animationState&&v.animationState.animateChanges())}),$.useEffect(()=>{v&&(!U.current&&v.animationState&&v.animationState.animateChanges(),U.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(C)}),U.current=!1),v.enteringChildren=void 0)}),v}function R4(i,t,e,r){const{layoutId:o,layout:u,drag:c,dragConstraints:m,layoutScroll:p,layoutRoot:g,layoutCrossfade:v}=t;i.projection=new e(i.latestValues,t["data-framer-portal-id"]?void 0:yw(i.parent)),i.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||m&&Po(m),visualElement:i,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:v,layoutScroll:p,layoutRoot:g})}function yw(i){if(i)return i.options.allowProjection!==!1?i.projection:yw(i.parent)}function ap(i,{forwardMotionProps:t=!1}={},e,r){e&&t4(e);const o=Cy(i)?b4:E4;function u(m,p){let g;const v={...$.useContext(by),...m,layoutId:C4(m)},{isStatic:E}=v,b=r4(m),C=o(m,E);if(!E&&ty){I4();const U=D4(v);g=U.MeasureLayout,b.visualElement=x4(i,C,v,r,U.ProjectionNode)}return S.jsxs(zf.Provider,{value:b,children:[g&&b.visualElement?S.jsx(g,{visualElement:b.visualElement,...v}):null,v4(i,m,A4(C,b.visualElement,p),C,E,t)]})}u.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const c=$.forwardRef(u);return c[S4]=i,c}function C4({layoutId:i}){const t=$.useContext(Jg).id;return t&&i!==void 0?t+"-"+i:i}function I4(i,t){$.useContext(rw).strict}function D4(i){const{drag:t,layout:e}=Zo;if(!t&&!e)return{};const r={...t,...e};return{MeasureLayout:t?.isEnabled(i)||e?.isEnabled(i)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function M4(i,t){if(typeof Proxy>"u")return ap;const e=new Map,r=(u,c)=>ap(u,c,i,t),o=(u,c)=>r(u,c);return new Proxy(o,{get:(u,c)=>c==="create"?r:(e.has(c)||e.set(c,ap(c,void 0,i,t)),e.get(c))})}function vw({top:i,left:t,right:e,bottom:r}){return{x:{min:t,max:e},y:{min:i,max:r}}}function V4({x:i,y:t}){return{top:t.min,right:i.max,bottom:t.max,left:i.min}}function O4(i,t){if(!t)return i;const e=t({x:i.left,y:i.top}),r=t({x:i.right,y:i.bottom});return{top:e.y,left:e.x,bottom:r.y,right:r.x}}function op(i){return i===void 0||i===1}function Jp({scale:i,scaleX:t,scaleY:e}){return!op(i)||!op(t)||!op(e)}function Ea(i){return Jp(i)||_w(i)||i.z||i.rotate||i.rotateX||i.rotateY||i.skewX||i.skewY}function _w(i){return iE(i.x)||iE(i.y)}function iE(i){return i&&i!=="0%"}function bf(i,t,e){const r=i-e,o=t*r;return e+o}function sE(i,t,e,r,o){return o!==void 0&&(i=bf(i,o,r)),bf(i,e,r)+t}function Zp(i,t=0,e=1,r,o){i.min=sE(i.min,t,e,r,o),i.max=sE(i.max,t,e,r,o)}function Tw(i,{x:t,y:e}){Zp(i.x,t.translate,t.scale,t.originPoint),Zp(i.y,e.translate,e.scale,e.originPoint)}const rE=.999999999999,aE=1.0000000000001;function N4(i,t,e,r=!1){const o=e.length;if(!o)return;t.x=t.y=1;let u,c;for(let m=0;m<o;m++){u=e[m],c=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&jo(i,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,Tw(i,c)),r&&Ea(u.latestValues)&&jo(i,u.latestValues))}t.x<aE&&t.x>rE&&(t.x=1),t.y<aE&&t.y>rE&&(t.y=1)}function ko(i,t){i.min=i.min+t,i.max=i.max+t}function oE(i,t,e,r,o=.5){const u=Ve(i.min,i.max,o);Zp(i,t,e,u,r)}function jo(i,t){oE(i.x,t.x,t.scaleX,t.scale,t.originX),oE(i.y,t.y,t.scaleY,t.scale,t.originY)}function Ew(i,t){return vw(O4(i.getBoundingClientRect(),t))}function P4(i,t,e){const r=Ew(i,e),{scroll:o}=t;return o&&(ko(r.x,o.offset.x),ko(r.y,o.offset.y)),r}const lE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Lo=()=>({x:lE(),y:lE()}),uE=()=>({min:0,max:0}),Fe=()=>({x:uE(),y:uE()}),tg={current:null},bw={current:!1};function k4(){if(bw.current=!0,!!ty)if(window.matchMedia){const i=window.matchMedia("(prefers-reduced-motion)"),t=()=>tg.current=i.matches;i.addEventListener("change",t),t()}else tg.current=!1}const j4=new WeakMap;function L4(i,t,e){for(const r in t){const o=t[r],u=e[r];if(In(o))i.addValue(r,o);else if(In(u))i.addValue(r,Jo(o,{owner:i}));else if(u!==o)if(i.hasValue(r)){const c=i.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=i.getStaticValue(r);i.addValue(r,Jo(c!==void 0?c:o,{owner:i}))}}for(const r in e)t[r]===void 0&&i.removeValue(r);return t}const cE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class U4{scrapeMotionValuesFromProps(t,e,r){return{}}constructor({parent:t,props:e,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=yy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Gn.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,Ce.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=c;this.latestValues=p,this.baseTarget={...p},this.initialValues=e.initial?{...p}:{},this.renderState=g,this.parent=t,this.props=e,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=Ff(e),this.isVariantNode=ow(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,...E}=this.scrapeMotionValuesFromProps(e,{},this);for(const b in E){const C=E[b];p[b]!==void 0&&In(C)&&C.set(p[b])}}mount(t){this.current=t,j4.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,r)=>this.bindToMotionValue(r,e)),bw.current||k4(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:tg.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),qr(this.notifyUpdate),qr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=ul.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=e.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&Ce.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{o(),u&&u(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Zo){const e=Zo[t];if(!e)continue;const{isEnabled:r,Feature:o}=e;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Fe()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let r=0;r<cE.length;r++){const o=cE[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=t[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=L4(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const r=this.values.get(t);e!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&e!==void 0&&(r=Jo(e===null?void 0:e,{owner:this}),this.addValue(t,r)),r}readValue(t,e){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(mA(r)||gA(r))?r=parseFloat(r):!Y3(r)&&Gr.test(e)&&(r=$A(t,e)),this.setBaseTarget(t,In(r)?r.get():r)),In(r)?r.get():r}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let r;if(typeof e=="string"||typeof e=="object"){const u=Iy(this.props,e,this.presenceContext?.custom);u&&(r=u[t])}if(e&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!In(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new ry),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){Ty.render(this.render)}}class Sw extends U4{constructor(){super(...arguments),this.KeyframeResolver=P3}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:r}){delete e[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;In(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function Aw(i,{style:t,vars:e},r,o){const u=i.style;let c;for(c in t)u[c]=t[c];o?.applyProjectionStyles(u,r);for(c in e)u.setProperty(c,e[c])}function z4(i){return window.getComputedStyle(i)}class B4 extends Sw{constructor(){super(...arguments),this.type="html",this.renderInstance=Aw}readValueFromInstance(t,e){if(ul.has(e))return this.projection?.isProjecting?Gp(e):t3(t,e);{const r=z4(t),o=(ly(e)?r.getPropertyValue(e):r[e])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:e}){return Ew(t,e)}build(t,e,r){xy(t,e,r.transformTemplate)}scrapeMotionValuesFromProps(t,e,r){return Dy(t,e,r)}}const ww=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function F4(i,t,e,r){Aw(i,t,void 0,r);for(const o in t.attrs)i.setAttribute(ww.has(o)?o:My(o),t.attrs[o])}class H4 extends Sw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Fe}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(ul.has(e)){const r=WA(e);return r&&r.default||0}return e=ww.has(e)?e:My(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,r){return mw(t,e,r)}build(t,e,r){cw(t,e,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,e,r,o){F4(t,e,r,o)}mount(t){this.isSVGTag=fw(t.tagName),super.mount(t)}}const q4=(i,t)=>Cy(i)?new H4(t):new B4(t,{allowProjection:i!==$.Fragment});function Ho(i,t,e){const r=i.getProps();return Iy(r,t,e!==void 0?e:r.custom,i)}const eg=i=>Array.isArray(i);function G4(i,t,e){i.hasValue(t)?i.getValue(t).set(e):i.addValue(t,Jo(e))}function K4(i){return eg(i)?i[i.length-1]||0:i}function Y4(i,t){const e=Ho(i,t);let{transitionEnd:r={},transition:o={},...u}=e||{};u={...u,...r};for(const c in u){const m=K4(u[c]);G4(i,c,m)}}function Q4(i){return!!(In(i)&&i.add)}function ng(i,t){const e=i.getValue("willChange");if(Q4(e))return e.add(t);if(!e&&Ys.WillChange){const r=new Ys.WillChange("auto");i.addValue("willChange",r),r.add(t)}}function xw(i){return i.props[pw]}const X4=i=>i!==null;function W4(i,{repeat:t,repeatType:e="loop"},r){const o=i.filter(X4),u=t&&e!=="loop"&&t%2===1?0:o.length-1;return o[u]}const $4={type:"spring",stiffness:500,damping:25,restSpeed:10},J4=i=>({type:"spring",stiffness:550,damping:i===0?2*Math.sqrt(550):30,restSpeed:10}),Z4={type:"keyframes",duration:.8},tP={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},eP=(i,{keyframes:t})=>t.length>2?Z4:ul.has(i)?i.startsWith("scale")?J4(t[1]):$4:tP;function nP({when:i,delay:t,delayChildren:e,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:m,from:p,elapsed:g,...v}){return!!Object.keys(v).length}const Vy=(i,t,e,r={},o,u)=>c=>{const m=vy(r,i)||{},p=m.delay||r.delay||0;let{elapsed:g=0}=r;g=g-cs(p);const v={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...m,delay:-g,onUpdate:b=>{t.set(b),m.onUpdate&&m.onUpdate(b)},onComplete:()=>{c(),m.onComplete&&m.onComplete()},name:i,motionValue:t,element:u?void 0:o};nP(m)||Object.assign(v,eP(i,v)),v.duration&&(v.duration=cs(v.duration)),v.repeatDelay&&(v.repeatDelay=cs(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let E=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(Wp(v),v.delay===0&&(E=!0)),(Ys.instantAnimations||Ys.skipAnimations)&&(E=!0,Wp(v),v.delay=0),v.allowFlatten=!m.type&&!m.ease,E&&!u&&t.get()!==void 0){const b=W4(v.keyframes,m);if(b!==void 0){Ce.update(()=>{v.onUpdate(b),v.onComplete()});return}}return m.isSync?new gy(v):new S3(v)};function iP({protectedKeys:i,needsAnimating:t},e){const r=i.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,r}function Rw(i,t,{delay:e=0,transitionOverride:r,type:o}={}){let{transition:u=i.getDefaultTransition(),transitionEnd:c,...m}=t;r&&(u=r);const p=[],g=o&&i.animationState&&i.animationState.getState()[o];for(const v in m){const E=i.getValue(v,i.latestValues[v]??null),b=m[v];if(b===void 0||g&&iP(g,v))continue;const C={delay:e,...vy(u||{},v)},U=E.get();if(U!==void 0&&!E.isAnimating&&!Array.isArray(b)&&b===U&&!C.velocity)continue;let M=!1;if(window.MotionHandoffAnimation){const Q=xw(i);if(Q){const it=window.MotionHandoffAnimation(Q,v,Ce);it!==null&&(C.startTime=it,M=!0)}}ng(i,v),E.start(Vy(v,E,b,i.shouldReduceMotion&&YA.has(v)?{type:!1}:C,i,M));const P=E.animation;P&&p.push(P)}return c&&Promise.all(p).then(()=>{Ce.update(()=>{c&&Y4(i,c)})}),p}function Cw(i,t,e,r=0,o=1){const u=Array.from(i).sort((g,v)=>g.sortNodePosition(v)).indexOf(t),c=i.size,m=(c-1)*r;return typeof e=="function"?e(u,c):o===1?u*r:m-u*r}function ig(i,t,e={}){const r=Ho(i,t,e.type==="exit"?i.presenceContext?.custom:void 0);let{transition:o=i.getDefaultTransition()||{}}=r||{};e.transitionOverride&&(o=e.transitionOverride);const u=r?()=>Promise.all(Rw(i,r,e)):()=>Promise.resolve(),c=i.variantChildren&&i.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:E}=o;return sP(i,t,p,g,v,E,e)}:()=>Promise.resolve(),{when:m}=o;if(m){const[p,g]=m==="beforeChildren"?[u,c]:[c,u];return p().then(()=>g())}else return Promise.all([u(),c(e.delay)])}function sP(i,t,e=0,r=0,o=0,u=1,c){const m=[];for(const p of i.variantChildren)p.notify("AnimationStart",t),m.push(ig(p,t,{...c,delay:e+(typeof r=="function"?0:r)+Cw(i.variantChildren,p,r,o,u)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(m)}function rP(i,t,e={}){i.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(u=>ig(i,u,e));r=Promise.all(o)}else if(typeof t=="string")r=ig(i,t,e);else{const o=typeof t=="function"?Ho(i,t,e.custom):t;r=Promise.all(Rw(i,o,e))}return r.then(()=>{i.notify("AnimationComplete",t)})}function Iw(i,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==i.length)return!1;for(let r=0;r<e;r++)if(t[r]!==i[r])return!1;return!0}const aP=wy.length;function Dw(i){if(!i)return;if(!i.isControllingVariants){const e=i.parent?Dw(i.parent)||{}:{};return i.props.initial!==void 0&&(e.initial=i.props.initial),e}const t={};for(let e=0;e<aP;e++){const r=wy[e],o=i.props[r];(Bu(o)||o===!1)&&(t[r]=o)}return t}const oP=[...Ay].reverse(),lP=Ay.length;function uP(i){return t=>Promise.all(t.map(({animation:e,options:r})=>rP(i,e,r)))}function cP(i){let t=uP(i),e=hE(),r=!0;const o=p=>(g,v)=>{const E=Ho(i,v,p==="exit"?i.presenceContext?.custom:void 0);if(E){const{transition:b,transitionEnd:C,...U}=E;g={...g,...U,...C}}return g};function u(p){t=p(i)}function c(p){const{props:g}=i,v=Dw(i.parent)||{},E=[],b=new Set;let C={},U=1/0;for(let P=0;P<lP;P++){const Q=oP[P],it=e[Q],tt=g[Q]!==void 0?g[Q]:v[Q],ht=Bu(tt),ft=Q===p?it.isActive:null;ft===!1&&(U=P);let dt=tt===v[Q]&&tt!==g[Q]&&ht;if(dt&&r&&i.manuallyAnimateOnMount&&(dt=!1),it.protectedKeys={...C},!it.isActive&&ft===null||!tt&&!it.prevProp||Bf(tt)||typeof tt=="boolean")continue;const R=hP(it.prevProp,tt);let w=R||Q===p&&it.isActive&&!dt&&ht||P>U&&ht,I=!1;const N=Array.isArray(tt)?tt:[tt];let O=N.reduce(o(Q),{});ft===!1&&(O={});const{prevResolvedValues:z={}}=it,D={...z,...O},jt=ut=>{w=!0,b.has(ut)&&(I=!0,b.delete(ut)),it.needsAnimating[ut]=!0;const yt=i.getValue(ut);yt&&(yt.liveStyle=!1)};for(const ut in D){const yt=O[ut],Dt=z[ut];if(C.hasOwnProperty(ut))continue;let Rt=!1;eg(yt)&&eg(Dt)?Rt=!Iw(yt,Dt):Rt=yt!==Dt,Rt?yt!=null?jt(ut):b.add(ut):yt!==void 0&&b.has(ut)?jt(ut):it.protectedKeys[ut]=!0}it.prevProp=tt,it.prevResolvedValues=O,it.isActive&&(C={...C,...O}),r&&i.blockInitialAnimation&&(w=!1);const oe=dt&&R;w&&(!oe||I)&&E.push(...N.map(ut=>{const yt={type:Q};if(typeof ut=="string"&&r&&!oe&&i.manuallyAnimateOnMount&&i.parent){const{parent:Dt}=i,Rt=Ho(Dt,ut);if(Dt.enteringChildren&&Rt){const{delayChildren:k}=Rt.transition||{};yt.delay=Cw(Dt.enteringChildren,i,k)}}return{animation:ut,options:yt}}))}if(b.size){const P={};if(typeof g.initial!="boolean"){const Q=Ho(i,Array.isArray(g.initial)?g.initial[0]:g.initial);Q&&Q.transition&&(P.transition=Q.transition)}b.forEach(Q=>{const it=i.getBaseTarget(Q),tt=i.getValue(Q);tt&&(tt.liveStyle=!0),P[Q]=it??null}),E.push({animation:P})}let M=!!E.length;return r&&(g.initial===!1||g.initial===g.animate)&&!i.manuallyAnimateOnMount&&(M=!1),r=!1,M?t(E):Promise.resolve()}function m(p,g){if(e[p].isActive===g)return Promise.resolve();i.variantChildren?.forEach(E=>E.animationState?.setActive(p,g)),e[p].isActive=g;const v=c(p);for(const E in e)e[E].protectedKeys={};return v}return{animateChanges:c,setActive:m,setAnimateFunction:u,getState:()=>e,reset:()=>{e=hE()}}}function hP(i,t){return typeof t=="string"?t!==i:Array.isArray(t)?!Iw(t,i):!1}function _a(i=!1){return{isActive:i,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function hE(){return{animate:_a(!0),whileInView:_a(),whileHover:_a(),whileTap:_a(),whileDrag:_a(),whileFocus:_a(),exit:_a()}}class Kr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class fP extends Kr{constructor(t){super(t),t.animationState||(t.animationState=cP(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Bf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let dP=0;class mP extends Kr{constructor(){super(...arguments),this.id=dP++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);e&&!t&&o.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const pP={animation:{Feature:fP},exit:{Feature:mP}};function Hu(i,t,e,r={passive:!0}){return i.addEventListener(t,e,r),()=>i.removeEventListener(t,e)}function ic(i){return{point:{x:i.pageX,y:i.pageY}}}const gP=i=>t=>Ey(t)&&i(t,ic(t));function wu(i,t,e,r){return Hu(i,t,gP(e),r)}const Mw=1e-4,yP=1-Mw,vP=1+Mw,Vw=.01,_P=0-Vw,TP=0+Vw;function Nn(i){return i.max-i.min}function EP(i,t,e){return Math.abs(i-t)<=e}function fE(i,t,e,r=.5){i.origin=r,i.originPoint=Ve(t.min,t.max,i.origin),i.scale=Nn(e)/Nn(t),i.translate=Ve(e.min,e.max,i.origin)-i.originPoint,(i.scale>=yP&&i.scale<=vP||isNaN(i.scale))&&(i.scale=1),(i.translate>=_P&&i.translate<=TP||isNaN(i.translate))&&(i.translate=0)}function xu(i,t,e,r){fE(i.x,t.x,e.x,r?r.originX:void 0),fE(i.y,t.y,e.y,r?r.originY:void 0)}function dE(i,t,e){i.min=e.min+t.min,i.max=i.min+Nn(t)}function bP(i,t,e){dE(i.x,t.x,e.x),dE(i.y,t.y,e.y)}function mE(i,t,e){i.min=t.min-e.min,i.max=i.min+Nn(t)}function Ru(i,t,e){mE(i.x,t.x,e.x),mE(i.y,t.y,e.y)}function gi(i){return[i("x"),i("y")]}const Ow=({current:i})=>i?i.ownerDocument.defaultView:null,pE=(i,t)=>Math.abs(i-t);function SP(i,t){const e=pE(i.x,t.x),r=pE(i.y,t.y);return Math.sqrt(e**2+r**2)}class Nw{constructor(t,e,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=up(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,U=SP(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!U)return;const{point:M}=b,{timestamp:P}=_n;this.history.push({...M,timestamp:P});const{onStart:Q,onMove:it}=this.handlers;C||(Q&&Q(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),it&&it(this.lastMoveEvent,b)},this.handlePointerMove=(b,C)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=lp(C,this.transformPagePoint),Ce.update(this.updatePoint,!0)},this.handlePointerUp=(b,C)=>{this.end();const{onEnd:U,onSessionEnd:M,resumeAnimation:P}=this.handlers;if(this.dragSnapToOrigin&&P&&P(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Q=up(b.type==="pointercancel"?this.lastMoveEventInfo:lp(C,this.transformPagePoint),this.history);this.startEvent&&U&&U(b,Q),M&&M(b,Q)},!Ey(t))return;this.dragSnapToOrigin=u,this.handlers=e,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=o||window;const m=ic(t),p=lp(m,this.transformPagePoint),{point:g}=p,{timestamp:v}=_n;this.history=[{...g,timestamp:v}];const{onSessionStart:E}=e;E&&E(t,up(p,this.history)),this.removeListeners=tc(wu(this.contextWindow,"pointermove",this.handlePointerMove),wu(this.contextWindow,"pointerup",this.handlePointerUp),wu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),qr(this.updatePoint)}}function lp(i,t){return t?{point:t(i.point)}:i}function gE(i,t){return{x:i.x-t.x,y:i.y-t.y}}function up({point:i},t){return{point:i,delta:gE(i,Pw(t)),offset:gE(i,AP(t)),velocity:wP(t,.1)}}function AP(i){return i[0]}function Pw(i){return i[i.length-1]}function wP(i,t){if(i.length<2)return{x:0,y:0};let e=i.length-1,r=null;const o=Pw(i);for(;e>=0&&(r=i[e],!(o.timestamp-r.timestamp>cs(t)));)e--;if(!r)return{x:0,y:0};const u=_i(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function xP(i,{min:t,max:e},r){return t!==void 0&&i<t?i=r?Ve(t,i,r.min):Math.max(i,t):e!==void 0&&i>e&&(i=r?Ve(e,i,r.max):Math.min(i,e)),i}function yE(i,t,e){return{min:t!==void 0?i.min+t:void 0,max:e!==void 0?i.max+e-(i.max-i.min):void 0}}function RP(i,{top:t,left:e,bottom:r,right:o}){return{x:yE(i.x,e,o),y:yE(i.y,t,r)}}function vE(i,t){let e=t.min-i.min,r=t.max-i.max;return t.max-t.min<i.max-i.min&&([e,r]=[r,e]),{min:e,max:r}}function CP(i,t){return{x:vE(i.x,t.x),y:vE(i.y,t.y)}}function IP(i,t){let e=.5;const r=Nn(i),o=Nn(t);return o>r?e=Lu(t.min,t.max-r,i.min):r>o&&(e=Lu(i.min,i.max-o,t.min)),Ks(0,1,e)}function DP(i,t){const e={};return t.min!==void 0&&(e.min=t.min-i.min),t.max!==void 0&&(e.max=t.max-i.min),e}const sg=.35;function MP(i=sg){return i===!1?i=0:i===!0&&(i=sg),{x:_E(i,"left","right"),y:_E(i,"top","bottom")}}function _E(i,t,e){return{min:TE(i,t),max:TE(i,e)}}function TE(i,t){return typeof i=="number"?i:i[t]||0}const VP=new WeakMap;class OP{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Fe(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=E=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(ic(E).point)},c=(E,b)=>{const{drag:C,dragPropagation:U,onDragStart:M}=this.getProps();if(C&&!U&&(this.openDragLock&&this.openDragLock(),this.openDragLock=U3(C),!this.openDragLock))return;this.latestPointerEvent=E,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),gi(Q=>{let it=this.getAxisMotionValue(Q).get()||0;if(hs.test(it)){const{projection:tt}=this.visualElement;if(tt&&tt.layout){const ht=tt.layout.layoutBox[Q];ht&&(it=Nn(ht)*(parseFloat(it)/100))}}this.originPoint[Q]=it}),M&&Ce.postRender(()=>M(E,b)),ng(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},m=(E,b)=>{this.latestPointerEvent=E,this.latestPanInfo=b;const{dragPropagation:C,dragDirectionLock:U,onDirectionLock:M,onDrag:P}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:Q}=b;if(U&&this.currentDirection===null){this.currentDirection=NP(Q),this.currentDirection!==null&&M&&M(this.currentDirection);return}this.updateAxis("x",b.point,Q),this.updateAxis("y",b.point,Q),this.visualElement.render(),P&&P(E,b)},p=(E,b)=>{this.latestPointerEvent=E,this.latestPanInfo=b,this.stop(E,b),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>gi(E=>this.getAnimationState(E)==="paused"&&this.getAxisMotionValue(E).animation?.play()),{dragSnapToOrigin:v}=this.getProps();this.panSession=new Nw(t,{onSessionStart:u,onStart:c,onMove:m,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:r,contextWindow:Ow(this.visualElement)})}stop(t,e){const r=t||this.latestPointerEvent,o=e||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!r)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:m}=this.getProps();m&&Ce.postRender(()=>m(r,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,r){const{drag:o}=this.getProps();if(!r||!Nh(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=xP(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&Po(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=RP(r.layoutBox,t):this.constraints=!1,this.elastic=MP(e),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&gi(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=DP(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!Po(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=P4(r,o.root,this.visualElement.getTransformPagePoint());let c=CP(o.layout.layoutBox,u);if(e){const m=e(V4(c));this.hasMutatedConstraints=!!m,m&&(c=vw(m))}return c}startAnimation(t){const{drag:e,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:m}=this.getProps(),p=this.constraints||{},g=gi(v=>{if(!Nh(v,e,this.currentDirection))return;let E=p&&p[v]||{};c&&(E={min:0,max:0});const b=o?200:1e6,C=o?40:1e7,U={type:"inertia",velocity:r?t[v]:0,bounceStiffness:b,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...u,...E};return this.startAxisValueAnimation(v,U)});return Promise.all(g).then(m)}startAxisValueAnimation(t,e){const r=this.getAxisMotionValue(t);return ng(this.visualElement,t),r.start(Vy(t,r,0,e,this.visualElement,!1))}stopAnimation(){gi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){gi(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[e];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){gi(e=>{const{drag:r}=this.getProps();if(!Nh(e,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(e);if(o&&o.layout){const{min:c,max:m}=o.layout.layoutBox[e];u.set(t[e]-Ve(c,m,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:r}=this.visualElement;if(!Po(e)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};gi(c=>{const m=this.getAxisMotionValue(c);if(m&&this.constraints!==!1){const p=m.get();o[c]=IP({min:p,max:p},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),gi(c=>{if(!Nh(c,t,null))return;const m=this.getAxisMotionValue(c),{min:p,max:g}=this.constraints[c];m.set(Ve(p,g,o[c]))})}addListeners(){if(!this.visualElement.current)return;VP.set(this.visualElement,this);const t=this.visualElement.current,e=wu(t,"pointerdown",p=>{const{drag:g,dragListener:v=!0}=this.getProps();g&&v&&this.start(p)}),r=()=>{const{dragConstraints:p}=this.getProps();Po(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Ce.read(r);const c=Hu(window,"resize",()=>this.scalePositionWithinConstraints()),m=o.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(gi(v=>{const E=this.getAxisMotionValue(v);E&&(this.originPoint[v]+=p[v].translate,E.set(E.get()+p[v].translate))}),this.visualElement.render())}));return()=>{c(),e(),u(),m&&m()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=sg,dragMomentum:m=!0}=t;return{...t,drag:e,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:m}}}function Nh(i,t,e){return(t===!0||t===i)&&(e===null||e===i)}function NP(i,t=10){let e=null;return Math.abs(i.y)>t?e="y":Math.abs(i.x)>t&&(e="x"),e}class PP extends Kr{constructor(t){super(t),this.removeGroupControls=Ti,this.removeListeners=Ti,this.controls=new OP(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ti}unmount(){this.removeGroupControls(),this.removeListeners()}}const EE=i=>(t,e)=>{i&&Ce.postRender(()=>i(t,e))};class kP extends Kr{constructor(){super(...arguments),this.removePointerDownListener=Ti}onPointerDown(t){this.session=new Nw(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ow(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:EE(t),onStart:EE(e),onMove:r,onEnd:(u,c)=>{delete this.session,o&&Ce.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=wu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Xh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function bE(i,t){return t.max===t.min?0:i/(t.max-t.min)*100}const cu={correct:(i,t)=>{if(!t.target)return i;if(typeof i=="string")if(Mt.test(i))i=parseFloat(i);else return i;const e=bE(i,t.target.x),r=bE(i,t.target.y);return`${e}% ${r}%`}},jP={correct:(i,{treeScale:t,projectionDelta:e})=>{const r=i,o=Gr.parse(i);if(o.length>5)return r;const u=Gr.createTransformer(i),c=typeof o[0]!="number"?1:0,m=e.x.scale*t.x,p=e.y.scale*t.y;o[0+c]/=m,o[1+c]/=p;const g=Ve(m,p,.5);return typeof o[2+c]=="number"&&(o[2+c]/=g),typeof o[3+c]=="number"&&(o[3+c]/=g),u(o)}};let cp=!1;class LP extends $.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=t;a4(UP),u&&(e.group&&e.group.add(u),r&&r.register&&o&&r.register(u),cp&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Xh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:r,drag:o,isPresent:u}=this.props,{projection:c}=r;return c&&(c.isPresent=u,cp=!0,o||t.layoutDependency!==e||e===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||Ce.postRender(()=>{const m=c.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Ty.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:r}=this.props,{projection:o}=t;cp=!0,o&&(o.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function kw(i){const[t,e]=sw(),r=$.useContext(Jg);return S.jsx(LP,{...i,layoutGroup:r,switchLayoutGroup:$.useContext(gw),isPresent:t,safeToRemove:e})}const UP={borderRadius:{...cu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:cu,borderTopRightRadius:cu,borderBottomLeftRadius:cu,borderBottomRightRadius:cu,boxShadow:jP};function zP(i,t,e){const r=In(i)?i:Jo(i);return r.start(Vy("",r,t,e)),r.animation}const BP=(i,t)=>i.depth-t.depth;class FP{constructor(){this.children=[],this.isDirty=!1}add(t){ey(this.children,t),this.isDirty=!0}remove(t){ny(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(BP),this.isDirty=!1,this.children.forEach(t)}}function HP(i,t){const e=Gn.now(),r=({timestamp:o})=>{const u=o-e;u>=t&&(qr(r),i(u-t))};return Ce.setup(r,!0),()=>qr(r)}const jw=["TopLeft","TopRight","BottomLeft","BottomRight"],qP=jw.length,SE=i=>typeof i=="string"?parseFloat(i):i,AE=i=>typeof i=="number"||Mt.test(i);function GP(i,t,e,r,o,u){o?(i.opacity=Ve(0,e.opacity??1,KP(r)),i.opacityExit=Ve(t.opacity??1,0,YP(r))):u&&(i.opacity=Ve(t.opacity??1,e.opacity??1,r));for(let c=0;c<qP;c++){const m=`border${jw[c]}Radius`;let p=wE(t,m),g=wE(e,m);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||AE(p)===AE(g)?(i[m]=Math.max(Ve(SE(p),SE(g),r),0),(hs.test(g)||hs.test(p))&&(i[m]+="%")):i[m]=g}(t.rotate||e.rotate)&&(i.rotate=Ve(t.rotate||0,e.rotate||0,r))}function wE(i,t){return i[t]!==void 0?i[t]:i.borderRadius}const KP=Lw(0,.5,AA),YP=Lw(.5,.95,Ti);function Lw(i,t,e){return r=>r<i?0:r>t?1:e(Lu(i,t,r))}function xE(i,t){i.min=t.min,i.max=t.max}function pi(i,t){xE(i.x,t.x),xE(i.y,t.y)}function RE(i,t){i.translate=t.translate,i.scale=t.scale,i.originPoint=t.originPoint,i.origin=t.origin}function CE(i,t,e,r,o){return i-=t,i=bf(i,1/e,r),o!==void 0&&(i=bf(i,1/o,r)),i}function QP(i,t=0,e=1,r=.5,o,u=i,c=i){if(hs.test(t)&&(t=parseFloat(t),t=Ve(c.min,c.max,t/100)-c.min),typeof t!="number")return;let m=Ve(u.min,u.max,r);i===u&&(m-=t),i.min=CE(i.min,t,e,m,o),i.max=CE(i.max,t,e,m,o)}function IE(i,t,[e,r,o],u,c){QP(i,t[e],t[r],t[o],t.scale,u,c)}const XP=["x","scaleX","originX"],WP=["y","scaleY","originY"];function DE(i,t,e,r){IE(i.x,t,XP,e?e.x:void 0,r?r.x:void 0),IE(i.y,t,WP,e?e.y:void 0,r?r.y:void 0)}function ME(i){return i.translate===0&&i.scale===1}function Uw(i){return ME(i.x)&&ME(i.y)}function VE(i,t){return i.min===t.min&&i.max===t.max}function $P(i,t){return VE(i.x,t.x)&&VE(i.y,t.y)}function OE(i,t){return Math.round(i.min)===Math.round(t.min)&&Math.round(i.max)===Math.round(t.max)}function zw(i,t){return OE(i.x,t.x)&&OE(i.y,t.y)}function NE(i){return Nn(i.x)/Nn(i.y)}function PE(i,t){return i.translate===t.translate&&i.scale===t.scale&&i.originPoint===t.originPoint}class JP{constructor(){this.members=[]}add(t){ey(this.members,t),t.scheduleRender()}remove(t){if(ny(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(o=>t===o);if(e===0)return!1;let r;for(let o=e;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(t,e){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,e&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:r}=t;e.onExitComplete&&e.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ZP(i,t,e){let r="";const o=i.x.translate/t.x,u=i.y.translate/t.y,c=e?.z||0;if((o||u||c)&&(r=`translate3d(${o}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:g,rotate:v,rotateX:E,rotateY:b,skewX:C,skewY:U}=e;g&&(r=`perspective(${g}px) ${r}`),v&&(r+=`rotate(${v}deg) `),E&&(r+=`rotateX(${E}deg) `),b&&(r+=`rotateY(${b}deg) `),C&&(r+=`skewX(${C}deg) `),U&&(r+=`skewY(${U}deg) `)}const m=i.x.scale*t.x,p=i.y.scale*t.y;return(m!==1||p!==1)&&(r+=`scale(${m}, ${p})`),r||"none"}const hp=["","X","Y","Z"],t6=1e3;let e6=0;function fp(i,t,e,r){const{latestValues:o}=t;o[i]&&(e[i]=o[i],t.setStaticValue(i,0),r&&(r[i]=0))}function Bw(i){if(i.hasCheckedOptimisedAppear=!0,i.root===i)return;const{visualElement:t}=i.options;if(!t)return;const e=xw(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:o,layoutId:u}=i.options;window.MotionCancelOptimisedAnimation(e,"transform",Ce,!(o||u))}const{parent:r}=i;r&&!r.hasCheckedOptimisedAppear&&Bw(r)}function Fw({attachResizeListener:i,defaultParent:t,measureScroll:e,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},m=t?.()){this.id=e6++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(s6),this.nodes.forEach(l6),this.nodes.forEach(u6),this.nodes.forEach(r6)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new FP)}addEventListener(c,m){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new ry),this.eventHandlers.get(c).add(m)}notifyListeners(c,...m){const p=this.eventHandlers.get(c);p&&p.notify(...m)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=iw(c)&&!G3(c),this.instance=c;const{layoutId:m,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||m)&&(this.isLayoutDirty=!0),i){let v,E=0;const b=()=>this.root.updateBlockedByResize=!1;Ce.read(()=>{E=window.innerWidth}),i(c,()=>{const C=window.innerWidth;C!==E&&(E=C,this.root.updateBlockedByResize=!0,v&&v(),v=HP(b,250),Xh.hasAnimatedSinceResize&&(Xh.hasAnimatedSinceResize=!1,this.nodes.forEach(LE)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&g&&(m||p)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:E,hasRelativeLayoutChanged:b,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const U=this.options.transition||g.getDefaultTransition()||m6,{onLayoutAnimationStart:M,onLayoutAnimationComplete:P}=g.getProps(),Q=!this.targetLayout||!zw(this.targetLayout,C),it=!E&&b;if(this.options.layoutRoot||this.resumeFrom||it||E&&(Q||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const tt={...vy(U,"layout"),onPlay:M,onComplete:P};(g.shouldReduceMotion||this.options.layoutRoot)&&(tt.delay=0,tt.type=!1),this.startAnimation(tt),this.setAnimationOrigin(v,it)}else E||LE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),qr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(c6),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Bw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const E=this.path[v];E.shouldResetTransform=!0,E.updateScroll("snapshot"),E.options.layoutRoot&&E.willUpdate(!1)}const{layoutId:m,layout:p}=this.options;if(m===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(kE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(jE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(o6),this.nodes.forEach(n6),this.nodes.forEach(i6)):this.nodes.forEach(jE),this.clearAllSnapshots();const m=Gn.now();_n.delta=Ks(0,1e3/60,m-_n.timestamp),_n.timestamp=m,_n.isProcessing=!0,tp.update.process(_n),tp.preRender.process(_n),tp.render.process(_n),_n.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ty.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(a6),this.sharedNodes.forEach(h6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ce.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ce.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Nn(this.snapshot.measuredBox.x)&&!Nn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Fe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(m=!1),m&&this.instance){const p=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!Uw(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;c&&this.instance&&(m||Ea(this.latestValues)||v)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const m=this.measurePageBox();let p=this.removeElementScroll(m);return c&&(p=this.removeTransform(p)),p6(p),{animationId:this.root.animationId,measuredBox:m,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Fe();const m=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(g6))){const{scroll:g}=this.root;g&&(ko(m.x,g.offset.x),ko(m.y,g.offset.y))}return m}removeElementScroll(c){const m=Fe();if(pi(m,c),this.scroll?.wasRoot)return m;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:v,options:E}=g;g!==this.root&&v&&E.layoutScroll&&(v.wasRoot&&pi(m,c),ko(m.x,v.offset.x),ko(m.y,v.offset.y))}return m}applyTransform(c,m=!1){const p=Fe();pi(p,c);for(let g=0;g<this.path.length;g++){const v=this.path[g];!m&&v.options.layoutScroll&&v.scroll&&v!==v.root&&jo(p,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Ea(v.latestValues)&&jo(p,v.latestValues)}return Ea(this.latestValues)&&jo(p,this.latestValues),p}removeTransform(c){const m=Fe();pi(m,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!Ea(g.latestValues))continue;Jp(g.latestValues)&&g.updateSnapshot();const v=Fe(),E=g.measurePageBox();pi(v,E),DE(m,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return Ea(this.latestValues)&&DE(m,this.latestValues),m}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==_n.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==m;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:E}=this.options;if(!(!this.layout||!(v||E))){if(this.resolvedRelativeTargetAt=_n.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fe(),this.relativeTargetOrigin=Fe(),Ru(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),pi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Fe(),this.targetWithTransforms=Fe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),bP(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):pi(this.target,this.layout.layoutBox),Tw(this.target,this.targetDelta)):pi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fe(),this.relativeTargetOrigin=Fe(),Ru(this.relativeTargetOrigin,this.target,b.target),pi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Jp(this.parent.latestValues)||_w(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),m=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===_n.timestamp&&(p=!1),p)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;pi(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,b=this.treeScale.y;N4(this.layoutCorrected,this.treeScale,this.path,m),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Fe());const{target:C}=c;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(RE(this.prevProjectionDelta.x,this.projectionDelta.x),RE(this.prevProjectionDelta.y,this.projectionDelta.y)),xu(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==b||!PE(this.projectionDelta.x,this.prevProjectionDelta.x)||!PE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Lo(),this.projectionDelta=Lo(),this.projectionDeltaWithTransform=Lo()}setAnimationOrigin(c,m=!1){const p=this.snapshot,g=p?p.latestValues:{},v={...this.latestValues},E=Lo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const b=Fe(),C=p?p.source:void 0,U=this.layout?this.layout.source:void 0,M=C!==U,P=this.getStack(),Q=!P||P.members.length<=1,it=!!(M&&!Q&&this.options.crossfade===!0&&!this.path.some(d6));this.animationProgress=0;let tt;this.mixTargetDelta=ht=>{const ft=ht/1e3;UE(E.x,c.x,ft),UE(E.y,c.y,ft),this.setTargetDelta(E),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ru(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),f6(this.relativeTarget,this.relativeTargetOrigin,b,ft),tt&&$P(this.relativeTarget,tt)&&(this.isProjectionDirty=!1),tt||(tt=Fe()),pi(tt,this.relativeTarget)),M&&(this.animationValues=v,GP(v,g,this.latestValues,ft,it,Q)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ft},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(qr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ce.update(()=>{Xh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Jo(0)),this.currentAnimation=zP(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),c.onUpdate&&c.onUpdate(m)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(t6),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:m,target:p,layout:g,latestValues:v}=c;if(!(!m||!p||!g)){if(this!==c&&this.layout&&g&&Hw(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||Fe();const E=Nn(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+E;const b=Nn(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+b}pi(m,p),jo(m,v),xu(this.projectionDeltaWithTransform,this.layoutCorrected,m,v)}}registerSharedNode(c,m){this.sharedNodes.has(c)||this.sharedNodes.set(c,new JP),this.sharedNodes.get(c).add(m);const g=m.options.initialPromotionConfig;m.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(m):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:m,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let m=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(m=!0),!m)return;const g={};p.z&&fp("z",c,g,this.animationValues);for(let v=0;v<hp.length;v++)fp(`rotate${hp[v]}`,c,g,this.animationValues),fp(`skew${hp[v]}`,c,g,this.animationValues);c.render();for(const v in g)c.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);c.scheduleRender()}applyProjectionStyles(c,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Qh(m?.pointerEvents)||"",c.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Qh(m?.pointerEvents)||""),this.hasProjected&&!Ea(this.latestValues)&&(c.transform=p?p({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=g.animationValues||g.latestValues;this.applyTransformsToTarget();let E=ZP(this.projectionDeltaWithTransform,this.treeScale,v);p&&(E=p(v,E)),c.transform=E;const{x:b,y:C}=this.projectionDelta;c.transformOrigin=`${b.origin*100}% ${C.origin*100}% 0`,g.animationValues?c.opacity=g===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const U in Fu){if(v[U]===void 0)continue;const{correct:M,applyTo:P,isCSSVariable:Q}=Fu[U],it=E==="none"?v[U]:M(v[U],g);if(P){const tt=P.length;for(let ht=0;ht<tt;ht++)c[P[ht]]=it}else Q?this.options.visualElement.renderState.vars[U]=it:c[U]=it}this.options.layoutId&&(c.pointerEvents=g===this?Qh(m?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(kE),this.root.sharedNodes.clear()}}}function n6(i){i.updateLayout()}function i6(i){const t=i.resumeFrom?.snapshot||i.snapshot;if(i.isLead()&&i.layout&&t&&i.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:r}=i.layout,{animationType:o}=i.options,u=t.source!==i.layout.source;o==="size"?gi(v=>{const E=u?t.measuredBox[v]:t.layoutBox[v],b=Nn(E);E.min=e[v].min,E.max=E.min+b}):Hw(o,t.layoutBox,e)&&gi(v=>{const E=u?t.measuredBox[v]:t.layoutBox[v],b=Nn(e[v]);E.max=E.min+b,i.relativeTarget&&!i.currentAnimation&&(i.isProjectionDirty=!0,i.relativeTarget[v].max=i.relativeTarget[v].min+b)});const c=Lo();xu(c,e,t.layoutBox);const m=Lo();u?xu(m,i.applyTransform(r,!0),t.measuredBox):xu(m,e,t.layoutBox);const p=!Uw(c);let g=!1;if(!i.resumeFrom){const v=i.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:E,layout:b}=v;if(E&&b){const C=Fe();Ru(C,t.layoutBox,E.layoutBox);const U=Fe();Ru(U,e,b.layoutBox),zw(C,U)||(g=!0),v.options.layoutRoot&&(i.relativeTarget=U,i.relativeTargetOrigin=C,i.relativeParent=v)}}}i.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:m,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(i.isLead()){const{onExitComplete:e}=i.options;e&&e()}i.options.transition=void 0}function s6(i){i.parent&&(i.isProjecting()||(i.isProjectionDirty=i.parent.isProjectionDirty),i.isSharedProjectionDirty||(i.isSharedProjectionDirty=!!(i.isProjectionDirty||i.parent.isProjectionDirty||i.parent.isSharedProjectionDirty)),i.isTransformDirty||(i.isTransformDirty=i.parent.isTransformDirty))}function r6(i){i.isProjectionDirty=i.isSharedProjectionDirty=i.isTransformDirty=!1}function a6(i){i.clearSnapshot()}function kE(i){i.clearMeasurements()}function jE(i){i.isLayoutDirty=!1}function o6(i){const{visualElement:t}=i.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),i.resetTransform()}function LE(i){i.finishAnimation(),i.targetDelta=i.relativeTarget=i.target=void 0,i.isProjectionDirty=!0}function l6(i){i.resolveTargetDelta()}function u6(i){i.calcProjection()}function c6(i){i.resetSkewAndRotation()}function h6(i){i.removeLeadSnapshot()}function UE(i,t,e){i.translate=Ve(t.translate,0,e),i.scale=Ve(t.scale,1,e),i.origin=t.origin,i.originPoint=t.originPoint}function zE(i,t,e,r){i.min=Ve(t.min,e.min,r),i.max=Ve(t.max,e.max,r)}function f6(i,t,e,r){zE(i.x,t.x,e.x,r),zE(i.y,t.y,e.y,r)}function d6(i){return i.animationValues&&i.animationValues.opacityExit!==void 0}const m6={duration:.45,ease:[.4,0,.1,1]},BE=i=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(i),FE=BE("applewebkit/")&&!BE("chrome/")?Math.round:Ti;function HE(i){i.min=FE(i.min),i.max=FE(i.max)}function p6(i){HE(i.x),HE(i.y)}function Hw(i,t,e){return i==="position"||i==="preserve-aspect"&&!EP(NE(t),NE(e),.2)}function g6(i){return i!==i.root&&i.scroll?.wasRoot}const y6=Fw({attachResizeListener:(i,t)=>Hu(i,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),dp={current:void 0},qw=Fw({measureScroll:i=>({x:i.scrollLeft,y:i.scrollTop}),defaultParent:()=>{if(!dp.current){const i=new y6({});i.mount(window),i.setOptions({layoutScroll:!0}),dp.current=i}return dp.current},resetTransform:(i,t)=>{i.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:i=>window.getComputedStyle(i).position==="fixed"}),v6={pan:{Feature:kP},drag:{Feature:PP,ProjectionNode:qw,MeasureLayout:kw}};function qE(i,t,e){const{props:r}=i;i.animationState&&r.whileHover&&i.animationState.setActive("whileHover",e==="Start");const o="onHover"+e,u=r[o];u&&Ce.postRender(()=>u(t,ic(t)))}class _6 extends Kr{mount(){const{current:t}=this.node;t&&(this.unmount=z3(t,(e,r)=>(qE(this.node,r,"Start"),o=>qE(this.node,o,"End"))))}unmount(){}}class T6 extends Kr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=tc(Hu(this.node.current,"focus",()=>this.onFocus()),Hu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function GE(i,t,e){const{props:r}=i;if(i.current instanceof HTMLButtonElement&&i.current.disabled)return;i.animationState&&r.whileTap&&i.animationState.setActive("whileTap",e==="Start");const o="onTap"+(e==="End"?"":e),u=r[o];u&&Ce.postRender(()=>u(t,ic(t)))}class E6 extends Kr{mount(){const{current:t}=this.node;t&&(this.unmount=q3(t,(e,r)=>(GE(this.node,r,"Start"),(o,{success:u})=>GE(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const rg=new WeakMap,mp=new WeakMap,b6=i=>{const t=rg.get(i.target);t&&t(i)},S6=i=>{i.forEach(b6)};function A6({root:i,...t}){const e=i||document;mp.has(e)||mp.set(e,{});const r=mp.get(e),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(S6,{root:i,...t})),r[o]}function w6(i,t,e){const r=A6(t);return rg.set(i,e),r.observe(i),()=>{rg.delete(i),r.unobserve(i)}}const x6={some:0,all:1};class R6 extends Kr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:r,amount:o="some",once:u}=t,c={root:e?e.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:x6[o]},m=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:E}=this.node.getProps(),b=g?v:E;b&&b(p)};return w6(this.node.current,c,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(C6(t,e))&&this.startObserver()}unmount(){}}function C6({viewport:i={}},{viewport:t={}}={}){return e=>i[e]!==t[e]}const I6={inView:{Feature:R6},tap:{Feature:E6},focus:{Feature:T6},hover:{Feature:_6}},D6={layout:{ProjectionNode:qw,MeasureLayout:kw}},M6={...pP,...I6,...v6,...D6},qe=M4(M6,q4);function V6({plants:i,onHarvest:t}){return S.jsx("div",{className:"log-container",children:S.jsx("div",{className:"mushroom-field",children:i.map((e,r)=>{const o=e&&e.stage==="adult"&&(e.rarity==="rare"||e.rarity==="epic"||e.rarity==="legendary"||e.rarity==="mythic")?`rarity-${e.rarity}`:"";return S.jsx("div",{className:`mushroom-slot ${o}`,onClick:()=>e&&e.stage==="adult"&&t(r),children:S.jsx(Sy,{mode:"wait",children:e&&S.jsx(qe.div,{initial:{scale:0,rotate:-10},animate:{scale:1,rotate:0},exit:{scale:0,y:-20,opacity:0},whileHover:{scale:1.1,rotate:5},whileTap:{scale:.9},className:`mushroom ${e.stage==="baby"?"mushroom-baby":""}`,children:e.stage==="baby"?"":e.emoji},e.id+e.stage)})},r)})})})}const O6=i=>({common:"#95a5a6",rare:"#3498db",epic:"#9b59b6",legendary:"#f39c12",mythic:"#e74c3c"})[i]||"#95a5a6";function N6({inventory:i,consumables:t,onSell:e,onSellAll:r,onUseConsumable:o,cookedItems:u={},useCookedItem:c,onSellCookedItem:m}){const[p,g]=$.useState({}),[v,E]=$.useState("items"),b=(M,P)=>{g(Q=>({...Q,[M]:parseInt(P)}))},C=()=>Object.values(i).reduce((M,P)=>M+P.value*P.count,0),U=Object.keys(i).length===0;return S.jsxs("div",{style:{padding:"20px"},children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[S.jsx("h2",{style:{color:"#2d3436",margin:0},children:" "}),v==="items"&&!U&&S.jsxs("button",{onClick:r,style:{padding:"10px 20px",background:"#00b894",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold",whiteSpace:"nowrap",cursor:"pointer"},children:["  ( ",C(),")"]})]}),S.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"20px"},children:[S.jsxs("button",{onClick:()=>E("items"),style:{flex:1,padding:"12px",borderRadius:"10px",border:"none",background:v==="items"?"#00b894":"#dfe6e9",color:v==="items"?"white":"#636e72",fontWeight:"bold",whiteSpace:"nowrap",cursor:"pointer",transition:"all 0.2s"},children:["  (",Object.values(i).reduce((M,P)=>M+P.count,0),")"]}),S.jsxs("button",{onClick:()=>E("consumables"),style:{flex:1,padding:"12px",borderRadius:"10px",border:"none",background:v==="consumables"?"#e17055":"#dfe6e9",color:v==="consumables"?"white":"#636e72",fontWeight:"bold",whiteSpace:"nowrap",cursor:"pointer",transition:"all 0.2s"},children:["  (",(t?.seedBomb||0)+(t?.growthPotion||0)+Object.values(u).reduce((M,P)=>M+P.count,0),")"]})]}),S.jsxs("div",{style:{maxHeight:"600px",overflowY:"auto",paddingRight:"10px",scrollbarWidth:"none",msOverflowStyle:"none"},children:[S.jsx("style",{children:`
          div::-webkit-scrollbar {
            display: none;
          }
        `}),v==="items"?S.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, minmax(0, 1fr))",gap:"15px"},children:S.jsx(Sy,{children:U?S.jsxs("div",{style:{gridColumn:"1 / -1",textAlign:"center",padding:"60px 20px",color:"#636e72"},children:[S.jsx("div",{style:{fontSize:"4em",marginBottom:"10px"},children:""}),S.jsx("p",{style:{fontSize:"1.1em",margin:0},children:"  "}),S.jsx("p",{style:{fontSize:"0.9em",color:"#b2bec3"},children:"  !"})]}):Object.values(i).map(M=>S.jsxs(qe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},layout:!0,style:{background:"white",borderRadius:"12px",padding:"20px",boxShadow:"0 2px 10px rgba(0,0,0,0.08)",border:`2px solid ${O6(ss.mushrooms.find(P=>P.emoji===M.emoji)?.rarity)}`},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",marginBottom:"15px"},children:[S.jsx("div",{style:{fontSize:"3em"},children:M.emoji}),S.jsxs("div",{style:{flex:1},children:[S.jsx("div",{style:{fontSize:"1.1em",fontWeight:"bold",whiteSpace:"nowrap",color:"#2d3436",marginBottom:"4px"},children:M.name}),S.jsxs("div",{style:{fontSize:"0.9em",color:"#636e72",display:"flex",gap:"10px",alignItems:"center"},children:[S.jsxs("span",{children:[" ",M.value]}),S.jsxs("span",{style:{background:"#00b894",color:"white",padding:"4px 10px",borderRadius:"12px",fontSize:"0.95em",fontWeight:"bold",whiteSpace:"nowrap"},children:[M.name,"  ",M.count," "]})]})]})]}),S.jsxs("div",{style:{borderTop:"1px solid #dfe6e9",paddingTop:"15px"},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"8px"},children:[S.jsxs("span",{style:{fontSize:"0.9em",color:"#636e72",minWidth:"60px",flexShrink:0},children:[p[M.emoji]||1," "]}),S.jsx("input",{type:"range",min:"1",max:M.count,value:p[M.emoji]||1,onChange:P=>b(M.emoji,P.target.value),style:{flex:1,minWidth:0,maxWidth:"100%"}})]}),S.jsxs("button",{onClick:P=>{P.stopPropagation();const Q=p[M.emoji]||1;e(M.emoji,Q),g(it=>({...it,[M.emoji]:1}))},style:{width:"100%",padding:"10px",background:"#00b894",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold",whiteSpace:"nowrap",cursor:"pointer"},children:[" ( ",M.value*(p[M.emoji]||1),")"]})]})]},M.emoji))})}):S.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, minmax(0, 1fr))",gap:"15px"},children:!t||t.seedBomb===0&&t.growthPotion===0&&Object.keys(u).length===0?S.jsxs("div",{style:{gridColumn:"1 / -1",textAlign:"center",padding:"60px 20px",color:"#636e72"},children:[S.jsx("div",{style:{fontSize:"4em",marginBottom:"10px"},children:""}),S.jsx("p",{style:{fontSize:"1.1em",margin:0},children:"  "}),S.jsx("p",{style:{fontSize:"0.9em",color:"#b2bec3"},children:" !"})]}):S.jsxs(S.Fragment,{children:[t.seedBomb>0&&S.jsxs(qe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},style:{background:"white",borderRadius:"12px",padding:"20px",boxShadow:"0 2px 10px rgba(0,0,0,0.08)",border:"2px solid #e17055"},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",marginBottom:"15px"},children:[S.jsx("div",{style:{fontSize:"3em"},children:""}),S.jsxs("div",{style:{flex:1},children:[S.jsx("div",{style:{fontSize:"1.1em",fontWeight:"bold",whiteSpace:"nowrap",color:"#2d3436",marginBottom:"4px"},children:" "}),S.jsxs("div",{style:{fontSize:"0.9em",color:"#636e72"},children:["x",t.seedBomb]})]})]}),S.jsxs("div",{style:{borderTop:"1px solid #dfe6e9",paddingTop:"15px"},children:[S.jsx("p",{style:{fontSize:"0.85em",color:"#636e72",margin:"0 0 10px 0"},children:"      "}),S.jsx("button",{onClick:()=>o("seedBomb"),style:{width:"100%",padding:"10px",background:"#e17055",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold",whiteSpace:"nowrap",cursor:"pointer"},children:""})]})]}),t.growthPotion>0&&S.jsxs(qe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},style:{background:"white",borderRadius:"12px",padding:"20px",boxShadow:"0 2px 10px rgba(0,0,0,0.08)",border:"2px solid #6c5ce7"},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",marginBottom:"15px"},children:[S.jsx("div",{style:{fontSize:"3em"},children:""}),S.jsxs("div",{style:{flex:1},children:[S.jsx("div",{style:{fontSize:"1.1em",fontWeight:"bold",whiteSpace:"nowrap",color:"#2d3436",marginBottom:"4px"},children:" "}),S.jsxs("div",{style:{fontSize:"0.9em",color:"#636e72"},children:["x",t.growthPotion]})]})]}),S.jsxs("div",{style:{borderTop:"1px solid #dfe6e9",paddingTop:"15px"},children:[S.jsx("p",{style:{fontSize:"0.85em",color:"#636e72",margin:"0 0 10px 0"},children:"   "}),S.jsx("button",{onClick:()=>o("growthPotion"),style:{width:"100%",padding:"10px",background:"#6c5ce7",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold",whiteSpace:"nowrap",cursor:"pointer"},children:""})]})]}),Object.values(u).map(M=>S.jsxs(qe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},style:{background:"white",borderRadius:"12px",padding:"20px",boxShadow:"0 2px 10px rgba(0,0,0,0.08)",border:"2px solid #fdcb6e"},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",marginBottom:"15px"},children:[S.jsx("div",{style:{fontSize:"3em"},children:M.emoji}),S.jsxs("div",{style:{flex:1},children:[S.jsx("div",{style:{fontSize:"1.1em",fontWeight:"bold",whiteSpace:"nowrap",color:"#2d3436",marginBottom:"4px"},children:M.name}),S.jsxs("div",{style:{fontSize:"0.9em",color:"#636e72"},children:["x",M.count]})]})]}),S.jsxs("div",{style:{borderTop:"1px solid #dfe6e9",paddingTop:"15px"},children:[S.jsx("p",{style:{fontSize:"0.85em",color:"#636e72",margin:"0 0 10px 0"},children:M.description}),S.jsxs("div",{style:{display:"flex",gap:"10px"},children:[S.jsxs("button",{onClick:()=>m(M.id),style:{flex:1,padding:"10px",background:"#00b894",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold",whiteSpace:"nowrap",cursor:"pointer"},children:[" ( ",M.value,")"]}),M.effect&&S.jsx("button",{onClick:()=>c(M.id),style:{flex:1,padding:"10px",background:"#fdcb6e",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold",whiteSpace:"nowrap",cursor:"pointer"},children:""})]})]})]},M.id))]})})]})]})}function P6({gold:i,upgradeLevel:t,unlocks:e,rarityLevel:r,fertilizerLevel:o,onBuyUpgrade:u,onBuyUnlock:c,onBuyRarityUpgrade:m,onBuyFertilizerUpgrade:p,onBuyConsumable:g}){const v=100+t*50,E=1e3*r,b=500,C=500;return S.jsx("div",{className:"shop-container",children:S.jsxs("div",{className:"shop-items",style:{display:"flex",flexDirection:"column",gap:"20px"},children:[S.jsxs(qe.div,{className:"shop-item",initial:{opacity:0,y:20},animate:{opacity:1,y:0},style:{background:"white",borderRadius:"16px",padding:"20px",display:"flex",alignItems:"center",gap:"20px",boxShadow:"0 4px 15px rgba(0,0,0,0.05)"},children:[S.jsx("div",{style:{fontSize:"3em"},children:""}),S.jsxs("div",{style:{flex:1},children:[S.jsx("div",{className:"text-black",style:{fontSize:"1.2em",fontWeight:"bold"},children:"  "}),S.jsx("div",{style:{color:"#636e72",fontSize:"0.9em"},children:"  10%  ()"}),S.jsxs("div",{style:{color:"#6c5ce7",fontWeight:"bold",fontSize:"0.9em"},children:[": ",t]})]}),S.jsxs("button",{className:"btn",onClick:u,disabled:i<v,style:{opacity:i<v?.5:1},children:[" ",v]})]}),S.jsxs(qe.div,{className:"shop-item",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},style:{background:"white",borderRadius:"16px",padding:"20px",display:"flex",alignItems:"center",gap:"20px",boxShadow:"0 4px 15px rgba(0,0,0,0.05)"},children:[S.jsx("div",{style:{fontSize:"3em"},children:""}),S.jsxs("div",{style:{flex:1},children:[S.jsx("div",{className:"text-black",style:{fontSize:"1.2em",fontWeight:"bold"},children:" "}),S.jsx("div",{style:{color:"#636e72",fontSize:"0.9em"},children:"    "}),S.jsxs("div",{style:{color:"#6c5ce7",fontWeight:"bold",fontSize:"0.9em"},children:[": ",r]})]}),S.jsxs("button",{className:"btn",onClick:m,disabled:i<E,style:{opacity:i<E?.5:1},children:[" ",E]})]}),S.jsxs(qe.div,{className:"shop-item",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},style:{background:"white",borderRadius:"16px",padding:"20px",display:"flex",alignItems:"center",gap:"20px",boxShadow:"0 4px 15px rgba(0,0,0,0.05)"},children:[S.jsx("div",{style:{fontSize:"3em"},children:""}),S.jsxs("div",{style:{flex:1},children:[S.jsx("div",{className:"text-black",style:{fontSize:"1.2em",fontWeight:"bold"},children:"  "}),S.jsx("div",{style:{color:"#636e72",fontSize:"0.9em"},children:"     "})]}),S.jsx("button",{className:"btn",onClick:()=>c("statistics"),disabled:e.statistics||i<b,style:{opacity:e.statistics||i<b?.5:1},children:e.statistics?" ":` ${b}`})]}),S.jsxs(qe.div,{className:"shop-item",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},style:{background:"white",borderRadius:"16px",padding:"20px",display:"flex",alignItems:"center",gap:"20px",boxShadow:"0 4px 15px rgba(0,0,0,0.05)"},children:[S.jsx("div",{style:{fontSize:"3em"},children:""}),S.jsxs("div",{style:{flex:1},children:[S.jsx("div",{className:"text-black",style:{fontSize:"1.2em",fontWeight:"bold"},children:"   "}),S.jsx("div",{style:{color:"#636e72",fontSize:"0.9em"},children:"       "})]}),S.jsx("button",{className:"btn",onClick:()=>c("harvestAll"),disabled:e.harvestAll||i<C,style:{opacity:e.harvestAll||i<C?.5:1},children:e.harvestAll?" ":` ${C}`})]}),S.jsxs(qe.div,{className:"shop-item",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},style:{background:"white",borderRadius:"16px",padding:"20px",display:"flex",alignItems:"center",gap:"20px",boxShadow:"0 4px 15px rgba(0,0,0,0.05)"},children:[S.jsx("div",{style:{fontSize:"3em"},children:""}),S.jsxs("div",{style:{flex:1},children:[S.jsx("div",{className:"text-black",style:{fontSize:"1.2em",fontWeight:"bold"},children:"  "}),S.jsx("div",{style:{color:"#636e72",fontSize:"0.9em"},children:"  10% "}),S.jsxs("div",{style:{color:"#6c5ce7",fontWeight:"bold",fontSize:"0.9em"},children:[": ",o]})]}),S.jsxs("button",{className:"btn",onClick:p,disabled:i<1e3+o*500,style:{opacity:i<1e3+o*500?.5:1},children:[" ",1e3+o*500]})]}),S.jsx("div",{style:{borderTop:"2px solid #dfe6e9",margin:"10px 0",paddingTop:"10px"},children:S.jsx("h3",{style:{color:"#2d3436",marginBottom:"15px"},children:" "})}),S.jsxs(qe.div,{className:"shop-item",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},style:{background:"white",borderRadius:"16px",padding:"20px",display:"flex",alignItems:"center",gap:"20px",boxShadow:"0 4px 15px rgba(0,0,0,0.05)",border:"2px solid #e17055"},children:[S.jsx("div",{style:{fontSize:"3em"},children:""}),S.jsxs("div",{style:{flex:1},children:[S.jsx("div",{className:"text-black",style:{fontSize:"1.2em",fontWeight:"bold"},children:" "}),S.jsx("div",{style:{color:"#636e72",fontSize:"0.9em"},children:"      !"})]}),S.jsx("button",{className:"btn",onClick:()=>g("seedBomb",2e3),disabled:i<2e3,style:{opacity:i<2e3?.5:1,background:"#e17055"},children:" 2000"})]})]})})}function k6({collection:i,rarityLevel:t=1,activeBuffs:e=[]}){const[r,o]=$.useState("all"),[u,c]=$.useState(null),m=ss.mushrooms,p=Object.values(i).filter(M=>M.discovered).length,g=m.length,v=(p/g*100).toFixed(1),E=m.filter(M=>{const P=i[M.emoji]?.discovered;return r==="all"?!0:r==="discovered"?P:r==="undiscovered"?!P:M.rarity===r}),b=M=>({common:"#95a5a6",rare:"#3498db",epic:"#9b59b6",legendary:"#f39c12",mythic:"#e74c3c"})[M]||"#95a5a6",C=M=>({common:"",rare:"",epic:"",legendary:"",mythic:""})[M]||"  ",U=M=>{const P=e.filter(ht=>ht.type==="rarity_boost"),Q=m.filter(ht=>!(ht.rarity==="epic"&&t<5||ht.rarity==="legendary"&&t<10||ht.rarity==="mythic"&&t<15)).map(ht=>{let ft=1;return P.forEach(dt=>{(dt.target==="all"&&ht.rarity!=="common"||dt.target===ht.rarity)&&(ft*=dt.value)}),{...ht,effectiveWeight:ht.rarity==="common"?ht.weight/(1+t*.15):ht.weight*(1+(t-1)*.8)*ft}}),it=Q.reduce((ht,ft)=>ht+ft.effectiveWeight,0),tt=Q.find(ht=>ht.emoji===M.emoji);return tt?(tt.effectiveWeight/it*100).toFixed(2):"0.00"};return S.jsxs("div",{className:"collection-container",children:[S.jsxs("div",{style:{background:"white",padding:"20px",borderRadius:"16px",marginBottom:"20px",boxShadow:"0 4px 15px rgba(0,0,0,0.05)"},children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"},children:[S.jsx("span",{style:{fontWeight:"bold",color:"#2d3436"},children:" "}),S.jsxs("span",{style:{fontWeight:"bold",color:"#6c5ce7"},children:[v,"%"]})]}),S.jsx("div",{style:{height:"10px",background:"#dfe6e9",borderRadius:"5px",overflow:"hidden"},children:S.jsx("div",{style:{height:"100%",width:`${v}%`,background:"linear-gradient(90deg, #6c5ce7, #a29bfe)",transition:"width 0.5s ease-out"}})})]}),S.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",marginBottom:"20px",justifyContent:"center"},children:["all","discovered","undiscovered","common","rare","epic","legendary","mythic"].map(M=>{const P={all:"",discovered:"",undiscovered:"",common:"",rare:"",epic:"",legendary:"",mythic:""};return S.jsx("button",{onClick:()=>o(M),style:{padding:"8px 16px",borderRadius:"20px",border:"none",background:r===M?"#6c5ce7":"#dfe6e9",color:r===M?"white":"#636e72",cursor:"pointer",whiteSpace:"nowrap",fontWeight:"bold",fontSize:"0.9em"},children:P[M]},M)})}),S.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(100px, 1fr))",gap:"10px",maxHeight:"400px",overflowY:"auto",scrollbarWidth:"none",msOverflowStyle:"none"},className:"collection-grid",children:E.map(M=>{const P=i[M.emoji],Q=P?.discovered;return S.jsxs(qe.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},onClick:()=>Q&&c({...M,collectionData:P}),style:{background:"white",borderRadius:"12px",padding:"15px",textAlign:"center",border:`2px solid ${b(M.rarity)}`,boxShadow:Q?`0 0 15px ${b(M.rarity)}40`:"none",opacity:Q?1:.5,cursor:Q?"pointer":"default"},children:[S.jsxs("div",{style:{fontSize:"2.5em",marginBottom:"5px",position:"relative"},children:[Q?M.emoji:"",Q&&S.jsx("div",{style:{position:"absolute",top:"-10px",right:"-10px",fontSize:"0.5em"},children:P.count>=50?"":P.count>=40?"":P.count>=30?"":""})]}),S.jsx("div",{className:"text-black",style:{fontSize:"0.8em",fontWeight:"bold"},children:Q?M.description:"???"}),Q&&S.jsxs("div",{style:{fontSize:"0.7em",color:"#636e72",marginTop:"5px"},children:[": ",P.count,""]})]},M.emoji)})}),u&&S.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>c(null),children:S.jsxs("div",{style:{background:"white",borderRadius:"20px",padding:"30px",maxWidth:"90%",width:"400px"},onClick:M=>M.stopPropagation(),children:[S.jsx("div",{style:{fontSize:"4em",textAlign:"center",marginBottom:"15px"},children:u.emoji}),S.jsx("div",{className:"text-black",style:{fontSize:"1.5em",fontWeight:"bold",textAlign:"center",marginBottom:"10px",wordBreak:"keep-all"},children:u.description}),S.jsx("div",{style:{background:b(u.rarity),color:"white",padding:"8px 15px",borderRadius:"20px",textAlign:"center",fontWeight:"bold",marginBottom:"20px"},children:C(u.rarity)}),S.jsx("div",{className:"text-black",style:{marginBottom:"15px",lineHeight:"1.6",fontSize:"0.95em"},children:u.flavorText}),S.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"10px",marginTop:"20px",padding:"15px",background:"#f8f9fa",borderRadius:"10px"},children:[S.jsxs("div",{style:{textAlign:"center"},children:[S.jsx("div",{style:{fontSize:"0.8em",color:"#2d3436",marginBottom:"5px"},children:""}),S.jsxs("div",{style:{fontWeight:"bold",color:"#2d3436"},children:[" ",u.value]})]}),S.jsxs("div",{style:{textAlign:"center"},children:[S.jsx("div",{style:{fontSize:"0.8em",color:"#2d3436",marginBottom:"5px"},children:" "}),S.jsxs("div",{style:{fontWeight:"bold",color:"#2d3436"},children:[" ",U(u),"%"]})]}),S.jsxs("div",{style:{textAlign:"center"},children:[S.jsx("div",{style:{fontSize:"0.8em",color:"#2d3436",marginBottom:"5px"},children:" "}),S.jsxs("div",{style:{fontWeight:"bold",color:"#2d3436"},children:[" ",u.collectionData.count,""]})]})]}),S.jsx("button",{onClick:()=>c(null),style:{marginTop:"20px",width:"100%",padding:"12px",background:"#6c5ce7",color:"white",border:"none",borderRadius:"10px",fontWeight:"bold",cursor:"pointer"},children:""})]})})]})}function j6({gold:i,foodState:t,fertilizerLevel:e,onActivateFood:r,onCancelFood:o}){const[u,c]=$.useState(0);$.useEffect(()=>{if(!t.active)return;const v=setInterval(()=>{const E=Math.max(0,t.endTime-Date.now());c(E),E<=0&&clearInterval(v)},100);return()=>clearInterval(v)},[t]);const m=v=>{const E=Math.floor(v/1e3),b=Math.floor(E/60),C=E%60;return`${b}:${C.toString().padStart(2,"0")}`},p=()=>{if(!t.active)return 0;const b=({"3min-free":18e4,"1min":6e4,"5min":3e5,"10min":6e5}[t.type]||0)*(1+e*.1);return u/b*100};if(t.active)return S.jsxs("div",{className:"food-system",style:{background:"rgba(255,255,255,0.8)",padding:"15px",borderRadius:"16px",marginBottom:"20px"},children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"},children:[S.jsx("span",{style:{fontWeight:"bold",color:"#d35400"},children:"  "}),S.jsx("span",{style:{fontWeight:"bold",color:"#6c5ce7"},children:m(u)})]}),S.jsx("div",{style:{height:"20px",background:"rgba(0,0,0,0.1)",borderRadius:"10px",overflow:"hidden",marginBottom:"10px"},children:S.jsx("div",{style:{height:"100%",width:`${p()}%`,background:"linear-gradient(90deg, #10ac84, #1dd1a1)",transition:"width 0.1s linear"}})}),S.jsx("button",{className:"btn btn-secondary",onClick:o,style:{width:"100%",padding:"8px"},children:"  "})]});const g=[{id:"3min-free",name:"",baseDuration:18e4,info:" (0.5x)",cost:0,color:"linear-gradient(135deg, #a8e6cf 0%, #3dccc7 100%)"},{id:"1min",name:"",baseDuration:6e4,info:" (2.5x)",cost:200,color:"linear-gradient(135deg, #ff9a9e 0%, #ff6b6b 100%)"},{id:"5min",name:"",baseDuration:3e5,info:" (1x)",cost:150,color:"linear-gradient(135deg, #a18cd1 0%, #fbc2eb 100%)"},{id:"10min",name:"",baseDuration:6e5,info:" (0.7x)",cost:350,color:"linear-gradient(135deg, #95e1d3 0%, #38ada9 100%)"}];return S.jsx("div",{className:"food-system",style:{marginBottom:"20px"},children:S.jsx("div",{style:{display:"flex",gap:"10px",overflowX:"auto",paddingBottom:"5px"},children:g.map(v=>{const E=v.baseDuration*(1+e*.1),b=Math.floor(E/6e4),C=Math.floor(E%6e4/1e3),U=C>0?`${b} ${C}`:`${b}`;return S.jsxs(qe.button,{whileHover:{y:-2},whileTap:{scale:.95},onClick:()=>r(v.id),disabled:i<v.cost,style:{flex:"1",minWidth:"100px",border:"none",borderRadius:"12px",padding:"10px",background:v.color,color:"white",cursor:"pointer",opacity:i<v.cost?.5:1,display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},children:[S.jsxs("div",{style:{fontWeight:"bold",fontSize:"0.9em"},children:[v.id==="3min-free"?"":v.id==="1min"?"":v.id==="5min"?"":""," ",U," ",v.name]}),S.jsx("div",{style:{fontSize:"0.7em",opacity:.9},children:v.info}),S.jsx("div",{style:{fontWeight:"bold",fontSize:"0.8em"},children:v.cost===0?"":` ${v.cost}`})]},v.id)})})})}var L6=KE();const U6=i=>({common:"#95a5a6",rare:"#3498db",epic:"#9b59b6",legendary:"#f39c12",mythic:"#e74c3c"})[i]||"#95a5a6";function z6({inventory:i,cookedItems:t,useCookedItem:e,cookingState:r,discoveredRecipes:o,startCooking:u,claimDish:c}){const[m,p]=$.useState([]),[g,v]=$.useState("ingredients"),[E,b]=$.useState(0),[C,U]=$.useState(!1),[M,P]=$.useState(null);$.useEffect(()=>{if(r.active){const R=setInterval(()=>{const I=Date.now()-r.startTime,N=Math.max(0,r.duration-I);b(N)},100);return()=>clearInterval(R)}else b(0)},[r]);const Q=R=>{m.length<3&&p([...m,R])},it=R=>{if(!r.active){const w=[...m];w.splice(R,1),p(w)}},tt=()=>{m.length===3&&(u(m),p([]))},ht=()=>{r.result&&(P(r.result),U(!0),c(),setTimeout(()=>U(!1),3e3))},ft=r.active&&E>0,dt=r.active&&E===0&&Date.now()-r.startTime>=r.duration;return S.jsxs("div",{className:"kitchen-container",style:{paddingBottom:"80px",position:"relative"},children:[L6.createPortal(S.jsx(Sy,{children:C&&M&&S.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:9999,pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},children:[S.jsx(qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.5)",pointerEvents:"auto"},onClick:()=>U(!1)}),S.jsxs(qe.div,{initial:{scale:.8,y:50},animate:{scale:1,y:0},exit:{scale:.8,y:50},onClick:R=>R.stopPropagation(),style:{background:"white",padding:"30px",borderRadius:"20px",boxShadow:"0 10px 30px rgba(0,0,0,0.2)",textAlign:"center",minWidth:"300px",maxWidth:"90%",border:`4px solid ${M.effect?"#fdcb6e":"#b2bec3"}`,zIndex:1e4,pointerEvents:"auto",position:"relative"},children:[S.jsx("div",{style:{fontSize:"5em",marginBottom:"10px"},children:M.emoji}),S.jsxs("h2",{style:{margin:"0 0 10px 0",color:"#2d3436"},children:[M.name," ",M.isRecipeInfo?"":"!"]}),S.jsx("p",{style:{color:"#636e72",marginBottom:"20px"},children:M.description}),M.isRecipeInfo&&S.jsxs("div",{style:{background:"#f1f2f6",padding:"15px",borderRadius:"12px",marginBottom:"20px",textAlign:"left"},children:[S.jsxs("div",{style:{marginBottom:"10px"},children:[S.jsx("span",{style:{fontWeight:"bold",color:"#2d3436"},children:" :"}),S.jsx("div",{style:{display:"flex",gap:"10px",marginTop:"5px"},children:(M.ingredients||["","",""]).map((R,w)=>S.jsx("div",{style:{fontSize:"1.5em",background:"white",borderRadius:"8px",padding:"5px",boxShadow:"0 2px 5px rgba(0,0,0,0.05)"},children:R},w))})]}),M.effect&&S.jsxs("div",{style:{marginBottom:"10px"},children:[S.jsx("span",{style:{fontWeight:"bold",color:"#2d3436"},children:":"}),S.jsxs("div",{style:{color:"#0984e3"},children:[M.effect.type==="speed"&&"   ",M.effect.type==="gold"&&"   ",M.effect.type==="spawn_rate"&&"    ",M.effect.type==="add_consumable"&&"  ",M.effect.type==="instant_growth"&&"  "," ","(",M.effect.duration>0?`${M.effect.duration/6e4}`:"",")"]})]}),S.jsxs("div",{children:[S.jsx("span",{style:{fontWeight:"bold",color:"#2d3436"},children:" :"}),S.jsxs("span",{style:{fontWeight:"bold",color:"#f1c40f",marginLeft:"5px"},children:[" ",M.value]})]})]}),S.jsx("button",{onClick:()=>U(!1),style:{padding:"10px 30px",background:"#00b894",color:"white",border:"none",borderRadius:"10px",fontWeight:"bold",cursor:"pointer",fontSize:"1.1em"},children:""})]})]},"popup-overlay")}),document.body),S.jsxs("div",{style:{background:"white",borderRadius:"16px",padding:"20px",marginBottom:"20px",boxShadow:"0 4px 15px rgba(0,0,0,0.05)",textAlign:"center"},children:[S.jsx("h2",{style:{margin:"0 0 20px 0",color:"#2d3436"},children:"  "}),S.jsx("div",{style:{width:"120px",height:"100px",background:"#636e72",borderRadius:"0 0 40px 40px",margin:"0 auto 20px auto",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"3em"},children:ft?S.jsx(qe.div,{animate:{y:[0,-10,0]},transition:{repeat:1/0,duration:1},children:""}):dt?S.jsx(qe.div,{animate:{scale:[1,1.2,1]},transition:{repeat:1/0,duration:.5},children:""}):S.jsx("span",{children:""})}),S.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"15px",marginBottom:"20px"},children:[0,1,2].map(R=>{const w=r.active?r.ingredients[R]:m[R];return S.jsx("div",{onClick:()=>it(R),style:{width:"60px",height:"60px",borderRadius:"12px",background:"#f1f2f6",border:"2px dashed #b2bec3",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2em",cursor:!r.active&&w?"pointer":"default"},children:w},R)})}),ft?S.jsxs("div",{children:[S.jsxs("div",{style:{marginBottom:"10px",fontWeight:"bold",color:"#e17055"},children:[" ... ",(E/1e3).toFixed(1),""]}),S.jsx("div",{style:{width:"100%",height:"10px",background:"#dfe6e9",borderRadius:"5px",overflow:"hidden"},children:S.jsx(qe.div,{style:{height:"100%",background:"#e17055"},initial:{width:"0%"},animate:{width:`${(r.duration-E)/r.duration*100}%`}})})]}):dt?S.jsx("button",{onClick:ht,style:{padding:"12px 30px",background:"#fdcb6e",color:"white",border:"none",borderRadius:"25px",fontSize:"1.1em",fontWeight:"bold",cursor:"pointer",boxShadow:"0 4px 0 #e1b12c"},children:" ! "}):S.jsx("button",{onClick:tt,disabled:m.length!==3,style:{padding:"12px 30px",background:m.length===3?"#00b894":"#b2bec3",color:"white",border:"none",borderRadius:"25px",fontSize:"1.1em",fontWeight:"bold",cursor:m.length===3?"pointer":"not-allowed",boxShadow:m.length===3?"0 4px 0 #008c70":"none"},children:"  "})]}),S.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"20px"},children:[S.jsx("button",{onClick:()=>v("ingredients"),style:{flex:1,padding:"12px",borderRadius:"10px",border:"none",background:g==="ingredients"?"#6c5ce7":"#dfe6e9",color:g==="ingredients"?"white":"#636e72",fontWeight:"bold",cursor:"pointer"},children:"  "}),S.jsx("button",{onClick:()=>v("recipes"),style:{flex:1,padding:"12px",borderRadius:"10px",border:"none",background:g==="recipes"?"#fdcb6e":"#dfe6e9",color:g==="recipes"?"white":"#636e72",fontWeight:"bold",cursor:"pointer"},children:"  "})]}),g==="ingredients"?S.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"10px",maxHeight:"400px",overflowY:"auto"},children:Object.values(i).map(R=>S.jsxs("div",{onClick:()=>Q(R.emoji),style:{background:"white",borderRadius:"12px",padding:"10px",textAlign:"center",border:`2px solid ${U6(ss.mushrooms.find(w=>w.emoji===R.emoji)?.rarity)}`,cursor:"pointer",opacity:R.count>0?1:.5},children:[S.jsx("div",{style:{fontSize:"2em"},children:R.emoji}),S.jsxs("div",{style:{fontSize:"0.8em",fontWeight:"bold",color:"#2d3436"},children:["x",R.count]})]},R.emoji))}):S.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"10px",maxHeight:"400px",overflowY:"auto",padding:"5px"},children:[S.jsxs("div",{onClick:()=>{P({id:"mixed_stew",name:" ",emoji:"",description:"    .    .",ingredients:["","",""],value:"???",effect:null,isRecipeInfo:!0}),U(!0)},style:{background:"white",borderRadius:"16px",padding:"15px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"pointer",boxShadow:"0 4px 10px rgba(0,0,0,0.05)",transition:"transform 0.2s",aspectRatio:"0.8",border:"2px solid #b2bec3"},children:[S.jsx("div",{style:{fontSize:"3em",marginBottom:"10px"},children:""}),S.jsx("div",{style:{fontWeight:"bold",fontSize:"0.9em",color:"#2d3436"},children:" "})]}),Gh.recipes.map(R=>{const w=o.includes(R.id);return S.jsxs("div",{onClick:()=>{w&&(P({...R,isRecipeInfo:!0}),U(!0))},style:{background:w?"white":"#dfe6e9",borderRadius:"16px",padding:"15px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:w?"pointer":"default",boxShadow:w?"0 4px 10px rgba(0,0,0,0.05)":"none",transition:"transform 0.2s",aspectRatio:"0.8",border:w?"2px solid #fdcb6e":"2px dashed #b2bec3"},children:[S.jsx("div",{style:{fontSize:"3em",marginBottom:"10px",filter:w?"none":"grayscale(100%) opacity(0.5)"},children:w?R.emoji:""}),S.jsx("div",{style:{fontWeight:"bold",fontSize:"0.9em",color:w?"#2d3436":"#636e72"},children:w?R.name:"???"})]},R.id)})]})]})}function B6({resetGame:i,activateGodMode:t,user:e,onLogin:r,onLogout:o,onSave:u,onLoad:c,isSaving:m,lastSaved:p}){return S.jsxs("div",{className:"settings-container",style:{background:"white",padding:"20px",borderRadius:"16px",boxShadow:"0 4px 15px rgba(0,0,0,0.05)"},children:[S.jsx("h2",{style:{color:"#2d3436",marginBottom:"20px"},children:""}),S.jsxs("div",{style:{marginBottom:"30px",padding:"15px",background:"#f8f9fa",borderRadius:"12px"},children:[S.jsx("h3",{style:{margin:"0 0 15px 0",color:"#6c5ce7"},children:"  "}),e?S.jsxs("div",{children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"15px",padding:"10px",background:"white",borderRadius:"8px",border:"1px solid #dfe6e9"},children:[S.jsx("img",{src:e.photoURL,alt:"Profile",style:{width:"32px",height:"32px",borderRadius:"50%"}}),S.jsxs("div",{style:{flex:1,overflow:"hidden"},children:[S.jsx("div",{style:{fontWeight:"bold",fontSize:"0.9em"},children:e.displayName}),S.jsx("div",{style:{fontSize:"0.8em",color:"#636e72",textOverflow:"ellipsis",overflow:"hidden"},children:e.email})]}),S.jsx("button",{onClick:o,style:{padding:"5px 10px",fontSize:"0.8em",background:"#ff7675",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:""})]}),S.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:[S.jsx("button",{onClick:u,disabled:m,className:"btn",style:{fontSize:"0.9em",padding:"10px"},children:m?" ...":"  "}),S.jsx("button",{onClick:c,disabled:m,className:"btn-secondary",style:{fontSize:"0.9em",padding:"10px"},children:" "})]}),p&&S.jsxs("div",{style:{textAlign:"center",marginTop:"10px",fontSize:"0.8em",color:"#00b894"},children:["  : ",p.toLocaleTimeString()]})]}):S.jsxs("div",{style:{textAlign:"center"},children:[S.jsx("p",{style:{color:"#636e72",marginBottom:"15px"},children:"    ."}),S.jsx("button",{onClick:r,className:"btn",style:{width:"100%",background:"#4285F4"},children:"Google  "})]})]}),S.jsxs("div",{style:{marginBottom:"20px"},children:[S.jsx("h3",{style:{margin:"0 0 10px 0",color:"#d63031"},children:"  "}),S.jsx("p",{style:{fontSize:"0.9em",color:"#636e72",marginBottom:"10px"},children:"     . ( )"}),S.jsx("button",{onClick:()=>{window.confirm(" ?   !")&&i()},style:{width:"100%",padding:"12px",background:"#d63031",color:"white",border:"none",borderRadius:"10px",fontWeight:"bold",cursor:"pointer"},children:"  "})]}),S.jsx("div",{style:{height:"50px",marginTop:"30px"},onClick:g=>{g.detail===5&&t()}}),S.jsx("div",{style:{textAlign:"center",fontSize:"0.8em",color:"#b2bec3"},children:"v1.9.1 (Cloud Enabled)"})]})}function F6({stats:i,achievements:t,onClaim:e}){const r=[...yf.achievements].sort((o,u)=>{const c=t[o.id],m=t[u.id],p=g=>g?g.unlocked&&!g.claimed?1:3:2;return p(c)-p(m)});return S.jsx("div",{className:"achievements-container",children:S.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.9)",padding:"15px",borderRadius:"16px",marginBottom:"20px",boxShadow:"0 4px 15px rgba(0,0,0,0.1)"},children:[S.jsxs("h2",{style:{margin:"0 0 15px 0",color:"#2d3436",textAlign:"center"},children:["  (",Object.values(t).filter(o=>o.unlocked).length,"/",yf.achievements.length,")"]}),S.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:r.map(o=>{const u=t[o.id],c=u?.unlocked,m=u?.claimed,p=i[o.condition.type]||0,g=o.condition.value,v=Math.min(p/g*100,100);return S.jsxs(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},style:{background:m?"#f1f2f6":"white",border:c&&!m?"2px solid #f1c40f":"1px solid #dfe6e9",borderRadius:"12px",padding:"12px",display:"flex",alignItems:"center",gap:"15px",opacity:c?1:.8,position:"relative",overflow:"hidden"},children:[!c&&S.jsx("div",{style:{position:"absolute",bottom:0,left:0,height:"4px",width:`${v}%`,background:"#00b894",transition:"width 0.5s ease"}}),S.jsx("div",{style:{fontSize:"2em",filter:c?"none":"grayscale(100%)"},children:o.icon}),S.jsxs("div",{style:{flex:1},children:[S.jsxs("div",{style:{fontWeight:"bold",color:c?"#2d3436":"#636e72",marginBottom:"4px"},children:[o.title,m&&S.jsx("span",{style:{marginLeft:"5px",fontSize:"0.8em",color:"#00b894"},children:" "})]}),S.jsx("div",{style:{fontSize:"0.9em",color:"#636e72"},children:o.description}),!c&&S.jsxs("div",{style:{fontSize:"0.8em",color:"#b2bec3",marginTop:"4px"},children:[": ",p.toLocaleString()," / ",g.toLocaleString()," (",Math.floor(v),"%)"]})]}),S.jsx("div",{children:c&&!m?S.jsxs(qe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e(o.id),style:{background:"#f1c40f",border:"none",padding:"8px 16px",borderRadius:"20px",color:"#2d3436",fontWeight:"bold",cursor:"pointer",boxShadow:"0 2px 5px rgba(0,0,0,0.1)"},children:[" ",S.jsxs("div",{style:{fontSize:"0.8em",marginTop:"2px"},children:[" ",o.reward.value]})]}):S.jsx("div",{style:{background:"#dfe6e9",padding:"8px 12px",borderRadius:"12px",fontSize:"0.8em",color:"#636e72",textAlign:"center",minWidth:"60px"},children:m?"":` ${o.reward.value}`})})]},o.id)})})]})})}function H6({activeQuests:i,questTimer:t,onRefresh:e,onReroll:r,onComplete:o,inventory:u,cookedItems:c}){const[m,p]=$.useState(""),[g,v]=$.useState(!1);$.useEffect(()=>{const C=setInterval(()=>{const U=Date.now(),M=Math.max(0,t-U);if(M===0)v(!0),p("  !");else{v(!1);const P=Math.floor(M/6e4),Q=Math.floor(M%6e4/1e3);p(`${P} ${Q}`)}},1e3);return()=>clearInterval(C)},[t]);const E=500,b=100;return S.jsx("div",{className:"quests-container",children:S.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.9)",padding:"20px",borderRadius:"16px",marginBottom:"20px",boxShadow:"0 4px 15px rgba(0,0,0,0.1)"},children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[S.jsx("h2",{style:{margin:0,color:"#2d3436"},children:"  "}),S.jsxs("div",{style:{textAlign:"right"},children:[S.jsx("div",{style:{fontSize:"0.9em",color:g?"#00b894":"#636e72",fontWeight:g?"bold":"normal"},children:g?"   !":`  : ${m}`}),S.jsx("button",{onClick:()=>e(E),style:{background:g?"#00b894":"#74b9ff",border:"none",padding:"8px 16px",borderRadius:"8px",color:"white",cursor:"pointer",fontSize:"0.9em",marginTop:"5px",fontWeight:"bold",boxShadow:"0 2px 5px rgba(0,0,0,0.1)"},children:g?"   ":`   (${E}G)`})]})]}),S.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"15px"},children:i.map(C=>{const U=C.request;let M=0;U.type==="plant"?M=u[U.id]?.count||0:M=c[U.id]?.count||0;const P=M>=U.count;return S.jsxs(qe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},style:{background:"#fff",border:"1px solid #dfe6e9",borderRadius:"12px",padding:"15px",position:"relative",boxShadow:"0 2px 5px rgba(0,0,0,0.05)"},children:[S.jsx("div",{style:{position:"absolute",top:"10px",right:"10px"},children:S.jsx("button",{onClick:()=>r(C.id),title:`   (${b}G)`,style:{background:"none",border:"1px solid #b2bec3",borderRadius:"50%",width:"24px",height:"24px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.8em",color:"#636e72"},children:""})}),S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px",paddingRight:"30px"},children:[S.jsx("div",{style:{fontSize:"2em"},children:C.npcEmoji}),S.jsxs("div",{children:[S.jsx("div",{style:{fontWeight:"bold",color:"#2d3436"},children:C.npcName}),S.jsxs("div",{style:{fontSize:"0.8em",color:"#636e72",fontStyle:"italic"},children:['"',C.dialogue,'"']})]})]}),S.jsxs("div",{style:{background:"#f1f2f6",padding:"10px",borderRadius:"8px",marginBottom:"10px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[S.jsx("span",{style:{fontSize:"1.5em"},children:U.emoji}),S.jsxs("div",{children:[S.jsx("div",{style:{fontWeight:"bold"},children:U.name}),S.jsxs("div",{style:{fontSize:"0.8em",color:P?"#00b894":"#d63031"},children:[M," / ",U.count]})]})]}),S.jsxs("div",{style:{textAlign:"right"},children:[S.jsx("div",{style:{fontSize:"0.8em",color:"#636e72"},children:""}),S.jsxs("div",{style:{fontWeight:"bold",color:"#fdcb6e"},children:[" ",C.reward.gold]})]})]}),S.jsx("div",{style:{display:"flex",gap:"5px"},children:S.jsx("button",{onClick:()=>o(C.id),disabled:!P,style:{flex:1,padding:"10px",border:"none",borderRadius:"8px",background:P?"#00b894":"#b2bec3",color:"white",fontWeight:"bold",cursor:P?"pointer":"not-allowed",transition:"background 0.2s"},children:P?"":" "})}),S.jsxs("div",{style:{textAlign:"center",marginTop:"5px",fontSize:"0.7em",color:"#b2bec3"},children:[" : ",b,"G"]})]},C.id)})}),i.length===0&&S.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#b2bec3"},children:"   .    ."})]})})}function q6(){const{user:i,handleLogin:t,handleLogout:e,handleSaveGame:r,handleLoadGame:o,isSaving:u,lastSaved:c,gold:m,plants:p,inventory:g,collection:v,upgradeLevel:E,unlocks:b,rarityLevel:C,fertilizerLevel:U,consumables:M,foodState:P,pityCounter:Q,harvest:it,sell:tt,sellAll:ht,buyUpgrade:ft,buyUnlock:dt,buyRarityUpgrade:R,buyFertilizerUpgrade:w,buyConsumable:I,useConsumable:N,harvestAll:O,activateFood:z,cancelFood:D,cookedItems:jt,useCookedItem:oe,activeBuffs:G,cookingState:ut,discoveredRecipes:yt,startCooking:Dt,claimDish:Rt,sellCookedItem:k,resetGame:Z,activateGodMode:pt,stats:vt,achievements:wt,claimAchievement:Ot,activeQuests:Ht,questTimer:Ie,refreshQuests:de,rerollQuest:bi,completeQuest:zi}=$O(),[Kt,an]=$.useState("game");$.useEffect(()=>{window.scrollTo(0,0)},[Kt]);const Ee=p.filter(_t=>_t&&_t.stage==="adult").length,ps=Object.values(g).reduce((_t,Lt)=>_t+Lt.count,0),Pn=()=>{const _t=G.filter(le=>le.type==="rarity_boost"),Lt=ss.mushrooms.filter(le=>!(le.rarity==="epic"&&C<5||le.rarity==="legendary"&&C<10||le.rarity==="mythic"&&C<15)).map(le=>{let ue=1;return _t.forEach(Sn=>{(Sn.target==="all"&&le.rarity!=="common"||Sn.target===le.rarity)&&(ue*=Sn.value)}),{...le,effectiveWeight:le.rarity==="common"?le.weight/(1+C*.15):le.weight*(1+(C-1)*.8)*ue}}),Mn=Lt.reduce((le,ue)=>le+ue.effectiveWeight,0),Si={};return Lt.forEach(le=>{Si[le.rarity]||(Si[le.rarity]=0),Si[le.rarity]+=le.effectiveWeight}),Object.entries(Si).map(([le,ue])=>({rarity:le,probability:(ue/Mn*100).toFixed(2)}))},gs=()=>{if(!P.active)return"0% ()";const _t=.01*P.multiplier,Lt=(Q||0)*.01;return`${(Math.min(_t+Lt,1)*100).toFixed(0)}%`},ys=()=>{const _t=Math.max(6e4-E*3e3,5e3),Lt=G.filter(ue=>ue.type==="speed").reduce((ue,Sn)=>ue+Sn.value,0),Mn=(P.multiplier||1)*(1+Lt);return`${(_t/Mn/1e3).toFixed(1)}`};return S.jsxs("div",{className:"game-container",children:[S.jsx("div",{className:"header",children:S.jsx("h1",{children:" Plant Tycoon"})}),S.jsxs("div",{className:"controls",style:{marginBottom:"20px"},children:[S.jsx("button",{className:`btn ${Kt==="game"?"":"btn-secondary"}`,onClick:()=>an("game"),children:" "}),S.jsx("button",{className:`btn ${Kt==="inventory"?"":"btn-secondary"}`,onClick:()=>an("inventory"),children:" "}),S.jsx("button",{className:`btn ${Kt==="shop"?"":"btn-secondary"}`,onClick:()=>an("shop"),children:" "}),S.jsx("button",{className:`btn ${Kt==="collection"?"":"btn-secondary"}`,onClick:()=>an("collection"),children:" "}),S.jsx("button",{className:`btn ${Kt==="achievements"?"":"btn-secondary"}`,onClick:()=>an("achievements"),children:" "}),S.jsx("button",{className:`btn ${Kt==="quests"?"":"btn-secondary"}`,onClick:()=>an("quests"),children:" "}),S.jsx("button",{className:`btn ${Kt==="kitchen"?"":"btn-secondary"}`,onClick:()=>an("kitchen"),children:" "}),S.jsx("button",{className:`btn ${Kt==="settings"?"":"btn-secondary"}`,onClick:()=>an("settings"),children:" "})]}),S.jsxs("div",{className:"stats",children:[S.jsxs("div",{className:"stat-box",children:[S.jsx("div",{className:"stat-label",children:""}),S.jsxs("div",{className:"stat-value",children:[" ",m]})]}),S.jsxs("div",{className:"stat-box",children:[S.jsx("div",{className:"stat-label",children:""}),S.jsxs("div",{className:"stat-value",children:[" ",Ee]})]}),S.jsxs("div",{className:"stat-box",children:[S.jsx("div",{className:"stat-label",children:""}),S.jsxs("div",{className:"stat-value",children:[" ",ps]})]})]}),G.length>0&&S.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px",marginBottom:"15px",justifyContent:"center"},children:G.map((_t,Lt)=>S.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.9)",padding:"8px 12px",borderRadius:"12px",boxShadow:"0 2px 5px rgba(0,0,0,0.1)",display:"flex",alignItems:"center",gap:"8px",borderLeft:"4px solid #00b894",fontSize:"0.9em"},children:[S.jsx("div",{style:{fontSize:"1.2em"},children:_t.type==="speed"?"":_t.type==="gold"?"":""}),S.jsxs("div",{children:[S.jsx("div",{style:{fontWeight:"bold",color:"#2d3436"},children:_t.name}),S.jsx("div",{style:{fontSize:"0.8em",color:"#636e72"},children:S.jsx(VR,{endTime:_t.endTime})})]})]},Lt))}),Kt==="game"&&S.jsxs(S.Fragment,{children:[b.statistics&&S.jsx("div",{style:{background:"rgba(255, 255, 255, 0.9)",padding:"10px",borderRadius:"10px",marginBottom:"10px",fontSize:"0.8em",display:"flex",justifyContent:"space-around",boxShadow:"0 2px 5px rgba(0,0,0,0.1)"},children:Pn().map(({rarity:_t,probability:Lt})=>S.jsxs("div",{style:{textAlign:"center"},children:[S.jsx("div",{style:{fontWeight:"bold",textTransform:"capitalize",color:"#2d3436"},children:_t}),S.jsxs("div",{style:{color:"#2d3436"},children:[Lt,"%"]})]},_t))}),b.statistics&&S.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.9)",padding:"10px",borderRadius:"10px",marginBottom:"10px",fontSize:"0.85em",boxShadow:"0 2px 5px rgba(0,0,0,0.1)"},children:[S.jsxs("div",{style:{marginBottom:"5px",color:"#2d3436"},children:["   : ",S.jsxs("strong",{style:{color:G.some(_t=>_t.type==="spawn_rate")?"#2ecc71":"inherit"},children:[gs(),G.some(_t=>_t.type==="spawn_rate")&&S.jsxs("span",{style:{fontSize:"0.8em",marginLeft:"5px"},children:["(+",(G.filter(_t=>_t.type==="spawn_rate").reduce((_t,Lt)=>_t+Lt.value,0)*100).toFixed(0),"%)"]})]})]}),S.jsxs("div",{style:{color:"#2d3436"},children:["  : ",S.jsxs("strong",{style:{color:G.some(_t=>_t.type==="speed")?"#2ecc71":"inherit"},children:[ys(),G.some(_t=>_t.type==="speed")&&S.jsxs("span",{style:{fontSize:"0.8em",marginLeft:"5px"},children:["(+",(G.filter(_t=>_t.type==="speed").reduce((_t,Lt)=>_t+Lt.value,0)*100).toFixed(0),"%)"]})]})]}),S.jsxs("div",{style:{marginTop:"5px",color:"#636e72",fontSize:"0.9em"},children:["  : ",S.jsxs("strong",{children:[((P.active?P.multiplier:0)*(1+G.filter(_t=>_t.type==="speed").reduce((_t,Lt)=>_t+Lt.value,0))).toFixed(1),"x"]})]}),G.some(_t=>_t.type==="rarity_boost")&&S.jsxs("div",{style:{marginTop:"5px",color:"#9b59b6",fontSize:"0.9em"},children:["  :",G.filter(_t=>_t.type==="rarity_boost").map((_t,Lt)=>S.jsxs("span",{style:{marginLeft:"5px",fontWeight:"bold"},children:["[",_t.target==="all"?"":_t.target," x",_t.value,"]"]},Lt))]})]}),S.jsx(j6,{gold:m,foodState:P,fertilizerLevel:U,onActivateFood:z,onCancelFood:D}),b.harvestAll&&Ee>0&&S.jsxs("button",{onClick:O,style:{width:"100%",padding:"10px",marginBottom:"10px",background:"#fdcb6e",border:"none",borderRadius:"10px",color:"#d35400",fontWeight:"bold",cursor:"pointer",boxShadow:"0 4px 0 #e17055"},children:["   (",Ee,")"]}),S.jsx(V6,{plants:p,onHarvest:it})]}),Kt==="inventory"&&S.jsx(N6,{inventory:g,consumables:M,onSell:tt,onSellAll:ht,onUseConsumable:N,cookedItems:jt,useCookedItem:oe,onSellCookedItem:k}),Kt==="shop"&&S.jsx(P6,{gold:m,upgradeLevel:E,unlocks:b,rarityLevel:C,fertilizerLevel:U,onBuyUpgrade:ft,onBuyUnlock:dt,onBuyRarityUpgrade:R,onBuyFertilizerUpgrade:w,onBuyConsumable:I}),Kt==="collection"&&S.jsx(k6,{collection:v,rarityLevel:C,activeBuffs:G}),Kt==="achievements"&&S.jsx(F6,{stats:vt,achievements:wt,onClaim:Ot}),Kt==="quests"&&S.jsx(H6,{activeQuests:Ht,questTimer:Ie,onRefresh:de,onReroll:bi,onComplete:zi,inventory:g,cookedItems:jt}),Kt==="kitchen"&&S.jsx(z6,{inventory:g,cookedItems:jt,useCookedItem:oe,cookingState:ut,discoveredRecipes:yt,startCooking:Dt,claimDish:Rt}),Kt==="settings"&&S.jsx(B6,{resetGame:Z,activateGodMode:pt,user:i,onLogin:t,onLogout:e,onSave:r,onLoad:o,isSaving:u,lastSaved:c}),S.jsxs("div",{className:"info",style:{marginTop:"20px",fontSize:"0.9em",color:"#8b4513"},children:[Kt==="game"&&"    !",Kt==="inventory"&&"     !",Kt==="shop"&&"     !",Kt==="shop"&&"     !",Kt==="collection"&&"    !",Kt==="achievements"&&"    !",Kt==="quests"&&" NPC    !",Kt==="kitchen"&&"     !",Kt==="settings"&&"     ."]}),S.jsx("div",{style:{marginTop:"15px",fontSize:"0.7em",color:"#b2bec3",textAlign:"center"},children:"v1.7.0"})]})}class G6 extends wR.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,e){console.error("Game Crash:",t,e)}handleReset=()=>{window.confirm("   ?")&&(localStorage.clear(),window.location.reload())};render(){return this.state.hasError?S.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",background:"#ffeaa7",color:"#2d3436",textAlign:"center",padding:"20px"},children:[S.jsx("div",{style:{fontSize:"5em",marginBottom:"20px"},children:""}),S.jsx("h1",{children:"!   ."}),S.jsxs("p",{style:{marginBottom:"30px",color:"#636e72"},children:["     .",S.jsx("br",{}),"      ."]}),S.jsx("button",{onClick:this.handleReset,style:{padding:"15px 30px",fontSize:"1.2em",background:"#d63031",color:"white",border:"none",borderRadius:"12px",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 0 #c0392b"},children:"    "}),S.jsxs("div",{style:{marginTop:"20px",fontSize:"0.8em",color:"#b2bec3"},children:["Error: ",this.state.error?.toString()]})]}):this.props.children}}MR.createRoot(document.getElementById("root")).render(S.jsx($.StrictMode,{children:S.jsx(G6,{children:S.jsx(q6,{})})}));

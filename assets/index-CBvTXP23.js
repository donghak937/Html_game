(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function e(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=e(o);fetch(o.href,u)}})();function bR(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Pm={exports:{}},uu={};var J_;function ER(){if(J_)return uu;J_=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:r,key:c,ref:o!==void 0?o:null,props:u}}return uu.Fragment=t,uu.jsx=e,uu.jsxs=e,uu}var Z_;function SR(){return Z_||(Z_=1,Pm.exports=ER()),Pm.exports}var A=SR(),km={exports:{}},jt={};var tT;function AR(){if(tT)return jt;tT=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),E=Symbol.iterator;function I(k){return k===null||typeof k!="object"?null:(k=E&&k[E]||k["@@iterator"],typeof k=="function"?k:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,U={};function J(k,tt,pt){this.props=k,this.context=tt,this.refs=U,this.updater=pt||L}J.prototype.isReactComponent={},J.prototype.setState=function(k,tt){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,tt,"setState")},J.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function ot(){}ot.prototype=J.prototype;function et(k,tt,pt){this.props=k,this.context=tt,this.refs=U,this.updater=pt||L}var gt=et.prototype=new ot;gt.constructor=et,P(gt,J.prototype),gt.isPureReactComponent=!0;var dt=Array.isArray;function ft(){}var R={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(k,tt,pt){var vt=pt.ref;return{$$typeof:i,type:k,key:tt,ref:vt!==void 0?vt:null,props:pt}}function N(k,tt){return C(k.type,tt,k.props)}function V(k){return typeof k=="object"&&k!==null&&k.$$typeof===i}function z(k){var tt={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(pt){return tt[pt]})}var D=/\/+/g;function Ht(k,tt){return typeof k=="object"&&k!==null&&k.key!=null?z(""+k.key):tt.toString(36)}function re(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(ft,ft):(k.status="pending",k.then(function(tt){k.status==="pending"&&(k.status="fulfilled",k.value=tt)},function(tt){k.status==="pending"&&(k.status="rejected",k.reason=tt)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function W(k,tt,pt,vt,xt){var Pt=typeof k;(Pt==="undefined"||Pt==="boolean")&&(k=null);var qt=!1;if(k===null)qt=!0;else switch(Pt){case"bigint":case"string":case"number":qt=!0;break;case"object":switch(k.$$typeof){case i:case t:qt=!0;break;case v:return qt=k._init,W(qt(k._payload),tt,pt,vt,xt)}}if(qt)return xt=xt(k),qt=vt===""?"."+Ht(k,0):vt,dt(xt)?(pt="",qt!=null&&(pt=qt.replace(D,"$&/")+"/"),W(xt,tt,pt,"",function(ie){return ie})):xt!=null&&(V(xt)&&(xt=N(xt,pt+(xt.key==null||k&&k.key===xt.key?"":(""+xt.key).replace(D,"$&/")+"/")+qt)),tt.push(xt)),1;qt=0;var we=vt===""?".":vt+":";if(dt(k))for(var me=0;me<k.length;me++)vt=k[me],Pt=we+Ht(vt,me),qt+=W(vt,tt,pt,Pt,xt);else if(me=I(k),typeof me=="function")for(k=me.call(k),me=0;!(vt=k.next()).done;)vt=vt.value,Pt=we+Ht(vt,me++),qt+=W(vt,tt,pt,Pt,xt);else if(Pt==="object"){if(typeof k.then=="function")return W(re(k),tt,pt,vt,xt);throw tt=String(k),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.")}return qt}function st(k,tt,pt){if(k==null)return k;var vt=[],xt=0;return W(k,vt,"","",function(Pt){return tt.call(pt,Pt,xt++)}),vt}function yt(k){if(k._status===-1){var tt=k._result;tt=tt(),tt.then(function(pt){(k._status===0||k._status===-1)&&(k._status=1,k._result=pt)},function(pt){(k._status===0||k._status===-1)&&(k._status=2,k._result=pt)}),k._status===-1&&(k._status=0,k._result=tt)}if(k._status===1)return k._result.default;throw k._result}var Vt=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var tt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(tt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},Ct={map:st,forEach:function(k,tt,pt){st(k,function(){tt.apply(this,arguments)},pt)},count:function(k){var tt=0;return st(k,function(){tt++}),tt},toArray:function(k){return st(k,function(tt){return tt})||[]},only:function(k){if(!V(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return jt.Activity=b,jt.Children=Ct,jt.Component=J,jt.Fragment=e,jt.Profiler=o,jt.PureComponent=et,jt.StrictMode=r,jt.Suspense=p,jt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,jt.__COMPILER_RUNTIME={__proto__:null,c:function(k){return R.H.useMemoCache(k)}},jt.cache=function(k){return function(){return k.apply(null,arguments)}},jt.cacheSignal=function(){return null},jt.cloneElement=function(k,tt,pt){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var vt=P({},k.props),xt=k.key;if(tt!=null)for(Pt in tt.key!==void 0&&(xt=""+tt.key),tt)!w.call(tt,Pt)||Pt==="key"||Pt==="__self"||Pt==="__source"||Pt==="ref"&&tt.ref===void 0||(vt[Pt]=tt[Pt]);var Pt=arguments.length-2;if(Pt===1)vt.children=pt;else if(1<Pt){for(var qt=Array(Pt),we=0;we<Pt;we++)qt[we]=arguments[we+2];vt.children=qt}return C(k.type,xt,vt)},jt.createContext=function(k){return k={$$typeof:c,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},jt.createElement=function(k,tt,pt){var vt,xt={},Pt=null;if(tt!=null)for(vt in tt.key!==void 0&&(Pt=""+tt.key),tt)w.call(tt,vt)&&vt!=="key"&&vt!=="__self"&&vt!=="__source"&&(xt[vt]=tt[vt]);var qt=arguments.length-2;if(qt===1)xt.children=pt;else if(1<qt){for(var we=Array(qt),me=0;me<qt;me++)we[me]=arguments[me+2];xt.children=we}if(k&&k.defaultProps)for(vt in qt=k.defaultProps,qt)xt[vt]===void 0&&(xt[vt]=qt[vt]);return C(k,Pt,xt)},jt.createRef=function(){return{current:null}},jt.forwardRef=function(k){return{$$typeof:m,render:k}},jt.isValidElement=V,jt.lazy=function(k){return{$$typeof:v,_payload:{_status:-1,_result:k},_init:yt}},jt.memo=function(k,tt){return{$$typeof:g,type:k,compare:tt===void 0?null:tt}},jt.startTransition=function(k){var tt=R.T,pt={};R.T=pt;try{var vt=k(),xt=R.S;xt!==null&&xt(pt,vt),typeof vt=="object"&&vt!==null&&typeof vt.then=="function"&&vt.then(ft,Vt)}catch(Pt){Vt(Pt)}finally{tt!==null&&pt.types!==null&&(tt.types=pt.types),R.T=tt}},jt.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},jt.use=function(k){return R.H.use(k)},jt.useActionState=function(k,tt,pt){return R.H.useActionState(k,tt,pt)},jt.useCallback=function(k,tt){return R.H.useCallback(k,tt)},jt.useContext=function(k){return R.H.useContext(k)},jt.useDebugValue=function(){},jt.useDeferredValue=function(k,tt){return R.H.useDeferredValue(k,tt)},jt.useEffect=function(k,tt){return R.H.useEffect(k,tt)},jt.useEffectEvent=function(k){return R.H.useEffectEvent(k)},jt.useId=function(){return R.H.useId()},jt.useImperativeHandle=function(k,tt,pt){return R.H.useImperativeHandle(k,tt,pt)},jt.useInsertionEffect=function(k,tt){return R.H.useInsertionEffect(k,tt)},jt.useLayoutEffect=function(k,tt){return R.H.useLayoutEffect(k,tt)},jt.useMemo=function(k,tt){return R.H.useMemo(k,tt)},jt.useOptimistic=function(k,tt){return R.H.useOptimistic(k,tt)},jt.useReducer=function(k,tt,pt){return R.H.useReducer(k,tt,pt)},jt.useRef=function(k){return R.H.useRef(k)},jt.useState=function(k){return R.H.useState(k)},jt.useSyncExternalStore=function(k,tt,pt){return R.H.useSyncExternalStore(k,tt,pt)},jt.useTransition=function(){return R.H.useTransition()},jt.version="19.2.0",jt}var eT;function rg(){return eT||(eT=1,km.exports=AR()),km.exports}var G=rg();const wR=bR(G);var jm={exports:{}},cu={},Lm={exports:{}},Um={};var nT;function xR(){return nT||(nT=1,(function(i){function t(W,st){var yt=W.length;W.push(st);t:for(;0<yt;){var Vt=yt-1>>>1,Ct=W[Vt];if(0<o(Ct,st))W[Vt]=st,W[yt]=Ct,yt=Vt;else break t}}function e(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var st=W[0],yt=W.pop();if(yt!==st){W[0]=yt;t:for(var Vt=0,Ct=W.length,k=Ct>>>1;Vt<k;){var tt=2*(Vt+1)-1,pt=W[tt],vt=tt+1,xt=W[vt];if(0>o(pt,yt))vt<Ct&&0>o(xt,pt)?(W[Vt]=xt,W[vt]=yt,Vt=vt):(W[Vt]=pt,W[tt]=yt,Vt=tt);else if(vt<Ct&&0>o(xt,yt))W[Vt]=xt,W[vt]=yt,Vt=vt;else break t}}return st}function o(W,st){var yt=W.sortIndex-st.sortIndex;return yt!==0?yt:W.id-st.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();i.unstable_now=function(){return c.now()-m}}var p=[],g=[],v=1,b=null,E=3,I=!1,L=!1,P=!1,U=!1,J=typeof setTimeout=="function"?setTimeout:null,ot=typeof clearTimeout=="function"?clearTimeout:null,et=typeof setImmediate<"u"?setImmediate:null;function gt(W){for(var st=e(g);st!==null;){if(st.callback===null)r(g);else if(st.startTime<=W)r(g),st.sortIndex=st.expirationTime,t(p,st);else break;st=e(g)}}function dt(W){if(P=!1,gt(W),!L)if(e(p)!==null)L=!0,ft||(ft=!0,z());else{var st=e(g);st!==null&&re(dt,st.startTime-W)}}var ft=!1,R=-1,w=5,C=-1;function N(){return U?!0:!(i.unstable_now()-C<w)}function V(){if(U=!1,ft){var W=i.unstable_now();C=W;var st=!0;try{t:{L=!1,P&&(P=!1,ot(R),R=-1),I=!0;var yt=E;try{e:{for(gt(W),b=e(p);b!==null&&!(b.expirationTime>W&&N());){var Vt=b.callback;if(typeof Vt=="function"){b.callback=null,E=b.priorityLevel;var Ct=Vt(b.expirationTime<=W);if(W=i.unstable_now(),typeof Ct=="function"){b.callback=Ct,gt(W),st=!0;break e}b===e(p)&&r(p),gt(W)}else r(p);b=e(p)}if(b!==null)st=!0;else{var k=e(g);k!==null&&re(dt,k.startTime-W),st=!1}}break t}finally{b=null,E=yt,I=!1}st=void 0}}finally{st?z():ft=!1}}}var z;if(typeof et=="function")z=function(){et(V)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Ht=D.port2;D.port1.onmessage=V,z=function(){Ht.postMessage(null)}}else z=function(){J(V,0)};function re(W,st){R=J(function(){W(i.unstable_now())},st)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(W){W.callback=null},i.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<W?Math.floor(1e3/W):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_next=function(W){switch(E){case 1:case 2:case 3:var st=3;break;default:st=E}var yt=E;E=st;try{return W()}finally{E=yt}},i.unstable_requestPaint=function(){U=!0},i.unstable_runWithPriority=function(W,st){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var yt=E;E=W;try{return st()}finally{E=yt}},i.unstable_scheduleCallback=function(W,st,yt){var Vt=i.unstable_now();switch(typeof yt=="object"&&yt!==null?(yt=yt.delay,yt=typeof yt=="number"&&0<yt?Vt+yt:Vt):yt=Vt,W){case 1:var Ct=-1;break;case 2:Ct=250;break;case 5:Ct=1073741823;break;case 4:Ct=1e4;break;default:Ct=5e3}return Ct=yt+Ct,W={id:v++,callback:st,priorityLevel:W,startTime:yt,expirationTime:Ct,sortIndex:-1},yt>Vt?(W.sortIndex=yt,t(g,W),e(p)===null&&W===e(g)&&(P?(ot(R),R=-1):P=!0,re(dt,yt-Vt))):(W.sortIndex=Ct,t(p,W),L||I||(L=!0,ft||(ft=!0,z()))),W},i.unstable_shouldYield=N,i.unstable_wrapCallback=function(W){var st=E;return function(){var yt=E;E=st;try{return W.apply(this,arguments)}finally{E=yt}}}})(Um)),Um}var iT;function RR(){return iT||(iT=1,Lm.exports=xR()),Lm.exports}var zm={exports:{}},In={};var sT;function CR(){if(sT)return In;sT=1;var i=rg();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:v}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return In.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,In.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,v)},In.flushSync=function(p){var g=c.T,v=r.p;try{if(c.T=null,r.p=2,p)return p()}finally{c.T=g,r.p=v,r.d.f()}},In.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},In.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},In.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,b=m(v,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,I=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:E,fetchPriority:I}):v==="script"&&r.d.X(p,{crossOrigin:b,integrity:E,fetchPriority:I,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},In.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},In.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,b=m(v,g.crossOrigin);r.d.L(p,v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},In.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},In.requestFormReset=function(p){r.d.r(p)},In.unstable_batchedUpdates=function(p,g){return p(g)},In.useFormState=function(p,g,v){return c.H.useFormState(p,g,v)},In.useFormStatus=function(){return c.H.useHostTransitionStatus()},In.version="19.2.0",In}var rT;function Kb(){if(rT)return zm.exports;rT=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),zm.exports=CR(),zm.exports}var aT;function IR(){if(aT)return cu;aT=1;var i=RR(),t=rg(),e=Kb();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function m(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function p(n){if(u(n)!==n)throw Error(r(188))}function g(n){var s=n.alternate;if(!s){if(s=u(n),s===null)throw Error(r(188));return s!==n?null:n}for(var a=n,l=s;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),n;if(d===l)return p(f),s;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,S=f.child;S;){if(S===a){_=!0,a=f,l=d;break}if(S===l){_=!0,l=f,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=f;break}if(S===l){_=!0,l=d,a=f;break}S=S.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?n:s}function v(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=v(n),s!==null)return s;n=n.sibling}return null}var b=Object.assign,E=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),ot=Symbol.for("react.consumer"),et=Symbol.for("react.context"),gt=Symbol.for("react.forward_ref"),dt=Symbol.for("react.suspense"),ft=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function z(n){return n===null||typeof n!="object"?null:(n=V&&n[V]||n["@@iterator"],typeof n=="function"?n:null)}var D=Symbol.for("react.client.reference");function Ht(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===D?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case P:return"Fragment";case J:return"Profiler";case U:return"StrictMode";case dt:return"Suspense";case ft:return"SuspenseList";case C:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case L:return"Portal";case et:return n.displayName||"Context";case ot:return(n._context.displayName||"Context")+".Consumer";case gt:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case R:return s=n.displayName||null,s!==null?s:Ht(n.type)||"Memo";case w:s=n._payload,n=n._init;try{return Ht(n(s))}catch{}}return null}var re=Array.isArray,W=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,yt={pending:!1,data:null,method:null,action:null},Vt=[],Ct=-1;function k(n){return{current:n}}function tt(n){0>Ct||(n.current=Vt[Ct],Vt[Ct]=null,Ct--)}function pt(n,s){Ct++,Vt[Ct]=n.current,n.current=s}var vt=k(null),xt=k(null),Pt=k(null),qt=k(null);function we(n,s){switch(pt(Pt,s),pt(xt,n),pt(vt,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?b_(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=b_(s),n=E_(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}tt(vt),pt(vt,n)}function me(){tt(vt),tt(xt),tt(Pt)}function ie(n){n.memoizedState!==null&&pt(qt,n);var s=vt.current,a=E_(s,n.type);s!==a&&(pt(xt,n),pt(vt,a))}function gn(n){xt.current===n&&(tt(vt),tt(xt)),qt.current===n&&(tt(qt),ru._currentValue=yt)}var Oi,$n;function Me(n){if(Oi===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Oi=s&&s[1]||"",$n=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Oi+n+$n}var Qi=!1;function Un(n,s){if(!n||Qi)return"";Qi=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var at=function(){throw Error()};if(Object.defineProperty(at.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(at,[])}catch($){var Y=$}Reflect.construct(n,[],at)}else{try{at.call()}catch($){Y=$}n.call(at.prototype)}}else{try{throw Error()}catch($){Y=$}(at=n())&&typeof at.catch=="function"&&at.catch(function(){})}}catch($){if($&&Y&&typeof $.stack=="string")return[$.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var M=_.split(`
`),q=S.split(`
`);for(f=l=0;l<M.length&&!M[l].includes("DetermineComponentFrameRoot");)l++;for(;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;if(l===M.length||f===q.length)for(l=M.length-1,f=q.length-1;1<=l&&0<=f&&M[l]!==q[f];)f--;for(;1<=l&&0<=f;l--,f--)if(M[l]!==q[f]){if(l!==1||f!==1)do if(l--,f--,0>f||M[l]!==q[f]){var Z=`
`+M[l].replace(" at new "," at ");return n.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",n.displayName)),Z}while(1<=l&&0<=f);break}}}finally{Qi=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Me(a):""}function vs(n,s){switch(n.tag){case 26:case 27:case 5:return Me(n.type);case 16:return Me("Lazy");case 13:return n.child!==s&&s!==null?Me("Suspense Fallback"):Me("Suspense");case 19:return Me("SuspenseList");case 0:case 15:return Un(n.type,!1);case 11:return Un(n.type.render,!1);case 1:return Un(n.type,!0);case 31:return Me("Activity");default:return""}}function Ni(n){try{var s="",a=null;do s+=vs(n,a),a=n,n=n.return;while(n);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var xe=Object.prototype.hasOwnProperty,Ve=i.unstable_scheduleCallback,ci=i.unstable_cancelCallback,Xr=i.unstable_shouldYield,bt=i.unstable_requestPaint,Ut=i.unstable_now,xn=i.unstable_getCurrentPriorityLevel,Pn=i.unstable_ImmediatePriority,se=i.unstable_UserBlockingPriority,Te=i.unstable_NormalPriority,zn=i.unstable_LowPriority,Ba=i.unstable_IdlePriority,Fa=i.log,Ha=i.unstable_setDisableYieldValue,Jn=null,sn=null;function Bn(n){if(typeof Fa=="function"&&Ha(n),sn&&typeof sn.setStrictMode=="function")try{sn.setStrictMode(Jn,n)}catch{}}var Oe=Math.clz32?Math.clz32:Ga,qa=Math.log,Ws=Math.LN2;function Ga(n){return n>>>=0,n===0?32:31-(qa(n)/Ws|0)|0}var hi=256,_s=262144,Ue=4194304;function un(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function fi(n,s,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,d=n.suspendedLanes,_=n.pingedLanes;n=n.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?f=un(l):(_&=S,_!==0?f=un(_):a||(a=S&~n,a!==0&&(f=un(a))))):(S=l&~d,S!==0?f=un(S):_!==0?f=un(_):a||(a=l&~n,a!==0&&(f=un(a)))),f===0?0:s!==0&&s!==f&&(s&d)===0&&(d=f&-f,a=s&-s,d>=a||d===32&&(a&4194048)!==0)?s:f}function Zn(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function ti(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ka(){var n=Ue;return Ue<<=1,(Ue&62914560)===0&&(Ue=4194304),n}function di(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function O(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function rt(n,s,a,l,f,d){var _=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var S=n.entanglements,M=n.expirationTimes,q=n.hiddenUpdates;for(a=_&~a;0<a;){var Z=31-Oe(a),at=1<<Z;S[Z]=0,M[Z]=-1;var Y=q[Z];if(Y!==null)for(q[Z]=null,Z=0;Z<Y.length;Z++){var $=Y[Z];$!==null&&($.lane&=-536870913)}a&=~at}l!==0&&Q(n,l,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(_&~s))}function Q(n,s,a){n.pendingLanes|=s,n.suspendedLanes&=~s;var l=31-Oe(s);n.entangledLanes|=s,n.entanglements[l]=n.entanglements[l]|1073741824|a&261930}function lt(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var l=31-Oe(a),f=1<<l;f&s|n[l]&s&&(n[l]|=s),a&=~f}}function K(n,s){var a=s&-s;return a=(a&42)!==0?1:it(a),(a&(n.suspendedLanes|s))!==0?0:a}function it(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function ht(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function _t(){var n=st.p;return n!==0?n:(n=window.event,n===void 0?32:G_(n.type))}function Gt(n,s){var a=st.p;try{return st.p=n,s()}finally{st.p=a}}var Re=Math.random().toString(36).slice(2),ee="__reactFiber$"+Re,Dt="__reactProps$"+Re,Kt="__reactContainer$"+Re,cn="__reactEvents$"+Re,$s="__reactListeners$"+Re,Ya="__reactHandles$"+Re,Qa="__reactResources$"+Re,mi="__reactMarker$"+Re;function ze(n){delete n[ee],delete n[Dt],delete n[cn],delete n[$s],delete n[Ya]}function Rn(n){var s=n[ee];if(s)return s;for(var a=n.parentNode;a;){if(s=a[Kt]||a[ee]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=I_(n);n!==null;){if(a=n[ee])return a;n=I_(n)}return s}n=a,a=n.parentNode}return null}function hn(n){if(n=n[ee]||n[Kt]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function rn(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function ei(n){var s=n[Qa];return s||(s=n[Qa]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ne(n){n[mi]=!0}var Xa=new Set,Wr={};function pe(n,s){Cn(n,s),Cn(n+"Capture",s)}function Cn(n,s){for(Wr[n]=s,n=0;n<s.length;n++)Xa.add(s[n])}var Xi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pl={},gl={};function rc(n){return xe.call(gl,n)?!0:xe.call(pl,n)?!1:Xi.test(n)?gl[n]=!0:(pl[n]=!0,!1)}function Wa(n,s,a){if(rc(s))if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+a)}}function ni(n,s,a){if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+a)}}function Xe(n,s,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(s,a,""+l)}}function fn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Js(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function yl(n,s,a){var l=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(n,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function he(n){if(!n._valueTracker){var s=Js(n)?"checked":"value";n._valueTracker=yl(n,s,""+n[s])}}function $r(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return n&&(l=Js(n)?n.checked?"true":"false":n.value),n=l,n!==a?(s.setValue(n),!0):!1}function Wi(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Jr=/[\n"\\]/g;function Fn(n){return n.replace(Jr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function $a(n,s,a,l,f,d,_,S){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),s!=null?_==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+fn(s)):n.value!==""+fn(s)&&(n.value=""+fn(s)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),s!=null?vl(n,_,fn(s)):a!=null?vl(n,_,fn(a)):l!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.name=""+fn(S):n.removeAttribute("name")}function ac(n,s,a,l,f,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null)){he(n);return}a=a!=null?""+fn(a):"",s=s!=null?""+fn(s):a,S||s===n.value||(n.value=s),n.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=S?n.checked:!!l,n.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_),he(n)}function vl(n,s,a){s==="number"&&Wi(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Zs(n,s,a,l){if(n=n.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=s.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+fn(a),s=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function oc(n,s,a){if(s!=null&&(s=""+fn(s),s!==n.value&&(n.value=s),a==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=a!=null?""+fn(a):""}function tr(n,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(re(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=fn(s),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l),he(n)}function Hn(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var lc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _l(n,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":l?n.setProperty(s,a):typeof a!="number"||a===0||lc.has(s)?s==="float"?n.cssFloat=a:n[s]=(""+a).trim():n[s]=a+"px"}function Tl(n,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&_l(n,f,l)}else for(var d in s)s.hasOwnProperty(d)&&_l(n,d,s[d])}function Ja(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),er=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Za(n){return er.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Pi(){}var bl=null;function pi(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var nr=null,$i=null;function Zr(n){var s=hn(n);if(s&&(n=s.stateNode)){var a=n[Dt]||null;t:switch(n=s.stateNode,s.type){case"input":if($a(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Fn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==n&&l.form===n.form){var f=l[Dt]||null;if(!f)throw Error(r(90));$a(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===n.form&&$r(l)}break t;case"textarea":oc(n,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&Zs(n,!!a.multiple,s,!1)}}}var to=!1;function ir(n,s,a){if(to)return n(s,a);to=!0;try{var l=n(s);return l}finally{if(to=!1,(nr!==null||$i!==null)&&(nh(),nr&&(s=nr,n=$i,$i=nr=null,Zr(s),n)))for(s=0;s<n.length;s++)Zr(n[s])}}function ki(n,s){var a=n.stateNode;if(a===null)return null;var l=a[Dt]||null;if(l===null)return null;a=l[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break t;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ta=!1;if(gi)try{var ge={};Object.defineProperty(ge,"passive",{get:function(){ta=!0}}),window.addEventListener("test",ge,ge),window.removeEventListener("test",ge,ge)}catch{ta=!1}var Ji=null,El=null,ea=null;function Sl(){if(ea)return ea;var n,s=El,a=s.length,l,f="value"in Ji?Ji.value:Ji.textContent,d=f.length;for(n=0;n<a&&s[n]===f[n];n++);var _=a-n;for(l=1;l<=_&&s[a-l]===f[d-l];l++);return ea=f.slice(n,1<l?1-l:void 0)}function na(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Ts(){return!0}function ji(){return!1}function yn(n){function s(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(a=n[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ts:ji,this.isPropagationStopped=ji,this}return b(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ts)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ts)},persist:function(){},isPersistent:Ts}),s}var bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zi=yn(bs),sr=b({},bs,{view:0,detail:0}),Al=yn(sr),rr,eo,ts,no=b({},sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ar,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ts&&(ts&&n.type==="mousemove"?(rr=n.screenX-ts.screenX,eo=n.screenY-ts.screenY):eo=rr=0,ts=n),rr)},movementY:function(n){return"movementY"in n?n.movementY:eo}}),wl=yn(no),ia=b({},no,{dataTransfer:0}),cc=yn(ia),hc=b({},sr,{relatedTarget:0}),sa=yn(hc),xl=b({},bs,{animationName:0,elapsedTime:0,pseudoElement:0}),fc=yn(xl),io=b({},bs,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),dc=yn(io),mc=b({},bs,{data:0}),es=yn(mc),pc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vc(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=yc[n])?!!s[n]:!1}function ar(){return vc}var kn=b({},sr,{key:function(n){if(n.key){var s=pc[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=na(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?gc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ar,charCode:function(n){return n.type==="keypress"?na(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?na(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),_c=yn(kn),Tc=b({},no,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Es=yn(Tc),h=b({},sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ar}),y=yn(h),T=b({},bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),x=yn(T),F=b({},no,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),X=yn(F),mt=b({},bs,{newState:0,oldState:0}),zt=yn(mt),qe=[9,13,27,32],le=gi&&"CompositionEvent"in window,Ce=null;gi&&"documentMode"in document&&(Ce=document.documentMode);var yi=gi&&"TextEvent"in window&&!Ce,ns=gi&&(!le||Ce&&8<Ce&&11>=Ce),Li=" ",Ui=!1;function ra(n,s){switch(n){case"keyup":return qe.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function so(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ro=!1;function Gw(n,s){switch(n){case"compositionend":return so(s);case"keypress":return s.which!==32?null:(Ui=!0,Li);case"textInput":return n=s.data,n===Li&&Ui?null:n;default:return null}}function Kw(n,s){if(ro)return n==="compositionend"||!le&&ra(n,s)?(n=Sl(),ea=El=Ji=null,ro=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ns&&s.locale!=="ko"?null:s.data;default:return null}}var Yw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vy(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!Yw[n.type]:s==="textarea"}function Oy(n,s,a,l){nr?$i?$i.push(l):$i=[l]:nr=l,s=uh(s,"onChange"),0<s.length&&(a=new Zi("onChange","change",null,a,l),n.push({event:a,listeners:s}))}var Rl=null,Cl=null;function Qw(n){p_(n,0)}function bc(n){var s=rn(n);if($r(s))return n}function Ny(n,s){if(n==="change")return s}var Py=!1;if(gi){var Ff;if(gi){var Hf="oninput"in document;if(!Hf){var ky=document.createElement("div");ky.setAttribute("oninput","return;"),Hf=typeof ky.oninput=="function"}Ff=Hf}else Ff=!1;Py=Ff&&(!document.documentMode||9<document.documentMode)}function jy(){Rl&&(Rl.detachEvent("onpropertychange",Ly),Cl=Rl=null)}function Ly(n){if(n.propertyName==="value"&&bc(Cl)){var s=[];Oy(s,Cl,n,pi(n)),ir(Qw,s)}}function Xw(n,s,a){n==="focusin"?(jy(),Rl=s,Cl=a,Rl.attachEvent("onpropertychange",Ly)):n==="focusout"&&jy()}function Ww(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return bc(Cl)}function $w(n,s){if(n==="click")return bc(s)}function Jw(n,s){if(n==="input"||n==="change")return bc(s)}function Zw(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var ii=typeof Object.is=="function"?Object.is:Zw;function Il(n,s){if(ii(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!xe.call(s,f)||!ii(n[f],s[f]))return!1}return!0}function Uy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function zy(n,s){var a=Uy(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=s&&l>=s)return{node:a,offset:s-n};n=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Uy(a)}}function By(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?By(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Fy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Wi(n.document);s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=Wi(n.document)}return s}function qf(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var tx=gi&&"documentMode"in document&&11>=document.documentMode,ao=null,Gf=null,Dl=null,Kf=!1;function Hy(n,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Kf||ao==null||ao!==Wi(l)||(l=ao,"selectionStart"in l&&qf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Dl&&Il(Dl,l)||(Dl=l,l=uh(Gf,"onSelect"),0<l.length&&(s=new Zi("onSelect","select",null,s,a),n.push({event:s,listeners:l}),s.target=ao)))}function aa(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var oo={animationend:aa("Animation","AnimationEnd"),animationiteration:aa("Animation","AnimationIteration"),animationstart:aa("Animation","AnimationStart"),transitionrun:aa("Transition","TransitionRun"),transitionstart:aa("Transition","TransitionStart"),transitioncancel:aa("Transition","TransitionCancel"),transitionend:aa("Transition","TransitionEnd")},Yf={},qy={};gi&&(qy=document.createElement("div").style,"AnimationEvent"in window||(delete oo.animationend.animation,delete oo.animationiteration.animation,delete oo.animationstart.animation),"TransitionEvent"in window||delete oo.transitionend.transition);function oa(n){if(Yf[n])return Yf[n];if(!oo[n])return n;var s=oo[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in qy)return Yf[n]=s[a];return n}var Gy=oa("animationend"),Ky=oa("animationiteration"),Yy=oa("animationstart"),ex=oa("transitionrun"),nx=oa("transitionstart"),ix=oa("transitioncancel"),Qy=oa("transitionend"),Xy=new Map,Qf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qf.push("scrollEnd");function zi(n,s){Xy.set(n,s),pe(s,[n])}var Ec=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},vi=[],lo=0,Xf=0;function Sc(){for(var n=lo,s=Xf=lo=0;s<n;){var a=vi[s];vi[s++]=null;var l=vi[s];vi[s++]=null;var f=vi[s];vi[s++]=null;var d=vi[s];if(vi[s++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&Wy(a,f,d)}}function Ac(n,s,a,l){vi[lo++]=n,vi[lo++]=s,vi[lo++]=a,vi[lo++]=l,Xf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Wf(n,s,a,l){return Ac(n,s,a,l),wc(n)}function la(n,s){return Ac(n,null,null,s),wc(n)}function Wy(n,s,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&s!==null&&(f=31-Oe(a),n=d.hiddenUpdates,l=n[f],l===null?n[f]=[s]:l.push(s),s.lane=a|536870912),d):null}function wc(n){if(50<Jl)throw Jl=0,rm=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var uo={};function sx(n,s,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function si(n,s,a,l){return new sx(n,s,a,l)}function $f(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Ss(n,s){var a=n.alternate;return a===null?(a=si(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function $y(n,s){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,s=a.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function xc(n,s,a,l,f,d){var _=0;if(l=n,typeof n=="function")$f(n)&&(_=1);else if(typeof n=="string")_=uR(n,a,vt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case C:return n=si(31,a,s,f),n.elementType=C,n.lanes=d,n;case P:return ua(a.children,f,d,s);case U:_=8,f|=24;break;case J:return n=si(12,a,s,f|2),n.elementType=J,n.lanes=d,n;case dt:return n=si(13,a,s,f),n.elementType=dt,n.lanes=d,n;case ft:return n=si(19,a,s,f),n.elementType=ft,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case et:_=10;break t;case ot:_=9;break t;case gt:_=11;break t;case R:_=14;break t;case w:_=16,l=null;break t}_=29,a=Error(r(130,n===null?"null":typeof n,"")),l=null}return s=si(_,a,s,f),s.elementType=n,s.type=l,s.lanes=d,s}function ua(n,s,a,l){return n=si(7,n,l,s),n.lanes=a,n}function Jf(n,s,a){return n=si(6,n,null,s),n.lanes=a,n}function Jy(n){var s=si(18,null,null,0);return s.stateNode=n,s}function Zf(n,s,a){return s=si(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var Zy=new WeakMap;function _i(n,s){if(typeof n=="object"&&n!==null){var a=Zy.get(n);return a!==void 0?a:(s={value:n,source:s,stack:Ni(s)},Zy.set(n,s),s)}return{value:n,source:s,stack:Ni(s)}}var co=[],ho=0,Rc=null,Ml=0,Ti=[],bi=0,or=null,is=1,ss="";function As(n,s){co[ho++]=Ml,co[ho++]=Rc,Rc=n,Ml=s}function t0(n,s,a){Ti[bi++]=is,Ti[bi++]=ss,Ti[bi++]=or,or=n;var l=is;n=ss;var f=32-Oe(l)-1;l&=~(1<<f),a+=1;var d=32-Oe(s)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,is=1<<32-Oe(s)+f|a<<f|l,ss=d+n}else is=1<<d|a<<f|l,ss=n}function td(n){n.return!==null&&(As(n,1),t0(n,1,0))}function ed(n){for(;n===Rc;)Rc=co[--ho],co[ho]=null,Ml=co[--ho],co[ho]=null;for(;n===or;)or=Ti[--bi],Ti[bi]=null,ss=Ti[--bi],Ti[bi]=null,is=Ti[--bi],Ti[bi]=null}function e0(n,s){Ti[bi++]=is,Ti[bi++]=ss,Ti[bi++]=or,is=s.id,ss=s.overflow,or=n}var vn=null,Ee=null,te=!1,lr=null,Ei=!1,nd=Error(r(519));function ur(n){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vl(_i(s,n)),nd}function n0(n){var s=n.stateNode,a=n.type,l=n.memoizedProps;switch(s[ee]=n,s[Dt]=l,a){case"dialog":Qt("cancel",s),Qt("close",s);break;case"iframe":case"object":case"embed":Qt("load",s);break;case"video":case"audio":for(a=0;a<tu.length;a++)Qt(tu[a],s);break;case"source":Qt("error",s);break;case"img":case"image":case"link":Qt("error",s),Qt("load",s);break;case"details":Qt("toggle",s);break;case"input":Qt("invalid",s),ac(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Qt("invalid",s);break;case"textarea":Qt("invalid",s),tr(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||__(s.textContent,a)?(l.popover!=null&&(Qt("beforetoggle",s),Qt("toggle",s)),l.onScroll!=null&&Qt("scroll",s),l.onScrollEnd!=null&&Qt("scrollend",s),l.onClick!=null&&(s.onclick=Pi),s=!0):s=!1,s||ur(n,!0)}function i0(n){for(vn=n.return;vn;)switch(vn.tag){case 5:case 31:case 13:Ei=!1;return;case 27:case 3:Ei=!0;return;default:vn=vn.return}}function fo(n){if(n!==vn)return!1;if(!te)return i0(n),te=!0,!1;var s=n.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Tm(n.type,n.memoizedProps)),a=!a),a&&Ee&&ur(n),i0(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));Ee=C_(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));Ee=C_(n)}else s===27?(s=Ee,Sr(n.type)?(n=wm,wm=null,Ee=n):Ee=s):Ee=vn?Ai(n.stateNode.nextSibling):null;return!0}function ca(){Ee=vn=null,te=!1}function id(){var n=lr;return n!==null&&(Yn===null?Yn=n:Yn.push.apply(Yn,n),lr=null),n}function Vl(n){lr===null?lr=[n]:lr.push(n)}var sd=k(null),ha=null,ws=null;function cr(n,s,a){pt(sd,s._currentValue),s._currentValue=a}function xs(n){n._currentValue=sd.current,tt(sd)}function rd(n,s,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),n===a)break;n=n.return}}function ad(n,s,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;t:for(;d!==null;){var S=d;d=f;for(var M=0;M<s.length;M++)if(S.context===s[M]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),rd(d.return,a,n),l||(_=null);break t}d=S.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),rd(_,a,n),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===n){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function mo(n,s,a,l){n=null;for(var f=s,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var S=f.type;ii(f.pendingProps.value,_.value)||(n!==null?n.push(S):n=[S])}}else if(f===qt.current){if(_=f.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(ru):n=[ru])}f=f.return}n!==null&&ad(s,n,a,l),s.flags|=262144}function Cc(n){for(n=n.firstContext;n!==null;){if(!ii(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function fa(n){ha=n,ws=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function _n(n){return s0(ha,n)}function Ic(n,s){return ha===null&&fa(n),s0(n,s)}function s0(n,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},ws===null){if(n===null)throw Error(r(308));ws=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else ws=ws.next=s;return a}var rx=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){s.aborted=!0,n.forEach(function(a){return a()})}},ax=i.unstable_scheduleCallback,ox=i.unstable_NormalPriority,We={$$typeof:et,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function od(){return{controller:new rx,data:new Map,refCount:0}}function Ol(n){n.refCount--,n.refCount===0&&ax(ox,function(){n.controller.abort()})}var Nl=null,ld=0,po=0,go=null;function lx(n,s){if(Nl===null){var a=Nl=[];ld=0,po=hm(),go={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ld++,s.then(r0,r0),s}function r0(){if(--ld===0&&Nl!==null){go!==null&&(go.status="fulfilled");var n=Nl;Nl=null,po=0,go=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function ux(n,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var a0=W.S;W.S=function(n,s){Hv=Ut(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&lx(n,s),a0!==null&&a0(n,s)};var da=k(null);function ud(){var n=da.current;return n!==null?n:be.pooledCache}function Dc(n,s){s===null?pt(da,da.current):pt(da,s.pool)}function o0(){var n=ud();return n===null?null:{parent:We._currentValue,pool:n}}var yo=Error(r(460)),cd=Error(r(474)),Mc=Error(r(542)),Vc={then:function(){}};function l0(n){return n=n.status,n==="fulfilled"||n==="rejected"}function u0(n,s,a){switch(a=n[a],a===void 0?n.push(s):a!==s&&(s.then(Pi,Pi),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,h0(n),n;default:if(typeof s.status=="string")s.then(Pi,Pi);else{if(n=be,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,h0(n),n}throw pa=s,yo}}function ma(n){try{var s=n._init;return s(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(pa=a,yo):a}}var pa=null;function c0(){if(pa===null)throw Error(r(459));var n=pa;return pa=null,n}function h0(n){if(n===yo||n===Mc)throw Error(r(483))}var vo=null,Pl=0;function Oc(n){var s=Pl;return Pl+=1,vo===null&&(vo=[]),u0(vo,n,s)}function kl(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Nc(n,s){throw s.$$typeof===E?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function f0(n){function s(B,j){if(n){var H=B.deletions;H===null?(B.deletions=[j],B.flags|=16):H.push(j)}}function a(B,j){if(!n)return null;for(;j!==null;)s(B,j),j=j.sibling;return null}function l(B){for(var j=new Map;B!==null;)B.key!==null?j.set(B.key,B):j.set(B.index,B),B=B.sibling;return j}function f(B,j){return B=Ss(B,j),B.index=0,B.sibling=null,B}function d(B,j,H){return B.index=H,n?(H=B.alternate,H!==null?(H=H.index,H<j?(B.flags|=67108866,j):H):(B.flags|=67108866,j)):(B.flags|=1048576,j)}function _(B){return n&&B.alternate===null&&(B.flags|=67108866),B}function S(B,j,H,nt){return j===null||j.tag!==6?(j=Jf(H,B.mode,nt),j.return=B,j):(j=f(j,H),j.return=B,j)}function M(B,j,H,nt){var wt=H.type;return wt===P?Z(B,j,H.props.children,nt,H.key):j!==null&&(j.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===w&&ma(wt)===j.type)?(j=f(j,H.props),kl(j,H),j.return=B,j):(j=xc(H.type,H.key,H.props,null,B.mode,nt),kl(j,H),j.return=B,j)}function q(B,j,H,nt){return j===null||j.tag!==4||j.stateNode.containerInfo!==H.containerInfo||j.stateNode.implementation!==H.implementation?(j=Zf(H,B.mode,nt),j.return=B,j):(j=f(j,H.children||[]),j.return=B,j)}function Z(B,j,H,nt,wt){return j===null||j.tag!==7?(j=ua(H,B.mode,nt,wt),j.return=B,j):(j=f(j,H),j.return=B,j)}function at(B,j,H){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Jf(""+j,B.mode,H),j.return=B,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case I:return H=xc(j.type,j.key,j.props,null,B.mode,H),kl(H,j),H.return=B,H;case L:return j=Zf(j,B.mode,H),j.return=B,j;case w:return j=ma(j),at(B,j,H)}if(re(j)||z(j))return j=ua(j,B.mode,H,null),j.return=B,j;if(typeof j.then=="function")return at(B,Oc(j),H);if(j.$$typeof===et)return at(B,Ic(B,j),H);Nc(B,j)}return null}function Y(B,j,H,nt){var wt=j!==null?j.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return wt!==null?null:S(B,j,""+H,nt);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case I:return H.key===wt?M(B,j,H,nt):null;case L:return H.key===wt?q(B,j,H,nt):null;case w:return H=ma(H),Y(B,j,H,nt)}if(re(H)||z(H))return wt!==null?null:Z(B,j,H,nt,null);if(typeof H.then=="function")return Y(B,j,Oc(H),nt);if(H.$$typeof===et)return Y(B,j,Ic(B,H),nt);Nc(B,H)}return null}function $(B,j,H,nt,wt){if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return B=B.get(H)||null,S(j,B,""+nt,wt);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case I:return B=B.get(nt.key===null?H:nt.key)||null,M(j,B,nt,wt);case L:return B=B.get(nt.key===null?H:nt.key)||null,q(j,B,nt,wt);case w:return nt=ma(nt),$(B,j,H,nt,wt)}if(re(nt)||z(nt))return B=B.get(H)||null,Z(j,B,nt,wt,null);if(typeof nt.then=="function")return $(B,j,H,Oc(nt),wt);if(nt.$$typeof===et)return $(B,j,H,Ic(j,nt),wt);Nc(j,nt)}return null}function Et(B,j,H,nt){for(var wt=null,ae=null,St=j,Ft=j=0,Wt=null;St!==null&&Ft<H.length;Ft++){St.index>Ft?(Wt=St,St=null):Wt=St.sibling;var oe=Y(B,St,H[Ft],nt);if(oe===null){St===null&&(St=Wt);break}n&&St&&oe.alternate===null&&s(B,St),j=d(oe,j,Ft),ae===null?wt=oe:ae.sibling=oe,ae=oe,St=Wt}if(Ft===H.length)return a(B,St),te&&As(B,Ft),wt;if(St===null){for(;Ft<H.length;Ft++)St=at(B,H[Ft],nt),St!==null&&(j=d(St,j,Ft),ae===null?wt=St:ae.sibling=St,ae=St);return te&&As(B,Ft),wt}for(St=l(St);Ft<H.length;Ft++)Wt=$(St,B,Ft,H[Ft],nt),Wt!==null&&(n&&Wt.alternate!==null&&St.delete(Wt.key===null?Ft:Wt.key),j=d(Wt,j,Ft),ae===null?wt=Wt:ae.sibling=Wt,ae=Wt);return n&&St.forEach(function(Cr){return s(B,Cr)}),te&&As(B,Ft),wt}function It(B,j,H,nt){if(H==null)throw Error(r(151));for(var wt=null,ae=null,St=j,Ft=j=0,Wt=null,oe=H.next();St!==null&&!oe.done;Ft++,oe=H.next()){St.index>Ft?(Wt=St,St=null):Wt=St.sibling;var Cr=Y(B,St,oe.value,nt);if(Cr===null){St===null&&(St=Wt);break}n&&St&&Cr.alternate===null&&s(B,St),j=d(Cr,j,Ft),ae===null?wt=Cr:ae.sibling=Cr,ae=Cr,St=Wt}if(oe.done)return a(B,St),te&&As(B,Ft),wt;if(St===null){for(;!oe.done;Ft++,oe=H.next())oe=at(B,oe.value,nt),oe!==null&&(j=d(oe,j,Ft),ae===null?wt=oe:ae.sibling=oe,ae=oe);return te&&As(B,Ft),wt}for(St=l(St);!oe.done;Ft++,oe=H.next())oe=$(St,B,Ft,oe.value,nt),oe!==null&&(n&&oe.alternate!==null&&St.delete(oe.key===null?Ft:oe.key),j=d(oe,j,Ft),ae===null?wt=oe:ae.sibling=oe,ae=oe);return n&&St.forEach(function(TR){return s(B,TR)}),te&&As(B,Ft),wt}function _e(B,j,H,nt){if(typeof H=="object"&&H!==null&&H.type===P&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case I:t:{for(var wt=H.key;j!==null;){if(j.key===wt){if(wt=H.type,wt===P){if(j.tag===7){a(B,j.sibling),nt=f(j,H.props.children),nt.return=B,B=nt;break t}}else if(j.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===w&&ma(wt)===j.type){a(B,j.sibling),nt=f(j,H.props),kl(nt,H),nt.return=B,B=nt;break t}a(B,j);break}else s(B,j);j=j.sibling}H.type===P?(nt=ua(H.props.children,B.mode,nt,H.key),nt.return=B,B=nt):(nt=xc(H.type,H.key,H.props,null,B.mode,nt),kl(nt,H),nt.return=B,B=nt)}return _(B);case L:t:{for(wt=H.key;j!==null;){if(j.key===wt)if(j.tag===4&&j.stateNode.containerInfo===H.containerInfo&&j.stateNode.implementation===H.implementation){a(B,j.sibling),nt=f(j,H.children||[]),nt.return=B,B=nt;break t}else{a(B,j);break}else s(B,j);j=j.sibling}nt=Zf(H,B.mode,nt),nt.return=B,B=nt}return _(B);case w:return H=ma(H),_e(B,j,H,nt)}if(re(H))return Et(B,j,H,nt);if(z(H)){if(wt=z(H),typeof wt!="function")throw Error(r(150));return H=wt.call(H),It(B,j,H,nt)}if(typeof H.then=="function")return _e(B,j,Oc(H),nt);if(H.$$typeof===et)return _e(B,j,Ic(B,H),nt);Nc(B,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,j!==null&&j.tag===6?(a(B,j.sibling),nt=f(j,H),nt.return=B,B=nt):(a(B,j),nt=Jf(H,B.mode,nt),nt.return=B,B=nt),_(B)):a(B,j)}return function(B,j,H,nt){try{Pl=0;var wt=_e(B,j,H,nt);return vo=null,wt}catch(St){if(St===yo||St===Mc)throw St;var ae=si(29,St,null,B.mode);return ae.lanes=nt,ae.return=B,ae}finally{}}}var ga=f0(!0),d0=f0(!1),hr=!1;function hd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fd(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function fr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function dr(n,s,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(ue&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=wc(n),Wy(n,null,a),s}return Ac(n,l,s,a),wc(n)}function jl(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,lt(n,a)}}function dd(n,s){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=s:d=d.next=s}else f=d=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}var md=!1;function Ll(){if(md){var n=go;if(n!==null)throw n}}function Ul(n,s,a,l){md=!1;var f=n.updateQueue;hr=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var M=S,q=M.next;M.next=null,_===null?d=q:_.next=q,_=M;var Z=n.alternate;Z!==null&&(Z=Z.updateQueue,S=Z.lastBaseUpdate,S!==_&&(S===null?Z.firstBaseUpdate=q:S.next=q,Z.lastBaseUpdate=M))}if(d!==null){var at=f.baseState;_=0,Z=q=M=null,S=d;do{var Y=S.lane&-536870913,$=Y!==S.lane;if($?(Xt&Y)===Y:(l&Y)===Y){Y!==0&&Y===po&&(md=!0),Z!==null&&(Z=Z.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var Et=n,It=S;Y=s;var _e=a;switch(It.tag){case 1:if(Et=It.payload,typeof Et=="function"){at=Et.call(_e,at,Y);break t}at=Et;break t;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=It.payload,Y=typeof Et=="function"?Et.call(_e,at,Y):Et,Y==null)break t;at=b({},at,Y);break t;case 2:hr=!0}}Y=S.callback,Y!==null&&(n.flags|=64,$&&(n.flags|=8192),$=f.callbacks,$===null?f.callbacks=[Y]:$.push(Y))}else $={lane:Y,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Z===null?(q=Z=$,M=at):Z=Z.next=$,_|=Y;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;$=S,S=$.next,$.next=null,f.lastBaseUpdate=$,f.shared.pending=null}}while(!0);Z===null&&(M=at),f.baseState=M,f.firstBaseUpdate=q,f.lastBaseUpdate=Z,d===null&&(f.shared.lanes=0),vr|=_,n.lanes=_,n.memoizedState=at}}function m0(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function p0(n,s){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)m0(a[n],s)}var _o=k(null),Pc=k(0);function g0(n,s){n=Ps,pt(Pc,n),pt(_o,s),Ps=n|s.baseLanes}function pd(){pt(Pc,Ps),pt(_o,_o.current)}function gd(){Ps=Pc.current,tt(_o),tt(Pc)}var ri=k(null),Si=null;function mr(n){var s=n.alternate;pt(Ge,Ge.current&1),pt(ri,n),Si===null&&(s===null||_o.current!==null||s.memoizedState!==null)&&(Si=n)}function yd(n){pt(Ge,Ge.current),pt(ri,n),Si===null&&(Si=n)}function y0(n){n.tag===22?(pt(Ge,Ge.current),pt(ri,n),Si===null&&(Si=n)):pr()}function pr(){pt(Ge,Ge.current),pt(ri,ri.current)}function ai(n){tt(ri),Si===n&&(Si=null),tt(Ge)}var Ge=k(0);function kc(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Sm(a)||Am(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Rs=0,Bt=null,ye=null,$e=null,jc=!1,To=!1,ya=!1,Lc=0,zl=0,bo=null,cx=0;function Be(){throw Error(r(321))}function vd(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!ii(n[a],s[a]))return!1;return!0}function _d(n,s,a,l,f,d){return Rs=d,Bt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,W.H=n===null||n.memoizedState===null?tv:Nd,ya=!1,d=a(l,f),ya=!1,To&&(d=_0(s,a,l,f)),v0(n),d}function v0(n){W.H=Hl;var s=ye!==null&&ye.next!==null;if(Rs=0,$e=ye=Bt=null,jc=!1,zl=0,bo=null,s)throw Error(r(300));n===null||Je||(n=n.dependencies,n!==null&&Cc(n)&&(Je=!0))}function _0(n,s,a,l){Bt=n;var f=0;do{if(To&&(bo=null),zl=0,To=!1,25<=f)throw Error(r(301));if(f+=1,$e=ye=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}W.H=ev,d=s(a,l)}while(To);return d}function hx(){var n=W.H,s=n.useState()[0];return s=typeof s.then=="function"?Bl(s):s,n=n.useState()[0],(ye!==null?ye.memoizedState:null)!==n&&(Bt.flags|=1024),s}function Td(){var n=Lc!==0;return Lc=0,n}function bd(n,s,a){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~a}function Ed(n){if(jc){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}jc=!1}Rs=0,$e=ye=Bt=null,To=!1,zl=Lc=0,bo=null}function jn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?Bt.memoizedState=$e=n:$e=$e.next=n,$e}function Ke(){if(ye===null){var n=Bt.alternate;n=n!==null?n.memoizedState:null}else n=ye.next;var s=$e===null?Bt.memoizedState:$e.next;if(s!==null)$e=s,ye=n;else{if(n===null)throw Bt.alternate===null?Error(r(467)):Error(r(310));ye=n,n={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},$e===null?Bt.memoizedState=$e=n:$e=$e.next=n}return $e}function Uc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bl(n){var s=zl;return zl+=1,bo===null&&(bo=[]),n=u0(bo,n,s),s=Bt,($e===null?s.memoizedState:$e.next)===null&&(s=s.alternate,W.H=s===null||s.memoizedState===null?tv:Nd),n}function zc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Bl(n);if(n.$$typeof===et)return _n(n)}throw Error(r(438,String(n)))}function Sd(n){var s=null,a=Bt.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Bt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Uc(),Bt.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(n),l=0;l<n;l++)a[l]=N;return s.index++,a}function Cs(n,s){return typeof s=="function"?s(n):s}function Bc(n){var s=Ke();return Ad(s,ye,n)}function Ad(n,s,a){var l=n.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=n.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}s.baseQueue=f=d,l.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{s=f.next;var S=_=null,M=null,q=s,Z=!1;do{var at=q.lane&-536870913;if(at!==q.lane?(Xt&at)===at:(Rs&at)===at){var Y=q.revertLane;if(Y===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),at===po&&(Z=!0);else if((Rs&Y)===Y){q=q.next,Y===po&&(Z=!0);continue}else at={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},M===null?(S=M=at,_=d):M=M.next=at,Bt.lanes|=Y,vr|=Y;at=q.action,ya&&a(d,at),d=q.hasEagerState?q.eagerState:a(d,at)}else Y={lane:at,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},M===null?(S=M=Y,_=d):M=M.next=Y,Bt.lanes|=at,vr|=at;q=q.next}while(q!==null&&q!==s);if(M===null?_=d:M.next=S,!ii(d,n.memoizedState)&&(Je=!0,Z&&(a=go,a!==null)))throw a;n.memoizedState=d,n.baseState=_,n.baseQueue=M,l.lastRenderedState=d}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function wd(n){var s=Ke(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,d=s.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=n(d,_.action),_=_.next;while(_!==f);ii(d,s.memoizedState)||(Je=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,l]}function T0(n,s,a){var l=Bt,f=Ke(),d=te;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=s();var _=!ii((ye||f).memoizedState,a);if(_&&(f.memoizedState=a,Je=!0),f=f.queue,Cd(S0.bind(null,l,f,n),[n]),f.getSnapshot!==s||_||$e!==null&&$e.memoizedState.tag&1){if(l.flags|=2048,Eo(9,{destroy:void 0},E0.bind(null,l,f,a,s),null),be===null)throw Error(r(349));d||(Rs&127)!==0||b0(l,s,a)}return a}function b0(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=Bt.updateQueue,s===null?(s=Uc(),Bt.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function E0(n,s,a,l){s.value=a,s.getSnapshot=l,A0(s)&&w0(n)}function S0(n,s,a){return a(function(){A0(s)&&w0(n)})}function A0(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!ii(n,a)}catch{return!0}}function w0(n){var s=la(n,2);s!==null&&Qn(s,n,2)}function xd(n){var s=jn();if(typeof n=="function"){var a=n;if(n=a(),ya){Bn(!0);try{a()}finally{Bn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:n},s}function x0(n,s,a,l){return n.baseState=a,Ad(n,ye,typeof l=="function"?l:Cs)}function fx(n,s,a,l,f){if(qc(n))throw Error(r(485));if(n=s.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};W.T!==null?a(!0):d.isTransition=!1,l(d),a=s.pending,a===null?(d.next=s.pending=d,R0(s,d)):(d.next=a.next,s.pending=a.next=d)}}function R0(n,s){var a=s.action,l=s.payload,f=n.state;if(s.isTransition){var d=W.T,_={};W.T=_;try{var S=a(f,l),M=W.S;M!==null&&M(_,S),C0(n,s,S)}catch(q){Rd(n,s,q)}finally{d!==null&&_.types!==null&&(d.types=_.types),W.T=d}}else try{d=a(f,l),C0(n,s,d)}catch(q){Rd(n,s,q)}}function C0(n,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){I0(n,s,l)},function(l){return Rd(n,s,l)}):I0(n,s,a)}function I0(n,s,a){s.status="fulfilled",s.value=a,D0(s),n.state=a,s=n.pending,s!==null&&(a=s.next,a===s?n.pending=null:(a=a.next,s.next=a,R0(n,a)))}function Rd(n,s,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,D0(s),s=s.next;while(s!==l)}n.action=null}function D0(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function M0(n,s){return s}function V0(n,s){if(te){var a=be.formState;if(a!==null){t:{var l=Bt;if(te){if(Ee){e:{for(var f=Ee,d=Ei;f.nodeType!==8;){if(!d){f=null;break e}if(f=Ai(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){Ee=Ai(f.nextSibling),l=f.data==="F!";break t}}ur(l)}l=!1}l&&(s=a[0])}}return a=jn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:M0,lastRenderedState:s},a.queue=l,a=$0.bind(null,Bt,l),l.dispatch=a,l=xd(!1),d=Od.bind(null,Bt,!1,l.queue),l=jn(),f={state:s,dispatch:null,action:n,pending:null},l.queue=f,a=fx.bind(null,Bt,f,d,a),f.dispatch=a,l.memoizedState=n,[s,a,!1]}function O0(n){var s=Ke();return N0(s,ye,n)}function N0(n,s,a){if(s=Ad(n,s,M0)[0],n=Bc(Cs)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Bl(s)}catch(_){throw _===yo?Mc:_}else l=s;s=Ke();var f=s.queue,d=f.dispatch;return a!==s.memoizedState&&(Bt.flags|=2048,Eo(9,{destroy:void 0},dx.bind(null,f,a),null)),[l,d,n]}function dx(n,s){n.action=s}function P0(n){var s=Ke(),a=ye;if(a!==null)return N0(s,a,n);Ke(),s=s.memoizedState,a=Ke();var l=a.queue.dispatch;return a.memoizedState=n,[s,l,!1]}function Eo(n,s,a,l){return n={tag:n,create:a,deps:l,inst:s,next:null},s=Bt.updateQueue,s===null&&(s=Uc(),Bt.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,s.lastEffect=n),n}function k0(){return Ke().memoizedState}function Fc(n,s,a,l){var f=jn();Bt.flags|=n,f.memoizedState=Eo(1|s,{destroy:void 0},a,l===void 0?null:l)}function Hc(n,s,a,l){var f=Ke();l=l===void 0?null:l;var d=f.memoizedState.inst;ye!==null&&l!==null&&vd(l,ye.memoizedState.deps)?f.memoizedState=Eo(s,d,a,l):(Bt.flags|=n,f.memoizedState=Eo(1|s,d,a,l))}function j0(n,s){Fc(8390656,8,n,s)}function Cd(n,s){Hc(2048,8,n,s)}function mx(n){Bt.flags|=4;var s=Bt.updateQueue;if(s===null)s=Uc(),Bt.updateQueue=s,s.events=[n];else{var a=s.events;a===null?s.events=[n]:a.push(n)}}function L0(n){var s=Ke().memoizedState;return mx({ref:s,nextImpl:n}),function(){if((ue&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function U0(n,s){return Hc(4,2,n,s)}function z0(n,s){return Hc(4,4,n,s)}function B0(n,s){if(typeof s=="function"){n=n();var a=s(n);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function F0(n,s,a){a=a!=null?a.concat([n]):null,Hc(4,4,B0.bind(null,s,n),a)}function Id(){}function H0(n,s){var a=Ke();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&vd(s,l[1])?l[0]:(a.memoizedState=[n,s],n)}function q0(n,s){var a=Ke();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&vd(s,l[1]))return l[0];if(l=n(),ya){Bn(!0);try{n()}finally{Bn(!1)}}return a.memoizedState=[l,s],l}function Dd(n,s,a){return a===void 0||(Rs&1073741824)!==0&&(Xt&261930)===0?n.memoizedState=s:(n.memoizedState=a,n=Gv(),Bt.lanes|=n,vr|=n,a)}function G0(n,s,a,l){return ii(a,s)?a:_o.current!==null?(n=Dd(n,a,l),ii(n,s)||(Je=!0),n):(Rs&42)===0||(Rs&1073741824)!==0&&(Xt&261930)===0?(Je=!0,n.memoizedState=a):(n=Gv(),Bt.lanes|=n,vr|=n,s)}function K0(n,s,a,l,f){var d=st.p;st.p=d!==0&&8>d?d:8;var _=W.T,S={};W.T=S,Od(n,!1,s,a);try{var M=f(),q=W.S;if(q!==null&&q(S,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var Z=ux(M,l);Fl(n,s,Z,ui(n))}else Fl(n,s,l,ui(n))}catch(at){Fl(n,s,{then:function(){},status:"rejected",reason:at},ui())}finally{st.p=d,_!==null&&S.types!==null&&(_.types=S.types),W.T=_}}function px(){}function Md(n,s,a,l){if(n.tag!==5)throw Error(r(476));var f=Y0(n).queue;K0(n,f,s,yt,a===null?px:function(){return Q0(n),a(l)})}function Y0(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:yt,baseState:yt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:yt},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:a},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function Q0(n){var s=Y0(n);s.next===null&&(s=n.alternate.memoizedState),Fl(n,s.next.queue,{},ui())}function Vd(){return _n(ru)}function X0(){return Ke().memoizedState}function W0(){return Ke().memoizedState}function gx(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var a=ui();n=fr(a);var l=dr(s,n,a);l!==null&&(Qn(l,s,a),jl(l,s,a)),s={cache:od()},n.payload=s;return}s=s.return}}function yx(n,s,a){var l=ui();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},qc(n)?J0(s,a):(a=Wf(n,s,a,l),a!==null&&(Qn(a,n,l),Z0(a,s,l)))}function $0(n,s,a){var l=ui();Fl(n,s,a,l)}function Fl(n,s,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(qc(n))J0(s,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var _=s.lastRenderedState,S=d(_,a);if(f.hasEagerState=!0,f.eagerState=S,ii(S,_))return Ac(n,s,f,0),be===null&&Sc(),!1}catch{}finally{}if(a=Wf(n,s,f,l),a!==null)return Qn(a,n,l),Z0(a,s,l),!0}return!1}function Od(n,s,a,l){if(l={lane:2,revertLane:hm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},qc(n)){if(s)throw Error(r(479))}else s=Wf(n,a,l,2),s!==null&&Qn(s,n,2)}function qc(n){var s=n.alternate;return n===Bt||s!==null&&s===Bt}function J0(n,s){To=jc=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function Z0(n,s,a){if((a&4194048)!==0){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,lt(n,a)}}var Hl={readContext:_n,use:zc,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useLayoutEffect:Be,useInsertionEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useSyncExternalStore:Be,useId:Be,useHostTransitionStatus:Be,useFormState:Be,useActionState:Be,useOptimistic:Be,useMemoCache:Be,useCacheRefresh:Be};Hl.useEffectEvent=Be;var tv={readContext:_n,use:zc,useCallback:function(n,s){return jn().memoizedState=[n,s===void 0?null:s],n},useContext:_n,useEffect:j0,useImperativeHandle:function(n,s,a){a=a!=null?a.concat([n]):null,Fc(4194308,4,B0.bind(null,s,n),a)},useLayoutEffect:function(n,s){return Fc(4194308,4,n,s)},useInsertionEffect:function(n,s){Fc(4,2,n,s)},useMemo:function(n,s){var a=jn();s=s===void 0?null:s;var l=n();if(ya){Bn(!0);try{n()}finally{Bn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(n,s,a){var l=jn();if(a!==void 0){var f=a(s);if(ya){Bn(!0);try{a(s)}finally{Bn(!1)}}}else f=s;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=yx.bind(null,Bt,n),[l.memoizedState,n]},useRef:function(n){var s=jn();return n={current:n},s.memoizedState=n},useState:function(n){n=xd(n);var s=n.queue,a=$0.bind(null,Bt,s);return s.dispatch=a,[n.memoizedState,a]},useDebugValue:Id,useDeferredValue:function(n,s){var a=jn();return Dd(a,n,s)},useTransition:function(){var n=xd(!1);return n=K0.bind(null,Bt,n.queue,!0,!1),jn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,a){var l=Bt,f=jn();if(te){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),be===null)throw Error(r(349));(Xt&127)!==0||b0(l,s,a)}f.memoizedState=a;var d={value:a,getSnapshot:s};return f.queue=d,j0(S0.bind(null,l,d,n),[n]),l.flags|=2048,Eo(9,{destroy:void 0},E0.bind(null,l,d,a,s),null),a},useId:function(){var n=jn(),s=be.identifierPrefix;if(te){var a=ss,l=is;a=(l&~(1<<32-Oe(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Lc++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=cx++,s="_"+s+"r_"+a.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:Vd,useFormState:V0,useActionState:V0,useOptimistic:function(n){var s=jn();s.memoizedState=s.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Od.bind(null,Bt,!0,a),a.dispatch=s,[n,s]},useMemoCache:Sd,useCacheRefresh:function(){return jn().memoizedState=gx.bind(null,Bt)},useEffectEvent:function(n){var s=jn(),a={impl:n};return s.memoizedState=a,function(){if((ue&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Nd={readContext:_n,use:zc,useCallback:H0,useContext:_n,useEffect:Cd,useImperativeHandle:F0,useInsertionEffect:U0,useLayoutEffect:z0,useMemo:q0,useReducer:Bc,useRef:k0,useState:function(){return Bc(Cs)},useDebugValue:Id,useDeferredValue:function(n,s){var a=Ke();return G0(a,ye.memoizedState,n,s)},useTransition:function(){var n=Bc(Cs)[0],s=Ke().memoizedState;return[typeof n=="boolean"?n:Bl(n),s]},useSyncExternalStore:T0,useId:X0,useHostTransitionStatus:Vd,useFormState:O0,useActionState:O0,useOptimistic:function(n,s){var a=Ke();return x0(a,ye,n,s)},useMemoCache:Sd,useCacheRefresh:W0};Nd.useEffectEvent=L0;var ev={readContext:_n,use:zc,useCallback:H0,useContext:_n,useEffect:Cd,useImperativeHandle:F0,useInsertionEffect:U0,useLayoutEffect:z0,useMemo:q0,useReducer:wd,useRef:k0,useState:function(){return wd(Cs)},useDebugValue:Id,useDeferredValue:function(n,s){var a=Ke();return ye===null?Dd(a,n,s):G0(a,ye.memoizedState,n,s)},useTransition:function(){var n=wd(Cs)[0],s=Ke().memoizedState;return[typeof n=="boolean"?n:Bl(n),s]},useSyncExternalStore:T0,useId:X0,useHostTransitionStatus:Vd,useFormState:P0,useActionState:P0,useOptimistic:function(n,s){var a=Ke();return ye!==null?x0(a,ye,n,s):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Sd,useCacheRefresh:W0};ev.useEffectEvent=L0;function Pd(n,s,a,l){s=n.memoizedState,a=a(l,s),a=a==null?s:b({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var kd={enqueueSetState:function(n,s,a){n=n._reactInternals;var l=ui(),f=fr(l);f.payload=s,a!=null&&(f.callback=a),s=dr(n,f,l),s!==null&&(Qn(s,n,l),jl(s,n,l))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var l=ui(),f=fr(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=dr(n,f,l),s!==null&&(Qn(s,n,l),jl(s,n,l))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=ui(),l=fr(a);l.tag=2,s!=null&&(l.callback=s),s=dr(n,l,a),s!==null&&(Qn(s,n,a),jl(s,n,a))}};function nv(n,s,a,l,f,d,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,_):s.prototype&&s.prototype.isPureReactComponent?!Il(a,l)||!Il(f,d):!0}function iv(n,s,a,l){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==n&&kd.enqueueReplaceState(s,s.state,null)}function va(n,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(n=n.defaultProps){a===s&&(a=b({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}function sv(n){Ec(n)}function rv(n){console.error(n)}function av(n){Ec(n)}function Gc(n,s){try{var a=n.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function ov(n,s,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function jd(n,s,a){return a=fr(a),a.tag=3,a.payload={element:null},a.callback=function(){Gc(n,s)},a}function lv(n){return n=fr(n),n.tag=3,n}function uv(n,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;n.payload=function(){return f(d)},n.callback=function(){ov(s,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){ov(s,a,l),typeof f!="function"&&(_r===null?_r=new Set([this]):_r.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function vx(n,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&mo(s,a,f,!0),a=ri.current,a!==null){switch(a.tag){case 31:case 13:return Si===null?ih():a.alternate===null&&Fe===0&&(Fe=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Vc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),lm(n,l,f)),!1;case 22:return a.flags|=65536,l===Vc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),lm(n,l,f)),!1}throw Error(r(435,a.tag))}return lm(n,l,f),ih(),!1}if(te)return s=ri.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==nd&&(n=Error(r(422),{cause:l}),Vl(_i(n,a)))):(l!==nd&&(s=Error(r(423),{cause:l}),Vl(_i(s,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=_i(l,a),f=jd(n.stateNode,l,f),dd(n,f),Fe!==4&&(Fe=2)),!1;var d=Error(r(520),{cause:l});if(d=_i(d,a),$l===null?$l=[d]:$l.push(d),Fe!==4&&(Fe=2),s===null)return!0;l=_i(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=jd(a.stateNode,l,n),dd(a,n),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(_r===null||!_r.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=lv(f),uv(f,n,a,l),dd(a,f),!1}a=a.return}while(a!==null);return!1}var Ld=Error(r(461)),Je=!1;function Tn(n,s,a,l){s.child=n===null?d0(s,null,a,l):ga(s,n.child,a,l)}function cv(n,s,a,l,f){a=a.render;var d=s.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return fa(s),l=_d(n,s,a,_,d,f),S=Td(),n!==null&&!Je?(bd(n,s,f),Is(n,s,f)):(te&&S&&td(s),s.flags|=1,Tn(n,s,l,f),s.child)}function hv(n,s,a,l,f){if(n===null){var d=a.type;return typeof d=="function"&&!$f(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,fv(n,s,d,l,f)):(n=xc(a.type,null,l,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(d=n.child,!Kd(n,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Il,a(_,l)&&n.ref===s.ref)return Is(n,s,f)}return s.flags|=1,n=Ss(d,l),n.ref=s.ref,n.return=s,s.child=n}function fv(n,s,a,l,f){if(n!==null){var d=n.memoizedProps;if(Il(d,l)&&n.ref===s.ref)if(Je=!1,s.pendingProps=l=d,Kd(n,f))(n.flags&131072)!==0&&(Je=!0);else return s.lanes=n.lanes,Is(n,s,f)}return Ud(n,s,a,l,f)}function dv(n,s,a,l){var f=l.children,d=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,n!==null){for(l=s.child=n.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,s.child=null;return mv(n,s,d,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Dc(s,d!==null?d.cachePool:null),d!==null?g0(s,d):pd(),y0(s);else return l=s.lanes=536870912,mv(n,s,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Dc(s,d.cachePool),g0(s,d),pr(),s.memoizedState=null):(n!==null&&Dc(s,null),pd(),pr());return Tn(n,s,f,a),s.child}function ql(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function mv(n,s,a,l,f){var d=ud();return d=d===null?null:{parent:We._currentValue,pool:d},s.memoizedState={baseLanes:a,cachePool:d},n!==null&&Dc(s,null),pd(),y0(s),n!==null&&mo(n,s,l,!0),s.childLanes=f,null}function Kc(n,s){return s=Qc({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function pv(n,s,a){return ga(s,n.child,null,a),n=Kc(s,s.pendingProps),n.flags|=2,ai(s),s.memoizedState=null,n}function _x(n,s,a){var l=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(te){if(l.mode==="hidden")return n=Kc(s,l),s.lanes=536870912,ql(null,n);if(yd(s),(n=Ee)?(n=R_(n,Ei),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:or!==null?{id:is,overflow:ss}:null,retryLane:536870912,hydrationErrors:null},a=Jy(n),a.return=s,s.child=a,vn=s,Ee=null)):n=null,n===null)throw ur(s);return s.lanes=536870912,null}return Kc(s,l)}var d=n.memoizedState;if(d!==null){var _=d.dehydrated;if(yd(s),f)if(s.flags&256)s.flags&=-257,s=pv(n,s,a);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(r(558));else if(Je||mo(n,s,a,!1),f=(a&n.childLanes)!==0,Je||f){if(l=be,l!==null&&(_=K(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,la(n,_),Qn(l,n,_),Ld;ih(),s=pv(n,s,a)}else n=d.treeContext,Ee=Ai(_.nextSibling),vn=s,te=!0,lr=null,Ei=!1,n!==null&&e0(s,n),s=Kc(s,l),s.flags|=4096;return s}return n=Ss(n.child,{mode:l.mode,children:l.children}),n.ref=s.ref,s.child=n,n.return=s,n}function Yc(n,s){var a=s.ref;if(a===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(n===null||n.ref!==a)&&(s.flags|=4194816)}}function Ud(n,s,a,l,f){return fa(s),a=_d(n,s,a,l,void 0,f),l=Td(),n!==null&&!Je?(bd(n,s,f),Is(n,s,f)):(te&&l&&td(s),s.flags|=1,Tn(n,s,a,f),s.child)}function gv(n,s,a,l,f,d){return fa(s),s.updateQueue=null,a=_0(s,l,a,f),v0(n),l=Td(),n!==null&&!Je?(bd(n,s,d),Is(n,s,d)):(te&&l&&td(s),s.flags|=1,Tn(n,s,a,d),s.child)}function yv(n,s,a,l,f){if(fa(s),s.stateNode===null){var d=uo,_=a.contextType;typeof _=="object"&&_!==null&&(d=_n(_)),d=new a(l,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=kd,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=l,d.state=s.memoizedState,d.refs={},hd(s),_=a.contextType,d.context=typeof _=="object"&&_!==null?_n(_):uo,d.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Pd(s,a,_,l),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&kd.enqueueReplaceState(d,d.state,null),Ul(s,l,d,f),Ll(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(n===null){d=s.stateNode;var S=s.memoizedProps,M=va(a,S);d.props=M;var q=d.context,Z=a.contextType;_=uo,typeof Z=="object"&&Z!==null&&(_=_n(Z));var at=a.getDerivedStateFromProps;Z=typeof at=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||q!==_)&&iv(s,d,l,_),hr=!1;var Y=s.memoizedState;d.state=Y,Ul(s,l,d,f),Ll(),q=s.memoizedState,S||Y!==q||hr?(typeof at=="function"&&(Pd(s,a,at,l),q=s.memoizedState),(M=hr||nv(s,a,M,l,Y,q,_))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=q),d.props=l,d.state=q,d.context=_,l=M):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{d=s.stateNode,fd(n,s),_=s.memoizedProps,Z=va(a,_),d.props=Z,at=s.pendingProps,Y=d.context,q=a.contextType,M=uo,typeof q=="object"&&q!==null&&(M=_n(q)),S=a.getDerivedStateFromProps,(q=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==at||Y!==M)&&iv(s,d,l,M),hr=!1,Y=s.memoizedState,d.state=Y,Ul(s,l,d,f),Ll();var $=s.memoizedState;_!==at||Y!==$||hr||n!==null&&n.dependencies!==null&&Cc(n.dependencies)?(typeof S=="function"&&(Pd(s,a,S,l),$=s.memoizedState),(Z=hr||nv(s,a,Z,l,Y,$,M)||n!==null&&n.dependencies!==null&&Cc(n.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,$,M),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,$,M)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===n.memoizedProps&&Y===n.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&Y===n.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=$),d.props=l,d.state=$,d.context=M,l=Z):(typeof d.componentDidUpdate!="function"||_===n.memoizedProps&&Y===n.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&Y===n.memoizedState||(s.flags|=1024),l=!1)}return d=l,Yc(n,s),l=(s.flags&128)!==0,d||l?(d=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,n!==null&&l?(s.child=ga(s,n.child,null,f),s.child=ga(s,null,a,f)):Tn(n,s,a,f),s.memoizedState=d.state,n=s.child):n=Is(n,s,f),n}function vv(n,s,a,l){return ca(),s.flags|=256,Tn(n,s,a,l),s.child}var zd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bd(n){return{baseLanes:n,cachePool:o0()}}function Fd(n,s,a){return n=n!==null?n.childLanes&~a:0,s&&(n|=li),n}function _v(n,s,a){var l=s.pendingProps,f=!1,d=(s.flags&128)!==0,_;if((_=d)||(_=n!==null&&n.memoizedState===null?!1:(Ge.current&2)!==0),_&&(f=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,n===null){if(te){if(f?mr(s):pr(),(n=Ee)?(n=R_(n,Ei),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:or!==null?{id:is,overflow:ss}:null,retryLane:536870912,hydrationErrors:null},a=Jy(n),a.return=s,s.child=a,vn=s,Ee=null)):n=null,n===null)throw ur(s);return Am(n)?s.lanes=32:s.lanes=536870912,null}var S=l.children;return l=l.fallback,f?(pr(),f=s.mode,S=Qc({mode:"hidden",children:S},f),l=ua(l,f,a,null),S.return=s,l.return=s,S.sibling=l,s.child=S,l=s.child,l.memoizedState=Bd(a),l.childLanes=Fd(n,_,a),s.memoizedState=zd,ql(null,l)):(mr(s),Hd(s,S))}var M=n.memoizedState;if(M!==null&&(S=M.dehydrated,S!==null)){if(d)s.flags&256?(mr(s),s.flags&=-257,s=qd(n,s,a)):s.memoizedState!==null?(pr(),s.child=n.child,s.flags|=128,s=null):(pr(),S=l.fallback,f=s.mode,l=Qc({mode:"visible",children:l.children},f),S=ua(S,f,a,null),S.flags|=2,l.return=s,S.return=s,l.sibling=S,s.child=l,ga(s,n.child,null,a),l=s.child,l.memoizedState=Bd(a),l.childLanes=Fd(n,_,a),s.memoizedState=zd,s=ql(null,l));else if(mr(s),Am(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var q=_.dgst;_=q,l=Error(r(419)),l.stack="",l.digest=_,Vl({value:l,source:null,stack:null}),s=qd(n,s,a)}else if(Je||mo(n,s,a,!1),_=(a&n.childLanes)!==0,Je||_){if(_=be,_!==null&&(l=K(_,a),l!==0&&l!==M.retryLane))throw M.retryLane=l,la(n,l),Qn(_,n,l),Ld;Sm(S)||ih(),s=qd(n,s,a)}else Sm(S)?(s.flags|=192,s.child=n.child,s=null):(n=M.treeContext,Ee=Ai(S.nextSibling),vn=s,te=!0,lr=null,Ei=!1,n!==null&&e0(s,n),s=Hd(s,l.children),s.flags|=4096);return s}return f?(pr(),S=l.fallback,f=s.mode,M=n.child,q=M.sibling,l=Ss(M,{mode:"hidden",children:l.children}),l.subtreeFlags=M.subtreeFlags&65011712,q!==null?S=Ss(q,S):(S=ua(S,f,a,null),S.flags|=2),S.return=s,l.return=s,l.sibling=S,s.child=l,ql(null,l),l=s.child,S=n.child.memoizedState,S===null?S=Bd(a):(f=S.cachePool,f!==null?(M=We._currentValue,f=f.parent!==M?{parent:M,pool:M}:f):f=o0(),S={baseLanes:S.baseLanes|a,cachePool:f}),l.memoizedState=S,l.childLanes=Fd(n,_,a),s.memoizedState=zd,ql(n.child,l)):(mr(s),a=n.child,n=a.sibling,a=Ss(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,n!==null&&(_=s.deletions,_===null?(s.deletions=[n],s.flags|=16):_.push(n)),s.child=a,s.memoizedState=null,a)}function Hd(n,s){return s=Qc({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Qc(n,s){return n=si(22,n,null,s),n.lanes=0,n}function qd(n,s,a){return ga(s,n.child,null,a),n=Hd(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Tv(n,s,a){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s),rd(n.return,s,a)}function Gd(n,s,a,l,f,d){var _=n.memoizedState;_===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function bv(n,s,a){var l=s.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=Ge.current,S=(_&2)!==0;if(S?(_=_&1|2,s.flags|=128):_&=1,pt(Ge,_),Tn(n,s,l,a),l=te?Ml:0,!S&&n!==null&&(n.flags&128)!==0)t:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Tv(n,a,s);else if(n.tag===19)Tv(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break t;for(;n.sibling===null;){if(n.return===null||n.return===s)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)n=a.alternate,n!==null&&kc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Gd(s,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&kc(n)===null){s.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Gd(s,!0,a,null,d,l);break;case"together":Gd(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function Is(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),vr|=s.lanes,(a&s.childLanes)===0)if(n!==null){if(mo(n,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,a=Ss(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=Ss(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function Kd(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Cc(n)))}function Tx(n,s,a){switch(s.tag){case 3:we(s,s.stateNode.containerInfo),cr(s,We,n.memoizedState.cache),ca();break;case 27:case 5:ie(s);break;case 4:we(s,s.stateNode.containerInfo);break;case 10:cr(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,yd(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(mr(s),s.flags|=128,null):(a&s.child.childLanes)!==0?_v(n,s,a):(mr(s),n=Is(n,s,a),n!==null?n.sibling:null);mr(s);break;case 19:var f=(n.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(mo(n,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return bv(n,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),pt(Ge,Ge.current),l)break;return null;case 22:return s.lanes=0,dv(n,s,a,s.pendingProps);case 24:cr(s,We,n.memoizedState.cache)}return Is(n,s,a)}function Ev(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps)Je=!0;else{if(!Kd(n,a)&&(s.flags&128)===0)return Je=!1,Tx(n,s,a);Je=(n.flags&131072)!==0}else Je=!1,te&&(s.flags&1048576)!==0&&t0(s,Ml,s.index);switch(s.lanes=0,s.tag){case 16:t:{var l=s.pendingProps;if(n=ma(s.elementType),s.type=n,typeof n=="function")$f(n)?(l=va(n,l),s.tag=1,s=yv(null,s,n,l,a)):(s.tag=0,s=Ud(null,s,n,l,a));else{if(n!=null){var f=n.$$typeof;if(f===gt){s.tag=11,s=cv(null,s,n,l,a);break t}else if(f===R){s.tag=14,s=hv(null,s,n,l,a);break t}}throw s=Ht(n)||n,Error(r(306,s,""))}}return s;case 0:return Ud(n,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=va(l,s.pendingProps),yv(n,s,l,f,a);case 3:t:{if(we(s,s.stateNode.containerInfo),n===null)throw Error(r(387));l=s.pendingProps;var d=s.memoizedState;f=d.element,fd(n,s),Ul(s,l,null,a);var _=s.memoizedState;if(l=_.cache,cr(s,We,l),l!==d.cache&&ad(s,[We],a,!0),Ll(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=vv(n,s,l,a);break t}else if(l!==f){f=_i(Error(r(424)),s),Vl(f),s=vv(n,s,l,a);break t}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Ee=Ai(n.firstChild),vn=s,te=!0,lr=null,Ei=!0,a=d0(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ca(),l===f){s=Is(n,s,a);break t}Tn(n,s,l,a)}s=s.child}return s;case 26:return Yc(n,s),n===null?(a=O_(s.type,null,s.pendingProps,null))?s.memoizedState=a:te||(a=s.type,n=s.pendingProps,l=ch(Pt.current).createElement(a),l[ee]=s,l[Dt]=n,bn(l,a,n),Ne(l),s.stateNode=l):s.memoizedState=O_(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return ie(s),n===null&&te&&(l=s.stateNode=D_(s.type,s.pendingProps,Pt.current),vn=s,Ei=!0,f=Ee,Sr(s.type)?(wm=f,Ee=Ai(l.firstChild)):Ee=f),Tn(n,s,s.pendingProps.children,a),Yc(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&te&&((f=l=Ee)&&(l=Wx(l,s.type,s.pendingProps,Ei),l!==null?(s.stateNode=l,vn=s,Ee=Ai(l.firstChild),Ei=!1,f=!0):f=!1),f||ur(s)),ie(s),f=s.type,d=s.pendingProps,_=n!==null?n.memoizedProps:null,l=d.children,Tm(f,d)?l=null:_!==null&&Tm(f,_)&&(s.flags|=32),s.memoizedState!==null&&(f=_d(n,s,hx,null,null,a),ru._currentValue=f),Yc(n,s),Tn(n,s,l,a),s.child;case 6:return n===null&&te&&((n=a=Ee)&&(a=$x(a,s.pendingProps,Ei),a!==null?(s.stateNode=a,vn=s,Ee=null,n=!0):n=!1),n||ur(s)),null;case 13:return _v(n,s,a);case 4:return we(s,s.stateNode.containerInfo),l=s.pendingProps,n===null?s.child=ga(s,null,l,a):Tn(n,s,l,a),s.child;case 11:return cv(n,s,s.type,s.pendingProps,a);case 7:return Tn(n,s,s.pendingProps,a),s.child;case 8:return Tn(n,s,s.pendingProps.children,a),s.child;case 12:return Tn(n,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,cr(s,s.type,l.value),Tn(n,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,fa(s),f=_n(f),l=l(f),s.flags|=1,Tn(n,s,l,a),s.child;case 14:return hv(n,s,s.type,s.pendingProps,a);case 15:return fv(n,s,s.type,s.pendingProps,a);case 19:return bv(n,s,a);case 31:return _x(n,s,a);case 22:return dv(n,s,a,s.pendingProps);case 24:return fa(s),l=_n(We),n===null?(f=ud(),f===null&&(f=be,d=od(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),s.memoizedState={parent:l,cache:f},hd(s),cr(s,We,f)):((n.lanes&a)!==0&&(fd(n,s),Ul(s,null,null,a),Ll()),f=n.memoizedState,d=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),cr(s,We,l)):(l=d.cache,cr(s,We,l),l!==f.cache&&ad(s,[We],a,!0))),Tn(n,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Ds(n){n.flags|=4}function Yd(n,s,a,l,f){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(Xv())n.flags|=8192;else throw pa=Vc,cd}else n.flags&=-16777217}function Sv(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!L_(s))if(Xv())n.flags|=8192;else throw pa=Vc,cd}function Xc(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?Ka():536870912,n.lanes|=s,xo|=s)}function Gl(n,s){if(!te)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function Se(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(s)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,s}function bx(n,s,a){var l=s.pendingProps;switch(ed(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Se(s),null;case 1:return Se(s),null;case 3:return a=s.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),xs(We),me(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(fo(s)?Ds(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,id())),Se(s),null;case 26:var f=s.type,d=s.memoizedState;return n===null?(Ds(s),d!==null?(Se(s),Sv(s,d)):(Se(s),Yd(s,f,null,l,a))):d?d!==n.memoizedState?(Ds(s),Se(s),Sv(s,d)):(Se(s),s.flags&=-16777217):(n=n.memoizedProps,n!==l&&Ds(s),Se(s),Yd(s,f,n,l,a)),null;case 27:if(gn(s),a=Pt.current,f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&Ds(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return Se(s),null}n=vt.current,fo(s)?n0(s):(n=D_(f,l,a),s.stateNode=n,Ds(s))}return Se(s),null;case 5:if(gn(s),f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&Ds(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return Se(s),null}if(d=vt.current,fo(s))n0(s);else{var _=ch(Pt.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[ee]=s,d[Dt]=l;t:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break t;for(;_.sibling===null;){if(_.return===null||_.return===s)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=d;t:switch(bn(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Ds(s)}}return Se(s),Yd(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,a),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==l&&Ds(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(n=Pt.current,fo(s)){if(n=s.stateNode,a=s.memoizedProps,l=null,f=vn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[ee]=s,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||__(n.nodeValue,a)),n||ur(s,!0)}else n=ch(n).createTextNode(l),n[ee]=s,s.stateNode=n}return Se(s),null;case 31:if(a=s.memoizedState,n===null||n.memoizedState!==null){if(l=fo(s),a!==null){if(n===null){if(!l)throw Error(r(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(557));n[ee]=s}else ca(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Se(s),n=!1}else a=id(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return s.flags&256?(ai(s),s):(ai(s),null);if((s.flags&128)!==0)throw Error(r(558))}return Se(s),null;case 13:if(l=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=fo(s),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[ee]=s}else ca(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Se(s),f=!1}else f=id(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(ai(s),s):(ai(s),null)}return ai(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,n=n!==null&&n.memoizedState!==null,a&&(l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==n&&a&&(s.child.flags|=8192),Xc(s,s.updateQueue),Se(s),null);case 4:return me(),n===null&&pm(s.stateNode.containerInfo),Se(s),null;case 10:return xs(s.type),Se(s),null;case 19:if(tt(Ge),l=s.memoizedState,l===null)return Se(s),null;if(f=(s.flags&128)!==0,d=l.rendering,d===null)if(f)Gl(l,!1);else{if(Fe!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(d=kc(n),d!==null){for(s.flags|=128,Gl(l,!1),n=d.updateQueue,s.updateQueue=n,Xc(s,n),s.subtreeFlags=0,n=a,a=s.child;a!==null;)$y(a,n),a=a.sibling;return pt(Ge,Ge.current&1|2),te&&As(s,l.treeForkCount),s.child}n=n.sibling}l.tail!==null&&Ut()>th&&(s.flags|=128,f=!0,Gl(l,!1),s.lanes=4194304)}else{if(!f)if(n=kc(d),n!==null){if(s.flags|=128,f=!0,n=n.updateQueue,s.updateQueue=n,Xc(s,n),Gl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!te)return Se(s),null}else 2*Ut()-l.renderingStartTime>th&&a!==536870912&&(s.flags|=128,f=!0,Gl(l,!1),s.lanes=4194304);l.isBackwards?(d.sibling=s.child,s.child=d):(n=l.last,n!==null?n.sibling=d:s.child=d,l.last=d)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=Ut(),n.sibling=null,a=Ge.current,pt(Ge,f?a&1|2:a&1),te&&As(s,l.treeForkCount),n):(Se(s),null);case 22:case 23:return ai(s),gd(),l=s.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(Se(s),s.subtreeFlags&6&&(s.flags|=8192)):Se(s),a=s.updateQueue,a!==null&&Xc(s,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),n!==null&&tt(da),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),xs(We),Se(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function Ex(n,s){switch(ed(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return xs(We),me(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return gn(s),null;case 31:if(s.memoizedState!==null){if(ai(s),s.alternate===null)throw Error(r(340));ca()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(ai(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));ca()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return tt(Ge),null;case 4:return me(),null;case 10:return xs(s.type),null;case 22:case 23:return ai(s),gd(),n!==null&&tt(da),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return xs(We),null;case 25:return null;default:return null}}function Av(n,s){switch(ed(s),s.tag){case 3:xs(We),me();break;case 26:case 27:case 5:gn(s);break;case 4:me();break;case 31:s.memoizedState!==null&&ai(s);break;case 13:ai(s);break;case 19:tt(Ge);break;case 10:xs(s.type);break;case 22:case 23:ai(s),gd(),n!==null&&tt(da);break;case 24:xs(We)}}function Kl(n,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(S){de(s,s.return,S)}}function gr(n,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&n)===n){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,f=s;var M=a,q=S;try{q()}catch(Z){de(f,M,Z)}}}l=l.next}while(l!==d)}}catch(Z){de(s,s.return,Z)}}function wv(n){var s=n.updateQueue;if(s!==null){var a=n.stateNode;try{p0(s,a)}catch(l){de(n,n.return,l)}}}function xv(n,s,a){a.props=va(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){de(n,s,l)}}function Yl(n,s){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){de(n,s,f)}}function rs(n,s){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){de(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){de(n,s,f)}else a.current=null}function Rv(n){var s=n.type,a=n.memoizedProps,l=n.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){de(n,n.return,f)}}function Qd(n,s,a){try{var l=n.stateNode;qx(l,n.type,a,s),l[Dt]=s}catch(f){de(n,n.return,f)}}function Cv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Sr(n.type)||n.tag===4}function Xd(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||Cv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Sr(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Wd(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(n),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Pi));else if(l!==4&&(l===27&&Sr(n.type)&&(a=n.stateNode,s=null),n=n.child,n!==null))for(Wd(n,s,a),n=n.sibling;n!==null;)Wd(n,s,a),n=n.sibling}function Wc(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(l!==4&&(l===27&&Sr(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Wc(n,s,a),n=n.sibling;n!==null;)Wc(n,s,a),n=n.sibling}function Iv(n){var s=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);bn(s,l,a),s[ee]=n,s[Dt]=a}catch(d){de(n,n.return,d)}}var Ms=!1,Ze=!1,$d=!1,Dv=typeof WeakSet=="function"?WeakSet:Set,dn=null;function Sx(n,s){if(n=n.containerInfo,vm=yh,n=Fy(n),qf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else t:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,S=-1,M=-1,q=0,Z=0,at=n,Y=null;e:for(;;){for(var $;at!==a||f!==0&&at.nodeType!==3||(S=_+f),at!==d||l!==0&&at.nodeType!==3||(M=_+l),at.nodeType===3&&(_+=at.nodeValue.length),($=at.firstChild)!==null;)Y=at,at=$;for(;;){if(at===n)break e;if(Y===a&&++q===f&&(S=_),Y===d&&++Z===l&&(M=_),($=at.nextSibling)!==null)break;at=Y,Y=at.parentNode}at=$}a=S===-1||M===-1?null:{start:S,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(_m={focusedElem:n,selectionRange:a},yh=!1,dn=s;dn!==null;)if(s=dn,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,dn=n;else for(;dn!==null;){switch(s=dn,d=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)f=n[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=s,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Et=va(a.type,f);n=l.getSnapshotBeforeUpdate(Et,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(It){de(a,a.return,It)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,a=n.nodeType,a===9)Em(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Em(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,dn=n;break}dn=s.return}}function Mv(n,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Os(n,a),l&4&&Kl(5,a);break;case 1:if(Os(n,a),l&4)if(n=a.stateNode,s===null)try{n.componentDidMount()}catch(_){de(a,a.return,_)}else{var f=va(a.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(_){de(a,a.return,_)}}l&64&&wv(a),l&512&&Yl(a,a.return);break;case 3:if(Os(n,a),l&64&&(n=a.updateQueue,n!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{p0(n,s)}catch(_){de(a,a.return,_)}}break;case 27:s===null&&l&4&&Iv(a);case 26:case 5:Os(n,a),s===null&&l&4&&Rv(a),l&512&&Yl(a,a.return);break;case 12:Os(n,a);break;case 31:Os(n,a),l&4&&Nv(n,a);break;case 13:Os(n,a),l&4&&Pv(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=Vx.bind(null,a),Jx(n,a))));break;case 22:if(l=a.memoizedState!==null||Ms,!l){s=s!==null&&s.memoizedState!==null||Ze,f=Ms;var d=Ze;Ms=l,(Ze=s)&&!d?Ns(n,a,(a.subtreeFlags&8772)!==0):Os(n,a),Ms=f,Ze=d}break;case 30:break;default:Os(n,a)}}function Vv(n){var s=n.alternate;s!==null&&(n.alternate=null,Vv(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&ze(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Ie=null,qn=!1;function Vs(n,s,a){for(a=a.child;a!==null;)Ov(n,s,a),a=a.sibling}function Ov(n,s,a){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(Jn,a)}catch{}switch(a.tag){case 26:Ze||rs(a,s),Vs(n,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ze||rs(a,s);var l=Ie,f=qn;Sr(a.type)&&(Ie=a.stateNode,qn=!1),Vs(n,s,a),nu(a.stateNode),Ie=l,qn=f;break;case 5:Ze||rs(a,s);case 6:if(l=Ie,f=qn,Ie=null,Vs(n,s,a),Ie=l,qn=f,Ie!==null)if(qn)try{(Ie.nodeType===9?Ie.body:Ie.nodeName==="HTML"?Ie.ownerDocument.body:Ie).removeChild(a.stateNode)}catch(d){de(a,s,d)}else try{Ie.removeChild(a.stateNode)}catch(d){de(a,s,d)}break;case 18:Ie!==null&&(qn?(n=Ie,w_(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),No(n)):w_(Ie,a.stateNode));break;case 4:l=Ie,f=qn,Ie=a.stateNode.containerInfo,qn=!0,Vs(n,s,a),Ie=l,qn=f;break;case 0:case 11:case 14:case 15:gr(2,a,s),Ze||gr(4,a,s),Vs(n,s,a);break;case 1:Ze||(rs(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&xv(a,s,l)),Vs(n,s,a);break;case 21:Vs(n,s,a);break;case 22:Ze=(l=Ze)||a.memoizedState!==null,Vs(n,s,a),Ze=l;break;default:Vs(n,s,a)}}function Nv(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{No(n)}catch(a){de(s,s.return,a)}}}function Pv(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{No(n)}catch(a){de(s,s.return,a)}}function Ax(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new Dv),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new Dv),s;default:throw Error(r(435,n.tag))}}function $c(n,s){var a=Ax(n);s.forEach(function(l){if(!a.has(l)){a.add(l);var f=Ox.bind(null,n,l);l.then(f,f)}})}function Gn(n,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=n,_=s,S=_;t:for(;S!==null;){switch(S.tag){case 27:if(Sr(S.type)){Ie=S.stateNode,qn=!1;break t}break;case 5:Ie=S.stateNode,qn=!1;break t;case 3:case 4:Ie=S.stateNode.containerInfo,qn=!0;break t}S=S.return}if(Ie===null)throw Error(r(160));Ov(d,_,f),Ie=null,qn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)kv(s,n),s=s.sibling}var Bi=null;function kv(n,s){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Gn(s,n),Kn(n),l&4&&(gr(3,n,n.return),Kl(3,n),gr(5,n,n.return));break;case 1:Gn(s,n),Kn(n),l&512&&(Ze||a===null||rs(a,a.return)),l&64&&Ms&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Bi;if(Gn(s,n),Kn(n),l&512&&(Ze||a===null||rs(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){t:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[mi]||d[ee]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),bn(d,l,a),d[ee]=n,Ne(d),l=d;break t;case"link":var _=k_("link","href",f).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break e}}d=f.createElement(l),bn(d,l,a),f.head.appendChild(d);break;case"meta":if(_=k_("meta","content",f).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break e}}d=f.createElement(l),bn(d,l,a),f.head.appendChild(d);break;default:throw Error(r(468,l))}d[ee]=n,Ne(d),l=d}n.stateNode=l}else j_(f,n.type,n.stateNode);else n.stateNode=P_(f,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?j_(f,n.type,n.stateNode):P_(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Qd(n,n.memoizedProps,a.memoizedProps)}break;case 27:Gn(s,n),Kn(n),l&512&&(Ze||a===null||rs(a,a.return)),a!==null&&l&4&&Qd(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Gn(s,n),Kn(n),l&512&&(Ze||a===null||rs(a,a.return)),n.flags&32){f=n.stateNode;try{Hn(f,"")}catch(Et){de(n,n.return,Et)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,Qd(n,f,a!==null?a.memoizedProps:f)),l&1024&&($d=!0);break;case 6:if(Gn(s,n),Kn(n),l&4){if(n.stateNode===null)throw Error(r(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(Et){de(n,n.return,Et)}}break;case 3:if(dh=null,f=Bi,Bi=hh(s.containerInfo),Gn(s,n),Bi=f,Kn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{No(s.containerInfo)}catch(Et){de(n,n.return,Et)}$d&&($d=!1,jv(n));break;case 4:l=Bi,Bi=hh(n.stateNode.containerInfo),Gn(s,n),Kn(n),Bi=l;break;case 12:Gn(s,n),Kn(n);break;case 31:Gn(s,n),Kn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,$c(n,l)));break;case 13:Gn(s,n),Kn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Zc=Ut()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,$c(n,l)));break;case 22:f=n.memoizedState!==null;var M=a!==null&&a.memoizedState!==null,q=Ms,Z=Ze;if(Ms=q||f,Ze=Z||M,Gn(s,n),Ze=Z,Ms=q,Kn(n),l&8192)t:for(s=n.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||M||Ms||Ze||_a(n)),a=null,s=n;;){if(s.tag===5||s.tag===26){if(a===null){M=a=s;try{if(d=M.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=M.stateNode;var at=M.memoizedProps.style,Y=at!=null&&at.hasOwnProperty("display")?at.display:null;S.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(Et){de(M,M.return,Et)}}}else if(s.tag===6){if(a===null){M=s;try{M.stateNode.nodeValue=f?"":M.memoizedProps}catch(Et){de(M,M.return,Et)}}}else if(s.tag===18){if(a===null){M=s;try{var $=M.stateNode;f?x_($,!0):x_(M.stateNode,!1)}catch(Et){de(M,M.return,Et)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break t;for(;s.sibling===null;){if(s.return===null||s.return===n)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,$c(n,a))));break;case 19:Gn(s,n),Kn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,$c(n,l)));break;case 30:break;case 21:break;default:Gn(s,n),Kn(n)}}function Kn(n){var s=n.flags;if(s&2){try{for(var a,l=n.return;l!==null;){if(Cv(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,d=Xd(n);Wc(n,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(Hn(_,""),a.flags&=-33);var S=Xd(n);Wc(n,S,_);break;case 3:case 4:var M=a.stateNode.containerInfo,q=Xd(n);Wd(n,q,M);break;default:throw Error(r(161))}}catch(Z){de(n,n.return,Z)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function jv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;jv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Os(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Mv(n,s.alternate,s),s=s.sibling}function _a(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:gr(4,s,s.return),_a(s);break;case 1:rs(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&xv(s,s.return,a),_a(s);break;case 27:nu(s.stateNode);case 26:case 5:rs(s,s.return),_a(s);break;case 22:s.memoizedState===null&&_a(s);break;case 30:_a(s);break;default:_a(s)}n=n.sibling}}function Ns(n,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=n,d=s,_=d.flags;switch(d.tag){case 0:case 11:case 15:Ns(f,d,a),Kl(4,d);break;case 1:if(Ns(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(q){de(l,l.return,q)}if(l=d,f=l.updateQueue,f!==null){var S=l.stateNode;try{var M=f.shared.hiddenCallbacks;if(M!==null)for(f.shared.hiddenCallbacks=null,f=0;f<M.length;f++)m0(M[f],S)}catch(q){de(l,l.return,q)}}a&&_&64&&wv(d),Yl(d,d.return);break;case 27:Iv(d);case 26:case 5:Ns(f,d,a),a&&l===null&&_&4&&Rv(d),Yl(d,d.return);break;case 12:Ns(f,d,a);break;case 31:Ns(f,d,a),a&&_&4&&Nv(f,d);break;case 13:Ns(f,d,a),a&&_&4&&Pv(f,d);break;case 22:d.memoizedState===null&&Ns(f,d,a),Yl(d,d.return);break;case 30:break;default:Ns(f,d,a)}s=s.sibling}}function Jd(n,s){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Ol(a))}function Zd(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Ol(n))}function Fi(n,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Lv(n,s,a,l),s=s.sibling}function Lv(n,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Fi(n,s,a,l),f&2048&&Kl(9,s);break;case 1:Fi(n,s,a,l);break;case 3:Fi(n,s,a,l),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Ol(n)));break;case 12:if(f&2048){Fi(n,s,a,l),n=s.stateNode;try{var d=s.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(M){de(s,s.return,M)}}else Fi(n,s,a,l);break;case 31:Fi(n,s,a,l);break;case 13:Fi(n,s,a,l);break;case 23:break;case 22:d=s.stateNode,_=s.alternate,s.memoizedState!==null?d._visibility&2?Fi(n,s,a,l):Ql(n,s):d._visibility&2?Fi(n,s,a,l):(d._visibility|=2,So(n,s,a,l,(s.subtreeFlags&10256)!==0||!1)),f&2048&&Jd(_,s);break;case 24:Fi(n,s,a,l),f&2048&&Zd(s.alternate,s);break;default:Fi(n,s,a,l)}}function So(n,s,a,l,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var d=n,_=s,S=a,M=l,q=_.flags;switch(_.tag){case 0:case 11:case 15:So(d,_,S,M,f),Kl(8,_);break;case 23:break;case 22:var Z=_.stateNode;_.memoizedState!==null?Z._visibility&2?So(d,_,S,M,f):Ql(d,_):(Z._visibility|=2,So(d,_,S,M,f)),f&&q&2048&&Jd(_.alternate,_);break;case 24:So(d,_,S,M,f),f&&q&2048&&Zd(_.alternate,_);break;default:So(d,_,S,M,f)}s=s.sibling}}function Ql(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=n,l=s,f=l.flags;switch(l.tag){case 22:Ql(a,l),f&2048&&Jd(l.alternate,l);break;case 24:Ql(a,l),f&2048&&Zd(l.alternate,l);break;default:Ql(a,l)}s=s.sibling}}var Xl=8192;function Ao(n,s,a){if(n.subtreeFlags&Xl)for(n=n.child;n!==null;)Uv(n,s,a),n=n.sibling}function Uv(n,s,a){switch(n.tag){case 26:Ao(n,s,a),n.flags&Xl&&n.memoizedState!==null&&cR(a,Bi,n.memoizedState,n.memoizedProps);break;case 5:Ao(n,s,a);break;case 3:case 4:var l=Bi;Bi=hh(n.stateNode.containerInfo),Ao(n,s,a),Bi=l;break;case 22:n.memoizedState===null&&(l=n.alternate,l!==null&&l.memoizedState!==null?(l=Xl,Xl=16777216,Ao(n,s,a),Xl=l):Ao(n,s,a));break;default:Ao(n,s,a)}}function zv(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Wl(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];dn=l,Fv(l,n)}zv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Bv(n),n=n.sibling}function Bv(n){switch(n.tag){case 0:case 11:case 15:Wl(n),n.flags&2048&&gr(9,n,n.return);break;case 3:Wl(n);break;case 12:Wl(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Jc(n)):Wl(n);break;default:Wl(n)}}function Jc(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];dn=l,Fv(l,n)}zv(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:gr(8,s,s.return),Jc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Jc(s));break;default:Jc(s)}n=n.sibling}}function Fv(n,s){for(;dn!==null;){var a=dn;switch(a.tag){case 0:case 11:case 15:gr(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ol(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,dn=l;else t:for(a=n;dn!==null;){l=dn;var f=l.sibling,d=l.return;if(Vv(l),l===a){dn=null;break t}if(f!==null){f.return=d,dn=f;break t}dn=d}}}var wx={getCacheForType:function(n){var s=_n(We),a=s.data.get(n);return a===void 0&&(a=n(),s.data.set(n,a)),a},cacheSignal:function(){return _n(We).controller.signal}},xx=typeof WeakMap=="function"?WeakMap:Map,ue=0,be=null,Yt=null,Xt=0,fe=0,oi=null,yr=!1,wo=!1,tm=!1,Ps=0,Fe=0,vr=0,Ta=0,em=0,li=0,xo=0,$l=null,Yn=null,nm=!1,Zc=0,Hv=0,th=1/0,eh=null,_r=null,an=0,Tr=null,Ro=null,ks=0,im=0,sm=null,qv=null,Jl=0,rm=null;function ui(){return(ue&2)!==0&&Xt!==0?Xt&-Xt:W.T!==null?hm():_t()}function Gv(){if(li===0)if((Xt&536870912)===0||te){var n=_s;_s<<=1,(_s&3932160)===0&&(_s=262144),li=n}else li=536870912;return n=ri.current,n!==null&&(n.flags|=32),li}function Qn(n,s,a){(n===be&&(fe===2||fe===9)||n.cancelPendingCommit!==null)&&(Co(n,0),br(n,Xt,li,!1)),O(n,a),((ue&2)===0||n!==be)&&(n===be&&((ue&2)===0&&(Ta|=a),Fe===4&&br(n,Xt,li,!1)),as(n))}function Kv(n,s,a){if((ue&6)!==0)throw Error(r(327));var l=!a&&(s&127)===0&&(s&n.expiredLanes)===0||Zn(n,s),f=l?Ix(n,s):om(n,s,!0),d=l;do{if(f===0){wo&&!l&&br(n,s,0,!1);break}else{if(a=n.current.alternate,d&&!Rx(a)){f=om(n,s,!1),d=!1;continue}if(f===2){if(d=s,n.errorRecoveryDisabledLanes&d)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;t:{var S=n;f=$l;var M=S.current.memoizedState.isDehydrated;if(M&&(Co(S,_).flags|=256),_=om(S,_,!1),_!==2){if(tm&&!M){S.errorRecoveryDisabledLanes|=d,Ta|=d,f=4;break t}d=Yn,Yn=f,d!==null&&(Yn===null?Yn=d:Yn.push.apply(Yn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){Co(n,0),br(n,s,0,!0);break}t:{switch(l=n,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:br(l,s,li,!yr);break t;case 2:Yn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=Zc+300-Ut(),10<f)){if(br(l,s,li,!yr),fi(l,0,!0)!==0)break t;ks=s,l.timeoutHandle=S_(Yv.bind(null,l,a,Yn,eh,nm,s,li,Ta,xo,yr,d,"Throttled",-0,0),f);break t}Yv(l,a,Yn,eh,nm,s,li,Ta,xo,yr,d,null,-0,0)}}break}while(!0);as(n)}function Yv(n,s,a,l,f,d,_,S,M,q,Z,at,Y,$){if(n.timeoutHandle=-1,at=s.subtreeFlags,at&8192||(at&16785408)===16785408){at={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pi},Uv(s,d,at);var Et=(d&62914560)===d?Zc-Ut():(d&4194048)===d?Hv-Ut():0;if(Et=hR(at,Et),Et!==null){ks=d,n.cancelPendingCommit=Et(e_.bind(null,n,s,d,a,l,f,_,S,M,Z,at,null,Y,$)),br(n,d,_,!q);return}}e_(n,s,d,a,l,f,_,S,M)}function Rx(n){for(var s=n;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!ii(d(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function br(n,s,a,l){s&=~em,s&=~Ta,n.suspendedLanes|=s,n.pingedLanes&=~s,l&&(n.warmLanes|=s),l=n.expirationTimes;for(var f=s;0<f;){var d=31-Oe(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Q(n,a,s)}function nh(){return(ue&6)===0?(Zl(0),!1):!0}function am(){if(Yt!==null){if(fe===0)var n=Yt.return;else n=Yt,ws=ha=null,Ed(n),vo=null,Pl=0,n=Yt;for(;n!==null;)Av(n.alternate,n),n=n.return;Yt=null}}function Co(n,s){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,Yx(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),ks=0,am(),be=n,Yt=a=Ss(n.current,null),Xt=s,fe=0,oi=null,yr=!1,wo=Zn(n,s),tm=!1,xo=li=em=Ta=vr=Fe=0,Yn=$l=null,nm=!1,(s&8)!==0&&(s|=s&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=s;0<l;){var f=31-Oe(l),d=1<<f;s|=n[f],l&=~d}return Ps=s,Sc(),a}function Qv(n,s){Bt=null,W.H=Hl,s===yo||s===Mc?(s=c0(),fe=3):s===cd?(s=c0(),fe=4):fe=s===Ld?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,oi=s,Yt===null&&(Fe=1,Gc(n,_i(s,n.current)))}function Xv(){var n=ri.current;return n===null?!0:(Xt&4194048)===Xt?Si===null:(Xt&62914560)===Xt||(Xt&536870912)!==0?n===Si:!1}function Wv(){var n=W.H;return W.H=Hl,n===null?Hl:n}function $v(){var n=W.A;return W.A=wx,n}function ih(){Fe=4,yr||(Xt&4194048)!==Xt&&ri.current!==null||(wo=!0),(vr&134217727)===0&&(Ta&134217727)===0||be===null||br(be,Xt,li,!1)}function om(n,s,a){var l=ue;ue|=2;var f=Wv(),d=$v();(be!==n||Xt!==s)&&(eh=null,Co(n,s)),s=!1;var _=Fe;t:do try{if(fe!==0&&Yt!==null){var S=Yt,M=oi;switch(fe){case 8:am(),_=6;break t;case 3:case 2:case 9:case 6:ri.current===null&&(s=!0);var q=fe;if(fe=0,oi=null,Io(n,S,M,q),a&&wo){_=0;break t}break;default:q=fe,fe=0,oi=null,Io(n,S,M,q)}}Cx(),_=Fe;break}catch(Z){Qv(n,Z)}while(!0);return s&&n.shellSuspendCounter++,ws=ha=null,ue=l,W.H=f,W.A=d,Yt===null&&(be=null,Xt=0,Sc()),_}function Cx(){for(;Yt!==null;)Jv(Yt)}function Ix(n,s){var a=ue;ue|=2;var l=Wv(),f=$v();be!==n||Xt!==s?(eh=null,th=Ut()+500,Co(n,s)):wo=Zn(n,s);t:do try{if(fe!==0&&Yt!==null){s=Yt;var d=oi;e:switch(fe){case 1:fe=0,oi=null,Io(n,s,d,1);break;case 2:case 9:if(l0(d)){fe=0,oi=null,Zv(s);break}s=function(){fe!==2&&fe!==9||be!==n||(fe=7),as(n)},d.then(s,s);break t;case 3:fe=7;break t;case 4:fe=5;break t;case 7:l0(d)?(fe=0,oi=null,Zv(s)):(fe=0,oi=null,Io(n,s,d,7));break;case 5:var _=null;switch(Yt.tag){case 26:_=Yt.memoizedState;case 5:case 27:var S=Yt;if(_?L_(_):S.stateNode.complete){fe=0,oi=null;var M=S.sibling;if(M!==null)Yt=M;else{var q=S.return;q!==null?(Yt=q,sh(q)):Yt=null}break e}}fe=0,oi=null,Io(n,s,d,5);break;case 6:fe=0,oi=null,Io(n,s,d,6);break;case 8:am(),Fe=6;break t;default:throw Error(r(462))}}Dx();break}catch(Z){Qv(n,Z)}while(!0);return ws=ha=null,W.H=l,W.A=f,ue=a,Yt!==null?0:(be=null,Xt=0,Sc(),Fe)}function Dx(){for(;Yt!==null&&!Xr();)Jv(Yt)}function Jv(n){var s=Ev(n.alternate,n,Ps);n.memoizedProps=n.pendingProps,s===null?sh(n):Yt=s}function Zv(n){var s=n,a=s.alternate;switch(s.tag){case 15:case 0:s=gv(a,s,s.pendingProps,s.type,void 0,Xt);break;case 11:s=gv(a,s,s.pendingProps,s.type.render,s.ref,Xt);break;case 5:Ed(s);default:Av(a,s),s=Yt=$y(s,Ps),s=Ev(a,s,Ps)}n.memoizedProps=n.pendingProps,s===null?sh(n):Yt=s}function Io(n,s,a,l){ws=ha=null,Ed(s),vo=null,Pl=0;var f=s.return;try{if(vx(n,f,s,a,Xt)){Fe=1,Gc(n,_i(a,n.current)),Yt=null;return}}catch(d){if(f!==null)throw Yt=f,d;Fe=1,Gc(n,_i(a,n.current)),Yt=null;return}s.flags&32768?(te||l===1?n=!0:wo||(Xt&536870912)!==0?n=!1:(yr=n=!0,(l===2||l===9||l===3||l===6)&&(l=ri.current,l!==null&&l.tag===13&&(l.flags|=16384))),t_(s,n)):sh(s)}function sh(n){var s=n;do{if((s.flags&32768)!==0){t_(s,yr);return}n=s.return;var a=bx(s.alternate,s,Ps);if(a!==null){Yt=a;return}if(s=s.sibling,s!==null){Yt=s;return}Yt=s=n}while(s!==null);Fe===0&&(Fe=5)}function t_(n,s){do{var a=Ex(n.alternate,n);if(a!==null){a.flags&=32767,Yt=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(n=n.sibling,n!==null)){Yt=n;return}Yt=n=a}while(n!==null);Fe=6,Yt=null}function e_(n,s,a,l,f,d,_,S,M){n.cancelPendingCommit=null;do rh();while(an!==0);if((ue&6)!==0)throw Error(r(327));if(s!==null){if(s===n.current)throw Error(r(177));if(d=s.lanes|s.childLanes,d|=Xf,rt(n,a,d,_,S,M),n===be&&(Yt=be=null,Xt=0),Ro=s,Tr=n,ks=a,im=d,sm=f,qv=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,Nx(Te,function(){return a_(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=W.T,W.T=null,f=st.p,st.p=2,_=ue,ue|=4;try{Sx(n,s,a)}finally{ue=_,st.p=f,W.T=l}}an=1,n_(),i_(),s_()}}function n_(){if(an===1){an=0;var n=Tr,s=Ro,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var l=st.p;st.p=2;var f=ue;ue|=4;try{kv(s,n);var d=_m,_=Fy(n.containerInfo),S=d.focusedElem,M=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&By(S.ownerDocument.documentElement,S)){if(M!==null&&qf(S)){var q=M.start,Z=M.end;if(Z===void 0&&(Z=q),"selectionStart"in S)S.selectionStart=q,S.selectionEnd=Math.min(Z,S.value.length);else{var at=S.ownerDocument||document,Y=at&&at.defaultView||window;if(Y.getSelection){var $=Y.getSelection(),Et=S.textContent.length,It=Math.min(M.start,Et),_e=M.end===void 0?It:Math.min(M.end,Et);!$.extend&&It>_e&&(_=_e,_e=It,It=_);var B=zy(S,It),j=zy(S,_e);if(B&&j&&($.rangeCount!==1||$.anchorNode!==B.node||$.anchorOffset!==B.offset||$.focusNode!==j.node||$.focusOffset!==j.offset)){var H=at.createRange();H.setStart(B.node,B.offset),$.removeAllRanges(),It>_e?($.addRange(H),$.extend(j.node,j.offset)):(H.setEnd(j.node,j.offset),$.addRange(H))}}}}for(at=[],$=S;$=$.parentNode;)$.nodeType===1&&at.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<at.length;S++){var nt=at[S];nt.element.scrollLeft=nt.left,nt.element.scrollTop=nt.top}}yh=!!vm,_m=vm=null}finally{ue=f,st.p=l,W.T=a}}n.current=s,an=2}}function i_(){if(an===2){an=0;var n=Tr,s=Ro,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var l=st.p;st.p=2;var f=ue;ue|=4;try{Mv(n,s.alternate,s)}finally{ue=f,st.p=l,W.T=a}}an=3}}function s_(){if(an===4||an===3){an=0,bt();var n=Tr,s=Ro,a=ks,l=qv;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?an=5:(an=0,Ro=Tr=null,r_(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(_r=null),ht(a),s=s.stateNode,sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(Jn,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=W.T,f=st.p,st.p=2,W.T=null;try{for(var d=n.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{W.T=s,st.p=f}}(ks&3)!==0&&rh(),as(n),f=n.pendingLanes,(a&261930)!==0&&(f&42)!==0?n===rm?Jl++:(Jl=0,rm=n):Jl=0,Zl(0)}}function r_(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Ol(s)))}function rh(){return n_(),i_(),s_(),a_()}function a_(){if(an!==5)return!1;var n=Tr,s=im;im=0;var a=ht(ks),l=W.T,f=st.p;try{st.p=32>a?32:a,W.T=null,a=sm,sm=null;var d=Tr,_=ks;if(an=0,Ro=Tr=null,ks=0,(ue&6)!==0)throw Error(r(331));var S=ue;if(ue|=4,Bv(d.current),Lv(d,d.current,_,a),ue=S,Zl(0,!1),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(Jn,d)}catch{}return!0}finally{st.p=f,W.T=l,r_(n,s)}}function o_(n,s,a){s=_i(a,s),s=jd(n.stateNode,s,2),n=dr(n,s,2),n!==null&&(O(n,2),as(n))}function de(n,s,a){if(n.tag===3)o_(n,n,a);else for(;s!==null;){if(s.tag===3){o_(s,n,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(_r===null||!_r.has(l))){n=_i(a,n),a=lv(2),l=dr(s,a,2),l!==null&&(uv(a,l,s,n),O(l,2),as(l));break}}s=s.return}}function lm(n,s,a){var l=n.pingCache;if(l===null){l=n.pingCache=new xx;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(tm=!0,f.add(a),n=Mx.bind(null,n,s,a),s.then(n,n))}function Mx(n,s,a){var l=n.pingCache;l!==null&&l.delete(s),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,be===n&&(Xt&a)===a&&(Fe===4||Fe===3&&(Xt&62914560)===Xt&&300>Ut()-Zc?(ue&2)===0&&Co(n,0):em|=a,xo===Xt&&(xo=0)),as(n)}function l_(n,s){s===0&&(s=Ka()),n=la(n,s),n!==null&&(O(n,s),as(n))}function Vx(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),l_(n,a)}function Ox(n,s){var a=0;switch(n.tag){case 31:case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),l_(n,a)}function Nx(n,s){return Ve(n,s)}var ah=null,Do=null,um=!1,oh=!1,cm=!1,Er=0;function as(n){n!==Do&&n.next===null&&(Do===null?ah=Do=n:Do=Do.next=n),oh=!0,um||(um=!0,kx())}function Zl(n,s){if(!cm&&oh){cm=!0;do for(var a=!1,l=ah;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-Oe(42|n)+1)-1,d&=f&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,f_(l,d))}else d=Xt,d=fi(l,l===be?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Zn(l,d)||(a=!0,f_(l,d));l=l.next}while(a);cm=!1}}function Px(){u_()}function u_(){oh=um=!1;var n=0;Er!==0&&Kx()&&(n=Er);for(var s=Ut(),a=null,l=ah;l!==null;){var f=l.next,d=c_(l,s);d===0?(l.next=null,a===null?ah=f:a.next=f,f===null&&(Do=a)):(a=l,(n!==0||(d&3)!==0)&&(oh=!0)),l=f}an!==0&&an!==5||Zl(n),Er!==0&&(Er=0)}function c_(n,s){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var _=31-Oe(d),S=1<<_,M=f[_];M===-1?((S&a)===0||(S&l)!==0)&&(f[_]=ti(S,s)):M<=s&&(n.expiredLanes|=S),d&=~S}if(s=be,a=Xt,a=fi(n,n===s?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===s&&(fe===2||fe===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&ci(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Zn(n,a)){if(s=a&-a,s===n.callbackPriority)return s;switch(l!==null&&ci(l),ht(a)){case 2:case 8:a=se;break;case 32:a=Te;break;case 268435456:a=Ba;break;default:a=Te}return l=h_.bind(null,n),a=Ve(a,l),n.callbackPriority=s,n.callbackNode=a,s}return l!==null&&l!==null&&ci(l),n.callbackPriority=2,n.callbackNode=null,2}function h_(n,s){if(an!==0&&an!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(rh()&&n.callbackNode!==a)return null;var l=Xt;return l=fi(n,n===be?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(Kv(n,l,s),c_(n,Ut()),n.callbackNode!=null&&n.callbackNode===a?h_.bind(null,n):null)}function f_(n,s){if(rh())return null;Kv(n,s,!0)}function kx(){Qx(function(){(ue&6)!==0?Ve(Pn,Px):u_()})}function hm(){if(Er===0){var n=po;n===0&&(n=hi,hi<<=1,(hi&261888)===0&&(hi=256)),Er=n}return Er}function d_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Za(""+n)}function m_(n,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,n.id&&a.setAttribute("form",n.id),s.parentNode.insertBefore(a,s),n=new FormData(n),a.parentNode.removeChild(a),n}function jx(n,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var d=d_((f[Dt]||null).action),_=l.submitter;_&&(s=(s=_[Dt]||null)?d_(s.formAction):_.getAttribute("formAction"),s!==null&&(d=s,_=null));var S=new Zi("action","action",null,l,f);n.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Er!==0){var M=_?m_(f,_):new FormData(f);Md(a,{pending:!0,data:M,method:f.method,action:d},null,M)}}else typeof d=="function"&&(S.preventDefault(),M=_?m_(f,_):new FormData(f),Md(a,{pending:!0,data:M,method:f.method,action:d},d,M))},currentTarget:f}]})}}for(var fm=0;fm<Qf.length;fm++){var dm=Qf[fm],Lx=dm.toLowerCase(),Ux=dm[0].toUpperCase()+dm.slice(1);zi(Lx,"on"+Ux)}zi(Gy,"onAnimationEnd"),zi(Ky,"onAnimationIteration"),zi(Yy,"onAnimationStart"),zi("dblclick","onDoubleClick"),zi("focusin","onFocus"),zi("focusout","onBlur"),zi(ex,"onTransitionRun"),zi(nx,"onTransitionStart"),zi(ix,"onTransitionCancel"),zi(Qy,"onTransitionEnd"),Cn("onMouseEnter",["mouseout","mouseover"]),Cn("onMouseLeave",["mouseout","mouseover"]),Cn("onPointerEnter",["pointerout","pointerover"]),Cn("onPointerLeave",["pointerout","pointerover"]),pe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pe("onBeforeInput",["compositionend","keypress","textInput","paste"]),pe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tu));function p_(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;t:{var d=void 0;if(s)for(var _=l.length-1;0<=_;_--){var S=l[_],M=S.instance,q=S.currentTarget;if(S=S.listener,M!==d&&f.isPropagationStopped())break t;d=S,f.currentTarget=q;try{d(f)}catch(Z){Ec(Z)}f.currentTarget=null,d=M}else for(_=0;_<l.length;_++){if(S=l[_],M=S.instance,q=S.currentTarget,S=S.listener,M!==d&&f.isPropagationStopped())break t;d=S,f.currentTarget=q;try{d(f)}catch(Z){Ec(Z)}f.currentTarget=null,d=M}}}}function Qt(n,s){var a=s[cn];a===void 0&&(a=s[cn]=new Set);var l=n+"__bubble";a.has(l)||(g_(s,n,2,!1),a.add(l))}function mm(n,s,a){var l=0;s&&(l|=4),g_(a,n,l,s)}var lh="_reactListening"+Math.random().toString(36).slice(2);function pm(n){if(!n[lh]){n[lh]=!0,Xa.forEach(function(a){a!=="selectionchange"&&(zx.has(a)||mm(a,!1,n),mm(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[lh]||(s[lh]=!0,mm("selectionchange",!1,s))}}function g_(n,s,a,l){switch(G_(s)){case 2:var f=mR;break;case 8:f=pR;break;default:f=Dm}a=f.bind(null,s,a,n),f=void 0,!ta||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(s,a,{capture:!0,passive:f}):n.addEventListener(s,a,!0):f!==void 0?n.addEventListener(s,a,{passive:f}):n.addEventListener(s,a,!1)}function gm(n,s,a,l,f){var d=l;if((s&1)===0&&(s&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===f)break;if(_===4)for(_=l.return;_!==null;){var M=_.tag;if((M===3||M===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;S!==null;){if(_=Rn(S),_===null)return;if(M=_.tag,M===5||M===6||M===26||M===27){l=d=_;continue t}S=S.parentNode}}l=l.return}ir(function(){var q=d,Z=pi(a),at=[];t:{var Y=Xy.get(n);if(Y!==void 0){var $=Zi,Et=n;switch(n){case"keypress":if(na(a)===0)break t;case"keydown":case"keyup":$=_c;break;case"focusin":Et="focus",$=sa;break;case"focusout":Et="blur",$=sa;break;case"beforeblur":case"afterblur":$=sa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=wl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=cc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=y;break;case Gy:case Ky:case Yy:$=fc;break;case Qy:$=x;break;case"scroll":case"scrollend":$=Al;break;case"wheel":$=X;break;case"copy":case"cut":case"paste":$=dc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Es;break;case"toggle":case"beforetoggle":$=zt}var It=(s&4)!==0,_e=!It&&(n==="scroll"||n==="scrollend"),B=It?Y!==null?Y+"Capture":null:Y;It=[];for(var j=q,H;j!==null;){var nt=j;if(H=nt.stateNode,nt=nt.tag,nt!==5&&nt!==26&&nt!==27||H===null||B===null||(nt=ki(j,B),nt!=null&&It.push(eu(j,nt,H))),_e)break;j=j.return}0<It.length&&(Y=new $(Y,Et,null,a,Z),at.push({event:Y,listeners:It}))}}if((s&7)===0){t:{if(Y=n==="mouseover"||n==="pointerover",$=n==="mouseout"||n==="pointerout",Y&&a!==bl&&(Et=a.relatedTarget||a.fromElement)&&(Rn(Et)||Et[Kt]))break t;if(($||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,$?(Et=a.relatedTarget||a.toElement,$=q,Et=Et?Rn(Et):null,Et!==null&&(_e=u(Et),It=Et.tag,Et!==_e||It!==5&&It!==27&&It!==6)&&(Et=null)):($=null,Et=q),$!==Et)){if(It=wl,nt="onMouseLeave",B="onMouseEnter",j="mouse",(n==="pointerout"||n==="pointerover")&&(It=Es,nt="onPointerLeave",B="onPointerEnter",j="pointer"),_e=$==null?Y:rn($),H=Et==null?Y:rn(Et),Y=new It(nt,j+"leave",$,a,Z),Y.target=_e,Y.relatedTarget=H,nt=null,Rn(Z)===q&&(It=new It(B,j+"enter",Et,a,Z),It.target=H,It.relatedTarget=_e,nt=It),_e=nt,$&&Et)e:{for(It=Bx,B=$,j=Et,H=0,nt=B;nt;nt=It(nt))H++;nt=0;for(var wt=j;wt;wt=It(wt))nt++;for(;0<H-nt;)B=It(B),H--;for(;0<nt-H;)j=It(j),nt--;for(;H--;){if(B===j||j!==null&&B===j.alternate){It=B;break e}B=It(B),j=It(j)}It=null}else It=null;$!==null&&y_(at,Y,$,It,!1),Et!==null&&_e!==null&&y_(at,_e,Et,It,!0)}}t:{if(Y=q?rn(q):window,$=Y.nodeName&&Y.nodeName.toLowerCase(),$==="select"||$==="input"&&Y.type==="file")var ae=Ny;else if(Vy(Y))if(Py)ae=Jw;else{ae=Ww;var St=Xw}else $=Y.nodeName,!$||$.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?q&&Ja(q.elementType)&&(ae=Ny):ae=$w;if(ae&&(ae=ae(n,q))){Oy(at,ae,a,Z);break t}St&&St(n,Y,q),n==="focusout"&&q&&Y.type==="number"&&q.memoizedProps.value!=null&&vl(Y,"number",Y.value)}switch(St=q?rn(q):window,n){case"focusin":(Vy(St)||St.contentEditable==="true")&&(ao=St,Gf=q,Dl=null);break;case"focusout":Dl=Gf=ao=null;break;case"mousedown":Kf=!0;break;case"contextmenu":case"mouseup":case"dragend":Kf=!1,Hy(at,a,Z);break;case"selectionchange":if(tx)break;case"keydown":case"keyup":Hy(at,a,Z)}var Ft;if(le)t:{switch(n){case"compositionstart":var Wt="onCompositionStart";break t;case"compositionend":Wt="onCompositionEnd";break t;case"compositionupdate":Wt="onCompositionUpdate";break t}Wt=void 0}else ro?ra(n,a)&&(Wt="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Wt="onCompositionStart");Wt&&(ns&&a.locale!=="ko"&&(ro||Wt!=="onCompositionStart"?Wt==="onCompositionEnd"&&ro&&(Ft=Sl()):(Ji=Z,El="value"in Ji?Ji.value:Ji.textContent,ro=!0)),St=uh(q,Wt),0<St.length&&(Wt=new es(Wt,n,null,a,Z),at.push({event:Wt,listeners:St}),Ft?Wt.data=Ft:(Ft=so(a),Ft!==null&&(Wt.data=Ft)))),(Ft=yi?Gw(n,a):Kw(n,a))&&(Wt=uh(q,"onBeforeInput"),0<Wt.length&&(St=new es("onBeforeInput","beforeinput",null,a,Z),at.push({event:St,listeners:Wt}),St.data=Ft)),jx(at,n,q,a,Z)}p_(at,s)})}function eu(n,s,a){return{instance:n,listener:s,currentTarget:a}}function uh(n,s){for(var a=s+"Capture",l=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ki(n,a),f!=null&&l.unshift(eu(n,f,d)),f=ki(n,s),f!=null&&l.push(eu(n,f,d))),n.tag===3)return l;n=n.return}return[]}function Bx(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function y_(n,s,a,l,f){for(var d=s._reactName,_=[];a!==null&&a!==l;){var S=a,M=S.alternate,q=S.stateNode;if(S=S.tag,M!==null&&M===l)break;S!==5&&S!==26&&S!==27||q===null||(M=q,f?(q=ki(a,d),q!=null&&_.unshift(eu(a,q,M))):f||(q=ki(a,d),q!=null&&_.push(eu(a,q,M)))),a=a.return}_.length!==0&&n.push({event:s,listeners:_})}var Fx=/\r\n?/g,Hx=/\u0000|\uFFFD/g;function v_(n){return(typeof n=="string"?n:""+n).replace(Fx,`
`).replace(Hx,"")}function __(n,s){return s=v_(s),v_(n)===s}function ve(n,s,a,l,f,d){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||Hn(n,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&Hn(n,""+l);break;case"className":ni(n,"class",l);break;case"tabIndex":ni(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ni(n,a,l);break;case"style":Tl(n,l,d);break;case"data":if(s!=="object"){ni(n,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Za(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&ve(n,s,"name",f.name,f,null),ve(n,s,"formEncType",f.formEncType,f,null),ve(n,s,"formMethod",f.formMethod,f,null),ve(n,s,"formTarget",f.formTarget,f,null)):(ve(n,s,"encType",f.encType,f,null),ve(n,s,"method",f.method,f,null),ve(n,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Za(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Pi);break;case"onScroll":l!=null&&Qt("scroll",n);break;case"onScrollEnd":l!=null&&Qt("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Za(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Qt("beforetoggle",n),Qt("toggle",n),Wa(n,"popover",l);break;case"xlinkActuate":Xe(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Xe(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Xe(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Xe(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Xe(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Xe(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Xe(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Xe(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Xe(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Wa(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=uc.get(a)||a,Wa(n,a,l))}}function ym(n,s,a,l,f,d){switch(a){case"style":Tl(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Hn(n,l):(typeof l=="number"||typeof l=="bigint")&&Hn(n,""+l);break;case"onScroll":l!=null&&Qt("scroll",n);break;case"onScrollEnd":l!=null&&Qt("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Pi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wr.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),d=n[Dt]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(s,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(s,l,f);break t}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Wa(n,a,l)}}}function bn(n,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qt("error",n),Qt("load",n);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ve(n,s,d,_,a,null)}}f&&ve(n,s,"srcSet",a.srcSet,a,null),l&&ve(n,s,"src",a.src,a,null);return;case"input":Qt("invalid",n);var S=d=_=f=null,M=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":f=Z;break;case"type":_=Z;break;case"checked":M=Z;break;case"defaultChecked":q=Z;break;case"value":d=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:ve(n,s,l,Z,a,null)}}ac(n,d,S,M,q,_,f,!1);return;case"select":Qt("invalid",n),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:ve(n,s,f,S,a,null)}s=d,a=_,n.multiple=!!l,s!=null?Zs(n,!!l,s,!1):a!=null&&Zs(n,!!l,a,!0);return;case"textarea":Qt("invalid",n),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":f=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:ve(n,s,_,S,a,null)}tr(n,l,f,d);return;case"option":for(M in a)if(a.hasOwnProperty(M)&&(l=a[M],l!=null))switch(M){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ve(n,s,M,l,a,null)}return;case"dialog":Qt("beforetoggle",n),Qt("toggle",n),Qt("cancel",n),Qt("close",n);break;case"iframe":case"object":Qt("load",n);break;case"video":case"audio":for(l=0;l<tu.length;l++)Qt(tu[l],n);break;case"image":Qt("error",n),Qt("load",n);break;case"details":Qt("toggle",n);break;case"embed":case"source":case"link":Qt("error",n),Qt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ve(n,s,q,l,a,null)}return;default:if(Ja(s)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&ym(n,s,Z,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&ve(n,s,S,l,a,null))}function qx(n,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,S=null,M=null,q=null,Z=null;for($ in a){var at=a[$];if(a.hasOwnProperty($)&&at!=null)switch($){case"checked":break;case"value":break;case"defaultValue":M=at;default:l.hasOwnProperty($)||ve(n,s,$,null,l,at)}}for(var Y in l){var $=l[Y];if(at=a[Y],l.hasOwnProperty(Y)&&($!=null||at!=null))switch(Y){case"type":d=$;break;case"name":f=$;break;case"checked":q=$;break;case"defaultChecked":Z=$;break;case"value":_=$;break;case"defaultValue":S=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,s));break;default:$!==at&&ve(n,s,Y,$,l,at)}}$a(n,_,S,M,q,Z,d,f);return;case"select":$=_=S=Y=null;for(d in a)if(M=a[d],a.hasOwnProperty(d)&&M!=null)switch(d){case"value":break;case"multiple":$=M;default:l.hasOwnProperty(d)||ve(n,s,d,null,l,M)}for(f in l)if(d=l[f],M=a[f],l.hasOwnProperty(f)&&(d!=null||M!=null))switch(f){case"value":Y=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==M&&ve(n,s,f,d,l,M)}s=S,a=_,l=$,Y!=null?Zs(n,!!a,Y,!1):!!l!=!!a&&(s!=null?Zs(n,!!a,s,!0):Zs(n,!!a,a?[]:"",!1));return;case"textarea":$=Y=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:ve(n,s,S,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":Y=f;break;case"defaultValue":$=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&ve(n,s,_,f,l,d)}oc(n,Y,$);return;case"option":for(var Et in a)if(Y=a[Et],a.hasOwnProperty(Et)&&Y!=null&&!l.hasOwnProperty(Et))switch(Et){case"selected":n.selected=!1;break;default:ve(n,s,Et,null,l,Y)}for(M in l)if(Y=l[M],$=a[M],l.hasOwnProperty(M)&&Y!==$&&(Y!=null||$!=null))switch(M){case"selected":n.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:ve(n,s,M,Y,l,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var It in a)Y=a[It],a.hasOwnProperty(It)&&Y!=null&&!l.hasOwnProperty(It)&&ve(n,s,It,null,l,Y);for(q in l)if(Y=l[q],$=a[q],l.hasOwnProperty(q)&&Y!==$&&(Y!=null||$!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,s));break;default:ve(n,s,q,Y,l,$)}return;default:if(Ja(s)){for(var _e in a)Y=a[_e],a.hasOwnProperty(_e)&&Y!==void 0&&!l.hasOwnProperty(_e)&&ym(n,s,_e,void 0,l,Y);for(Z in l)Y=l[Z],$=a[Z],!l.hasOwnProperty(Z)||Y===$||Y===void 0&&$===void 0||ym(n,s,Z,Y,l,$);return}}for(var B in a)Y=a[B],a.hasOwnProperty(B)&&Y!=null&&!l.hasOwnProperty(B)&&ve(n,s,B,null,l,Y);for(at in l)Y=l[at],$=a[at],!l.hasOwnProperty(at)||Y===$||Y==null&&$==null||ve(n,s,at,Y,l,$)}function T_(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Gx(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,S=f.duration;if(d&&S&&T_(_)){for(_=0,S=f.responseEnd,l+=1;l<a.length;l++){var M=a[l],q=M.startTime;if(q>S)break;var Z=M.transferSize,at=M.initiatorType;Z&&T_(at)&&(M=M.responseEnd,_+=Z*(M<S?1:(S-q)/(M-q)))}if(--l,s+=8*(d+_)/(f.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var vm=null,_m=null;function ch(n){return n.nodeType===9?n:n.ownerDocument}function b_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function E_(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Tm(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var bm=null;function Kx(){var n=window.event;return n&&n.type==="popstate"?n===bm?!1:(bm=n,!0):(bm=null,!1)}var S_=typeof setTimeout=="function"?setTimeout:void 0,Yx=typeof clearTimeout=="function"?clearTimeout:void 0,A_=typeof Promise=="function"?Promise:void 0,Qx=typeof queueMicrotask=="function"?queueMicrotask:typeof A_<"u"?function(n){return A_.resolve(null).then(n).catch(Xx)}:S_;function Xx(n){setTimeout(function(){throw n})}function Sr(n){return n==="head"}function w_(n,s){var a=s,l=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){n.removeChild(f),No(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")nu(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,nu(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[mi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&nu(n.ownerDocument.body);a=f}while(a);No(s)}function x_(n,s){var a=n;n=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=l}while(a)}function Em(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Em(a),ze(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function Wx(n,s,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[mi])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=Ai(n.nextSibling),n===null)break}return null}function $x(n,s,a){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Ai(n.nextSibling),n===null))return null;return n}function R_(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=Ai(n.nextSibling),n===null))return null;return n}function Sm(n){return n.data==="$?"||n.data==="$~"}function Am(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function Jx(n,s){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Ai(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var wm=null;function C_(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(s===0)return Ai(n.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}n=n.nextSibling}return null}function I_(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return n;s--}else a!=="/$"&&a!=="/&"||s++}n=n.previousSibling}return null}function D_(n,s,a){switch(s=ch(a),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function nu(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);ze(n)}var wi=new Map,M_=new Set;function hh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var js=st.d;st.d={f:Zx,r:tR,D:eR,C:nR,L:iR,m:sR,X:aR,S:rR,M:oR};function Zx(){var n=js.f(),s=nh();return n||s}function tR(n){var s=hn(n);s!==null&&s.tag===5&&s.type==="form"?Q0(s):js.r(n)}var Mo=typeof document>"u"?null:document;function V_(n,s,a){var l=Mo;if(l&&typeof s=="string"&&s){var f=Fn(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),M_.has(f)||(M_.add(f),n={rel:n,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),bn(s,"link",n),Ne(s),l.head.appendChild(s)))}}function eR(n){js.D(n),V_("dns-prefetch",n,null)}function nR(n,s){js.C(n,s),V_("preconnect",n,s)}function iR(n,s,a){js.L(n,s,a);var l=Mo;if(l&&n&&s){var f='link[rel="preload"][as="'+Fn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Fn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Fn(a.imageSizes)+'"]')):f+='[href="'+Fn(n)+'"]';var d=f;switch(s){case"style":d=Vo(n);break;case"script":d=Oo(n)}wi.has(d)||(n=b({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:n,as:s},a),wi.set(d,n),l.querySelector(f)!==null||s==="style"&&l.querySelector(iu(d))||s==="script"&&l.querySelector(su(d))||(s=l.createElement("link"),bn(s,"link",n),Ne(s),l.head.appendChild(s)))}}function sR(n,s){js.m(n,s);var a=Mo;if(a&&n){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+Fn(l)+'"][href="'+Fn(n)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Oo(n)}if(!wi.has(d)&&(n=b({rel:"modulepreload",href:n},s),wi.set(d,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(su(d)))return}l=a.createElement("link"),bn(l,"link",n),Ne(l),a.head.appendChild(l)}}}function rR(n,s,a){js.S(n,s,a);var l=Mo;if(l&&n){var f=ei(l).hoistableStyles,d=Vo(n);s=s||"default";var _=f.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(iu(d)))S.loading=5;else{n=b({rel:"stylesheet",href:n,"data-precedence":s},a),(a=wi.get(d))&&xm(n,a);var M=_=l.createElement("link");Ne(M),bn(M,"link",n),M._p=new Promise(function(q,Z){M.onload=q,M.onerror=Z}),M.addEventListener("load",function(){S.loading|=1}),M.addEventListener("error",function(){S.loading|=2}),S.loading|=4,fh(_,s,l)}_={type:"stylesheet",instance:_,count:1,state:S},f.set(d,_)}}}function aR(n,s){js.X(n,s);var a=Mo;if(a&&n){var l=ei(a).hoistableScripts,f=Oo(n),d=l.get(f);d||(d=a.querySelector(su(f)),d||(n=b({src:n,async:!0},s),(s=wi.get(f))&&Rm(n,s),d=a.createElement("script"),Ne(d),bn(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function oR(n,s){js.M(n,s);var a=Mo;if(a&&n){var l=ei(a).hoistableScripts,f=Oo(n),d=l.get(f);d||(d=a.querySelector(su(f)),d||(n=b({src:n,async:!0,type:"module"},s),(s=wi.get(f))&&Rm(n,s),d=a.createElement("script"),Ne(d),bn(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function O_(n,s,a,l){var f=(f=Pt.current)?hh(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Vo(a.href),a=ei(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Vo(a.href);var d=ei(f).hoistableStyles,_=d.get(n);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,_),(d=f.querySelector(iu(n)))&&!d._p&&(_.instance=d,_.state.loading=5),wi.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},wi.set(n,a),d||lR(f,n,a,_.state))),s&&l===null)throw Error(r(528,""));return _}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Oo(a),a=ei(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function Vo(n){return'href="'+Fn(n)+'"'}function iu(n){return'link[rel="stylesheet"]['+n+"]"}function N_(n){return b({},n,{"data-precedence":n.precedence,precedence:null})}function lR(n,s,a,l){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=n.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),bn(s,"link",a),Ne(s),n.head.appendChild(s))}function Oo(n){return'[src="'+Fn(n)+'"]'}function su(n){return"script[async]"+n}function P_(n,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=n.querySelector('style[data-href~="'+Fn(a.href)+'"]');if(l)return s.instance=l,Ne(l),l;var f=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),Ne(l),bn(l,"style",f),fh(l,a.precedence,n),s.instance=l;case"stylesheet":f=Vo(a.href);var d=n.querySelector(iu(f));if(d)return s.state.loading|=4,s.instance=d,Ne(d),d;l=N_(a),(f=wi.get(f))&&xm(l,f),d=(n.ownerDocument||n).createElement("link"),Ne(d);var _=d;return _._p=new Promise(function(S,M){_.onload=S,_.onerror=M}),bn(d,"link",l),s.state.loading|=4,fh(d,a.precedence,n),s.instance=d;case"script":return d=Oo(a.src),(f=n.querySelector(su(d)))?(s.instance=f,Ne(f),f):(l=a,(f=wi.get(d))&&(l=b({},a),Rm(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),Ne(f),bn(f,"link",l),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,fh(l,a.precedence,n));return s.instance}function fh(n,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===s)d=S;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(n,s.firstChild))}function xm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Rm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var dh=null;function k_(n,s,a){if(dh===null){var l=new Map,f=dh=new Map;f.set(a,l)}else f=dh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[mi]||d[ee]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(s)||"";_=n+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function j_(n,s,a){n=n.ownerDocument||n,n.head.insertBefore(a,s==="title"?n.querySelector("head > title"):null)}function uR(n,s,a){if(a===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function L_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function cR(n,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Vo(l.href),d=s.querySelector(iu(f));if(d){s=d._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=mh.bind(n),s.then(n,n)),a.state.loading|=4,a.instance=d,Ne(d);return}d=s.ownerDocument||s,l=N_(l),(f=wi.get(f))&&xm(l,f),d=d.createElement("link"),Ne(d);var _=d;_._p=new Promise(function(S,M){_.onload=S,_.onerror=M}),bn(d,"link",l),a.instance=d}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=mh.bind(n),s.addEventListener("load",a),s.addEventListener("error",a))}}var Cm=0;function hR(n,s){return n.stylesheets&&n.count===0&&gh(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var l=setTimeout(function(){if(n.stylesheets&&gh(n,n.stylesheets),n.unsuspend){var d=n.unsuspend;n.unsuspend=null,d()}},6e4+s);0<n.imgBytes&&Cm===0&&(Cm=62500*Gx());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&gh(n,n.stylesheets),n.unsuspend)){var d=n.unsuspend;n.unsuspend=null,d()}},(n.imgBytes>Cm?50:800)+s);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function mh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var ph=null;function gh(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,ph=new Map,s.forEach(fR,n),ph=null,mh.call(n))}function fR(n,s){if(!(s.state.loading&4)){var a=ph.get(n);if(a)var l=a.get(null);else{a=new Map,ph.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=s.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=mh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var ru={$$typeof:et,Provider:null,Consumer:null,_currentValue:yt,_currentValue2:yt,_threadCount:0};function dR(n,s,a,l,f,d,_,S,M){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=di(0),this.hiddenUpdates=di(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function U_(n,s,a,l,f,d,_,S,M,q,Z,at){return n=new dR(n,s,a,_,M,q,Z,at,S),s=1,d===!0&&(s|=24),d=si(3,null,null,s),n.current=d,d.stateNode=n,s=od(),s.refCount++,n.pooledCache=s,s.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:s},hd(d),n}function z_(n){return n?(n=uo,n):uo}function B_(n,s,a,l,f,d){f=z_(f),l.context===null?l.context=f:l.pendingContext=f,l=fr(s),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=dr(n,l,s),a!==null&&(Qn(a,n,s),jl(a,n,s))}function F_(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function Im(n,s){F_(n,s),(n=n.alternate)&&F_(n,s)}function H_(n){if(n.tag===13||n.tag===31){var s=la(n,67108864);s!==null&&Qn(s,n,67108864),Im(n,67108864)}}function q_(n){if(n.tag===13||n.tag===31){var s=ui();s=it(s);var a=la(n,s);a!==null&&Qn(a,n,s),Im(n,s)}}var yh=!0;function mR(n,s,a,l){var f=W.T;W.T=null;var d=st.p;try{st.p=2,Dm(n,s,a,l)}finally{st.p=d,W.T=f}}function pR(n,s,a,l){var f=W.T;W.T=null;var d=st.p;try{st.p=8,Dm(n,s,a,l)}finally{st.p=d,W.T=f}}function Dm(n,s,a,l){if(yh){var f=Mm(l);if(f===null)gm(n,s,l,vh,a),K_(n,l);else if(yR(f,n,s,a,l))l.stopPropagation();else if(K_(n,l),s&4&&-1<gR.indexOf(n)){for(;f!==null;){var d=hn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=un(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var M=1<<31-Oe(_);S.entanglements[1]|=M,_&=~M}as(d),(ue&6)===0&&(th=Ut()+500,Zl(0))}}break;case 31:case 13:S=la(d,2),S!==null&&Qn(S,d,2),nh(),Im(d,2)}if(d=Mm(l),d===null&&gm(n,s,l,vh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else gm(n,s,l,null,a)}}function Mm(n){return n=pi(n),Vm(n)}var vh=null;function Vm(n){if(vh=null,n=Rn(n),n!==null){var s=u(n);if(s===null)n=null;else{var a=s.tag;if(a===13){if(n=c(s),n!==null)return n;n=null}else if(a===31){if(n=m(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return vh=n,null}function G_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xn()){case Pn:return 2;case se:return 8;case Te:case zn:return 32;case Ba:return 268435456;default:return 32}default:return 32}}var Om=!1,Ar=null,wr=null,xr=null,au=new Map,ou=new Map,Rr=[],gR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function K_(n,s){switch(n){case"focusin":case"focusout":Ar=null;break;case"dragenter":case"dragleave":wr=null;break;case"mouseover":case"mouseout":xr=null;break;case"pointerover":case"pointerout":au.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ou.delete(s.pointerId)}}function lu(n,s,a,l,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},s!==null&&(s=hn(s),s!==null&&H_(s)),n):(n.eventSystemFlags|=l,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function yR(n,s,a,l,f){switch(s){case"focusin":return Ar=lu(Ar,n,s,a,l,f),!0;case"dragenter":return wr=lu(wr,n,s,a,l,f),!0;case"mouseover":return xr=lu(xr,n,s,a,l,f),!0;case"pointerover":var d=f.pointerId;return au.set(d,lu(au.get(d)||null,n,s,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,ou.set(d,lu(ou.get(d)||null,n,s,a,l,f)),!0}return!1}function Y_(n){var s=Rn(n.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){n.blockedOn=s,Gt(n.priority,function(){q_(a)});return}}else if(s===31){if(s=m(a),s!==null){n.blockedOn=s,Gt(n.priority,function(){q_(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function _h(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=Mm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);bl=l,a.target.dispatchEvent(l),bl=null}else return s=hn(a),s!==null&&H_(s),n.blockedOn=a,!1;s.shift()}return!0}function Q_(n,s,a){_h(n)&&a.delete(s)}function vR(){Om=!1,Ar!==null&&_h(Ar)&&(Ar=null),wr!==null&&_h(wr)&&(wr=null),xr!==null&&_h(xr)&&(xr=null),au.forEach(Q_),ou.forEach(Q_)}function Th(n,s){n.blockedOn===s&&(n.blockedOn=null,Om||(Om=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,vR)))}var bh=null;function X_(n){bh!==n&&(bh=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){bh===n&&(bh=null);for(var s=0;s<n.length;s+=3){var a=n[s],l=n[s+1],f=n[s+2];if(typeof l!="function"){if(Vm(l||a)===null)continue;break}var d=hn(a);d!==null&&(n.splice(s,3),s-=3,Md(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function No(n){function s(M){return Th(M,n)}Ar!==null&&Th(Ar,n),wr!==null&&Th(wr,n),xr!==null&&Th(xr,n),au.forEach(s),ou.forEach(s);for(var a=0;a<Rr.length;a++){var l=Rr[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Rr.length&&(a=Rr[0],a.blockedOn===null);)Y_(a),a.blockedOn===null&&Rr.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[Dt]||null;if(typeof d=="function")_||X_(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[Dt]||null)S=_.formAction;else if(Vm(f)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),X_(a)}}}function W_(){function n(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function Nm(n){this._internalRoot=n}Eh.prototype.render=Nm.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=ui();B_(a,l,n,s,null,null)},Eh.prototype.unmount=Nm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;B_(n.current,2,null,n,null,null),nh(),s[Kt]=null}};function Eh(n){this._internalRoot=n}Eh.prototype.unstable_scheduleHydration=function(n){if(n){var s=_t();n={blockedOn:null,target:n,priority:s};for(var a=0;a<Rr.length&&s!==0&&s<Rr[a].priority;a++);Rr.splice(a,0,n),a===0&&Y_(n)}};var $_=t.version;if($_!=="19.2.0")throw Error(r(527,$_,"19.2.0"));st.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=g(s),n=n!==null?v(n):null,n=n===null?null:n.stateNode,n};var _R={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sh.isDisabled&&Sh.supportsFiber)try{Jn=Sh.inject(_R),sn=Sh}catch{}}return cu.createRoot=function(n,s){if(!o(n))throw Error(r(299));var a=!1,l="",f=sv,d=rv,_=av;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=U_(n,1,!1,null,null,a,l,null,f,d,_,W_),n[Kt]=s.current,pm(n),new Nm(s)},cu.hydrateRoot=function(n,s,a){if(!o(n))throw Error(r(299));var l=!1,f="",d=sv,_=rv,S=av,M=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(M=a.formState)),s=U_(n,1,!0,s,a??null,l,f,M,d,_,S,W_),s.context=z_(null),a=s.current,l=ui(),l=it(l),f=fr(l),f.callback=null,dr(a,f,l),a=l,s.current.lanes=a,O(s,a),as(s),n[Kt]=s.current,pm(n),new Eh(s)},cu.version="19.2.0",cu}var oT;function DR(){if(oT)return jm.exports;oT=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),jm.exports=IR(),jm.exports}var MR=DR();function VR({endTime:i}){const[t,e]=G.useState(Math.max(0,Math.ceil((i-Date.now())/1e3)));return G.useEffect(()=>{const r=setInterval(()=>{const o=Math.max(0,Math.ceil((i-Date.now())/1e3));e(o),o<=0&&clearInterval(r)},1e3);return()=>clearInterval(r)},[i]),A.jsxs("span",{children:[t,"s"]})}const OR=()=>{};var lT={};const Yb=function(i){const t=[];let e=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},NR=function(i){const t=[];let e=0,r=0;for(;e<i.length;){const o=i[e++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[e++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[e++],c=i[e++],m=i[e++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|m&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const u=i[e++],c=i[e++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},Qb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const u=i[o],c=o+1<i.length,m=c?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,v=u>>2,b=(u&3)<<4|m>>4;let E=(m&15)<<2|g>>6,I=g&63;p||(I=64,c||(E=64)),r.push(e[v],e[b],e[E],e[I])}return r.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(Yb(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):NR(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const u=e[i.charAt(o++)],m=o<i.length?e[i.charAt(o)]:0;++o;const g=o<i.length?e[i.charAt(o)]:64;++o;const b=o<i.length?e[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||b==null)throw new PR;const E=u<<2|m>>4;if(r.push(E),g!==64){const I=m<<4&240|g>>2;if(r.push(I),b!==64){const L=g<<6&192|b;r.push(L)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class PR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kR=function(i){const t=Yb(i);return Qb.encodeByteArray(t,!0)},Wh=function(i){return kR(i).replace(/\./g,"")},Xb=function(i){try{return Qb.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function jR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const LR=()=>jR().__FIREBASE_DEFAULTS__,UR=()=>{if(typeof process>"u"||typeof lT>"u")return;const i=lT.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},zR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&Xb(i[1]);return t&&JSON.parse(t)},Ef=()=>{try{return OR()||LR()||UR()||zR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Wb=i=>Ef()?.emulatorHosts?.[i],BR=i=>{const t=Wb(i);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),r]:[t.substring(0,e),r]},$b=()=>Ef()?.config,Jb=i=>Ef()?.[`_${i}`];class FR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}}function rl(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Zb(i){return(await fetch(i,{credentials:"include"})).ok}function HR(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},r=t||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Wh(JSON.stringify(e)),Wh(JSON.stringify(c)),""].join(".")}const yu={};function qR(){const i={prod:[],emulator:[]};for(const t of Object.keys(yu))yu[t]?i.emulator.push(t):i.prod.push(t);return i}function GR(i){let t=document.getElementById(i),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),e=!0),{created:e,element:t}}let uT=!1;function tE(i,t){if(typeof window>"u"||typeof document>"u"||!rl(window.location.host)||yu[i]===t||yu[i]||uT)return;yu[i]=t;function e(E){return`__firebase__banner__${E}`}const r="__firebase__banner",u=qR().prod.length>0;function c(){const E=document.getElementById(r);E&&E.remove()}function m(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function p(E,I){E.setAttribute("width","24"),E.setAttribute("id",I),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function g(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{uT=!0,c()},E}function v(E,I){E.setAttribute("id",I),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function b(){const E=GR(r),I=e("text"),L=document.getElementById(I)||document.createElement("span"),P=e("learnmore"),U=document.getElementById(P)||document.createElement("a"),J=e("preprendIcon"),ot=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const et=E.element;m(et),v(U,P);const gt=g();p(ot,J),et.append(ot,L,U,gt),document.body.appendChild(et)}u?(L.innerText="Preview backend disconnected.",ot.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ot.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function Nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nn())}function YR(){const i=Ef()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XR(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function WR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $R(){const i=Nn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function JR(){return!YR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ZR(){try{return typeof indexedDB=="object"}catch{return!1}}function tC(){return new Promise((i,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(e){t(e)}})}const eC="FirebaseError";class Xs extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=eC,Object.setPrototypeOf(this,Xs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gu.prototype.create)}}class Gu{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?nC(u,r):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new Xs(o,m,r)}}function nC(i,t){return i.replace(iC,(e,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const iC=/\{\$([^}]+)}/g;function sC(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function Va(i,t){if(i===t)return!0;const e=Object.keys(i),r=Object.keys(t);for(const o of e){if(!r.includes(o))return!1;const u=i[o],c=t[o];if(cT(u)&&cT(c)){if(!Va(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!e.includes(o))return!1;return!0}function cT(i){return i!==null&&typeof i=="object"}function Ku(i){const t=[];for(const[e,r]of Object.entries(i))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function rC(i,t){const e=new aC(i,t);return e.subscribe.bind(e)}class aC{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let o;if(t===void 0&&e===void 0&&r===void 0)throw new Error("Missing Observer.");oC(t,["next","error","complete"])?o=t:o={next:t,error:e,complete:r},o.next===void 0&&(o.next=Bm),o.error===void 0&&(o.error=Bm),o.complete===void 0&&(o.complete=Bm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oC(i,t){if(typeof i!="object"||i===null)return!1;for(const e of t)if(e in i&&typeof i[e]=="function")return!0;return!1}function Bm(){}function Vi(i){return i&&i._delegate?i._delegate:i}class Oa{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ea="[DEFAULT]";class lC{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new FR;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(cC(t))try{this.getOrInitializeService({instanceIdentifier:Ea})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=Ea){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ea){return this.instances.has(t)}getOptions(t=Ea){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[u,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&c.resolve(o)}return o}onInit(t,e){const r=this.normalizeInstanceIdentifier(e),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const o of r)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:uC(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Ea){return this.component?this.component.multipleInstances?t:Ea:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uC(i){return i===Ea?void 0:i}function cC(i){return i.instantiationMode==="EAGER"}class hC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new lC(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var $t;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})($t||($t={}));const fC={debug:$t.DEBUG,verbose:$t.VERBOSE,info:$t.INFO,warn:$t.WARN,error:$t.ERROR,silent:$t.SILENT},dC=$t.INFO,mC={[$t.DEBUG]:"log",[$t.VERBOSE]:"log",[$t.INFO]:"info",[$t.WARN]:"warn",[$t.ERROR]:"error"},pC=(i,t,...e)=>{if(t<i.logLevel)return;const r=new Date().toISOString(),o=mC[t];if(o)console[o](`[${r}]  ${i.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ag{constructor(t){this.name=t,this._logLevel=dC,this._logHandler=pC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in $t))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?fC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,$t.DEBUG,...t),this._logHandler(this,$t.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,$t.VERBOSE,...t),this._logHandler(this,$t.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,$t.INFO,...t),this._logHandler(this,$t.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,$t.WARN,...t),this._logHandler(this,$t.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,$t.ERROR,...t),this._logHandler(this,$t.ERROR,...t)}}const gC=(i,t)=>t.some(e=>i instanceof e);let hT,fT;function yC(){return hT||(hT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vC(){return fT||(fT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eE=new WeakMap,mp=new WeakMap,nE=new WeakMap,Fm=new WeakMap,og=new WeakMap;function _C(i){const t=new Promise((e,r)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",c)},u=()=>{e(Pr(i.result)),o()},c=()=>{r(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&eE.set(e,i)}).catch(()=>{}),og.set(t,i),t}function TC(i){if(mp.has(i))return;const t=new Promise((e,r)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",c),i.removeEventListener("abort",c)},u=()=>{e(),o()},c=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",c),i.addEventListener("abort",c)});mp.set(i,t)}let pp={get(i,t,e){if(i instanceof IDBTransaction){if(t==="done")return mp.get(i);if(t==="objectStoreNames")return i.objectStoreNames||nE.get(i);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Pr(i[t])},set(i,t,e){return i[t]=e,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function bC(i){pp=i(pp)}function EC(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const r=i.call(Hm(this),t,...e);return nE.set(r,t.sort?t.sort():[t]),Pr(r)}:vC().includes(i)?function(...t){return i.apply(Hm(this),t),Pr(eE.get(this))}:function(...t){return Pr(i.apply(Hm(this),t))}}function SC(i){return typeof i=="function"?EC(i):(i instanceof IDBTransaction&&TC(i),gC(i,yC())?new Proxy(i,pp):i)}function Pr(i){if(i instanceof IDBRequest)return _C(i);if(Fm.has(i))return Fm.get(i);const t=SC(i);return t!==i&&(Fm.set(i,t),og.set(t,i)),t}const Hm=i=>og.get(i);function AC(i,t,{blocked:e,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(i,t),m=Pr(c);return r&&c.addEventListener("upgradeneeded",p=>{r(Pr(c.result),p.oldVersion,p.newVersion,Pr(c.transaction),p)}),e&&c.addEventListener("blocked",p=>e(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const wC=["get","getKey","getAll","getAllKeys","count"],xC=["put","add","delete","clear"],qm=new Map;function dT(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(qm.get(t))return qm.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,o=xC.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(o||wC.includes(e)))return;const u=async function(c,...m){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(m.shift())),(await Promise.all([g[e](...m),o&&p.done]))[0]};return qm.set(t,u),u}bC(i=>({...i,get:(t,e,r)=>dT(t,e)||i.get(t,e,r),has:(t,e)=>!!dT(t,e)||i.has(t,e)}));class RC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(CC(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function CC(i){return i.getComponent()?.type==="VERSION"}const gp="@firebase/app",mT="0.14.6";const Hs=new ag("@firebase/app"),IC="@firebase/app-compat",DC="@firebase/analytics-compat",MC="@firebase/analytics",VC="@firebase/app-check-compat",OC="@firebase/app-check",NC="@firebase/auth",PC="@firebase/auth-compat",kC="@firebase/database",jC="@firebase/data-connect",LC="@firebase/database-compat",UC="@firebase/functions",zC="@firebase/functions-compat",BC="@firebase/installations",FC="@firebase/installations-compat",HC="@firebase/messaging",qC="@firebase/messaging-compat",GC="@firebase/performance",KC="@firebase/performance-compat",YC="@firebase/remote-config",QC="@firebase/remote-config-compat",XC="@firebase/storage",WC="@firebase/storage-compat",$C="@firebase/firestore",JC="@firebase/ai",ZC="@firebase/firestore-compat",t2="firebase",e2="12.6.0";const yp="[DEFAULT]",n2={[gp]:"fire-core",[IC]:"fire-core-compat",[MC]:"fire-analytics",[DC]:"fire-analytics-compat",[OC]:"fire-app-check",[VC]:"fire-app-check-compat",[NC]:"fire-auth",[PC]:"fire-auth-compat",[kC]:"fire-rtdb",[jC]:"fire-data-connect",[LC]:"fire-rtdb-compat",[UC]:"fire-fn",[zC]:"fire-fn-compat",[BC]:"fire-iid",[FC]:"fire-iid-compat",[HC]:"fire-fcm",[qC]:"fire-fcm-compat",[GC]:"fire-perf",[KC]:"fire-perf-compat",[YC]:"fire-rc",[QC]:"fire-rc-compat",[XC]:"fire-gcs",[WC]:"fire-gcs-compat",[$C]:"fire-fst",[ZC]:"fire-fst-compat",[JC]:"fire-vertex","fire-js":"fire-js",[t2]:"fire-js-all"};const $h=new Map,i2=new Map,vp=new Map;function pT(i,t){try{i.container.addComponent(t)}catch(e){Hs.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,e)}}function Xo(i){const t=i.name;if(vp.has(t))return Hs.debug(`There were multiple attempts to register component ${t}.`),!1;vp.set(t,i);for(const e of $h.values())pT(e,i);for(const e of i2.values())pT(e,i);return!0}function lg(i,t){const e=i.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),i.container.getProvider(t)}function qi(i){return i==null?!1:i.settings!==void 0}const s2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},kr=new Gu("app","Firebase",s2);class r2{constructor(t,e,r){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Oa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw kr.create("app-deleted",{appName:this._name})}}const al=e2;function iE(i,t={}){let e=i;typeof t!="object"&&(t={name:t});const r={name:yp,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw kr.create("bad-app-name",{appName:String(o)});if(e||(e=$b()),!e)throw kr.create("no-options");const u=$h.get(o);if(u){if(Va(e,u.options)&&Va(r,u.config))return u;throw kr.create("duplicate-app",{appName:o})}const c=new hC(o);for(const p of vp.values())c.addComponent(p);const m=new r2(e,r,c);return $h.set(o,m),m}function sE(i=yp){const t=$h.get(i);if(!t&&i===yp&&$b())return iE();if(!t)throw kr.create("no-app",{appName:i});return t}function jr(i,t,e){let r=n2[i]??i;e&&(r+=`-${e}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const c=[`Unable to register library "${r}" with version "${t}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Hs.warn(c.join(" "));return}Xo(new Oa(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const a2="firebase-heartbeat-database",o2=1,Iu="firebase-heartbeat-store";let Gm=null;function rE(){return Gm||(Gm=AC(a2,o2,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Iu)}catch(e){console.warn(e)}}}}).catch(i=>{throw kr.create("idb-open",{originalErrorMessage:i.message})})),Gm}async function l2(i){try{const e=(await rE()).transaction(Iu),r=await e.objectStore(Iu).get(aE(i));return await e.done,r}catch(t){if(t instanceof Xs)Hs.warn(t.message);else{const e=kr.create("idb-get",{originalErrorMessage:t?.message});Hs.warn(e.message)}}}async function gT(i,t){try{const r=(await rE()).transaction(Iu,"readwrite");await r.objectStore(Iu).put(t,aE(i)),await r.done}catch(e){if(e instanceof Xs)Hs.warn(e.message);else{const r=kr.create("idb-set",{originalErrorMessage:e?.message});Hs.warn(r.message)}}}function aE(i){return`${i.name}!${i.options.appId}`}const u2=1024,c2=30;class h2{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new d2(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=yT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:e}),this._heartbeatsCache.heartbeats.length>c2){const o=m2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Hs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=yT(),{heartbeatsToSend:e,unsentEntries:r}=f2(this._heartbeatsCache.heartbeats),o=Wh(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Hs.warn(t),""}}}function yT(){return new Date().toISOString().substring(0,10)}function f2(i,t=u2){const e=[];let r=i.slice();for(const o of i){const u=e.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),vT(e)>t){u.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),vT(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class d2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ZR()?tC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await l2(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return gT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return gT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function vT(i){return Wh(JSON.stringify({version:2,heartbeats:i})).length}function m2(i){if(i.length===0)return-1;let t=0,e=i[0].date;for(let r=1;r<i.length;r++)i[r].date<e&&(e=i[r].date,t=r);return t}function p2(i){Xo(new Oa("platform-logger",t=>new RC(t),"PRIVATE")),Xo(new Oa("heartbeat",t=>new h2(t),"PRIVATE")),jr(gp,mT,i),jr(gp,mT,"esm2020"),jr("fire-js","")}p2("");var g2="firebase",y2="12.6.0";jr(g2,y2,"app");function oE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const v2=oE,lE=new Gu("auth","Firebase",oE());const Jh=new ag("@firebase/auth");function _2(i,...t){Jh.logLevel<=$t.WARN&&Jh.warn(`Auth (${al}): ${i}`,...t)}function Ph(i,...t){Jh.logLevel<=$t.ERROR&&Jh.error(`Auth (${al}): ${i}`,...t)}function ps(i,...t){throw cg(i,...t)}function Yi(i,...t){return cg(i,...t)}function ug(i,t,e){const r={...v2(),[t]:e};return new Gu("auth","Firebase",r).create(t,{appName:i.name})}function Ca(i){return ug(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function T2(i,t,e){const r=e;if(!(t instanceof r))throw r.name!==t.constructor.name&&ps(i,"argument-error"),ug(i,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function cg(i,...t){if(typeof i!="string"){const e=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(e,...r)}return lE.create(i,...t)}function Nt(i,t,...e){if(!i)throw cg(t,...e)}function zs(i){const t="INTERNAL ASSERTION FAILED: "+i;throw Ph(t),new Error(t)}function qs(i,t){i||zs(t)}function _p(){return typeof self<"u"&&self.location?.href||""}function b2(){return _T()==="http:"||_T()==="https:"}function _T(){return typeof self<"u"&&self.location?.protocol||null}function E2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(b2()||XR()||"connection"in navigator)?navigator.onLine:!0}function S2(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Yu{constructor(t,e){this.shortDelay=t,this.longDelay=e,qs(e>t,"Short delay should be less than long delay!"),this.isMobile=KR()||WR()}get(){return E2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function hg(i,t){qs(i.emulator,"Emulator should always be set here");const{url:e}=i.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class uE{static initialize(t,e,r){this.fetchImpl=t,e&&(this.headersImpl=e),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const A2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const w2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],x2=new Yu(3e4,6e4);function fg(i,t){return i.tenantId&&!t.tenantId?{...t,tenantId:i.tenantId}:t}async function ol(i,t,e,r,o={}){return cE(i,o,async()=>{let u={},c={};r&&(t==="GET"?c=r:u={body:JSON.stringify(r)});const m=Ku({key:i.config.apiKey,...c}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:t,headers:p,...u};return QR()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&rl(i.emulatorConfig.host)&&(g.credentials="include"),uE.fetch()(await hE(i,i.config.apiHost,e,m),g)})}async function cE(i,t,e){i._canInitEmulator=!1;const r={...A2,...t};try{const o=new C2(i),u=await Promise.race([e(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw Ah(i,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const m=u.ok?c.errorMessage:c.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ah(i,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Ah(i,"email-already-in-use",c);if(p==="USER_DISABLED")throw Ah(i,"user-disabled",c);const v=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw ug(i,v,g);ps(i,v)}}catch(o){if(o instanceof Xs)throw o;ps(i,"network-request-failed",{message:String(o)})}}async function R2(i,t,e,r,o={}){const u=await ol(i,t,e,r,o);return"mfaPendingCredential"in u&&ps(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function hE(i,t,e,r){const o=`${t}${e}?${r}`,u=i,c=u.config.emulator?hg(i.config,o):`${i.config.apiScheme}://${o}`;return w2.includes(e)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}class C2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,r)=>{this.timer=setTimeout(()=>r(Yi(this.auth,"network-request-failed")),x2.get())})}}function Ah(i,t,e){const r={appName:i.name};e.email&&(r.email=e.email),e.phoneNumber&&(r.phoneNumber=e.phoneNumber);const o=Yi(i,t,r);return o.customData._tokenResponse=e,o}async function I2(i,t){return ol(i,"POST","/v1/accounts:delete",t)}async function Zh(i,t){return ol(i,"POST","/v1/accounts:lookup",t)}function vu(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function D2(i,t=!1){const e=Vi(i),r=await e.getIdToken(t),o=dg(r);Nt(o&&o.exp&&o.auth_time&&o.iat,e.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:r,authTime:vu(Km(o.auth_time)),issuedAtTime:vu(Km(o.iat)),expirationTime:vu(Km(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Km(i){return Number(i)*1e3}function dg(i){const[t,e,r]=i.split(".");if(t===void 0||e===void 0||r===void 0)return Ph("JWT malformed, contained fewer than 3 sections"),null;try{const o=Xb(e);return o?JSON.parse(o):(Ph("Failed to decode base64 JWT payload"),null)}catch(o){return Ph("Caught error parsing JWT payload as JSON",o?.toString()),null}}function TT(i){const t=dg(i);return Nt(t,"internal-error"),Nt(typeof t.exp<"u","internal-error"),Nt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Du(i,t,e=!1){if(e)return t;try{return await t}catch(r){throw r instanceof Xs&&M2(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function M2({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class V2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Tp{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=vu(this.lastLoginAt),this.creationTime=vu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function tf(i){const t=i.auth,e=await i.getIdToken(),r=await Du(i,Zh(t,{idToken:e}));Nt(r?.users.length,t,"internal-error");const o=r.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?fE(o.providerUserInfo):[],c=N2(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!c?.length,g=m?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Tp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,v)}async function O2(i){const t=Vi(i);await tf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function N2(i,t){return[...i.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function fE(i){return i.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function P2(i,t){const e=await cE(i,{},async()=>{const r=Ku({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,c=await hE(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:r};return i.emulatorConfig&&rl(i.emulatorConfig.host)&&(p.credentials="include"),uE.fetch()(c,p)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function k2(i,t){return ol(i,"POST","/v2/accounts:revokeToken",fg(i,t))}class qo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Nt(t.idToken,"internal-error"),Nt(typeof t.idToken<"u","internal-error"),Nt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):TT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Nt(t.length!==0,"internal-error");const e=TT(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Nt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:r,refreshToken:o,expiresIn:u}=await P2(t,e);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(t,e,r){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,e){const{refreshToken:r,accessToken:o,expirationTime:u}=e,c=new qo;return r&&(Nt(typeof r=="string","internal-error",{appName:t}),c.refreshToken=r),o&&(Nt(typeof o=="string","internal-error",{appName:t}),c.accessToken=o),u&&(Nt(typeof u=="number","internal-error",{appName:t}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new qo,this.toJSON())}_performRefresh(){return zs("not implemented")}}function Ir(i,t){Nt(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class Gi{constructor({uid:t,auth:e,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new V2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Tp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const e=await Du(this,this.stsTokenManager.getToken(this.auth,t));return Nt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return D2(this,t)}reload(){return O2(this)}_assign(t){this!==t&&(Nt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Gi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){Nt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),e&&await tf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qi(this.auth.app))return Promise.reject(Ca(this.auth));const t=await this.getIdToken();return await Du(this,I2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const r=e.displayName??void 0,o=e.email??void 0,u=e.phoneNumber??void 0,c=e.photoURL??void 0,m=e.tenantId??void 0,p=e._redirectEventId??void 0,g=e.createdAt??void 0,v=e.lastLoginAt??void 0,{uid:b,emailVerified:E,isAnonymous:I,providerData:L,stsTokenManager:P}=e;Nt(b&&P,t,"internal-error");const U=qo.fromJSON(this.name,P);Nt(typeof b=="string",t,"internal-error"),Ir(r,t.name),Ir(o,t.name),Nt(typeof E=="boolean",t,"internal-error"),Nt(typeof I=="boolean",t,"internal-error"),Ir(u,t.name),Ir(c,t.name),Ir(m,t.name),Ir(p,t.name),Ir(g,t.name),Ir(v,t.name);const J=new Gi({uid:b,auth:t,email:o,emailVerified:E,displayName:r,isAnonymous:I,photoURL:c,phoneNumber:u,tenantId:m,stsTokenManager:U,createdAt:g,lastLoginAt:v});return L&&Array.isArray(L)&&(J.providerData=L.map(ot=>({...ot}))),p&&(J._redirectEventId=p),J}static async _fromIdTokenResponse(t,e,r=!1){const o=new qo;o.updateFromServerResponse(e);const u=new Gi({uid:e.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await tf(u),u}static async _fromGetAccountInfoResponse(t,e,r){const o=e.users[0];Nt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?fE(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,m=new qo;m.updateFromIdToken(r);const p=new Gi({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Tp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const bT=new Map;function Bs(i){qs(i instanceof Function,"Expected a class definition");let t=bT.get(i);return t?(qs(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,bT.set(i,t),t)}class dE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}dE.type="NONE";const ET=dE;function kh(i,t,e){return`firebase:${i}:${t}:${e}`}class Go{constructor(t,e,r){this.persistence=t,this.auth=e,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=kh(this.userKey,o.apiKey,u),this.fullPersistenceKey=kh("persistence",o.apiKey,u),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Zh(this.auth,{idToken:t}).catch(()=>{});return e?Gi._fromGetAccountInfoResponse(this.auth,e,t):null}return Gi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,r="authUser"){if(!e.length)return new Go(Bs(ET),t,r);const o=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Bs(ET);const c=kh(r,t.config.apiKey,t.name);let m=null;for(const g of e)try{const v=await g._get(c);if(v){let b;if(typeof v=="string"){const E=await Zh(t,{idToken:v}).catch(()=>{});if(!E)break;b=await Gi._fromGetAccountInfoResponse(t,E,v)}else b=Gi._fromJSON(t,v);g!==u&&(m=b),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Go(u,t,r):(u=p[0],m&&await u._set(c,m.toJSON()),await Promise.all(e.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new Go(u,t,r))}}function ST(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(yE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(mE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(_E(t))return"Blackberry";if(TE(t))return"Webos";if(pE(t))return"Safari";if((t.includes("chrome/")||gE(t))&&!t.includes("edge/"))return"Chrome";if(vE(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(e);if(r?.length===2)return r[1]}return"Other"}function mE(i=Nn()){return/firefox\//i.test(i)}function pE(i=Nn()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function gE(i=Nn()){return/crios\//i.test(i)}function yE(i=Nn()){return/iemobile/i.test(i)}function vE(i=Nn()){return/android/i.test(i)}function _E(i=Nn()){return/blackberry/i.test(i)}function TE(i=Nn()){return/webos/i.test(i)}function mg(i=Nn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function j2(i=Nn()){return mg(i)&&!!window.navigator?.standalone}function L2(){return $R()&&document.documentMode===10}function bE(i=Nn()){return mg(i)||vE(i)||TE(i)||_E(i)||/windows phone/i.test(i)||yE(i)}function EE(i,t=[]){let e;switch(i){case"Browser":e=ST(Nn());break;case"Worker":e=`${ST(Nn())}-${i}`;break;default:e=i}const r=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${al}/${r}`}class U2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const r=u=>new Promise((c,m)=>{try{const p=t(u);c(p)}catch(p){m(p)}});r.onAbort=e,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const r of this.queue)await r(t),r.onAbort&&e.push(r.onAbort)}catch(r){e.reverse();for(const o of e)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function z2(i,t={}){return ol(i,"GET","/v2/passwordPolicy",fg(i,t))}const B2=6;class F2{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??B2,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(e.meetsMinPasswordLength=t.length>=r),o&&(e.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(e,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,e,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class H2{constructor(t,e,r,o){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new AT(this),this.idTokenSubscription=new AT(this),this.beforeStateQueue=new U2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Bs(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Go.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Zh(this,{idToken:t}),r=await Gi._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(qi(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let r=e,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=r?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===c)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Nt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await tf(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=S2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(qi(this.app))return Promise.reject(Ca(this));const e=t?Vi(t):null;return e&&Nt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Nt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return qi(this.app)?Promise.reject(Ca(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return qi(this.app)?Promise.reject(Ca(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await z2(this),e=new F2(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Gu("auth","Firebase",t())}onAuthStateChanged(t,e,r){return this.registerStateListener(this.authStateSubscription,t,e,r)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,r){return this.registerStateListener(this.idTokenSubscription,t,e,r)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(r.tenantId=this.tenantId),await k2(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const r=await this.getOrInitRedirectPersistenceManager(e);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Bs(t)||this._popupRedirectResolver;Nt(e,this,"argument-error"),this.redirectPersistenceManager=await Go.create(this,[Bs(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,r,o){if(this._deleted)return()=>{};const u=typeof e=="function"?e:e.next.bind(e);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Nt(m,this,"internal-error"),m.then(()=>{c||u(this.currentUser)}),typeof e=="function"){const p=t.addObserver(e,r,o);return()=>{c=!0,p()}}else{const p=t.addObserver(e);return()=>{c=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Nt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=EE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(qi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&_2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Sf(i){return Vi(i)}class AT{constructor(t){this.auth=t,this.observer=null,this.addObserver=rC(e=>this.observer=e)}get next(){return Nt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let pg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function q2(i){pg=i}function G2(i){return pg.loadJS(i)}function K2(){return pg.gapiScript}function Y2(i){return`__${i}${Math.floor(Math.random()*1e6)}`}function Q2(i,t){const e=lg(i,"auth");if(e.isInitialized()){const o=e.getImmediate(),u=e.getOptions();if(Va(u,t??{}))return o;ps(o,"already-initialized")}return e.initialize({options:t})}function X2(i,t){const e=t?.persistence||[],r=(Array.isArray(e)?e:[e]).map(Bs);t?.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(r,t?.popupRedirectResolver)}function W2(i,t,e){const r=Sf(i);Nt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,u=SE(t),{host:c,port:m}=$2(t),p=m===null?"":`:${m}`,g={url:`${u}//${c}${p}/`},v=Object.freeze({host:c,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Nt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Nt(Va(g,r.config.emulator)&&Va(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,rl(c)?(Zb(`${u}//${c}${p}`),tE("Auth",!0)):J2()}function SE(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function $2(i){const t=SE(i),e=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!e)return{host:"",port:null};const r=e[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:wT(r.substr(u.length+1))}}else{const[u,c]=r.split(":");return{host:u,port:wT(c)}}}function wT(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function J2(){function i(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class AE{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return zs("not implemented")}_getIdTokenResponse(t){return zs("not implemented")}_linkToIdToken(t,e){return zs("not implemented")}_getReauthenticationResolver(t){return zs("not implemented")}}async function Ko(i,t){return R2(i,"POST","/v1/accounts:signInWithIdp",fg(i,t))}const Z2="http://localhost";class Na extends AE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Na(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):ps("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o,...u}=e;if(!r||!o)return null;const c=new Na(r,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return Ko(t,e)}_linkToIdToken(t,e){const r=this.buildRequest();return r.idToken=e,Ko(t,r)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Ko(t,e)}buildRequest(){const t={requestUri:Z2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Ku(e)}return t}}class gg{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Qu extends gg{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Mr extends Qu{constructor(){super("facebook.com")}static credential(t){return Na._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Mr.credentialFromTaggedObject(t)}static credentialFromError(t){return Mr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Mr.credential(t.oauthAccessToken)}catch{return null}}}Mr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mr.PROVIDER_ID="facebook.com";class Us extends Qu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Na._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Us.credentialFromTaggedObject(t)}static credentialFromError(t){return Us.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:r}=t;if(!e&&!r)return null;try{return Us.credential(e,r)}catch{return null}}}Us.GOOGLE_SIGN_IN_METHOD="google.com";Us.PROVIDER_ID="google.com";class Vr extends Qu{constructor(){super("github.com")}static credential(t){return Na._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Vr.credentialFromTaggedObject(t)}static credentialFromError(t){return Vr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Vr.credential(t.oauthAccessToken)}catch{return null}}}Vr.GITHUB_SIGN_IN_METHOD="github.com";Vr.PROVIDER_ID="github.com";class Or extends Qu{constructor(){super("twitter.com")}static credential(t,e){return Na._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Or.credentialFromTaggedObject(t)}static credentialFromError(t){return Or.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:r}=t;if(!e||!r)return null;try{return Or.credential(e,r)}catch{return null}}}Or.TWITTER_SIGN_IN_METHOD="twitter.com";Or.PROVIDER_ID="twitter.com";class Wo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,r,o=!1){const u=await Gi._fromIdTokenResponse(t,r,o),c=xT(r);return new Wo({user:u,providerId:c,_tokenResponse:r,operationType:e})}static async _forOperation(t,e,r){await t._updateTokensIfNecessary(r,!0);const o=xT(r);return new Wo({user:t,providerId:o,_tokenResponse:r,operationType:e})}}function xT(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class ef extends Xs{constructor(t,e,r,o){super(e.code,e.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,ef.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,e,r,o){return new ef(t,e,r,o)}}function wE(i,t,e,r){return(t==="reauthenticate"?e._getReauthenticationResolver(i):e._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ef._fromErrorAndOperation(i,u,t,r):u})}async function tI(i,t,e=!1){const r=await Du(i,t._linkToIdToken(i.auth,await i.getIdToken()),e);return Wo._forOperation(i,"link",r)}async function eI(i,t,e=!1){const{auth:r}=i;if(qi(r.app))return Promise.reject(Ca(r));const o="reauthenticate";try{const u=await Du(i,wE(r,o,t,i),e);Nt(u.idToken,r,"internal-error");const c=dg(u.idToken);Nt(c,r,"internal-error");const{sub:m}=c;return Nt(i.uid===m,r,"user-mismatch"),Wo._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ps(r,"user-mismatch"),u}}async function nI(i,t,e=!1){if(qi(i.app))return Promise.reject(Ca(i));const r="signIn",o=await wE(i,r,t),u=await Wo._fromIdTokenResponse(i,r,o);return e||await i._updateCurrentUser(u.user),u}function iI(i,t,e,r){return Vi(i).onIdTokenChanged(t,e,r)}function sI(i,t,e){return Vi(i).beforeAuthStateChanged(t,e)}function rI(i,t,e,r){return Vi(i).onAuthStateChanged(t,e,r)}function aI(i){return Vi(i).signOut()}const nf="__sak";class xE{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(nf,"1"),this.storage.removeItem(nf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const oI=1e3,lI=10;class RE extends xE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const r=this.storage.getItem(e),o=this.localCache[e];r!==o&&t(e,o,r)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,m,p)=>{this.notifyListeners(c,p)});return}const r=t.key;e?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(r);!e&&this.localCache[r]===c||this.notifyListeners(r,c)},u=this.storage.getItem(r);L2()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,lI):o()}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:r}),!0)})},oI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}RE.type="LOCAL";const uI=RE;class CE extends xE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}CE.type="SESSION";const IE=CE;function cI(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class Af{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(o=>o.isListeningto(t));if(e)return e;const r=new Af(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:r,eventType:o,data:u}=e.data,c=this.handlersMap[o];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(c).map(async g=>g(e.origin,u)),p=await cI(m);e.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Af.receivers=[];function yg(i="",t=10){let e="";for(let r=0;r<t;r++)e+=Math.floor(Math.random()*10);return i+e}class hI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((m,p)=>{const g=yg("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},r);c={messageChannel:o,onMessage(b){const E=b;if(E.data.eventId===g)switch(E.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(E.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function ls(){return window}function fI(i){ls().location.href=i}function DE(){return typeof ls().WorkerGlobalScope<"u"&&typeof ls().importScripts=="function"}async function dI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mI(){return navigator?.serviceWorker?.controller||null}function pI(){return DE()?self:null}const ME="firebaseLocalStorageDb",gI=1,sf="firebaseLocalStorage",VE="fbase_key";class Xu{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function wf(i,t){return i.transaction([sf],t?"readwrite":"readonly").objectStore(sf)}function yI(){const i=indexedDB.deleteDatabase(ME);return new Xu(i).toPromise()}function bp(){const i=indexedDB.open(ME,gI);return new Promise((t,e)=>{i.addEventListener("error",()=>{e(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(sf,{keyPath:VE})}catch(o){e(o)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(sf)?t(r):(r.close(),await yI(),t(await bp()))})})}async function RT(i,t,e){const r=wf(i,!0).put({[VE]:t,value:e});return new Xu(r).toPromise()}async function vI(i,t){const e=wf(i,!1).get(t),r=await new Xu(e).toPromise();return r===void 0?null:r.value}function CT(i,t){const e=wf(i,!0).delete(t);return new Xu(e).toPromise()}const _I=800,TI=3;class OE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bp(),this.db)}async _withRetries(t){let e=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(e++>TI)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return DE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Af._getInstance(pI()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await dI(),!this.activeServiceWorker)return;this.sender=new hI(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||mI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await bp();return await RT(t,nf,"1"),await CT(t,nf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(r=>RT(r,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(r=>vI(r,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>CT(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=wf(o,!1).getAll();return new Xu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),e.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),e.push(o));return e}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_I)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}OE.type="LOCAL";const bI=OE;new Yu(3e4,6e4);function NE(i,t){return t?Bs(t):(Nt(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class vg extends AE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ko(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Ko(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Ko(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function EI(i){return nI(i.auth,new vg(i),i.bypassAuthState)}function SI(i){const{auth:t,user:e}=i;return Nt(e,t,"internal-error"),eI(e,new vg(i),i.bypassAuthState)}async function AI(i){const{auth:t,user:e}=i;return Nt(e,t,"internal-error"),tI(e,new vg(i),i.bypassAuthState)}class PE{constructor(t,e,r,o,u=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:r,postBody:o,tenantId:u,error:c,type:m}=t;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:e,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return EI;case"linkViaPopup":case"linkViaRedirect":return AI;case"reauthViaPopup":case"reauthViaRedirect":return SI;default:ps(this.auth,"internal-error")}}resolve(t){qs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){qs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wI=new Yu(2e3,1e4);async function xI(i,t,e){if(qi(i.app))return Promise.reject(Yi(i,"operation-not-supported-in-this-environment"));const r=Sf(i);T2(i,t,gg);const o=NE(r,e);return new Aa(r,"signInViaPopup",t,o).executeNotNull()}class Aa extends PE{constructor(t,e,r,o,u){super(t,e,o,u),this.provider=r,this.authWindow=null,this.pollId=null,Aa.currentPopupAction&&Aa.currentPopupAction.cancel(),Aa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Nt(t,this.auth,"internal-error"),t}async onExecution(){qs(this.filter.length===1,"Popup operations only handle one event");const t=yg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Aa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,wI.get())};t()}}Aa.currentPopupAction=null;const RI="pendingRedirect",jh=new Map;class CI extends PE{constructor(t,e,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,r),this.eventId=null}async execute(){let t=jh.get(this.auth._key());if(!t){try{const r=await II(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(e){t=()=>Promise.reject(e)}jh.set(this.auth._key(),t)}return this.bypassAuthState||jh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function II(i,t){const e=VI(t),r=MI(i);if(!await r._isAvailable())return!1;const o=await r._get(e)==="true";return await r._remove(e),o}function DI(i,t){jh.set(i._key(),t)}function MI(i){return Bs(i._redirectPersistence)}function VI(i){return kh(RI,i.config.apiKey,i.name)}async function OI(i,t,e=!1){if(qi(i.app))return Promise.reject(Ca(i));const r=Sf(i),o=NE(r,t),c=await new CI(r,o,e).execute();return c&&!e&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,t)),c}const NI=600*1e3;class PI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(e=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!kI(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!kE(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";e.onError(Yi(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const r=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=NI&&this.cachedEventUids.clear(),this.cachedEventUids.has(IT(t))}saveEventToCache(t){this.cachedEventUids.add(IT(t)),this.lastProcessedEventTime=Date.now()}}function IT(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function kE({type:i,error:t}){return i==="unknown"&&t?.code==="auth/no-auth-event"}function kI(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kE(i);default:return!1}}async function jI(i,t={}){return ol(i,"GET","/v1/projects",t)}const LI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UI=/^https?/;async function zI(i){if(i.config.emulator)return;const{authorizedDomains:t}=await jI(i);for(const e of t)try{if(BI(e))return}catch{}ps(i,"unauthorized-domain")}function BI(i){const t=_p(),{protocol:e,hostname:r}=new URL(t);if(i.startsWith("chrome-extension://")){const c=new URL(i);return c.hostname===""&&r===""?e==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===r}if(!UI.test(e))return!1;if(LI.test(i))return r===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const FI=new Yu(3e4,6e4);function DT(){const i=ls().___jsl;if(i?.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let e=0;e<i.CP.length;e++)i.CP[e]=null}}function HI(i){return new Promise((t,e)=>{function r(){DT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{DT(),e(Yi(i,"network-request-failed"))},timeout:FI.get()})}if(ls().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(ls().gapi?.load)r();else{const o=Y2("iframefcb");return ls()[o]=()=>{gapi.load?r():e(Yi(i,"network-request-failed"))},G2(`${K2()}?onload=${o}`).catch(u=>e(u))}}).catch(t=>{throw Lh=null,t})}let Lh=null;function qI(i){return Lh=Lh||HI(i),Lh}const GI=new Yu(5e3,15e3),KI="__/auth/iframe",YI="emulator/auth/iframe",QI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WI(i){const t=i.config;Nt(t.authDomain,i,"auth-domain-config-required");const e=t.emulator?hg(t,YI):`https://${i.config.authDomain}/${KI}`,r={apiKey:t.apiKey,appName:i.name,v:al},o=XI.get(i.config.apiHost);o&&(r.eid=o);const u=i._getFrameworks();return u.length&&(r.fw=u.join(",")),`${e}?${Ku(r).slice(1)}`}async function $I(i){const t=await qI(i),e=ls().gapi;return Nt(e,i,"internal-error"),t.open({where:document.body,url:WI(i),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QI,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const c=Yi(i,"network-request-failed"),m=ls().setTimeout(()=>{u(c)},GI.get());function p(){ls().clearTimeout(m),o(r)}r.ping(p).then(p,()=>{u(c)})}))}const JI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZI=500,tD=600,eD="_blank",nD="http://localhost";class MT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function iD(i,t,e,r=ZI,o=tD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const p={...JI,width:r.toString(),height:o.toString(),top:u,left:c},g=Nn().toLowerCase();e&&(m=gE(g)?eD:e),mE(g)&&(t=t||nD,p.scrollbars="yes");const v=Object.entries(p).reduce((E,[I,L])=>`${E}${I}=${L},`,"");if(j2(g)&&m!=="_self")return sD(t||"",m),new MT(null);const b=window.open(t||"",m,v);Nt(b,i,"popup-blocked");try{b.focus()}catch{}return new MT(b)}function sD(i,t){const e=document.createElement("a");e.href=i,e.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(r)}const rD="__/auth/handler",aD="emulator/auth/handler",oD=encodeURIComponent("fac");async function VT(i,t,e,r,o,u){Nt(i.config.authDomain,i,"auth-domain-config-required"),Nt(i.config.apiKey,i,"invalid-api-key");const c={apiKey:i.config.apiKey,appName:i.name,authType:e,redirectUrl:r,v:al,eventId:o};if(t instanceof gg){t.setDefaultLanguage(i.languageCode),c.providerId=t.providerId||"",sC(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,b]of Object.entries({}))c[v]=b}if(t instanceof Qu){const v=t.getScopes().filter(b=>b!=="");v.length>0&&(c.scopes=v.join(","))}i.tenantId&&(c.tid=i.tenantId);const m=c;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await i._getAppCheckToken(),g=p?`#${oD}=${encodeURIComponent(p)}`:"";return`${lD(i)}?${Ku(m).slice(1)}${g}`}function lD({config:i}){return i.emulator?hg(i,aD):`https://${i.authDomain}/${rD}`}const Ym="webStorageSupport";class uD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=IE,this._completeRedirectFn=OI,this._overrideRedirectResult=DI}async _openPopup(t,e,r,o){qs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await VT(t,e,r,_p(),o);return iD(t,u,yg())}async _openRedirect(t,e,r,o){await this._originValidation(t);const u=await VT(t,e,r,_p(),o);return fI(u),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:o,promise:u}=this.eventManagers[e];return o?Promise.resolve(o):(qs(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[e]={promise:r},r.catch(()=>{delete this.eventManagers[e]}),r}async initAndGetManager(t){const e=await $I(t),r=new PI(t);return e.register("authEvent",o=>(Nt(o?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=e,r}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Ym,{type:Ym},o=>{const u=o?.[0]?.[Ym];u!==void 0&&e(!!u),ps(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=zI(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return bE()||pE()||mg()}}const cD=uD;var OT="@firebase/auth",NT="1.11.1";class hD{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Nt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function fD(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dD(i){Xo(new Oa("auth",(t,{options:e})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=r.options;Nt(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:c,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:EE(i)},g=new H2(r,o,u,p);return X2(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,r)=>{t.getProvider("auth-internal").initialize()})),Xo(new Oa("auth-internal",t=>{const e=Sf(t.getProvider("auth").getImmediate());return(r=>new hD(r))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),jr(OT,NT,fD(i)),jr(OT,NT,"esm2020")}const mD=300,pD=Jb("authIdTokenMaxAge")||mD;let PT=null;const gD=i=>async t=>{const e=t&&await t.getIdTokenResult(),r=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(r&&r>pD)return;const o=e?.token;PT!==o&&(PT=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function yD(i=sE()){const t=lg(i,"auth");if(t.isInitialized())return t.getImmediate();const e=Q2(i,{popupRedirectResolver:cD,persistence:[bI,uI,IE]}),r=Jb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const c=gD(u.toString());sI(e,c,()=>c(e.currentUser)),iI(e,m=>c(m))}}const o=Wb("auth");return o&&W2(e,`http://${o}`),e}function vD(){return document.getElementsByTagName("head")?.[0]??document}q2({loadJS(i){return new Promise((t,e)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=t,r.onerror=o=>{const u=Yi("internal-error");u.customData=o,e(u)},r.type="text/javascript",r.charset="UTF-8",vD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dD("Browser");var kT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Lr,jE;(function(){var i;function t(R,w){function C(){}C.prototype=w.prototype,R.F=w.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(N,V,z){for(var D=Array(arguments.length-2),Ht=2;Ht<arguments.length;Ht++)D[Ht-2]=arguments[Ht];return w.prototype[V].apply(N,D)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,e),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,w,C){C||(C=0);const N=Array(16);if(typeof w=="string")for(var V=0;V<16;++V)N[V]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(V=0;V<16;++V)N[V]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=R.g[0],C=R.g[1],V=R.g[2];let z=R.g[3],D;D=w+(z^C&(V^z))+N[0]+3614090360&4294967295,w=C+(D<<7&4294967295|D>>>25),D=z+(V^w&(C^V))+N[1]+3905402710&4294967295,z=w+(D<<12&4294967295|D>>>20),D=V+(C^z&(w^C))+N[2]+606105819&4294967295,V=z+(D<<17&4294967295|D>>>15),D=C+(w^V&(z^w))+N[3]+3250441966&4294967295,C=V+(D<<22&4294967295|D>>>10),D=w+(z^C&(V^z))+N[4]+4118548399&4294967295,w=C+(D<<7&4294967295|D>>>25),D=z+(V^w&(C^V))+N[5]+1200080426&4294967295,z=w+(D<<12&4294967295|D>>>20),D=V+(C^z&(w^C))+N[6]+2821735955&4294967295,V=z+(D<<17&4294967295|D>>>15),D=C+(w^V&(z^w))+N[7]+4249261313&4294967295,C=V+(D<<22&4294967295|D>>>10),D=w+(z^C&(V^z))+N[8]+1770035416&4294967295,w=C+(D<<7&4294967295|D>>>25),D=z+(V^w&(C^V))+N[9]+2336552879&4294967295,z=w+(D<<12&4294967295|D>>>20),D=V+(C^z&(w^C))+N[10]+4294925233&4294967295,V=z+(D<<17&4294967295|D>>>15),D=C+(w^V&(z^w))+N[11]+2304563134&4294967295,C=V+(D<<22&4294967295|D>>>10),D=w+(z^C&(V^z))+N[12]+1804603682&4294967295,w=C+(D<<7&4294967295|D>>>25),D=z+(V^w&(C^V))+N[13]+4254626195&4294967295,z=w+(D<<12&4294967295|D>>>20),D=V+(C^z&(w^C))+N[14]+2792965006&4294967295,V=z+(D<<17&4294967295|D>>>15),D=C+(w^V&(z^w))+N[15]+1236535329&4294967295,C=V+(D<<22&4294967295|D>>>10),D=w+(V^z&(C^V))+N[1]+4129170786&4294967295,w=C+(D<<5&4294967295|D>>>27),D=z+(C^V&(w^C))+N[6]+3225465664&4294967295,z=w+(D<<9&4294967295|D>>>23),D=V+(w^C&(z^w))+N[11]+643717713&4294967295,V=z+(D<<14&4294967295|D>>>18),D=C+(z^w&(V^z))+N[0]+3921069994&4294967295,C=V+(D<<20&4294967295|D>>>12),D=w+(V^z&(C^V))+N[5]+3593408605&4294967295,w=C+(D<<5&4294967295|D>>>27),D=z+(C^V&(w^C))+N[10]+38016083&4294967295,z=w+(D<<9&4294967295|D>>>23),D=V+(w^C&(z^w))+N[15]+3634488961&4294967295,V=z+(D<<14&4294967295|D>>>18),D=C+(z^w&(V^z))+N[4]+3889429448&4294967295,C=V+(D<<20&4294967295|D>>>12),D=w+(V^z&(C^V))+N[9]+568446438&4294967295,w=C+(D<<5&4294967295|D>>>27),D=z+(C^V&(w^C))+N[14]+3275163606&4294967295,z=w+(D<<9&4294967295|D>>>23),D=V+(w^C&(z^w))+N[3]+4107603335&4294967295,V=z+(D<<14&4294967295|D>>>18),D=C+(z^w&(V^z))+N[8]+1163531501&4294967295,C=V+(D<<20&4294967295|D>>>12),D=w+(V^z&(C^V))+N[13]+2850285829&4294967295,w=C+(D<<5&4294967295|D>>>27),D=z+(C^V&(w^C))+N[2]+4243563512&4294967295,z=w+(D<<9&4294967295|D>>>23),D=V+(w^C&(z^w))+N[7]+1735328473&4294967295,V=z+(D<<14&4294967295|D>>>18),D=C+(z^w&(V^z))+N[12]+2368359562&4294967295,C=V+(D<<20&4294967295|D>>>12),D=w+(C^V^z)+N[5]+4294588738&4294967295,w=C+(D<<4&4294967295|D>>>28),D=z+(w^C^V)+N[8]+2272392833&4294967295,z=w+(D<<11&4294967295|D>>>21),D=V+(z^w^C)+N[11]+1839030562&4294967295,V=z+(D<<16&4294967295|D>>>16),D=C+(V^z^w)+N[14]+4259657740&4294967295,C=V+(D<<23&4294967295|D>>>9),D=w+(C^V^z)+N[1]+2763975236&4294967295,w=C+(D<<4&4294967295|D>>>28),D=z+(w^C^V)+N[4]+1272893353&4294967295,z=w+(D<<11&4294967295|D>>>21),D=V+(z^w^C)+N[7]+4139469664&4294967295,V=z+(D<<16&4294967295|D>>>16),D=C+(V^z^w)+N[10]+3200236656&4294967295,C=V+(D<<23&4294967295|D>>>9),D=w+(C^V^z)+N[13]+681279174&4294967295,w=C+(D<<4&4294967295|D>>>28),D=z+(w^C^V)+N[0]+3936430074&4294967295,z=w+(D<<11&4294967295|D>>>21),D=V+(z^w^C)+N[3]+3572445317&4294967295,V=z+(D<<16&4294967295|D>>>16),D=C+(V^z^w)+N[6]+76029189&4294967295,C=V+(D<<23&4294967295|D>>>9),D=w+(C^V^z)+N[9]+3654602809&4294967295,w=C+(D<<4&4294967295|D>>>28),D=z+(w^C^V)+N[12]+3873151461&4294967295,z=w+(D<<11&4294967295|D>>>21),D=V+(z^w^C)+N[15]+530742520&4294967295,V=z+(D<<16&4294967295|D>>>16),D=C+(V^z^w)+N[2]+3299628645&4294967295,C=V+(D<<23&4294967295|D>>>9),D=w+(V^(C|~z))+N[0]+4096336452&4294967295,w=C+(D<<6&4294967295|D>>>26),D=z+(C^(w|~V))+N[7]+1126891415&4294967295,z=w+(D<<10&4294967295|D>>>22),D=V+(w^(z|~C))+N[14]+2878612391&4294967295,V=z+(D<<15&4294967295|D>>>17),D=C+(z^(V|~w))+N[5]+4237533241&4294967295,C=V+(D<<21&4294967295|D>>>11),D=w+(V^(C|~z))+N[12]+1700485571&4294967295,w=C+(D<<6&4294967295|D>>>26),D=z+(C^(w|~V))+N[3]+2399980690&4294967295,z=w+(D<<10&4294967295|D>>>22),D=V+(w^(z|~C))+N[10]+4293915773&4294967295,V=z+(D<<15&4294967295|D>>>17),D=C+(z^(V|~w))+N[1]+2240044497&4294967295,C=V+(D<<21&4294967295|D>>>11),D=w+(V^(C|~z))+N[8]+1873313359&4294967295,w=C+(D<<6&4294967295|D>>>26),D=z+(C^(w|~V))+N[15]+4264355552&4294967295,z=w+(D<<10&4294967295|D>>>22),D=V+(w^(z|~C))+N[6]+2734768916&4294967295,V=z+(D<<15&4294967295|D>>>17),D=C+(z^(V|~w))+N[13]+1309151649&4294967295,C=V+(D<<21&4294967295|D>>>11),D=w+(V^(C|~z))+N[4]+4149444226&4294967295,w=C+(D<<6&4294967295|D>>>26),D=z+(C^(w|~V))+N[11]+3174756917&4294967295,z=w+(D<<10&4294967295|D>>>22),D=V+(w^(z|~C))+N[2]+718787259&4294967295,V=z+(D<<15&4294967295|D>>>17),D=C+(z^(V|~w))+N[9]+3951481745&4294967295,R.g[0]=R.g[0]+w&4294967295,R.g[1]=R.g[1]+(V+(D<<21&4294967295|D>>>11))&4294967295,R.g[2]=R.g[2]+V&4294967295,R.g[3]=R.g[3]+z&4294967295}r.prototype.v=function(R,w){w===void 0&&(w=R.length);const C=w-this.blockSize,N=this.C;let V=this.h,z=0;for(;z<w;){if(V==0)for(;z<=C;)o(this,R,z),z+=this.blockSize;if(typeof R=="string"){for(;z<w;)if(N[V++]=R.charCodeAt(z++),V==this.blockSize){o(this,N),V=0;break}}else for(;z<w;)if(N[V++]=R[z++],V==this.blockSize){o(this,N),V=0;break}}this.h=V,this.o+=w},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var w=1;w<R.length-8;++w)R[w]=0;w=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=w&255,w/=256;for(this.v(R),R=Array(16),w=0,C=0;C<4;++C)for(let N=0;N<32;N+=8)R[w++]=this.g[C]>>>N&255;return R};function u(R,w){var C=m;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=w(R)}function c(R,w){this.h=w;const C=[];let N=!0;for(let V=R.length-1;V>=0;V--){const z=R[V]|0;N&&z==w||(C[V]=z,N=!1)}this.g=C}var m={};function p(R){return-128<=R&&R<128?u(R,function(w){return new c([w|0],w<0?-1:0)}):new c([R|0],R<0?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return b;if(R<0)return U(g(-R));const w=[];let C=1;for(let N=0;R>=C;N++)w[N]=R/C|0,C*=4294967296;return new c(w,0)}function v(R,w){if(R.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(R.charAt(0)=="-")return U(v(R.substring(1),w));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(w,8));let N=b;for(let z=0;z<R.length;z+=8){var V=Math.min(8,R.length-z);const D=parseInt(R.substring(z,z+V),w);V<8?(V=g(Math.pow(w,V)),N=N.j(V).add(g(D))):(N=N.j(C),N=N.add(g(D)))}return N}var b=p(0),E=p(1),I=p(16777216);i=c.prototype,i.m=function(){if(P(this))return-U(this).m();let R=0,w=1;for(let C=0;C<this.g.length;C++){const N=this.i(C);R+=(N>=0?N:4294967296+N)*w,w*=4294967296}return R},i.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(L(this))return"0";if(P(this))return"-"+U(this).toString(R);const w=g(Math.pow(R,6));var C=this;let N="";for(;;){const V=gt(C,w).g;C=J(C,V.j(w));let z=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=V,L(C))return z+N;for(;z.length<6;)z="0"+z;N=z+N}},i.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function L(R){if(R.h!=0)return!1;for(let w=0;w<R.g.length;w++)if(R.g[w]!=0)return!1;return!0}function P(R){return R.h==-1}i.l=function(R){return R=J(this,R),P(R)?-1:L(R)?0:1};function U(R){const w=R.g.length,C=[];for(let N=0;N<w;N++)C[N]=~R.g[N];return new c(C,~R.h).add(E)}i.abs=function(){return P(this)?U(this):this},i.add=function(R){const w=Math.max(this.g.length,R.g.length),C=[];let N=0;for(let V=0;V<=w;V++){let z=N+(this.i(V)&65535)+(R.i(V)&65535),D=(z>>>16)+(this.i(V)>>>16)+(R.i(V)>>>16);N=D>>>16,z&=65535,D&=65535,C[V]=D<<16|z}return new c(C,C[C.length-1]&-2147483648?-1:0)};function J(R,w){return R.add(U(w))}i.j=function(R){if(L(this)||L(R))return b;if(P(this))return P(R)?U(this).j(U(R)):U(U(this).j(R));if(P(R))return U(this.j(U(R)));if(this.l(I)<0&&R.l(I)<0)return g(this.m()*R.m());const w=this.g.length+R.g.length,C=[];for(var N=0;N<2*w;N++)C[N]=0;for(N=0;N<this.g.length;N++)for(let V=0;V<R.g.length;V++){const z=this.i(N)>>>16,D=this.i(N)&65535,Ht=R.i(V)>>>16,re=R.i(V)&65535;C[2*N+2*V]+=D*re,ot(C,2*N+2*V),C[2*N+2*V+1]+=z*re,ot(C,2*N+2*V+1),C[2*N+2*V+1]+=D*Ht,ot(C,2*N+2*V+1),C[2*N+2*V+2]+=z*Ht,ot(C,2*N+2*V+2)}for(R=0;R<w;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=w;R<2*w;R++)C[R]=0;return new c(C,0)};function ot(R,w){for(;(R[w]&65535)!=R[w];)R[w+1]+=R[w]>>>16,R[w]&=65535,w++}function et(R,w){this.g=R,this.h=w}function gt(R,w){if(L(w))throw Error("division by zero");if(L(R))return new et(b,b);if(P(R))return w=gt(U(R),w),new et(U(w.g),U(w.h));if(P(w))return w=gt(R,U(w)),new et(U(w.g),w.h);if(R.g.length>30){if(P(R)||P(w))throw Error("slowDivide_ only works with positive integers.");for(var C=E,N=w;N.l(R)<=0;)C=dt(C),N=dt(N);var V=ft(C,1),z=ft(N,1);for(N=ft(N,2),C=ft(C,2);!L(N);){var D=z.add(N);D.l(R)<=0&&(V=V.add(C),z=D),N=ft(N,1),C=ft(C,1)}return w=J(R,V.j(w)),new et(V,w)}for(V=b;R.l(w)>=0;){for(C=Math.max(1,Math.floor(R.m()/w.m())),N=Math.ceil(Math.log(C)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),z=g(C),D=z.j(w);P(D)||D.l(R)>0;)C-=N,z=g(C),D=z.j(w);L(z)&&(z=E),V=V.add(z),R=J(R,D)}return new et(V,R)}i.B=function(R){return gt(this,R).h},i.and=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let N=0;N<w;N++)C[N]=this.i(N)&R.i(N);return new c(C,this.h&R.h)},i.or=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let N=0;N<w;N++)C[N]=this.i(N)|R.i(N);return new c(C,this.h|R.h)},i.xor=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let N=0;N<w;N++)C[N]=this.i(N)^R.i(N);return new c(C,this.h^R.h)};function dt(R){const w=R.g.length+1,C=[];for(let N=0;N<w;N++)C[N]=R.i(N)<<1|R.i(N-1)>>>31;return new c(C,R.h)}function ft(R,w){const C=w>>5;w%=32;const N=R.g.length-C,V=[];for(let z=0;z<N;z++)V[z]=w>0?R.i(z+C)>>>w|R.i(z+C+1)<<32-w:R.i(z+C);return new c(V,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,jE=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,Lr=c}).apply(typeof kT<"u"?kT:typeof self<"u"?self:typeof window<"u"?window:{});var wh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var LE,fu,UE,Uh,Ep,zE,BE,FE;(function(){var i,t=Object.defineProperty;function e(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof wh=="object"&&wh];for(var y=0;y<h.length;++y){var T=h[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=e(this);function o(h,y){if(y)t:{var T=r;h=h.split(".");for(var x=0;x<h.length-1;x++){var F=h[x];if(!(F in T))break t;T=T[F]}h=h[h.length-1],x=T[h],y=y(x),y!=x&&y!=null&&t(T,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var T=[],x;for(x in y)Object.prototype.hasOwnProperty.call(y,x)&&T.push([x,y[x]]);return T}});var u=u||{},c=this||self;function m(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,T){return h.call.apply(h.bind,arguments)}function g(h,y,T){return g=p,g.apply(null,arguments)}function v(h,y){var T=Array.prototype.slice.call(arguments,1);return function(){var x=T.slice();return x.push.apply(x,arguments),h.apply(this,x)}}function b(h,y){function T(){}T.prototype=y.prototype,h.Z=y.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(x,F,X){for(var mt=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)mt[zt-2]=arguments[zt];return y.prototype[F].apply(x,mt)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function I(h){const y=h.length;if(y>0){const T=Array(y);for(let x=0;x<y;x++)T[x]=h[x];return T}return[]}function L(h,y){for(let x=1;x<arguments.length;x++){const F=arguments[x];var T=typeof F;if(T=T!="object"?T:F?Array.isArray(F)?"array":T:"null",T=="array"||T=="object"&&typeof F.length=="number"){T=h.length||0;const X=F.length||0;h.length=T+X;for(let mt=0;mt<X;mt++)h[T+mt]=F[mt]}else h.push(F)}}class P{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function U(h){c.setTimeout(()=>{throw h},0)}function J(){var h=R;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class ot{constructor(){this.h=this.g=null}add(y,T){const x=et.get();x.set(y,T),this.h?this.h.next=x:this.g=x,this.h=x}}var et=new P(()=>new gt,h=>h.reset());class gt{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let dt,ft=!1,R=new ot,w=()=>{const h=Promise.resolve(void 0);dt=()=>{h.then(C)}};function C(){for(var h;h=J();){try{h.h.call(h.g)}catch(T){U(T)}var y=et;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}ft=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,y),c.removeEventListener("test",T,y)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function Ht(h,y){V.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}b(Ht,V),Ht.prototype.init=function(h,y){const T=this.type=h.type,x=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(T=="mouseover"?y=h.fromElement:T=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Ht.Z.h.call(this)},Ht.prototype.h=function(){Ht.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var re="closure_listenable_"+(Math.random()*1e6|0),W=0;function st(h,y,T,x,F){this.listener=h,this.proxy=null,this.src=y,this.type=T,this.capture=!!x,this.ha=F,this.key=++W,this.da=this.fa=!1}function yt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Vt(h,y,T){for(const x in h)y.call(T,h[x],x,h)}function Ct(h,y){for(const T in h)y.call(void 0,h[T],T,h)}function k(h){const y={};for(const T in h)y[T]=h[T];return y}const tt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pt(h,y){let T,x;for(let F=1;F<arguments.length;F++){x=arguments[F];for(T in x)h[T]=x[T];for(let X=0;X<tt.length;X++)T=tt[X],Object.prototype.hasOwnProperty.call(x,T)&&(h[T]=x[T])}}function vt(h){this.src=h,this.g={},this.h=0}vt.prototype.add=function(h,y,T,x,F){const X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);const mt=Pt(h,y,x,F);return mt>-1?(y=h[mt],T||(y.fa=!1)):(y=new st(y,this.src,X,!!x,F),y.fa=T,h.push(y)),y};function xt(h,y){const T=y.type;if(T in h.g){var x=h.g[T],F=Array.prototype.indexOf.call(x,y,void 0),X;(X=F>=0)&&Array.prototype.splice.call(x,F,1),X&&(yt(y),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Pt(h,y,T,x){for(let F=0;F<h.length;++F){const X=h[F];if(!X.da&&X.listener==y&&X.capture==!!T&&X.ha==x)return F}return-1}var qt="closure_lm_"+(Math.random()*1e6|0),we={};function me(h,y,T,x,F){if(Array.isArray(y)){for(let X=0;X<y.length;X++)me(h,y[X],T,x,F);return null}return T=Ni(T),h&&h[re]?h.J(y,T,m(x)?!!x.capture:!1,F):ie(h,y,T,!1,x,F)}function ie(h,y,T,x,F,X){if(!y)throw Error("Invalid event type");const mt=m(F)?!!F.capture:!!F;let zt=Un(h);if(zt||(h[qt]=zt=new vt(h)),T=zt.add(y,T,x,mt,X),T.proxy)return T;if(x=gn(),T.proxy=x,x.src=h,x.listener=T,h.addEventListener)z||(F=mt),F===void 0&&(F=!1),h.addEventListener(y.toString(),x,F);else if(h.attachEvent)h.attachEvent(Me(y.toString()),x);else if(h.addListener&&h.removeListener)h.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return T}function gn(){function h(T){return y.call(h.src,h.listener,T)}const y=Qi;return h}function Oi(h,y,T,x,F){if(Array.isArray(y))for(var X=0;X<y.length;X++)Oi(h,y[X],T,x,F);else x=m(x)?!!x.capture:!!x,T=Ni(T),h&&h[re]?(h=h.i,X=String(y).toString(),X in h.g&&(y=h.g[X],T=Pt(y,T,x,F),T>-1&&(yt(y[T]),Array.prototype.splice.call(y,T,1),y.length==0&&(delete h.g[X],h.h--)))):h&&(h=Un(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Pt(y,T,x,F)),(T=h>-1?y[h]:null)&&$n(T))}function $n(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[re])xt(y.i,h);else{var T=h.type,x=h.proxy;y.removeEventListener?y.removeEventListener(T,x,h.capture):y.detachEvent?y.detachEvent(Me(T),x):y.addListener&&y.removeListener&&y.removeListener(x),(T=Un(y))?(xt(T,h),T.h==0&&(T.src=null,y[qt]=null)):yt(h)}}}function Me(h){return h in we?we[h]:we[h]="on"+h}function Qi(h,y){if(h.da)h=!0;else{y=new Ht(y,this);const T=h.listener,x=h.ha||h.src;h.fa&&$n(h),h=T.call(x,y)}return h}function Un(h){return h=h[qt],h instanceof vt?h:null}var vs="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ni(h){return typeof h=="function"?h:(h[vs]||(h[vs]=function(y){return h.handleEvent(y)}),h[vs])}function xe(){N.call(this),this.i=new vt(this),this.M=this,this.G=null}b(xe,N),xe.prototype[re]=!0,xe.prototype.removeEventListener=function(h,y,T,x){Oi(this,h,y,T,x)};function Ve(h,y){var T,x=h.G;if(x)for(T=[];x;x=x.G)T.push(x);if(h=h.M,x=y.type||y,typeof y=="string")y=new V(y,h);else if(y instanceof V)y.target=y.target||h;else{var F=y;y=new V(x,h),pt(y,F)}F=!0;let X,mt;if(T)for(mt=T.length-1;mt>=0;mt--)X=y.g=T[mt],F=ci(X,x,!0,y)&&F;if(X=y.g=h,F=ci(X,x,!0,y)&&F,F=ci(X,x,!1,y)&&F,T)for(mt=0;mt<T.length;mt++)X=y.g=T[mt],F=ci(X,x,!1,y)&&F}xe.prototype.N=function(){if(xe.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const T=h.g[y];for(let x=0;x<T.length;x++)yt(T[x]);delete h.g[y],h.h--}}this.G=null},xe.prototype.J=function(h,y,T,x){return this.i.add(String(h),y,!1,T,x)},xe.prototype.K=function(h,y,T,x){return this.i.add(String(h),y,!0,T,x)};function ci(h,y,T,x){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let F=!0;for(let X=0;X<y.length;++X){const mt=y[X];if(mt&&!mt.da&&mt.capture==T){const zt=mt.listener,qe=mt.ha||mt.src;mt.fa&&xt(h.i,mt),F=zt.call(qe,x)!==!1&&F}}return F&&!x.defaultPrevented}function Xr(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function bt(h){h.g=Xr(()=>{h.g=null,h.i&&(h.i=!1,bt(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class Ut extends N{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:bt(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xn(h){N.call(this),this.h=h,this.g={}}b(xn,N);var Pn=[];function se(h){Vt(h.g,function(y,T){this.g.hasOwnProperty(T)&&$n(y)},h),h.g={}}xn.prototype.N=function(){xn.Z.N.call(this),se(this)},xn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Te=c.JSON.stringify,zn=c.JSON.parse,Ba=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Fa(){}function Ha(){}var Jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function sn(){V.call(this,"d")}b(sn,V);function Bn(){V.call(this,"c")}b(Bn,V);var Oe={},qa=null;function Ws(){return qa=qa||new xe}Oe.Ia="serverreachability";function Ga(h){V.call(this,Oe.Ia,h)}b(Ga,V);function hi(h){const y=Ws();Ve(y,new Ga(y))}Oe.STAT_EVENT="statevent";function _s(h,y){V.call(this,Oe.STAT_EVENT,h),this.stat=y}b(_s,V);function Ue(h){const y=Ws();Ve(y,new _s(y,h))}Oe.Ja="timingevent";function un(h,y){V.call(this,Oe.Ja,h),this.size=y}b(un,V);function fi(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function Zn(){this.g=!0}Zn.prototype.ua=function(){this.g=!1};function ti(h,y,T,x,F,X){h.info(function(){if(h.g)if(X){var mt="",zt=X.split("&");for(let le=0;le<zt.length;le++){var qe=zt[le].split("=");if(qe.length>1){const Ce=qe[0];qe=qe[1];const yi=Ce.split("_");mt=yi.length>=2&&yi[1]=="type"?mt+(Ce+"="+qe+"&"):mt+(Ce+"=redacted&")}}}else mt=null;else mt=X;return"XMLHTTP REQ ("+x+") [attempt "+F+"]: "+y+`
`+T+`
`+mt})}function Ka(h,y,T,x,F,X,mt){h.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+F+"]: "+y+`
`+T+`
`+X+" "+mt})}function di(h,y,T,x){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+rt(h,T)+(x?" "+x:"")})}function O(h,y){h.info(function(){return"TIMEOUT: "+y})}Zn.prototype.info=function(){};function rt(h,y){if(!h.g)return y;if(!y)return null;try{const X=JSON.parse(y);if(X){for(h=0;h<X.length;h++)if(Array.isArray(X[h])){var T=X[h];if(!(T.length<2)){var x=T[1];if(Array.isArray(x)&&!(x.length<1)){var F=x[0];if(F!="noop"&&F!="stop"&&F!="close")for(let mt=1;mt<x.length;mt++)x[mt]=""}}}}return Te(X)}catch{return y}}var Q={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},lt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},K;function it(){}b(it,Fa),it.prototype.g=function(){return new XMLHttpRequest},K=new it;function ht(h){return encodeURIComponent(String(h))}function _t(h){var y=1;h=h.split(":");const T=[];for(;y>0&&h.length;)T.push(h.shift()),y--;return h.length&&T.push(h.join(":")),T}function Gt(h,y,T,x){this.j=h,this.i=y,this.l=T,this.S=x||1,this.V=new xn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Re}function Re(){this.i=null,this.g="",this.h=!1}var ee={},Dt={};function Kt(h,y,T){h.M=1,h.A=$r(Xe(y)),h.u=T,h.R=!0,cn(h,null)}function cn(h,y){h.F=Date.now(),mi(h),h.B=Xe(h.A);var T=h.B,x=h.S;Array.isArray(x)||(x=[String(x)]),Ja(T.i,"t",x),h.C=0,T=h.j.L,h.h=new Re,h.g=yc(h.j,T?y:null,!h.u),h.P>0&&(h.O=new Ut(g(h.Y,h,h.g),h.P)),y=h.V,T=h.g,x=h.ba;var F="readystatechange";Array.isArray(F)||(F&&(Pn[0]=F.toString()),F=Pn);for(let X=0;X<F.length;X++){const mt=me(T,F[X],x||y.handleEvent,!1,y.h||y);if(!mt)break;y.g[mt.key]=mt}y=h.J?k(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),hi(),ti(h.i,h.v,h.B,h.l,h.S,h.u)}Gt.prototype.ba=function(h){h=h.target;const y=this.O;y&&ji(h)==3?y.j():this.Y(h)},Gt.prototype.Y=function(h){try{if(h==this.g)t:{const zt=ji(this.g),qe=this.g.ya(),le=this.g.ca();if(!(zt<3)&&(zt!=3||this.g&&(this.h.h||this.g.la()||yn(this.g)))){this.K||zt!=4||qe==7||(qe==8||le<=0?hi(3):hi(2)),Rn(this);var y=this.g.ca();this.X=y;var T=$s(this);if(this.o=y==200,Ka(this.i,this.v,this.B,this.l,this.S,zt,y),this.o){if(this.U&&!this.L){e:{if(this.g){var x,F=this.g;if((x=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(x)){var X=x;break e}}X=null}if(h=X)di(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ei(this,h);else{this.o=!1,this.m=3,Ue(12),rn(this),hn(this);break t}}if(this.R){h=!0;let Ce;for(;!this.K&&this.C<T.length;)if(Ce=Qa(this,T),Ce==Dt){zt==4&&(this.m=4,Ue(14),h=!1),di(this.i,this.l,null,"[Incomplete Response]");break}else if(Ce==ee){this.m=4,Ue(15),di(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else di(this.i,this.l,Ce,null),ei(this,Ce);if(Ya(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),zt!=4||T.length!=0||this.h.h||(this.m=1,Ue(16),h=!1),this.o=this.o&&h,!h)di(this.i,this.l,T,"[Invalid Chunked Response]"),rn(this),hn(this);else if(T.length>0&&!this.W){this.W=!0;var mt=this.j;mt.g==this&&mt.aa&&!mt.P&&(mt.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),xl(mt),mt.P=!0,Ue(11))}}else di(this.i,this.l,T,null),ei(this,T);zt==4&&rn(this),this.o&&!this.K&&(zt==4?dc(this.j,this):(this.o=!1,mi(this)))}else bs(this.g),y==400&&T.indexOf("Unknown SID")>0?(this.m=3,Ue(12)):(this.m=0,Ue(13)),rn(this),hn(this)}}}catch{}finally{}};function $s(h){if(!Ya(h))return h.g.la();const y=yn(h.g);if(y==="")return"";let T="";const x=y.length,F=ji(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return rn(h),hn(h),"";h.h.i=new c.TextDecoder}for(let X=0;X<x;X++)h.h.h=!0,T+=h.h.i.decode(y[X],{stream:!(F&&X==x-1)});return y.length=0,h.h.g+=T,h.C=0,h.h.g}function Ya(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Qa(h,y){var T=h.C,x=y.indexOf(`
`,T);return x==-1?Dt:(T=Number(y.substring(T,x)),isNaN(T)?ee:(x+=1,x+T>y.length?Dt:(y=y.slice(x,x+T),h.C=x+T,y)))}Gt.prototype.cancel=function(){this.K=!0,rn(this)};function mi(h){h.T=Date.now()+h.H,ze(h,h.H)}function ze(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=fi(g(h.aa,h),y)}function Rn(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Gt.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(O(this.i,this.B),this.M!=2&&(hi(),Ue(17)),rn(this),this.m=2,hn(this)):ze(this,this.T-h)};function hn(h){h.j.I==0||h.K||dc(h.j,h)}function rn(h){Rn(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,se(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function ei(h,y){try{var T=h.j;if(T.I!=0&&(T.g==h||Cn(T.h,h))){if(!h.L&&Cn(T.h,h)&&T.I==3){try{var x=T.Ba.g.parse(y)}catch{x=null}if(Array.isArray(x)&&x.length==3){var F=x;if(F[0]==0){t:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)io(T),rr(T);else break t;sa(T),Ue(18)}}else T.xa=F[1],0<T.xa-T.K&&F[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=fi(g(T.Va,T),6e3));pe(T.h)<=1&&T.ta&&(T.ta=void 0)}else es(T,11)}else if((h.L||T.g==h)&&io(T),!D(y))for(F=T.Ba.g.parse(y),y=0;y<F.length;y++){let le=F[y];const Ce=le[0];if(!(Ce<=T.K))if(T.K=Ce,le=le[1],T.I==2)if(le[0]=="c"){T.M=le[1],T.ba=le[2];const yi=le[3];yi!=null&&(T.ka=yi,T.j.info("VER="+T.ka));const ns=le[4];ns!=null&&(T.za=ns,T.j.info("SVER="+T.za));const Li=le[5];Li!=null&&typeof Li=="number"&&Li>0&&(x=1.5*Li,T.O=x,T.j.info("backChannelRequestTimeoutMs_="+x)),x=T;const Ui=h.g;if(Ui){const ra=Ui.g?Ui.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ra){var X=x.h;X.g||ra.indexOf("spdy")==-1&&ra.indexOf("quic")==-1&&ra.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Xi(X,X.h),X.h=null))}if(x.G){const so=Ui.g?Ui.g.getResponseHeader("X-HTTP-Session-Id"):null;so&&(x.wa=so,he(x.J,x.G,so))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),x=T;var mt=h;if(x.na=gc(x,x.L?x.ba:null,x.W),mt.L){pl(x.h,mt);var zt=mt,qe=x.O;qe&&(zt.H=qe),zt.D&&(Rn(zt),mi(zt)),x.g=mt}else hc(x);T.i.length>0&&ts(T)}else le[0]!="stop"&&le[0]!="close"||es(T,7);else T.I==3&&(le[0]=="stop"||le[0]=="close"?le[0]=="stop"?es(T,7):Al(T):le[0]!="noop"&&T.l&&T.l.qa(le),T.A=0)}}hi(4)}catch{}}var Ne=class{constructor(h,y){this.g=h,this.map=y}};function Xa(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Wr(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function pe(h){return h.h?1:h.g?h.g.size:0}function Cn(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Xi(h,y){h.g?h.g.add(y):h.h=y}function pl(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Xa.prototype.cancel=function(){if(this.i=gl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function gl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const T of h.g.values())y=y.concat(T.G);return y}return I(h.i)}var rc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wa(h,y){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const x=h[T].indexOf("=");let F,X=null;x>=0?(F=h[T].substring(0,x),X=h[T].substring(x+1)):F=h[T],y(F,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function ni(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof ni?(this.l=h.l,fn(this,h.j),this.o=h.o,this.g=h.g,Js(this,h.u),this.h=h.h,yl(this,uc(h.i)),this.m=h.m):h&&(y=String(h).match(rc))?(this.l=!1,fn(this,y[1]||"",!0),this.o=Wi(y[2]||""),this.g=Wi(y[3]||"",!0),Js(this,y[4]),this.h=Wi(y[5]||"",!0),yl(this,y[6]||"",!0),this.m=Wi(y[7]||"")):(this.l=!1,this.i=new tr(null,this.l))}ni.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(Jr(y,$a,!0),":");var T=this.g;return(T||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Jr(y,$a,!0),"@"),h.push(ht(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Jr(T,T.charAt(0)=="/"?vl:ac,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Jr(T,oc)),h.join("")},ni.prototype.resolve=function(h){const y=Xe(this);let T=!!h.j;T?fn(y,h.j):T=!!h.o,T?y.o=h.o:T=!!h.g,T?y.g=h.g:T=h.u!=null;var x=h.h;if(T)Js(y,h.u);else if(T=!!h.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var F=y.h.lastIndexOf("/");F!=-1&&(x=y.h.slice(0,F+1)+x)}if(F=x,F==".."||F==".")x="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){x=F.lastIndexOf("/",0)==0,F=F.split("/");const X=[];for(let mt=0;mt<F.length;){const zt=F[mt++];zt=="."?x&&mt==F.length&&X.push(""):zt==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),x&&mt==F.length&&X.push("")):(X.push(zt),x=!0)}x=X.join("/")}else x=F}return T?y.h=x:T=h.i.toString()!=="",T?yl(y,uc(h.i)):T=!!h.m,T&&(y.m=h.m),y};function Xe(h){return new ni(h)}function fn(h,y,T){h.j=T?Wi(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Js(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function yl(h,y,T){y instanceof tr?(h.i=y,Za(h.i,h.l)):(T||(y=Jr(y,Zs)),h.i=new tr(y,h.l))}function he(h,y,T){h.i.set(y,T)}function $r(h){return he(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Wi(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Jr(h,y,T){return typeof h=="string"?(h=encodeURI(h).replace(y,Fn),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Fn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var $a=/[#\/\?@]/g,ac=/[#\?:]/g,vl=/[#\?]/g,Zs=/[#\?@]/g,oc=/#/g;function tr(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function Hn(h){h.g||(h.g=new Map,h.h=0,h.i&&Wa(h.i,function(y,T){h.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}i=tr.prototype,i.add=function(h,y){Hn(this),this.i=null,h=er(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(y),this.h+=1,this};function lc(h,y){Hn(h),y=er(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function _l(h,y){return Hn(h),y=er(h,y),h.g.has(y)}i.forEach=function(h,y){Hn(this),this.g.forEach(function(T,x){T.forEach(function(F){h.call(y,F,x,this)},this)},this)};function Tl(h,y){Hn(h);let T=[];if(typeof y=="string")_l(h,y)&&(T=T.concat(h.g.get(er(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)T=T.concat(h[y]);return T}i.set=function(h,y){return Hn(this),this.i=null,h=er(this,h),_l(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},i.get=function(h,y){return h?(h=Tl(this,h),h.length>0?String(h[0]):y):y};function Ja(h,y,T){lc(h,y),T.length>0&&(h.i=null,h.g.set(er(h,y),I(T)),h.h+=T.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let x=0;x<y.length;x++){var T=y[x];const F=ht(T);T=Tl(this,T);for(let X=0;X<T.length;X++){let mt=F;T[X]!==""&&(mt+="="+ht(T[X])),h.push(mt)}}return this.i=h.join("&")};function uc(h){const y=new tr;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function er(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Za(h,y){y&&!h.j&&(Hn(h),h.i=null,h.g.forEach(function(T,x){const F=x.toLowerCase();x!=F&&(lc(this,x),Ja(this,F,T))},h)),h.j=y}function Pi(h,y){const T=new Zn;if(c.Image){const x=new Image;x.onload=v(pi,T,"TestLoadImage: loaded",!0,y,x),x.onerror=v(pi,T,"TestLoadImage: error",!1,y,x),x.onabort=v(pi,T,"TestLoadImage: abort",!1,y,x),x.ontimeout=v(pi,T,"TestLoadImage: timeout",!1,y,x),c.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=h}else y(!1)}function bl(h,y){const T=new Zn,x=new AbortController,F=setTimeout(()=>{x.abort(),pi(T,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:x.signal}).then(X=>{clearTimeout(F),X.ok?pi(T,"TestPingServer: ok",!0,y):pi(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),pi(T,"TestPingServer: error",!1,y)})}function pi(h,y,T,x,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),x(T)}catch{}}function nr(){this.g=new Ba}function $i(h){this.i=h.Sb||null,this.h=h.ab||!1}b($i,Fa),$i.prototype.g=function(){return new Zr(this.i,this.h)};function Zr(h,y){xe.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Zr,xe),i=Zr.prototype,i.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,ki(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ir(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ki(this)),this.g&&(this.readyState=3,ki(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;to(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function to(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?ir(this):ki(this),this.readyState==3&&to(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,ir(this))},i.Na=function(h){this.g&&(this.response=h,ir(this))},i.ga=function(){this.g&&ir(this)};function ir(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ki(h)}i.setRequestHeader=function(h,y){this.A.append(h,y)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=y.next();return h.join(`\r
`)};function ki(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Zr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function gi(h){let y="";return Vt(h,function(T,x){y+=x,y+=":",y+=T,y+=`\r
`}),y}function ta(h,y,T){t:{for(x in T){var x=!1;break t}x=!0}x||(T=gi(T),typeof h=="string"?T!=null&&ht(T):he(h,y,T))}function ge(h){xe.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(ge,xe);var Ji=/^https?$/i,El=["POST","PUT"];i=ge.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,y,T,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():K.g(),this.g.onreadystatechange=E(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(X){ea(this,X);return}if(h=T||"",T=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var F in x)T.set(F,x[F]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const X of x.keys())T.set(X,x.get(X));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(T.keys()).find(X=>X.toLowerCase()=="content-type"),F=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(El,y,void 0)>=0)||x||F||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,mt]of T)this.g.setRequestHeader(X,mt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(X){ea(this,X)}};function ea(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,Sl(h),Ts(h)}function Sl(h){h.A||(h.A=!0,Ve(h,"complete"),Ve(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ve(this,"complete"),Ve(this,"abort"),Ts(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ts(this,!0)),ge.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?na(this):this.Xa())},i.Xa=function(){na(this)};function na(h){if(h.h&&typeof u<"u"){if(h.v&&ji(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ve(h,"readystatechange"),ji(h)==4){h.h=!1;try{const X=h.ca();t:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var T;if(!(T=y)){var x;if(x=X===0){let mt=String(h.D).match(rc)[1]||null;!mt&&c.self&&c.self.location&&(mt=c.self.location.protocol.slice(0,-1)),x=!Ji.test(mt?mt.toLowerCase():"")}T=x}if(T)Ve(h,"complete"),Ve(h,"success");else{h.o=6;try{var F=ji(h)>2?h.g.statusText:""}catch{F=""}h.l=F+" ["+h.ca()+"]",Sl(h)}}finally{Ts(h)}}}}function Ts(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,y||Ve(h,"ready");try{T.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function ji(h){return h.g?h.g.readyState:0}i.ca=function(){try{return ji(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),zn(y)}};function yn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function bs(h){const y={};h=(h.g&&ji(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<h.length;x++){if(D(h[x]))continue;var T=_t(h[x]);const F=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const X=y[F]||[];y[F]=X,X.push(T)}Ct(y,function(x){return x.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zi(h,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||y}function sr(h){this.za=0,this.i=[],this.j=new Zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Zi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Zi("baseRetryDelayMs",5e3,h),this.Za=Zi("retryDelaySeedMs",1e4,h),this.Ta=Zi("forwardChannelMaxRetries",2,h),this.va=Zi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Xa(h&&h.concurrentRequestLimit),this.Ba=new nr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=sr.prototype,i.ka=8,i.I=1,i.connect=function(h,y,T,x){Ue(0),this.W=h,this.H=y||{},T&&x!==void 0&&(this.H.OSID=T,this.H.OAID=x),this.F=this.X,this.J=gc(this,null,this.W),ts(this)};function Al(h){if(eo(h),h.I==3){var y=h.V++,T=Xe(h.J);if(he(T,"SID",h.M),he(T,"RID",y),he(T,"TYPE","terminate"),ia(h,T),y=new Gt(h,h.j,y),y.M=2,y.A=$r(Xe(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=y.A,T=!0),T||(y.g=yc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),mi(y)}pc(h)}function rr(h){h.g&&(xl(h),h.g.cancel(),h.g=null)}function eo(h){rr(h),h.v&&(c.clearTimeout(h.v),h.v=null),io(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function ts(h){if(!Wr(h.h)&&!h.m){h.m=!0;var y=h.Ea;dt||w(),ft||(dt(),ft=!0),R.add(y,h),h.D=0}}function no(h,y){return pe(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=fi(g(h.Ea,h,y),mc(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const F=new Gt(this,this.j,h);let X=this.o;if(this.U&&(X?(X=k(X),pt(X,this.U)):X=this.U),this.u!==null||this.R||(F.J=X,X=null),this.S)t:{for(var y=0,T=0;T<this.i.length;T++){e:{var x=this.i[T];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break e}x=void 0}if(x===void 0)break;if(y+=x,y>4096){y=T;break t}if(y===4096||T===this.i.length-1){y=T+1;break t}}y=1e3}else y=1e3;y=cc(this,F,y),T=Xe(this.J),he(T,"RID",h),he(T,"CVER",22),this.G&&he(T,"X-HTTP-Session-Id",this.G),ia(this,T),X&&(this.R?y="headers="+ht(gi(X))+"&"+y:this.u&&ta(T,this.u,X)),Xi(this.h,F),this.Ra&&he(T,"TYPE","init"),this.S?(he(T,"$req",y),he(T,"SID","null"),F.U=!0,Kt(F,T,null)):Kt(F,T,y),this.I=2}}else this.I==3&&(h?wl(this,h):this.i.length==0||Wr(this.h)||wl(this))};function wl(h,y){var T;y?T=y.l:T=h.V++;const x=Xe(h.J);he(x,"SID",h.M),he(x,"RID",T),he(x,"AID",h.K),ia(h,x),h.u&&h.o&&ta(x,h.u,h.o),T=new Gt(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),y&&(h.i=y.G.concat(h.i)),y=cc(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Xi(h.h,T),Kt(T,x,y)}function ia(h,y){h.H&&Vt(h.H,function(T,x){he(y,x,T)}),h.l&&Vt({},function(T,x){he(y,x,T)})}function cc(h,y,T){T=Math.min(h.i.length,T);const x=h.l?g(h.l.Ka,h.l,h):null;t:{var F=h.i;let zt=-1;for(;;){const qe=["count="+T];zt==-1?T>0?(zt=F[0].g,qe.push("ofs="+zt)):zt=0:qe.push("ofs="+zt);let le=!0;for(let Ce=0;Ce<T;Ce++){var X=F[Ce].g;const yi=F[Ce].map;if(X-=zt,X<0)zt=Math.max(0,F[Ce].g-100),le=!1;else try{X="req"+X+"_"||"";try{var mt=yi instanceof Map?yi:Object.entries(yi);for(const[ns,Li]of mt){let Ui=Li;m(Li)&&(Ui=Te(Li)),qe.push(X+ns+"="+encodeURIComponent(Ui))}}catch(ns){throw qe.push(X+"type="+encodeURIComponent("_badmap")),ns}}catch{x&&x(yi)}}if(le){mt=qe.join("&");break t}}mt=void 0}return h=h.i.splice(0,T),y.G=h,mt}function hc(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;dt||w(),ft||(dt(),ft=!0),R.add(y,h),h.A=0}}function sa(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=fi(g(h.Da,h),mc(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,fc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=fi(g(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ue(10),rr(this),fc(this))};function xl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function fc(h){h.g=new Gt(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=Xe(h.na);he(y,"RID","rpc"),he(y,"SID",h.M),he(y,"AID",h.K),he(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&he(y,"TO",h.ia),he(y,"TYPE","xmlhttp"),ia(h,y),h.u&&h.o&&ta(y,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=$r(Xe(y)),T.u=null,T.R=!0,cn(T,h)}i.Va=function(){this.C!=null&&(this.C=null,rr(this),sa(this),Ue(19))};function io(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function dc(h,y){var T=null;if(h.g==y){io(h),xl(h),h.g=null;var x=2}else if(Cn(h.h,y))T=y.G,pl(h.h,y),x=1;else return;if(h.I!=0){if(y.o)if(x==1){T=y.u?y.u.length:0,y=Date.now()-y.F;var F=h.D;x=Ws(),Ve(x,new un(x,T)),ts(h)}else hc(h);else if(F=y.m,F==3||F==0&&y.X>0||!(x==1&&no(h,y)||x==2&&sa(h)))switch(T&&T.length>0&&(y=h.h,y.i=y.i.concat(T)),F){case 1:es(h,5);break;case 4:es(h,10);break;case 3:es(h,6);break;default:es(h,2)}}}function mc(h,y){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*y}function es(h,y){if(h.j.info("Error code "+y),y==2){var T=g(h.bb,h),x=h.Ua;const F=!x;x=new ni(x||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||fn(x,"https"),$r(x),F?Pi(x.toString(),T):bl(x.toString(),T)}else Ue(2);h.I=0,h.l&&h.l.pa(y),pc(h),eo(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ue(2)):(this.j.info("Failed to ping google.com"),Ue(1))};function pc(h){if(h.I=0,h.ja=[],h.l){const y=gl(h.h);(y.length!=0||h.i.length!=0)&&(L(h.ja,y),L(h.ja,h.i),h.h.i.length=0,I(h.i),h.i.length=0),h.l.oa()}}function gc(h,y,T){var x=T instanceof ni?Xe(T):new ni(T);if(x.g!="")y&&(x.g=y+"."+x.g),Js(x,x.u);else{var F=c.location;x=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;const X=new ni(null);x&&fn(X,x),y&&(X.g=y),F&&Js(X,F),T&&(X.h=T),x=X}return T=h.G,y=h.wa,T&&y&&he(x,T,y),he(x,"VER",h.ka),ia(h,x),x}function yc(h,y,T){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new ge(new $i({ab:T})):new ge(h.ma),y.Fa(h.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function vc(){}i=vc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function ar(){}ar.prototype.g=function(h,y){return new kn(h,y)};function kn(h,y){xe.call(this),this.g=new sr(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!D(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!D(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Es(this)}b(kn,xe),kn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},kn.prototype.close=function(){Al(this.g)},kn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=Te(h),h=T);y.i.push(new Ne(y.Ya++,h)),y.I==3&&ts(y)},kn.prototype.N=function(){this.g.l=null,delete this.j,Al(this.g),delete this.g,kn.Z.N.call(this)};function _c(h){sn.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){t:{for(const T in y){h=T;break t}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}b(_c,sn);function Tc(){Bn.call(this),this.status=1}b(Tc,Bn);function Es(h){this.g=h}b(Es,vc),Es.prototype.ra=function(){Ve(this.g,"a")},Es.prototype.qa=function(h){Ve(this.g,new _c(h))},Es.prototype.pa=function(h){Ve(this.g,new Tc)},Es.prototype.oa=function(){Ve(this.g,"b")},ar.prototype.createWebChannel=ar.prototype.g,kn.prototype.send=kn.prototype.o,kn.prototype.open=kn.prototype.m,kn.prototype.close=kn.prototype.close,FE=function(){return new ar},BE=function(){return Ws()},zE=Oe,Ep={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Q.NO_ERROR=0,Q.TIMEOUT=8,Q.HTTP_ERROR=6,Uh=Q,lt.COMPLETE="complete",UE=lt,Ha.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",xe.prototype.listen=xe.prototype.J,fu=Ha,ge.prototype.listenOnce=ge.prototype.K,ge.prototype.getLastError=ge.prototype.Ha,ge.prototype.getLastErrorCode=ge.prototype.ya,ge.prototype.getStatus=ge.prototype.ca,ge.prototype.getResponseJson=ge.prototype.La,ge.prototype.getResponseText=ge.prototype.la,ge.prototype.send=ge.prototype.ea,ge.prototype.setWithCredentials=ge.prototype.Fa,LE=ge}).apply(typeof wh<"u"?wh:typeof self<"u"?self:typeof window<"u"?window:{});const jT="@firebase/firestore",LT="4.9.2";class Mn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Mn.UNAUTHENTICATED=new Mn(null),Mn.GOOGLE_CREDENTIALS=new Mn("google-credentials-uid"),Mn.FIRST_PARTY=new Mn("first-party-uid"),Mn.MOCK_USER=new Mn("mock-user");let ll="12.3.0";const Pa=new ag("@firebase/firestore");function Po(){return Pa.logLevel}function Tt(i,...t){if(Pa.logLevel<=$t.DEBUG){const e=t.map(_g);Pa.debug(`Firestore (${ll}): ${i}`,...e)}}function Gs(i,...t){if(Pa.logLevel<=$t.ERROR){const e=t.map(_g);Pa.error(`Firestore (${ll}): ${i}`,...e)}}function $o(i,...t){if(Pa.logLevel<=$t.WARN){const e=t.map(_g);Pa.warn(`Firestore (${ll}): ${i}`,...e)}}function _g(i){if(typeof i=="string")return i;try{return(function(e){return JSON.stringify(e)})(i)}catch{return i}}function Mt(i,t,e){let r="Unexpected state";typeof t=="string"?r=t:e=t,HE(i,r,e)}function HE(i,t,e){let r=`FIRESTORE (${ll}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(e!==void 0)try{r+=" CONTEXT: "+JSON.stringify(e)}catch{r+=" CONTEXT: "+e}throw Gs(r),new Error(r)}function ce(i,t,e,r){let o="Unexpected state";typeof e=="string"?o=e:r=e,i||HE(t,o,r)}function Lt(i,t){return i}const ct={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class At extends Xs{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ur{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class qE{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class _D{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(Mn.UNAUTHENTICATED)))}shutdown(){}}class TD{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class bD{constructor(t){this.t=t,this.currentUser=Mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){ce(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,e(p)):Promise.resolve();let u=new Ur;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ur,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{Tt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(Tt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ur)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((r=>this.i!==t?(Tt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ce(typeof r.accessToken=="string",31837,{l:r}),new qE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ce(t===null||typeof t=="string",2055,{h:t}),new Mn(t)}}class ED{constructor(t,e,r){this.P=t,this.T=e,this.I=r,this.type="FirstParty",this.user=Mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class SD{constructor(t,e,r){this.P=t,this.T=e,this.I=r}getToken(){return Promise.resolve(new ED(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(Mn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class UT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AD{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){ce(this.o===void 0,3512);const r=u=>{u.error!=null&&Tt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,Tt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{Tt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):Tt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new UT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(ce(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new UT(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function wD(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let r=0;r<i;r++)e[r]=Math.floor(256*Math.random());return e}class Tg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=wD(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<e&&(r+=t.charAt(o[u]%62))}return r}}function Jt(i,t){return i<t?-1:i>t?1:0}function Sp(i,t){const e=Math.min(i.length,t.length);for(let r=0;r<e;r++){const o=i.charAt(r),u=t.charAt(r);if(o!==u)return Qm(o)===Qm(u)?Jt(o,u):Qm(o)?1:-1}return Jt(i.length,t.length)}const xD=55296,RD=57343;function Qm(i){const t=i.charCodeAt(0);return t>=xD&&t<=RD}function Jo(i,t,e){return i.length===t.length&&i.every(((r,o)=>e(r,t[o])))}const zT="__name__";class os{constructor(t,e,r){e===void 0?e=0:e>t.length&&Mt(637,{offset:e,range:t.length}),r===void 0?r=t.length-e:r>t.length-e&&Mt(1746,{length:r,range:t.length-e}),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return os.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof os?t.forEach((r=>{e.push(r)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let o=0;o<r;o++){const u=os.compareSegments(t.get(o),e.get(o));if(u!==0)return u}return Jt(t.length,e.length)}static compareSegments(t,e){const r=os.isNumericId(t),o=os.isNumericId(e);return r&&!o?-1:!r&&o?1:r&&o?os.extractNumericId(t).compare(os.extractNumericId(e)):Sp(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Lr.fromString(t.substring(4,t.length-2))}}class ke extends os{construct(t,e,r){return new ke(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new At(ct.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter((o=>o.length>0)))}return new ke(e)}static emptyPath(){return new ke([])}}const CD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class An extends os{construct(t,e,r){return new An(t,e,r)}static isValidIdentifier(t){return CD.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),An.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zT}static keyField(){return new An([zT])}static fromServerFormat(t){const e=[];let r="",o=0;const u=()=>{if(r.length===0)throw new At(ct.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let c=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new At(ct.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new At(ct.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(r+=m,o++):(u(),o++)}if(u(),c)throw new At(ct.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new An(e)}static emptyPath(){return new An([])}}class Rt{constructor(t){this.path=t}static fromPath(t){return new Rt(ke.fromString(t))}static fromName(t){return new Rt(ke.fromString(t).popFirst(5))}static empty(){return new Rt(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ke.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ke.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Rt(new ke(t.slice()))}}function ID(i,t,e){if(!e)throw new At(ct.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function DD(i,t,e,r){if(t===!0&&r===!0)throw new At(ct.INVALID_ARGUMENT,`${i} and ${e} cannot be used together.`)}function BT(i){if(!Rt.isDocumentKey(i))throw new At(ct.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function GE(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function bg(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":Mt(12329,{type:typeof i})}function Mu(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new At(ct.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=bg(i);throw new At(ct.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return i}function nn(i,t){const e={typeString:i};return t&&(e.value=t),e}function Wu(i,t){if(!GE(i))throw new At(ct.INVALID_ARGUMENT,"JSON must be an object");let e;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in i)){e=`JSON missing required field: '${r}'`;break}const c=i[r];if(o&&typeof c!==o){e=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){e=`Expected '${r}' field to equal '${u.value}'`;break}}if(e)throw new At(ct.INVALID_ARGUMENT,e);return!0}const FT=-62135596800,HT=1e6;class Ae{static now(){return Ae.fromMillis(Date.now())}static fromDate(t){return Ae.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor((t-1e3*e)*HT);return new Ae(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new At(ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new At(ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<FT)throw new At(ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new At(ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/HT}_compareTo(t){return this.seconds===t.seconds?Jt(this.nanoseconds,t.nanoseconds):Jt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Wu(t,Ae._jsonSchema))return new Ae(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-FT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ae._jsonSchemaVersion="firestore/timestamp/1.0",Ae._jsonSchema={type:nn("string",Ae._jsonSchemaVersion),seconds:nn("number"),nanoseconds:nn("number")};class kt{static fromTimestamp(t){return new kt(t)}static min(){return new kt(new Ae(0,0))}static max(){return new kt(new Ae(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Vu=-1;function MD(i,t){const e=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,o=kt.fromTimestamp(r===1e9?new Ae(e+1,0):new Ae(e,r));return new zr(o,Rt.empty(),t)}function VD(i){return new zr(i.readTime,i.key,Vu)}class zr{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new zr(kt.min(),Rt.empty(),Vu)}static max(){return new zr(kt.max(),Rt.empty(),Vu)}}function OD(i,t){let e=i.readTime.compareTo(t.readTime);return e!==0?e:(e=Rt.comparator(i.documentKey,t.documentKey),e!==0?e:Jt(i.largestBatchId,t.largestBatchId))}const ND="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ul(i){if(i.code!==ct.FAILED_PRECONDITION||i.message!==ND)throw i;Tt("LocalStore","Unexpectedly lost primary lease")}class ut{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ut(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(e,u).next(r,o)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof ut?e:ut.resolve(e)}catch(e){return ut.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):ut.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):ut.reject(e)}static resolve(t){return new ut(((e,r)=>{e(t)}))}static reject(t){return new ut(((e,r)=>{r(t)}))}static waitFor(t){return new ut(((e,r)=>{let o=0,u=0,c=!1;t.forEach((m=>{++o,m.next((()=>{++u,c&&u===o&&e()}),(p=>r(p)))})),c=!0,u===o&&e()}))}static or(t){let e=ut.resolve(!1);for(const r of t)e=e.next((o=>o?ut.resolve(o):r()));return e}static forEach(t,e){const r=[];return t.forEach(((o,u)=>{r.push(e.call(this,o,u))})),this.waitFor(r)}static mapArray(t,e){return new ut(((r,o)=>{const u=t.length,c=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;e(t[g]).next((v=>{c[g]=v,++m,m===u&&r(c)}),(v=>o(v)))}}))}static doWhile(t,e){return new ut(((r,o)=>{const u=()=>{t()===!0?e().next((()=>{u()}),o):r()};u()}))}}function kD(i){const t=i.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function cl(i){return i.name==="IndexedDbTransactionError"}class xf{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>e.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}xf.ce=-1;const Eg=-1;function Rf(i){return i==null}function rf(i){return i===0&&1/i==-1/0}function jD(i){return typeof i=="number"&&Number.isInteger(i)&&!rf(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const KE="";function LD(i){let t="";for(let e=0;e<i.length;e++)t.length>0&&(t=qT(t)),t=UD(i.get(e),t);return qT(t)}function UD(i,t){let e=t;const r=i.length;for(let o=0;o<r;o++){const u=i.charAt(o);switch(u){case"\0":e+="";break;case KE:e+="";break;default:e+=u}}return e}function qT(i){return i+KE+""}function GT(i){let t=0;for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t++;return t}function ja(i,t){for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t(e,i[e])}function YE(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}class Le{constructor(t,e){this.comparator=t,this.root=e||Sn.EMPTY}insert(t,e){return new Le(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Sn.BLACK,null,null))}remove(t){return new Le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Sn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return e+r.left.size;o<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,r)=>(t(e,r),!1)))}toString(){const t=[];return this.inorderTraversal(((e,r)=>(t.push(`${e}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new xh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new xh(this.root,t,this.comparator,!1)}getReverseIterator(){return new xh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new xh(this.root,t,this.comparator,!0)}}class xh{constructor(t,e,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=e?r(t.key,e):1,e&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Sn{constructor(t,e,r,o,u){this.key=t,this.value=e,this.color=r??Sn.RED,this.left=o??Sn.EMPTY,this.right=u??Sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,o,u){return new Sn(t??this.key,e??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,e,r),null):u===0?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Sn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),e(t,o.key)===0){if(o.right.isEmpty())return Sn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Mt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Mt(27949);return t+(this.isRed()?0:1)}}Sn.EMPTY=null,Sn.RED=!0,Sn.BLACK=!1;Sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Mt(57766)}get value(){throw Mt(16141)}get color(){throw Mt(16727)}get left(){throw Mt(29726)}get right(){throw Mt(36894)}copy(t,e,r,o,u){return this}insert(t,e,r){return new Sn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ln{constructor(t){this.comparator=t,this.data=new Le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,r)=>(t(e),!1)))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new KT(this.data.getIterator())}getIteratorFrom(t){return new KT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((r=>{e=e.add(r)})),e}isEqual(t){if(!(t instanceof ln)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new ln(this.comparator);return e.data=t,e}}class KT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ki{constructor(t){this.fields=t,t.sort(An.comparator)}static empty(){return new Ki([])}unionWith(t){let e=new ln(An.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new Ki(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Jo(this.fields,t.fields,((e,r)=>e.isEqual(r)))}}class QE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class wn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new QE("Invalid base64 string: "+u):u}})(t);return new wn(e)}static fromUint8Array(t){const e=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new wn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Jt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}wn.EMPTY_BYTE_STRING=new wn("");const zD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Br(i){if(ce(!!i,39018),typeof i=="string"){let t=0;const e=zD.exec(i);if(ce(!!e,46558,{timestamp:i}),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Qe(i.seconds),nanos:Qe(i.nanos)}}function Qe(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Fr(i){return typeof i=="string"?wn.fromBase64String(i):wn.fromUint8Array(i)}const XE="server_timestamp",WE="__type__",$E="__previous_value__",JE="__local_write_time__";function Sg(i){return(i?.mapValue?.fields||{})[WE]?.stringValue===XE}function Cf(i){const t=i.mapValue.fields[$E];return Sg(t)?Cf(t):t}function Ou(i){const t=Br(i.mapValue.fields[JE].timestampValue);return new Ae(t.seconds,t.nanos)}class BD{constructor(t,e,r,o,u,c,m,p,g,v){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const af="(default)";class Nu{constructor(t,e){this.projectId=t,this.database=e||af}static empty(){return new Nu("","")}get isDefaultDatabase(){return this.database===af}isEqual(t){return t instanceof Nu&&t.projectId===this.projectId&&t.database===this.database}}const ZE="__type__",FD="__max__",Rh={mapValue:{}},tS="__vector__",of="value";function Hr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Sg(i)?4:qD(i)?9007199254740991:HD(i)?10:11:Mt(28295,{value:i})}function gs(i,t){if(i===t)return!0;const e=Hr(i);if(e!==Hr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return Ou(i).isEqual(Ou(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=Br(o.timestampValue),m=Br(u.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(i,t);case 5:return i.stringValue===t.stringValue;case 6:return(function(o,u){return Fr(o.bytesValue).isEqual(Fr(u.bytesValue))})(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return(function(o,u){return Qe(o.geoPointValue.latitude)===Qe(u.geoPointValue.latitude)&&Qe(o.geoPointValue.longitude)===Qe(u.geoPointValue.longitude)})(i,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Qe(o.integerValue)===Qe(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=Qe(o.doubleValue),m=Qe(u.doubleValue);return c===m?rf(c)===rf(m):isNaN(c)&&isNaN(m)}return!1})(i,t);case 9:return Jo(i.arrayValue.values||[],t.arrayValue.values||[],gs);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},m=u.mapValue.fields||{};if(GT(c)!==GT(m))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(m[p]===void 0||!gs(c[p],m[p])))return!1;return!0})(i,t);default:return Mt(52216,{left:i})}}function Pu(i,t){return(i.values||[]).find((e=>gs(e,t)))!==void 0}function Zo(i,t){if(i===t)return 0;const e=Hr(i),r=Hr(t);if(e!==r)return Jt(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return Jt(i.booleanValue,t.booleanValue);case 2:return(function(u,c){const m=Qe(u.integerValue||u.doubleValue),p=Qe(c.integerValue||c.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,t);case 3:return YT(i.timestampValue,t.timestampValue);case 4:return YT(Ou(i),Ou(t));case 5:return Sp(i.stringValue,t.stringValue);case 6:return(function(u,c){const m=Fr(u),p=Fr(c);return m.compareTo(p)})(i.bytesValue,t.bytesValue);case 7:return(function(u,c){const m=u.split("/"),p=c.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=Jt(m[g],p[g]);if(v!==0)return v}return Jt(m.length,p.length)})(i.referenceValue,t.referenceValue);case 8:return(function(u,c){const m=Jt(Qe(u.latitude),Qe(c.latitude));return m!==0?m:Jt(Qe(u.longitude),Qe(c.longitude))})(i.geoPointValue,t.geoPointValue);case 9:return QT(i.arrayValue,t.arrayValue);case 10:return(function(u,c){const m=u.fields||{},p=c.fields||{},g=m[of]?.arrayValue,v=p[of]?.arrayValue,b=Jt(g?.values?.length||0,v?.values?.length||0);return b!==0?b:QT(g,v)})(i.mapValue,t.mapValue);case 11:return(function(u,c){if(u===Rh.mapValue&&c===Rh.mapValue)return 0;if(u===Rh.mapValue)return 1;if(c===Rh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=c.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let b=0;b<p.length&&b<v.length;++b){const E=Sp(p[b],v[b]);if(E!==0)return E;const I=Zo(m[p[b]],g[v[b]]);if(I!==0)return I}return Jt(p.length,v.length)})(i.mapValue,t.mapValue);default:throw Mt(23264,{he:e})}}function YT(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return Jt(i,t);const e=Br(i),r=Br(t),o=Jt(e.seconds,r.seconds);return o!==0?o:Jt(e.nanos,r.nanos)}function QT(i,t){const e=i.values||[],r=t.values||[];for(let o=0;o<e.length&&o<r.length;++o){const u=Zo(e[o],r[o]);if(u)return u}return Jt(e.length,r.length)}function tl(i){return Ap(i)}function Ap(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(e){const r=Br(e);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(e){return Fr(e).toBase64()})(i.bytesValue):"referenceValue"in i?(function(e){return Rt.fromName(e).toString()})(i.referenceValue):"geoPointValue"in i?(function(e){return`geo(${e.latitude},${e.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(e){let r="[",o=!0;for(const u of e.values||[])o?o=!1:r+=",",r+=Ap(u);return r+"]"})(i.arrayValue):"mapValue"in i?(function(e){const r=Object.keys(e.fields||{}).sort();let o="{",u=!0;for(const c of r)u?u=!1:o+=",",o+=`${c}:${Ap(e.fields[c])}`;return o+"}"})(i.mapValue):Mt(61005,{value:i})}function zh(i){switch(Hr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Cf(i);return t?16+zh(t):16;case 5:return 2*i.stringValue.length;case 6:return Fr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+zh(u)),0)})(i.arrayValue);case 10:case 11:return(function(r){let o=0;return ja(r.fields,((u,c)=>{o+=u.length+zh(c)})),o})(i.mapValue);default:throw Mt(13486,{value:i})}}function wp(i){return!!i&&"integerValue"in i}function Ag(i){return!!i&&"arrayValue"in i}function XT(i){return!!i&&"nullValue"in i}function WT(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Bh(i){return!!i&&"mapValue"in i}function HD(i){return(i?.mapValue?.fields||{})[ZE]?.stringValue===tS}function _u(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const t={mapValue:{fields:{}}};return ja(i.mapValue.fields,((e,r)=>t.mapValue.fields[e]=_u(r))),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(i.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=_u(i.arrayValue.values[e]);return t}return{...i}}function qD(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===FD}class Ci{constructor(t){this.value=t}static empty(){return new Ci({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!Bh(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=_u(e)}setAll(t){let e=An.emptyPath(),r={},o=[];t.forEach(((c,m)=>{if(!e.isImmediateParentOf(m)){const p=this.getFieldsMap(e);this.applyChanges(p,r,o),r={},o=[],e=m.popLast()}c?r[m.lastSegment()]=_u(c):o.push(m.lastSegment())}));const u=this.getFieldsMap(e);this.applyChanges(u,r,o)}delete(t){const e=this.field(t.popLast());Bh(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return gs(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=e.mapValue.fields[t.get(r)];Bh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,r){ja(e,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new Ci(_u(this.value))}}function eS(i){const t=[];return ja(i.fields,((e,r)=>{const o=new An([e]);if(Bh(r)){const u=eS(r.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)})),new Ki(t)}class Vn{constructor(t,e,r,o,u,c,m){this.key=t,this.documentType=e,this.version=r,this.readTime=o,this.createTime=u,this.data=c,this.documentState=m}static newInvalidDocument(t){return new Vn(t,0,kt.min(),kt.min(),kt.min(),Ci.empty(),0)}static newFoundDocument(t,e,r,o){return new Vn(t,1,e,kt.min(),r,o,0)}static newNoDocument(t,e){return new Vn(t,2,e,kt.min(),kt.min(),Ci.empty(),0)}static newUnknownDocument(t,e){return new Vn(t,3,e,kt.min(),kt.min(),Ci.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(kt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ci.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ci.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=kt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Vn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class lf{constructor(t,e){this.position=t,this.inclusive=e}}function $T(i,t,e){let r=0;for(let o=0;o<i.position.length;o++){const u=t[o],c=i.position[o];if(u.field.isKeyField()?r=Rt.comparator(Rt.fromName(c.referenceValue),e.key):r=Zo(c,e.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function JT(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let e=0;e<i.position.length;e++)if(!gs(i.position[e],t.position[e]))return!1;return!0}class uf{constructor(t,e="asc"){this.field=t,this.dir=e}}function GD(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}class nS{}class on extends nS{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,r):new YD(t,e,r):e==="array-contains"?new WD(t,r):e==="in"?new $D(t,r):e==="not-in"?new JD(t,r):e==="array-contains-any"?new ZD(t,r):new on(t,e,r)}static createKeyFieldInFilter(t,e,r){return e==="in"?new QD(t,r):new XD(t,r)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Zo(e,this.value)):e!==null&&Hr(this.value)===Hr(e)&&this.matchesComparison(Zo(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ys extends nS{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new ys(t,e)}matches(t){return iS(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function iS(i){return i.op==="and"}function sS(i){return KD(i)&&iS(i)}function KD(i){for(const t of i.filters)if(t instanceof ys)return!1;return!0}function xp(i){if(i instanceof on)return i.field.canonicalString()+i.op.toString()+tl(i.value);if(sS(i))return i.filters.map((t=>xp(t))).join(",");{const t=i.filters.map((e=>xp(e))).join(",");return`${i.op}(${t})`}}function rS(i,t){return i instanceof on?(function(r,o){return o instanceof on&&r.op===o.op&&r.field.isEqual(o.field)&&gs(r.value,o.value)})(i,t):i instanceof ys?(function(r,o){return o instanceof ys&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,c,m)=>u&&rS(c,o.filters[m])),!0):!1})(i,t):void Mt(19439)}function aS(i){return i instanceof on?(function(e){return`${e.field.canonicalString()} ${e.op} ${tl(e.value)}`})(i):i instanceof ys?(function(e){return e.op.toString()+" {"+e.getFilters().map(aS).join(" ,")+"}"})(i):"Filter"}class YD extends on{constructor(t,e,r){super(t,e,r),this.key=Rt.fromName(r.referenceValue)}matches(t){const e=Rt.comparator(t.key,this.key);return this.matchesComparison(e)}}class QD extends on{constructor(t,e){super(t,"in",e),this.keys=oS("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class XD extends on{constructor(t,e){super(t,"not-in",e),this.keys=oS("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function oS(i,t){return(t.arrayValue?.values||[]).map((e=>Rt.fromName(e.referenceValue)))}class WD extends on{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Ag(e)&&Pu(e.arrayValue,this.value)}}class $D extends on{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Pu(this.value.arrayValue,e)}}class JD extends on{constructor(t,e){super(t,"not-in",e)}matches(t){if(Pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Pu(this.value.arrayValue,e)}}class ZD extends on{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Ag(e)||!e.arrayValue.values)&&e.arrayValue.values.some((r=>Pu(this.value.arrayValue,r)))}}class tM{constructor(t,e=null,r=[],o=[],u=null,c=null,m=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=c,this.endAt=m,this.Te=null}}function ZT(i,t=null,e=[],r=[],o=null,u=null,c=null){return new tM(i,t,e,r,o,u,c)}function wg(i){const t=Lt(i);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((r=>xp(r))).join(","),e+="|ob:",e+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Rf(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((r=>tl(r))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((r=>tl(r))).join(",")),t.Te=e}return t.Te}function xg(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<i.orderBy.length;e++)if(!GD(i.orderBy[e],t.orderBy[e]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let e=0;e<i.filters.length;e++)if(!rS(i.filters[e],t.filters[e]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!JT(i.startAt,t.startAt)&&JT(i.endAt,t.endAt)}function Rp(i){return Rt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class If{constructor(t,e=null,r=[],o=[],u=null,c="F",m=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function eM(i,t,e,r,o,u,c,m){return new If(i,t,e,r,o,u,c,m)}function Rg(i){return new If(i)}function t1(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function nM(i){return i.collectionGroup!==null}function Tu(i){const t=Lt(i);if(t.Ie===null){t.Ie=[];const e=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),e.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new ln(An.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(t).forEach((u=>{e.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new uf(u,r))})),e.has(An.keyField().canonicalString())||t.Ie.push(new uf(An.keyField(),r))}return t.Ie}function us(i){const t=Lt(i);return t.Ee||(t.Ee=iM(t,Tu(i))),t.Ee}function iM(i,t){if(i.limitType==="F")return ZT(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new uf(o.field,u)}));const e=i.endAt?new lf(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new lf(i.startAt.position,i.startAt.inclusive):null;return ZT(i.path,i.collectionGroup,t,i.filters,i.limit,e,r)}}function Cp(i,t,e){return new If(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,e,i.startAt,i.endAt)}function Df(i,t){return xg(us(i),us(t))&&i.limitType===t.limitType}function lS(i){return`${wg(us(i))}|lt:${i.limitType}`}function ko(i){return`Query(target=${(function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map((o=>aS(o))).join(", ")}]`),Rf(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((o=>tl(o))).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((o=>tl(o))).join(",")),`Target(${r})`})(us(i))}; limitType=${i.limitType})`}function Mf(i,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):Rt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(i,t)&&(function(r,o){for(const u of Tu(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(i,t)&&(function(r,o){return!(r.startAt&&!(function(c,m,p){const g=$T(c,m,p);return c.inclusive?g<=0:g<0})(r.startAt,Tu(r),o)||r.endAt&&!(function(c,m,p){const g=$T(c,m,p);return c.inclusive?g>=0:g>0})(r.endAt,Tu(r),o))})(i,t)}function sM(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function uS(i){return(t,e)=>{let r=!1;for(const o of Tu(i)){const u=rM(o,t,e);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function rM(i,t,e){const r=i.field.isKeyField()?Rt.comparator(t.key,e.key):(function(u,c,m){const p=c.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Zo(p,g):Mt(42886)})(i.field,t,e);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return Mt(19790,{direction:i.dir})}}class La{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,e){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,e]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[e]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){ja(this.inner,((e,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return YE(this.inner)}size(){return this.innerSize}}const aM=new Le(Rt.comparator);function Ks(){return aM}const cS=new Le(Rt.comparator);function du(...i){let t=cS;for(const e of i)t=t.insert(e.key,e);return t}function hS(i){let t=cS;return i.forEach(((e,r)=>t=t.insert(e,r.overlayedDocument))),t}function wa(){return bu()}function fS(){return bu()}function bu(){return new La((i=>i.toString()),((i,t)=>i.isEqual(t)))}const oM=new Le(Rt.comparator),lM=new ln(Rt.comparator);function Zt(...i){let t=lM;for(const e of i)t=t.add(e);return t}const uM=new ln(Jt);function cM(){return uM}function Cg(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rf(t)?"-0":t}}function dS(i){return{integerValue:""+i}}function hM(i,t){return jD(t)?dS(t):Cg(i,t)}class Vf{constructor(){this._=void 0}}function fM(i,t,e){return i instanceof cf?(function(o,u){const c={fields:{[WE]:{stringValue:XE},[JE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Sg(u)&&(u=Cf(u)),u&&(c.fields[$E]=u),{mapValue:c}})(e,t):i instanceof ku?pS(i,t):i instanceof ju?gS(i,t):(function(o,u){const c=mS(o,u),m=e1(c)+e1(o.Ae);return wp(c)&&wp(o.Ae)?dS(m):Cg(o.serializer,m)})(i,t)}function dM(i,t,e){return i instanceof ku?pS(i,t):i instanceof ju?gS(i,t):e}function mS(i,t){return i instanceof hf?(function(r){return wp(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class cf extends Vf{}class ku extends Vf{constructor(t){super(),this.elements=t}}function pS(i,t){const e=yS(t);for(const r of i.elements)e.some((o=>gs(o,r)))||e.push(r);return{arrayValue:{values:e}}}class ju extends Vf{constructor(t){super(),this.elements=t}}function gS(i,t){let e=yS(t);for(const r of i.elements)e=e.filter((o=>!gs(o,r)));return{arrayValue:{values:e}}}class hf extends Vf{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function e1(i){return Qe(i.integerValue||i.doubleValue)}function yS(i){return Ag(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function mM(i,t){return i.field.isEqual(t.field)&&(function(r,o){return r instanceof ku&&o instanceof ku||r instanceof ju&&o instanceof ju?Jo(r.elements,o.elements,gs):r instanceof hf&&o instanceof hf?gs(r.Ae,o.Ae):r instanceof cf&&o instanceof cf})(i.transform,t.transform)}class pM{constructor(t,e){this.version=t,this.transformResults=e}}class Fs{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Fs}static exists(t){return new Fs(void 0,t)}static updateTime(t){return new Fs(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Fh(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class Of{}function vS(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new TS(i.key,Fs.none()):new $u(i.key,i.data,Fs.none());{const e=i.data,r=Ci.empty();let o=new ln(An.comparator);for(let u of t.fields)if(!o.has(u)){let c=e.field(u);c===null&&u.length>1&&(u=u.popLast(),c=e.field(u)),c===null?r.delete(u):r.set(u,c),o=o.add(u)}return new Ua(i.key,r,new Ki(o.toArray()),Fs.none())}}function gM(i,t,e){i instanceof $u?(function(o,u,c){const m=o.value.clone(),p=i1(o.fieldTransforms,u,c.transformResults);m.setAll(p),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(i,t,e):i instanceof Ua?(function(o,u,c){if(!Fh(o.precondition,u))return void u.convertToUnknownDocument(c.version);const m=i1(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(_S(o)),p.setAll(m),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(i,t,e):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function Eu(i,t,e,r){return i instanceof $u?(function(u,c,m,p){if(!Fh(u.precondition,c))return m;const g=u.value.clone(),v=s1(u.fieldTransforms,p,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(i,t,e,r):i instanceof Ua?(function(u,c,m,p){if(!Fh(u.precondition,c))return m;const g=s1(u.fieldTransforms,p,c),v=c.data;return v.setAll(_S(u)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(i,t,e,r):(function(u,c,m){return Fh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(i,t,e)}function yM(i,t){let e=null;for(const r of i.fieldTransforms){const o=t.data.field(r.field),u=mS(r.transform,o||null);u!=null&&(e===null&&(e=Ci.empty()),e.set(r.field,u))}return e||null}function n1(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Jo(r,o,((u,c)=>mM(u,c)))})(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class $u extends Of{constructor(t,e,r,o=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ua extends Of{constructor(t,e,r,o,u=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function _S(i){const t=new Map;return i.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const r=i.data.field(e);t.set(e,r)}})),t}function i1(i,t,e){const r=new Map;ce(i.length===e.length,32656,{Re:e.length,Ve:i.length});for(let o=0;o<e.length;o++){const u=i[o],c=u.transform,m=t.data.field(u.field);r.set(u.field,dM(c,m,e[o]))}return r}function s1(i,t,e){const r=new Map;for(const o of i){const u=o.transform,c=e.data.field(o.field);r.set(o.field,fM(u,c,t))}return r}class TS extends Of{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vM extends Of{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class _M{constructor(t,e,r,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&gM(u,t,r[o])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=Eu(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=Eu(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=fS();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let m=this.applyToLocalView(c,u.mutatedFields);m=e.has(o.key)?null:m;const p=vS(c,m);p!==null&&r.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(kt.min())})),r}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Zt())}isEqual(t){return this.batchId===t.batchId&&Jo(this.mutations,t.mutations,((e,r)=>n1(e,r)))&&Jo(this.baseMutations,t.baseMutations,((e,r)=>n1(e,r)))}}class Ig{constructor(t,e,r,o){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=o}static from(t,e,r){ce(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return oM})();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,r[c].version);return new Ig(t,e,r,o)}}class TM{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class bM{constructor(t,e){this.count=t,this.unchangedNames=e}}var tn,ne;function EM(i){switch(i){case ct.OK:return Mt(64938);case ct.CANCELLED:case ct.UNKNOWN:case ct.DEADLINE_EXCEEDED:case ct.RESOURCE_EXHAUSTED:case ct.INTERNAL:case ct.UNAVAILABLE:case ct.UNAUTHENTICATED:return!1;case ct.INVALID_ARGUMENT:case ct.NOT_FOUND:case ct.ALREADY_EXISTS:case ct.PERMISSION_DENIED:case ct.FAILED_PRECONDITION:case ct.ABORTED:case ct.OUT_OF_RANGE:case ct.UNIMPLEMENTED:case ct.DATA_LOSS:return!0;default:return Mt(15467,{code:i})}}function bS(i){if(i===void 0)return Gs("GRPC error has no .code"),ct.UNKNOWN;switch(i){case tn.OK:return ct.OK;case tn.CANCELLED:return ct.CANCELLED;case tn.UNKNOWN:return ct.UNKNOWN;case tn.DEADLINE_EXCEEDED:return ct.DEADLINE_EXCEEDED;case tn.RESOURCE_EXHAUSTED:return ct.RESOURCE_EXHAUSTED;case tn.INTERNAL:return ct.INTERNAL;case tn.UNAVAILABLE:return ct.UNAVAILABLE;case tn.UNAUTHENTICATED:return ct.UNAUTHENTICATED;case tn.INVALID_ARGUMENT:return ct.INVALID_ARGUMENT;case tn.NOT_FOUND:return ct.NOT_FOUND;case tn.ALREADY_EXISTS:return ct.ALREADY_EXISTS;case tn.PERMISSION_DENIED:return ct.PERMISSION_DENIED;case tn.FAILED_PRECONDITION:return ct.FAILED_PRECONDITION;case tn.ABORTED:return ct.ABORTED;case tn.OUT_OF_RANGE:return ct.OUT_OF_RANGE;case tn.UNIMPLEMENTED:return ct.UNIMPLEMENTED;case tn.DATA_LOSS:return ct.DATA_LOSS;default:return Mt(39323,{code:i})}}(ne=tn||(tn={}))[ne.OK=0]="OK",ne[ne.CANCELLED=1]="CANCELLED",ne[ne.UNKNOWN=2]="UNKNOWN",ne[ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ne[ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ne[ne.NOT_FOUND=5]="NOT_FOUND",ne[ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",ne[ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",ne[ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",ne[ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ne[ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ne[ne.ABORTED=10]="ABORTED",ne[ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",ne[ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",ne[ne.INTERNAL=13]="INTERNAL",ne[ne.UNAVAILABLE=14]="UNAVAILABLE",ne[ne.DATA_LOSS=15]="DATA_LOSS";function SM(){return new TextEncoder}const AM=new Lr([4294967295,4294967295],0);function r1(i){const t=SM().encode(i),e=new jE;return e.update(t),new Uint8Array(e.digest())}function a1(i){const t=new DataView(i.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Lr([e,r],0),new Lr([o,u],0)]}class Dg{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new mu(`Invalid padding: ${e}`);if(r<0)throw new mu(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new mu(`Invalid hash count: ${r}`);if(t.length===0&&e!==0)throw new mu(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=Lr.fromNumber(this.ge)}ye(t,e,r){let o=t.add(e.multiply(Lr.fromNumber(r)));return o.compare(AM)===1&&(o=new Lr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=r1(t),[r,o]=a1(e);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);if(!this.we(c))return!1}return!0}static create(t,e,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new Dg(u,o,e);return r.forEach((m=>c.insert(m))),c}insert(t){if(this.ge===0)return;const e=r1(t),[r,o]=a1(e);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);this.Se(c)}}Se(t){const e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}}class mu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Nf{constructor(t,e,r,o,u){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const o=new Map;return o.set(t,Ju.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new Nf(kt.min(),o,new Le(Jt),Ks(),Zt())}}class Ju{constructor(t,e,r,o,u){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new Ju(r,e,Zt(),Zt(),Zt())}}class Hh{constructor(t,e,r,o){this.be=t,this.removedTargetIds=e,this.key=r,this.De=o}}class ES{constructor(t,e){this.targetId=t,this.Ce=e}}class SS{constructor(t,e,r=wn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=o}}class o1{constructor(){this.ve=0,this.Fe=l1(),this.Me=wn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Zt(),e=Zt(),r=Zt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:r=r.add(o);break;default:Mt(38017,{changeType:u})}})),new Ju(this.Me,this.xe,t,e,r)}qe(){this.Oe=!1,this.Fe=l1()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ce(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class wM{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ks(),this.Je=Ch(),this.He=Ch(),this.Ye=new Le(Jt)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const r=this.nt(e);switch(t.state){case 0:this.rt(e)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),r.Le(t.resumeToken));break;default:Mt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((r,o)=>{this.rt(o)&&e(o)}))}st(t){const e=t.targetId,r=t.Ce.count,o=this.ot(e);if(o){const u=o.target;if(Rp(u))if(r===0){const c=new Rt(u.path);this.et(e,c,Vn.newNoDocument(c,kt.min()))}else ce(r===1,20013,{expectedCount:r});else{const c=this._t(e);if(c!==r){const m=this.ut(t),p=m?this.ct(m,t,c):1;if(p!==0){this.it(e);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,g)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=e;let c,m;try{c=Fr(r).toUint8Array()}catch(p){if(p instanceof QE)return $o("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Dg(c,o,u)}catch(p){return $o(p instanceof mu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(t,e,r){return e.Ce.count===r-this.Pt(t,e.targetId)?0:2}Pt(t,e){const r=this.Ge.getRemoteKeysForTarget(e);let o=0;return r.forEach((u=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(e,u,null),o++)})),o}Tt(t){const e=new Map;this.ze.forEach(((u,c)=>{const m=this.ot(c);if(m){if(u.current&&Rp(m.target)){const p=new Rt(m.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,Vn.newNoDocument(p,t))}u.Be&&(e.set(c,u.ke()),u.qe())}}));let r=Zt();this.He.forEach(((u,c)=>{let m=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(t)));const o=new Nf(t,e,this.Ye,this.je,r);return this.je=Ks(),this.Je=Ch(),this.He=Ch(),this.Ye=new Le(Jt),o}Xe(t,e){if(!this.rt(t))return;const r=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,r),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,e)?o.Qe(e,1):o.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),r&&(this.je=this.je.insert(e,r))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new o1,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new ln(Jt),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new ln(Jt),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||Tt("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new o1),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Ch(){return new Le(Rt.comparator)}function l1(){return new Le(Rt.comparator)}const xM={asc:"ASCENDING",desc:"DESCENDING"},RM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CM={and:"AND",or:"OR"};class IM{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Ip(i,t){return i.useProto3Json||Rf(t)?t:{value:t}}function ff(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function AS(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function DM(i,t){return ff(i,t.toTimestamp())}function cs(i){return ce(!!i,49232),kt.fromTimestamp((function(e){const r=Br(e);return new Ae(r.seconds,r.nanos)})(i))}function Mg(i,t){return Dp(i,t).canonicalString()}function Dp(i,t){const e=(function(o){return new ke(["projects",o.projectId,"databases",o.database])})(i).child("documents");return t===void 0?e:e.child(t)}function wS(i){const t=ke.fromString(i);return ce(DS(t),10190,{key:t.toString()}),t}function Mp(i,t){return Mg(i.databaseId,t.path)}function Xm(i,t){const e=wS(t);if(e.get(1)!==i.databaseId.projectId)throw new At(ct.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+i.databaseId.projectId);if(e.get(3)!==i.databaseId.database)throw new At(ct.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+i.databaseId.database);return new Rt(RS(e))}function xS(i,t){return Mg(i.databaseId,t)}function MM(i){const t=wS(i);return t.length===4?ke.emptyPath():RS(t)}function Vp(i){return new ke(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function RS(i){return ce(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function u1(i,t,e){return{name:Mp(i,t),fields:e.value.mapValue.fields}}function VM(i,t){let e;if("targetChange"in t){t.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Mt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,v){return g.useProto3Json?(ce(v===void 0||typeof v=="string",58123),wn.fromBase64String(v||"")):(ce(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),wn.fromUint8Array(v||new Uint8Array))})(i,t.targetChange.resumeToken),c=t.targetChange.cause,m=c&&(function(g){const v=g.code===void 0?ct.UNKNOWN:bS(g.code);return new At(v,g.message||"")})(c);e=new SS(r,o,u,m||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=Xm(i,r.document.name),u=cs(r.document.updateTime),c=r.document.createTime?cs(r.document.createTime):kt.min(),m=new Ci({mapValue:{fields:r.document.fields}}),p=Vn.newFoundDocument(o,u,c,m),g=r.targetIds||[],v=r.removedTargetIds||[];e=new Hh(g,v,p.key,p)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=Xm(i,r.document),u=r.readTime?cs(r.readTime):kt.min(),c=Vn.newNoDocument(o,u),m=r.removedTargetIds||[];e=new Hh([],m,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=Xm(i,r.document),u=r.removedTargetIds||[];e=new Hh([],u,o,null)}else{if(!("filter"in t))return Mt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,c=new bM(o,u),m=r.targetId;e=new ES(m,c)}}return e}function OM(i,t){let e;if(t instanceof $u)e={update:u1(i,t.key,t.value)};else if(t instanceof TS)e={delete:Mp(i,t.key)};else if(t instanceof Ua)e={update:u1(i,t.key,t.data),updateMask:FM(t.fieldMask)};else{if(!(t instanceof vM))return Mt(16599,{Vt:t.type});e={verify:Mp(i,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((r=>(function(u,c){const m=c.transform;if(m instanceof cf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ku)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ju)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof hf)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw Mt(20930,{transform:c.transform})})(0,r)))),t.precondition.isNone||(e.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:DM(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Mt(27497)})(i,t.precondition)),e}function NM(i,t){return i&&i.length>0?(ce(t!==void 0,14353),i.map((e=>(function(o,u){let c=o.updateTime?cs(o.updateTime):cs(u);return c.isEqual(kt.min())&&(c=cs(u)),new pM(c,o.transformResults||[])})(e,t)))):[]}function PM(i,t){return{documents:[xS(i,t.path)]}}function kM(i,t){const e={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=xS(i,o);const u=(function(g){if(g.length!==0)return IS(ys.create(g,"and"))})(t.filters);u&&(e.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((v=>(function(E){return{field:jo(E.field),direction:UM(E.dir)}})(v)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const m=Ip(i,t.limit);return m!==null&&(e.structuredQuery.limit=m),t.startAt&&(e.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:e,parent:o}}function jM(i){let t=MM(i.parent);const e=i.structuredQuery,r=e.from?e.from.length:0;let o=null;if(r>0){ce(r===1,65062);const v=e.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let u=[];e.where&&(u=(function(b){const E=CS(b);return E instanceof ys&&sS(E)?E.getFilters():[E]})(e.where));let c=[];e.orderBy&&(c=(function(b){return b.map((E=>(function(L){return new uf(Lo(L.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(L.direction))})(E)))})(e.orderBy));let m=null;e.limit&&(m=(function(b){let E;return E=typeof b=="object"?b.value:b,Rf(E)?null:E})(e.limit));let p=null;e.startAt&&(p=(function(b){const E=!!b.before,I=b.values||[];return new lf(I,E)})(e.startAt));let g=null;return e.endAt&&(g=(function(b){const E=!b.before,I=b.values||[];return new lf(I,E)})(e.endAt)),eM(t,o,c,u,m,"F",p,g)}function LM(i,t){const e=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Mt(28987,{purpose:o})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function CS(i){return i.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=Lo(e.unaryFilter.field);return on.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Lo(e.unaryFilter.field);return on.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Lo(e.unaryFilter.field);return on.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Lo(e.unaryFilter.field);return on.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Mt(61313);default:return Mt(60726)}})(i):i.fieldFilter!==void 0?(function(e){return on.create(Lo(e.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Mt(58110);default:return Mt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(e){return ys.create(e.compositeFilter.filters.map((r=>CS(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Mt(1026)}})(e.compositeFilter.op))})(i):Mt(30097,{filter:i})}function UM(i){return xM[i]}function zM(i){return RM[i]}function BM(i){return CM[i]}function jo(i){return{fieldPath:i.canonicalString()}}function Lo(i){return An.fromServerFormat(i.fieldPath)}function IS(i){return i instanceof on?(function(e){if(e.op==="=="){if(WT(e.value))return{unaryFilter:{field:jo(e.field),op:"IS_NAN"}};if(XT(e.value))return{unaryFilter:{field:jo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(WT(e.value))return{unaryFilter:{field:jo(e.field),op:"IS_NOT_NAN"}};if(XT(e.value))return{unaryFilter:{field:jo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jo(e.field),op:zM(e.op),value:e.value}}})(i):i instanceof ys?(function(e){const r=e.getFilters().map((o=>IS(o)));return r.length===1?r[0]:{compositeFilter:{op:BM(e.op),filters:r}}})(i):Mt(54877,{filter:i})}function FM(i){const t=[];return i.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function DS(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class Nr{constructor(t,e,r,o,u=kt.min(),c=kt.min(),m=wn.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new Nr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class HM{constructor(t){this.yt=t}}function qM(i){const t=jM({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Cp(t,t.limit,"L"):t}class GM{constructor(){this.Cn=new KM}addToCollectionParentIndex(t,e){return this.Cn.add(e),ut.resolve()}getCollectionParents(t,e){return ut.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return ut.resolve()}deleteFieldIndex(t,e){return ut.resolve()}deleteAllFieldIndexes(t){return ut.resolve()}createTargetIndexes(t,e){return ut.resolve()}getDocumentsMatchingTarget(t,e){return ut.resolve(null)}getIndexType(t,e){return ut.resolve(0)}getFieldIndexes(t,e){return ut.resolve([])}getNextCollectionGroupToUpdate(t){return ut.resolve(null)}getMinOffset(t,e){return ut.resolve(zr.min())}getMinOffsetFromCollectionGroup(t,e){return ut.resolve(zr.min())}updateCollectionGroup(t,e,r){return ut.resolve()}updateIndexEntries(t,e){return ut.resolve()}}class KM{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e]||new ln(ke.comparator),u=!o.has(r);return this.index[e]=o.add(r),u}has(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e];return o&&o.has(r)}getEntries(t){return(this.index[t]||new ln(ke.comparator)).toArray()}}const c1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},MS=41943040;class Xn{static withCacheSize(t){return new Xn(t,Xn.DEFAULT_COLLECTION_PERCENTILE,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}Xn.DEFAULT_COLLECTION_PERCENTILE=10,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xn.DEFAULT=new Xn(MS,Xn.DEFAULT_COLLECTION_PERCENTILE,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xn.DISABLED=new Xn(-1,0,0);class el{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new el(0)}static cr(){return new el(-1)}}const h1="LruGarbageCollector",YM=1048576;function f1([i,t],[e,r]){const o=Jt(i,e);return o===0?Jt(t,r):o}class QM{constructor(t){this.Ir=t,this.buffer=new ln(f1),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();f1(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class XM{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){Tt(h1,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){cl(e)?Tt(h1,"Ignoring IndexedDB error during garbage collection: ",e):await ul(e)}await this.Vr(3e5)}))}}class WM{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((r=>Math.floor(e/100*r)))}nthSequenceNumber(t,e){if(e===0)return ut.resolve(xf.ce);const r=new QM(e);return this.mr.forEachTarget(t,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(t,e,r){return this.mr.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(Tt("LruGarbageCollector","Garbage collection skipped; disabled"),ut.resolve(c1)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(Tt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),c1):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let r,o,u,c,m,p,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(Tt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,c=Date.now(),this.nthSequenceNumber(t,o)))).next((b=>(r=b,m=Date.now(),this.removeTargets(t,r,e)))).next((b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(t,r)))).next((b=>(g=Date.now(),Po()<=$t.DEBUG&&Tt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),ut.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function $M(i,t){return new WM(i,t)}class JM{constructor(){this.changes=new La((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Vn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return r!==void 0?ut.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class ZM{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class tV{constructor(t,e,r,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,e)))).next((o=>(r!==null&&Eu(r.mutation,o,Ki.empty(),Ae.now()),o)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.getLocalViewOfDocuments(t,r,Zt()).next((()=>r))))}getLocalViewOfDocuments(t,e,r=Zt()){const o=wa();return this.populateOverlays(t,o,e).next((()=>this.computeViews(t,e,o,r).next((u=>{let c=du();return u.forEach(((m,p)=>{c=c.insert(m,p.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const r=wa();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,Zt())))}populateOverlays(t,e,r){const o=[];return r.forEach((u=>{e.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,m)=>{e.set(c,m)}))}))}computeViews(t,e,r,o){let u=Ks();const c=bu(),m=(function(){return bu()})();return e.forEach(((p,g)=>{const v=r.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Ua)?u=u.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),Eu(v.mutation,g,v.mutation.getFieldMask(),Ae.now())):c.set(g.key,Ki.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,v)=>c.set(g,v))),e.forEach(((g,v)=>m.set(g,new ZM(v,c.get(g)??null)))),m)))}recalculateAndSaveOverlays(t,e){const r=bu();let o=new Le(((c,m)=>c-m)),u=Zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const m of c)m.keys().forEach((p=>{const g=e.get(p);if(g===null)return;let v=r.get(p)||Ki.empty();v=m.applyToLocalView(g,v),r.set(p,v);const b=(o.get(m.batchId)||Zt()).add(p);o=o.insert(m.batchId,b)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,b=fS();v.forEach((E=>{if(!u.has(E)){const I=vS(e.get(E),r.get(E));I!==null&&b.set(E,I),u=u.add(E)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,b))}return ut.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,e,r,o){return(function(c){return Rt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):nM(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,o):this.getDocumentsMatchingCollectionQuery(t,e,r,o)}getNextDocuments(t,e,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,o-u.size):ut.resolve(wa());let m=Vu,p=u;return c.next((g=>ut.forEach(g,((v,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(v)?ut.resolve():this.remoteDocumentCache.getEntry(t,v).next((E=>{p=p.insert(v,E)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,Zt()))).next((v=>({batchId:m,changes:hS(v)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Rt(e)).next((r=>{let o=du();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,e,r,o){const u=e.collectionGroup;let c=du();return this.indexManager.getCollectionParents(t,u).next((m=>ut.forEach(m,(p=>{const g=(function(b,E){return new If(E,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(e,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,r,o).next((v=>{v.forEach(((b,E)=>{c=c.insert(b,E)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,u,o)))).next((c=>{u.forEach(((p,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,Vn.newInvalidDocument(v)))}));let m=du();return c.forEach(((p,g)=>{const v=u.get(p);v!==void 0&&Eu(v.mutation,g,Ki.empty(),Ae.now()),Mf(e,g)&&(m=m.insert(p,g))})),m}))}}class eV{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return ut.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(o){return{id:o.id,version:o.version,createTime:cs(o.createTime)}})(e)),ut.resolve()}getNamedQuery(t,e){return ut.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(o){return{name:o.name,query:qM(o.bundledQuery),readTime:cs(o.readTime)}})(e)),ut.resolve()}}class nV{constructor(){this.overlays=new Le(Rt.comparator),this.qr=new Map}getOverlay(t,e){return ut.resolve(this.overlays.get(e))}getOverlays(t,e){const r=wa();return ut.forEach(e,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,e,r){return r.forEach(((o,u)=>{this.St(t,e,u)})),ut.resolve()}removeOverlaysForBatchId(t,e,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),ut.resolve()}getOverlaysForCollection(t,e,r){const o=wa(),u=e.length+1,c=new Rt(e.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>r&&o.set(p.getKey(),p)}return ut.resolve(o)}getOverlaysForCollectionGroup(t,e,r,o){let u=new Le(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>r){let v=u.get(g.largestBatchId);v===null&&(v=wa(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=wa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>m.set(g,v))),!(m.size()>=o)););return ut.resolve(m)}St(t,e,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new TM(e,r));let u=this.qr.get(e);u===void 0&&(u=Zt(),this.qr.set(e,u)),this.qr.set(e,u.add(r.key))}}class iV{constructor(){this.sessionToken=wn.EMPTY_BYTE_STRING}getSessionToken(t){return ut.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,ut.resolve()}}class Vg{constructor(){this.Qr=new ln(mn.$r),this.Ur=new ln(mn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const r=new mn(t,e);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,e){t.forEach((r=>this.addReference(r,e)))}removeReference(t,e){this.Gr(new mn(t,e))}zr(t,e){t.forEach((r=>this.removeReference(r,e)))}jr(t){const e=new Rt(new ke([])),r=new mn(e,t),o=new mn(e,t+1),u=[];return this.Ur.forEachInRange([r,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new Rt(new ke([])),r=new mn(e,t),o=new mn(e,t+1);let u=Zt();return this.Ur.forEachInRange([r,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const e=new mn(t,0),r=this.Qr.firstAfterOrEqual(e);return r!==null&&t.isEqual(r.key)}}class mn{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return Rt.comparator(t.key,e.key)||Jt(t.Yr,e.Yr)}static Kr(t,e){return Jt(t.Yr,e.Yr)||Rt.comparator(t.key,e.key)}}class sV{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new ln(mn.$r)}checkEmpty(t){return ut.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new _M(u,e,r,o);this.mutationQueue.push(c);for(const m of o)this.Zr=this.Zr.add(new mn(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return ut.resolve(c)}lookupMutationBatch(t,e){return ut.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,o=this.ei(r),u=o<0?0:o;return ut.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ut.resolve(this.mutationQueue.length===0?Eg:this.tr-1)}getAllMutationBatches(t){return ut.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new mn(e,0),o=new mn(e,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(c=>{const m=this.Xr(c.Yr);u.push(m)})),ut.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new ln(Jt);return e.forEach((o=>{const u=new mn(o,0),c=new mn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(m=>{r=r.add(m.Yr)}))})),ut.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,o=r.length+1;let u=r;Rt.isDocumentKey(u)||(u=u.child(""));const c=new mn(new Rt(u),0);let m=new ln(Jt);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),c),ut.resolve(this.ti(m))}ti(t){const e=[];return t.forEach((r=>{const o=this.Xr(r);o!==null&&e.push(o)})),e}removeMutationBatch(t,e){ce(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ut.forEach(e.mutations,(o=>{const u=new mn(o.key,e.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,e){const r=new mn(e,0),o=this.Zr.firstAfterOrEqual(r);return ut.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,ut.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class rV{constructor(t){this.ri=t,this.docs=(function(){return new Le(Rt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,o=this.docs.get(r),u=o?o.size:0,c=this.ri(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return ut.resolve(r?r.document.mutableCopy():Vn.newInvalidDocument(e))}getEntries(t,e){let r=Ks();return e.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Vn.newInvalidDocument(o))})),ut.resolve(r)}getDocumentsMatchingQuery(t,e,r,o){let u=Ks();const c=e.path,m=new Rt(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||OD(VD(v),r)<=0||(o.has(v.key)||Mf(e,v))&&(u=u.insert(v.key,v.mutableCopy()))}return ut.resolve(u)}getAllFromCollectionGroup(t,e,r,o){Mt(9500)}ii(t,e){return ut.forEach(this.docs,(r=>e(r)))}newChangeBuffer(t){return new aV(this)}getSize(t){return ut.resolve(this.size)}}class aV extends JM{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?e.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(r)})),ut.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}class oV{constructor(t){this.persistence=t,this.si=new La((e=>wg(e)),xg),this.lastRemoteSnapshotVersion=kt.min(),this.highestTargetId=0,this.oi=0,this._i=new Vg,this.targetCount=0,this.ai=el.ur()}forEachTarget(t,e){return this.si.forEach(((r,o)=>e(o))),ut.resolve()}getLastRemoteSnapshotVersion(t){return ut.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ut.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),ut.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.oi&&(this.oi=e),ut.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new el(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,ut.resolve()}updateTargetData(t,e){return this.Pr(e),ut.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,ut.resolve()}removeTargets(t,e,r){let o=0;const u=[];return this.si.forEach(((c,m)=>{m.sequenceNumber<=e&&r.get(m.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),ut.waitFor(u).next((()=>o))}getTargetCount(t){return ut.resolve(this.targetCount)}getTargetData(t,e){const r=this.si.get(e)||null;return ut.resolve(r)}addMatchingKeys(t,e,r){return this._i.Wr(e,r),ut.resolve()}removeMatchingKeys(t,e,r){this._i.zr(e,r);const o=this.persistence.referenceDelegate,u=[];return o&&e.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),ut.waitFor(u)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),ut.resolve()}getMatchingKeysForTargetId(t,e){const r=this._i.Hr(e);return ut.resolve(r)}containsKey(t,e){return ut.resolve(this._i.containsKey(e))}}class VS{constructor(t,e){this.ui={},this.overlays={},this.ci=new xf(0),this.li=!1,this.li=!0,this.hi=new iV,this.referenceDelegate=t(this),this.Pi=new oV(this),this.indexManager=new GM,this.remoteDocumentCache=(function(o){return new rV(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new HM(e),this.Ii=new eV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new nV,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.ui[t.toKey()];return r||(r=new sV(e,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,r){Tt("MemoryPersistence","Starting transaction:",t);const o=new lV(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,e){return ut.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,e))))}}class lV extends PD{constructor(t){super(),this.currentSequenceNumber=t}}class Og{constructor(t){this.persistence=t,this.Ri=new Vg,this.Vi=null}static mi(t){return new Og(t)}get fi(){if(this.Vi)return this.Vi;throw Mt(60996)}addReference(t,e,r){return this.Ri.addReference(r,e),this.fi.delete(r.toString()),ut.resolve()}removeReference(t,e,r){return this.Ri.removeReference(r,e),this.fi.add(r.toString()),ut.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),ut.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ut.forEach(this.fi,(r=>{const o=Rt.fromPath(r);return this.gi(t,o).next((u=>{u||e.removeEntry(o,kt.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((r=>{r?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return ut.or([()=>ut.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class df{constructor(t,e){this.persistence=t,this.pi=new La((r=>LD(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=$M(this,e)}static mi(t,e){return new df(t,e)}Ei(){}di(t){return ut.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>e.next((o=>r+o))))}wr(t){let e=0;return this.pr(t,(r=>{e++})).next((()=>e))}pr(t,e){return ut.forEach(this.pi,((r,o)=>this.br(t,r,o).next((u=>u?ut.resolve():e(o)))))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(c=>this.br(t,c,e).next((m=>{m||(r++,u.removeEntry(c,kt.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),ut.resolve()}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),ut.resolve()}removeReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),ut.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),ut.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=zh(t.data.value)),e}br(t,e,r){return ut.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const o=this.pi.get(e);return ut.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Ng{constructor(t,e,r,o){this.targetId=t,this.fromCache=e,this.Es=r,this.ds=o}static As(t,e){let r=Zt(),o=Zt();for(const u of e.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Ng(t,e.fromCache,r,o)}}class uV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class cV{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return JR()?8:kD(Nn())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,r,o){const u={result:null};return this.ys(t,e).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(t,e,o,r).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new uV;return this.Ss(t,e,c).next((m=>{if(u.result=m,this.Vs)return this.bs(t,e,c,m.size)}))})).next((()=>u.result))}bs(t,e,r,o){return r.documentReadCount<this.fs?(Po()<=$t.DEBUG&&Tt("QueryEngine","SDK will not create cache indexes for query:",ko(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ut.resolve()):(Po()<=$t.DEBUG&&Tt("QueryEngine","Query:",ko(e),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Po()<=$t.DEBUG&&Tt("QueryEngine","The SDK decides to create cache indexes for query:",ko(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,us(e))):ut.resolve())}ys(t,e){if(t1(e))return ut.resolve(null);let r=us(e);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(e.limit!==null&&o===1&&(e=Cp(e,null,"F"),r=us(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const c=Zt(...u);return this.ps.getDocuments(t,c).next((m=>this.indexManager.getMinOffset(t,r).next((p=>{const g=this.Ds(e,m);return this.Cs(e,g,c,p.readTime)?this.ys(t,Cp(e,null,"F")):this.vs(t,g,e,p)}))))})))))}ws(t,e,r,o){return t1(e)||o.isEqual(kt.min())?ut.resolve(null):this.ps.getDocuments(t,r).next((u=>{const c=this.Ds(e,u);return this.Cs(e,c,r,o)?ut.resolve(null):(Po()<=$t.DEBUG&&Tt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ko(e)),this.vs(t,c,e,MD(o,Vu)).next((m=>m)))}))}Ds(t,e){let r=new ln(uS(t));return e.forEach(((o,u)=>{Mf(t,u)&&(r=r.add(u))})),r}Cs(t,e,r,o){if(t.limit===null)return!1;if(r.size!==e.size)return!0;const u=t.limitType==="F"?e.last():e.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,e,r){return Po()<=$t.DEBUG&&Tt("QueryEngine","Using full collection scan to execute query:",ko(e)),this.ps.getDocumentsMatchingQuery(t,e,zr.min(),r)}vs(t,e,r,o){return this.ps.getDocumentsMatchingQuery(t,r,o).next((u=>(e.forEach((c=>{u=u.insert(c.key,c)})),u)))}}const Pg="LocalStore",hV=3e8;class fV{constructor(t,e,r,o){this.persistence=t,this.Fs=e,this.serializer=o,this.Ms=new Le(Jt),this.xs=new La((u=>wg(u)),xg),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new tV(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function dV(i,t,e,r){return new fV(i,t,e,r)}async function OS(i,t){const e=Lt(i);return await e.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return e.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,e.Bs(t),e.mutationQueue.getAllMutationBatches(r)))).next((u=>{const c=[],m=[];let p=Zt();for(const g of o){c.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return e.localDocuments.getDocuments(r,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:m})))}))}))}function mV(i,t){const e=Lt(i);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,v){const b=g.batch,E=b.keys();let I=ut.resolve();return E.forEach((L=>{I=I.next((()=>v.getEntry(p,L))).next((P=>{const U=g.docVersions.get(L);ce(U!==null,48541),P.version.compareTo(U)<0&&(b.applyToRemoteDocument(P,g),P.isValidDocument()&&(P.setReadTime(g.commitVersion),v.addEntry(P)))}))})),I.next((()=>m.mutationQueue.removeMutationBatch(p,b)))})(e,r,t,u).next((()=>u.apply(r))).next((()=>e.mutationQueue.performConsistencyCheck(r))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let p=Zt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(t)))).next((()=>e.localDocuments.getDocuments(r,o)))}))}function NS(i){const t=Lt(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function pV(i,t){const e=Lt(i),r=t.snapshotVersion;let o=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=e.Ns.newChangeBuffer({trackRemovals:!0});o=e.Ms;const m=[];t.targetChanges.forEach(((v,b)=>{const E=o.get(b);if(!E)return;m.push(e.Pi.removeMatchingKeys(u,v.removedDocuments,b).next((()=>e.Pi.addMatchingKeys(u,v.addedDocuments,b))));let I=E.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(b)!==null?I=I.withResumeToken(wn.EMPTY_BYTE_STRING,kt.min()).withLastLimboFreeSnapshotVersion(kt.min()):v.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(v.resumeToken,r)),o=o.insert(b,I),(function(P,U,J){return P.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=hV?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0})(E,I,v)&&m.push(e.Pi.updateTargetData(u,I))}));let p=Ks(),g=Zt();if(t.documentUpdates.forEach((v=>{t.resolvedLimboDocuments.has(v)&&m.push(e.persistence.referenceDelegate.updateLimboDocument(u,v))})),m.push(gV(u,c,t.documentUpdates).next((v=>{p=v.ks,g=v.qs}))),!r.isEqual(kt.min())){const v=e.Pi.getLastRemoteSnapshotVersion(u).next((b=>e.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(v)}return ut.waitFor(m).next((()=>c.apply(u))).next((()=>e.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(e.Ms=o,u)))}function gV(i,t,e){let r=Zt(),o=Zt();return e.forEach((u=>r=r.add(u))),t.getEntries(i,r).next((u=>{let c=Ks();return e.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(kt.min())?(t.removeEntry(m,p.readTime),c=c.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),c=c.insert(m,p)):Tt(Pg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function yV(i,t){const e=Lt(i);return e.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Eg),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function vV(i,t){const e=Lt(i);return e.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return e.Pi.getTargetData(r,t).next((u=>u?(o=u,ut.resolve(o)):e.Pi.allocateTargetId(r).next((c=>(o=new Nr(t,c,"TargetPurposeListen",r.currentSequenceNumber),e.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=e.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(r.targetId,r),e.xs.set(t,r.targetId)),r}))}async function Op(i,t,e){const r=Lt(i),o=r.Ms.get(t),u=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",u,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!cl(c))throw c;Tt(Pg,`Failed to update sequence numbers for target ${t}: ${c}`)}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function d1(i,t,e){const r=Lt(i);let o=kt.min(),u=Zt();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,v){const b=Lt(p),E=b.xs.get(v);return E!==void 0?ut.resolve(b.Ms.get(E)):b.Pi.getTargetData(g,v)})(r,c,us(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,m.targetId).next((p=>{u=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,t,e?o:kt.min(),e?u:Zt()))).next((m=>(_V(r,sM(t),m),{documents:m,Qs:u})))))}function _V(i,t,e){let r=i.Os.get(t)||kt.min();e.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),i.Os.set(t,r)}class m1{constructor(){this.activeTargetIds=cM()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class TV{constructor(){this.Mo=new m1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,r){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new m1,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class bV{Oo(t){}shutdown(){}}const p1="ConnectivityMonitor";class g1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Tt(p1,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){Tt(p1,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ih=null;function Np(){return Ih===null?Ih=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ih++,"0x"+Ih.toString(16)}const Wm="RestConnection",EV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class SV{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===af?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(t,e,r,o,u){const c=Np(),m=this.zo(t,e.toUriEncodedString());Tt(Wm,`Sending RPC '${t}' ${c}:`,m,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),v=rl(g);return this.Jo(t,m,p,r,v).then((b=>(Tt(Wm,`Received RPC '${t}' ${c}: `,b),b)),(b=>{throw $o(Wm,`RPC '${t}' ${c} failed with error: `,b,"url: ",m,"request:",r),b}))}Ho(t,e,r,o,u,c){return this.Go(t,e,r,o,u)}jo(t,e,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ll})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}zo(t,e){const r=EV[t];return`${this.Uo}/v1/${e}:${r}`}terminate(){}}class AV{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Dn="WebChannelConnection";class wV extends SV{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,r,o,u){const c=Np();return new Promise(((m,p)=>{const g=new LE;g.setWithCredentials(!0),g.listenOnce(UE.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Uh.NO_ERROR:const b=g.getResponseJson();Tt(Dn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(b)),m(b);break;case Uh.TIMEOUT:Tt(Dn,`RPC '${t}' ${c} timed out`),p(new At(ct.DEADLINE_EXCEEDED,"Request time out"));break;case Uh.HTTP_ERROR:const E=g.getStatus();if(Tt(Dn,`RPC '${t}' ${c} failed with status:`,E,"response text:",g.getResponseText()),E>0){let I=g.getResponseJson();Array.isArray(I)&&(I=I[0]);const L=I?.error;if(L&&L.status&&L.message){const P=(function(J){const ot=J.toLowerCase().replace(/_/g,"-");return Object.values(ct).indexOf(ot)>=0?ot:ct.UNKNOWN})(L.status);p(new At(P,L.message))}else p(new At(ct.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new At(ct.UNAVAILABLE,"Connection failed."));break;default:Mt(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{Tt(Dn,`RPC '${t}' ${c} completed.`)}}));const v=JSON.stringify(o);Tt(Dn,`RPC '${t}' ${c} sending request:`,o),g.send(e,"POST",v,r,15)}))}T_(t,e,r){const o=Np(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=FE(),m=BE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,e,r),p.encodeInitMessageHeaders=!0;const v=u.join("");Tt(Dn,`Creating RPC '${t}' stream ${o}: ${v}`,p);const b=c.createWebChannel(v,p);this.I_(b);let E=!1,I=!1;const L=new AV({Yo:U=>{I?Tt(Dn,`Not sending because RPC '${t}' stream ${o} is closed:`,U):(E||(Tt(Dn,`Opening RPC '${t}' stream ${o} transport.`),b.open(),E=!0),Tt(Dn,`RPC '${t}' stream ${o} sending:`,U),b.send(U))},Zo:()=>b.close()}),P=(U,J,ot)=>{U.listen(J,(et=>{try{ot(et)}catch(gt){setTimeout((()=>{throw gt}),0)}}))};return P(b,fu.EventType.OPEN,(()=>{I||(Tt(Dn,`RPC '${t}' stream ${o} transport opened.`),L.o_())})),P(b,fu.EventType.CLOSE,(()=>{I||(I=!0,Tt(Dn,`RPC '${t}' stream ${o} transport closed`),L.a_(),this.E_(b))})),P(b,fu.EventType.ERROR,(U=>{I||(I=!0,$o(Dn,`RPC '${t}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),L.a_(new At(ct.UNAVAILABLE,"The operation could not be completed")))})),P(b,fu.EventType.MESSAGE,(U=>{if(!I){const J=U.data[0];ce(!!J,16349);const ot=J,et=ot?.error||ot[0]?.error;if(et){Tt(Dn,`RPC '${t}' stream ${o} received error:`,et);const gt=et.status;let dt=(function(w){const C=tn[w];if(C!==void 0)return bS(C)})(gt),ft=et.message;dt===void 0&&(dt=ct.INTERNAL,ft="Unknown error status: "+gt+" with message "+et.message),I=!0,L.a_(new At(dt,ft)),b.close()}else Tt(Dn,`RPC '${t}' stream ${o} received:`,J),L.u_(J)}})),P(m,zE.STAT_EVENT,(U=>{U.stat===Ep.PROXY?Tt(Dn,`RPC '${t}' stream ${o} detected buffering proxy`):U.stat===Ep.NOPROXY&&Tt(Dn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{L.__()}),0),L}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function $m(){return typeof document<"u"?document:null}function Pf(i){return new IM(i,!0)}class PS{constructor(t,e,r=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=e,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,e-r);o>0&&Tt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const y1="PersistentStream";class kS{constructor(t,e,r,o,u,c,m,p){this.Mi=t,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new PS(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===ct.RESOURCE_EXHAUSTED?(Gs(e.toString()),Gs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===ct.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===e&&this.G_(r,o)}),(r=>{t((()=>{const o=new At(ct.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,e){const r=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return Tt(y1,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(Tt(y1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xV extends kS{constructor(t,e,r,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,o,c),this.serializer=u}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=VM(this.serializer,t),r=(function(u){if(!("targetChange"in u))return kt.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?kt.min():c.readTime?cs(c.readTime):kt.min()})(t);return this.listener.H_(e,r)}Y_(t){const e={};e.database=Vp(this.serializer),e.addTarget=(function(u,c){let m;const p=c.target;if(m=Rp(p)?{documents:PM(u,p)}:{query:kM(u,p).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=AS(u,c.resumeToken);const g=Ip(u,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(kt.min())>0){m.readTime=ff(u,c.snapshotVersion.toTimestamp());const g=Ip(u,c.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,t);const r=LM(this.serializer,t);r&&(e.labels=r),this.q_(e)}Z_(t){const e={};e.database=Vp(this.serializer),e.removeTarget=t,this.q_(e)}}class RV extends kS{constructor(t,e,r,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return ce(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ce(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ce(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=NM(t.writeResults,t.commitTime),r=cs(t.commitTime);return this.listener.na(r,e)}ra(){const t={};t.database=Vp(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((r=>OM(this.serializer,r)))};this.q_(e)}}class CV{}class IV extends CV{constructor(t,e,r,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new At(ct.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(t,Dp(e,r),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new At(ct.UNKNOWN,u.toString())}))}Ho(t,e,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.Ho(t,Dp(e,r),o,c,m,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new At(ct.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class DV{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Gs(e),this.aa=!1):Tt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ka="RemoteStore";class MV{constructor(t,e,r,o,u){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{za(this)&&(Tt(ka,"Restarting streams for network reachability change."),await(async function(p){const g=Lt(p);g.Ea.add(4),await Zu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await kf(g)})(this))}))})),this.Ra=new DV(r,o)}}async function kf(i){if(za(i))for(const t of i.da)await t(!0)}async function Zu(i){for(const t of i.da)await t(!1)}function jS(i,t){const e=Lt(i);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),Ug(e)?Lg(e):hl(e).O_()&&jg(e,t))}function kg(i,t){const e=Lt(i),r=hl(e);e.Ia.delete(t),r.O_()&&LS(e,t),e.Ia.size===0&&(r.O_()?r.L_():za(e)&&e.Ra.set("Unknown"))}function jg(i,t){if(i.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(kt.min())>0){const e=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}hl(i).Y_(t)}function LS(i,t){i.Va.Ue(t),hl(i).Z_(t)}function Lg(i){i.Va=new wM({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),At:t=>i.Ia.get(t)||null,ht:()=>i.datastore.serializer.databaseId}),hl(i).start(),i.Ra.ua()}function Ug(i){return za(i)&&!hl(i).x_()&&i.Ia.size>0}function za(i){return Lt(i).Ea.size===0}function US(i){i.Va=void 0}async function VV(i){i.Ra.set("Online")}async function OV(i){i.Ia.forEach(((t,e)=>{jg(i,t)}))}async function NV(i,t){US(i),Ug(i)?(i.Ra.ha(t),Lg(i)):i.Ra.set("Unknown")}async function PV(i,t,e){if(i.Ra.set("Online"),t instanceof SS&&t.state===2&&t.cause)try{await(async function(o,u){const c=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.Va.removeTarget(m))})(i,t)}catch(r){Tt(ka,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await mf(i,r)}else if(t instanceof Hh?i.Va.Ze(t):t instanceof ES?i.Va.st(t):i.Va.tt(t),!e.isEqual(kt.min()))try{const r=await NS(i.localStore);e.compareTo(r)>=0&&await(function(u,c){const m=u.Va.Tt(c);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(p.resumeToken,c))}})),m.targetMismatches.forEach(((p,g)=>{const v=u.Ia.get(p);if(!v)return;u.Ia.set(p,v.withResumeToken(wn.EMPTY_BYTE_STRING,v.snapshotVersion)),LS(u,p);const b=new Nr(v.target,p,g,v.sequenceNumber);jg(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(i,e)}catch(r){Tt(ka,"Failed to raise snapshot:",r),await mf(i,r)}}async function mf(i,t,e){if(!cl(t))throw t;i.Ea.add(1),await Zu(i),i.Ra.set("Offline"),e||(e=()=>NS(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{Tt(ka,"Retrying IndexedDB access"),await e(),i.Ea.delete(1),await kf(i)}))}function zS(i,t){return t().catch((e=>mf(i,e,t)))}async function jf(i){const t=Lt(i),e=qr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Eg;for(;kV(t);)try{const o=await yV(t.localStore,r);if(o===null){t.Ta.length===0&&e.L_();break}r=o.batchId,jV(t,o)}catch(o){await mf(t,o)}BS(t)&&FS(t)}function kV(i){return za(i)&&i.Ta.length<10}function jV(i,t){i.Ta.push(t);const e=qr(i);e.O_()&&e.X_&&e.ea(t.mutations)}function BS(i){return za(i)&&!qr(i).x_()&&i.Ta.length>0}function FS(i){qr(i).start()}async function LV(i){qr(i).ra()}async function UV(i){const t=qr(i);for(const e of i.Ta)t.ea(e.mutations)}async function zV(i,t,e){const r=i.Ta.shift(),o=Ig.from(r,t,e);await zS(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await jf(i)}async function BV(i,t){t&&qr(i).X_&&await(async function(r,o){if((function(c){return EM(c)&&c!==ct.ABORTED})(o.code)){const u=r.Ta.shift();qr(r).B_(),await zS(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await jf(r)}})(i,t),BS(i)&&FS(i)}async function v1(i,t){const e=Lt(i);e.asyncQueue.verifyOperationInProgress(),Tt(ka,"RemoteStore received new credentials");const r=za(e);e.Ea.add(3),await Zu(e),r&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await kf(e)}async function FV(i,t){const e=Lt(i);t?(e.Ea.delete(2),await kf(e)):t||(e.Ea.add(2),await Zu(e),e.Ra.set("Unknown"))}function hl(i){return i.ma||(i.ma=(function(e,r,o){const u=Lt(e);return u.sa(),new xV(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:VV.bind(null,i),t_:OV.bind(null,i),r_:NV.bind(null,i),H_:PV.bind(null,i)}),i.da.push((async t=>{t?(i.ma.B_(),Ug(i)?Lg(i):i.Ra.set("Unknown")):(await i.ma.stop(),US(i))}))),i.ma}function qr(i){return i.fa||(i.fa=(function(e,r,o){const u=Lt(e);return u.sa(),new RV(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:LV.bind(null,i),r_:BV.bind(null,i),ta:UV.bind(null,i),na:zV.bind(null,i)}),i.da.push((async t=>{t?(i.fa.B_(),await jf(i)):(await i.fa.stop(),i.Ta.length>0&&(Tt(ka,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class zg{constructor(t,e,r,o,u){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,o,u){const c=Date.now()+r,m=new zg(t,e,c,o,u);return m.start(r),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new At(ct.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bg(i,t){if(Gs("AsyncQueue",`${t}: ${i}`),cl(i))return new At(ct.UNAVAILABLE,`${t}: ${i}`);throw i}class Yo{static emptySet(t){return new Yo(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||Rt.comparator(e.key,r.key):(e,r)=>Rt.comparator(e.key,r.key),this.keyedMap=du(),this.sortedSet=new Le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,r)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Yo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const r=new Yo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}class _1{constructor(){this.ga=new Le(Rt.comparator)}track(t){const e=t.doc.key,r=this.ga.get(e);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(e,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(e,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(e):t.type===1&&r.type===2?this.ga=this.ga.insert(e,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Mt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,r)=>{t.push(r)})),t}}class nl{constructor(t,e,r,o,u,c,m,p,g){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,e,r,o,u){const c=[];return e.forEach((m=>{c.push({type:0,doc:m})})),new nl(t,e,Yo.emptySet(e),c,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Df(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==r[o].type||!e[o].doc.isEqual(r[o].doc))return!1;return!0}}class HV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class qV{constructor(){this.queries=T1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,r){const o=Lt(e),u=o.queries;o.queries=T1(),u.forEach(((c,m)=>{for(const p of m.Sa)p.onError(r)}))})(this,new At(ct.ABORTED,"Firestore shutting down"))}}function T1(){return new La((i=>lS(i)),Df)}async function GV(i,t){const e=Lt(i);let r=3;const o=t.query;let u=e.queries.get(o);u?!u.ba()&&t.Da()&&(r=2):(u=new HV,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await e.onListen(o,!0);break;case 1:u.wa=await e.onListen(o,!1);break;case 2:await e.onFirstRemoteStoreListen(o)}}catch(c){const m=Bg(c,`Initialization of query '${ko(t.query)}' failed`);return void t.onError(m)}e.queries.set(o,u),u.Sa.push(t),t.va(e.onlineState),u.wa&&t.Fa(u.wa)&&Fg(e)}async function KV(i,t){const e=Lt(i),r=t.query;let o=3;const u=e.queries.get(r);if(u){const c=u.Sa.indexOf(t);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function YV(i,t){const e=Lt(i);let r=!1;for(const o of t){const u=o.query,c=e.queries.get(u);if(c){for(const m of c.Sa)m.Fa(o)&&(r=!0);c.wa=o}}r&&Fg(e)}function QV(i,t,e){const r=Lt(i),o=r.queries.get(t);if(o)for(const u of o.Sa)u.onError(e);r.queries.delete(t)}function Fg(i){i.Ca.forEach((t=>{t.next()}))}var Pp,b1;(b1=Pp||(Pp={})).Ma="default",b1.Cache="cache";class XV{constructor(t,e,r){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new nl(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const r=e!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=nl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Pp.Cache}}class HS{constructor(t){this.key=t}}class qS{constructor(t){this.key=t}}class WV{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Zt(),this.mutatedKeys=Zt(),this.eu=uS(t),this.tu=new Yo(this.eu)}get nu(){return this.Ya}ru(t,e){const r=e?e.iu:new _1,o=e?e.tu:this.tu;let u=e?e.mutatedKeys:this.mutatedKeys,c=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((v,b)=>{const E=o.get(v),I=Mf(this.query,b)?b:null,L=!!E&&this.mutatedKeys.has(E.key),P=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let U=!1;E&&I?E.data.isEqual(I.data)?L!==P&&(r.track({type:3,doc:I}),U=!0):this.su(E,I)||(r.track({type:2,doc:I}),U=!0,(p&&this.eu(I,p)>0||g&&this.eu(I,g)<0)&&(m=!0)):!E&&I?(r.track({type:0,doc:I}),U=!0):E&&!I&&(r.track({type:1,doc:E}),U=!0,(p||g)&&(m=!0)),U&&(I?(c=c.add(I),u=P?u.add(v):u.delete(v)):(c=c.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),u=u.delete(v.key),r.track({type:1,doc:v})}return{tu:c,iu:r,Cs:m,mutatedKeys:u}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((v,b)=>(function(I,L){const P=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Mt(20277,{Rt:U})}};return P(I)-P(L)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(r),o=o??!1;const m=e&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new nl(this.query,t.tu,u,c,t.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new _1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Zt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const e=[];return t.forEach((r=>{this.Xa.has(r)||e.push(new qS(r))})),this.Xa.forEach((r=>{t.has(r)||e.push(new HS(r))})),e}cu(t){this.Ya=t.Qs,this.Xa=Zt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return nl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Hg="SyncEngine";class $V{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class JV{constructor(t){this.key=t,this.hu=!1}}class ZV{constructor(t,e,r,o,u,c){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new La((m=>lS(m)),Df),this.Iu=new Map,this.Eu=new Set,this.du=new Le(Rt.comparator),this.Au=new Map,this.Ru=new Vg,this.Vu={},this.mu=new Map,this.fu=el.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function tO(i,t,e=!0){const r=WS(i);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await GS(r,t,e,!0),o}async function eO(i,t){const e=WS(i);await GS(e,t,!0,!1)}async function GS(i,t,e,r){const o=await vV(i.localStore,us(t)),u=o.targetId,c=i.sharedClientState.addLocalQueryTarget(u,e);let m;return r&&(m=await nO(i,t,u,c==="current",o.resumeToken)),i.isPrimaryClient&&e&&jS(i.remoteStore,o),m}async function nO(i,t,e,r,o){i.pu=(b,E,I)=>(async function(P,U,J,ot){let et=U.view.ru(J);et.Cs&&(et=await d1(P.localStore,U.query,!1).then((({documents:R})=>U.view.ru(R,et))));const gt=ot&&ot.targetChanges.get(U.targetId),dt=ot&&ot.targetMismatches.get(U.targetId)!=null,ft=U.view.applyChanges(et,P.isPrimaryClient,gt,dt);return S1(P,U.targetId,ft.au),ft.snapshot})(i,b,E,I);const u=await d1(i.localStore,t,!0),c=new WV(t,u.Qs),m=c.ru(u.documents),p=Ju.createSynthesizedTargetChangeForCurrentChange(e,r&&i.onlineState!=="Offline",o),g=c.applyChanges(m,i.isPrimaryClient,p);S1(i,e,g.au);const v=new $V(t,e,c);return i.Tu.set(t,v),i.Iu.has(e)?i.Iu.get(e).push(t):i.Iu.set(e,[t]),g.snapshot}async function iO(i,t,e){const r=Lt(i),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((c=>!Df(c,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Op(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),e&&kg(r.remoteStore,o.targetId),kp(r,o.targetId)})).catch(ul)):(kp(r,o.targetId),await Op(r.localStore,o.targetId,!0))}async function sO(i,t){const e=Lt(i),r=e.Tu.get(t),o=e.Iu.get(r.targetId);e.isPrimaryClient&&o.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),kg(e.remoteStore,r.targetId))}async function rO(i,t,e){const r=fO(i);try{const o=await(function(c,m){const p=Lt(c),g=Ae.now(),v=m.reduce(((I,L)=>I.add(L.key)),Zt());let b,E;return p.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let L=Ks(),P=Zt();return p.Ns.getEntries(I,v).next((U=>{L=U,L.forEach(((J,ot)=>{ot.isValidDocument()||(P=P.add(J))}))})).next((()=>p.localDocuments.getOverlayedDocuments(I,L))).next((U=>{b=U;const J=[];for(const ot of m){const et=yM(ot,b.get(ot.key).overlayedDocument);et!=null&&J.push(new Ua(ot.key,et,eS(et.value.mapValue),Fs.exists(!0)))}return p.mutationQueue.addMutationBatch(I,g,J,m)})).next((U=>{E=U;const J=U.applyToLocalDocumentSet(b,P);return p.documentOverlayCache.saveOverlays(I,U.batchId,J)}))})).then((()=>({batchId:E.batchId,changes:hS(b)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(c,m,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new Le(Jt)),g=g.insert(m,p),c.Vu[c.currentUser.toKey()]=g})(r,o.batchId,e),await tc(r,o.changes),await jf(r.remoteStore)}catch(o){const u=Bg(o,"Failed to persist write");e.reject(u)}}async function KS(i,t){const e=Lt(i);try{const r=await pV(e.localStore,t);t.targetChanges.forEach(((o,u)=>{const c=e.Au.get(u);c&&(ce(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?ce(c.hu,14607):o.removedDocuments.size>0&&(ce(c.hu,42227),c.hu=!1))})),await tc(e,r,t)}catch(r){await ul(r)}}function E1(i,t,e){const r=Lt(i);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){const o=[];r.Tu.forEach(((u,c)=>{const m=c.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const p=Lt(c);p.onlineState=m;let g=!1;p.queries.forEach(((v,b)=>{for(const E of b.Sa)E.va(m)&&(g=!0)})),g&&Fg(p)})(r.eventManager,t),o.length&&r.Pu.H_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function aO(i,t,e){const r=Lt(i);r.sharedClientState.updateQueryState(t,"rejected",e);const o=r.Au.get(t),u=o&&o.key;if(u){let c=new Le(Rt.comparator);c=c.insert(u,Vn.newNoDocument(u,kt.min()));const m=Zt().add(u),p=new Nf(kt.min(),new Map,new Le(Jt),c,m);await KS(r,p),r.du=r.du.remove(u),r.Au.delete(t),qg(r)}else await Op(r.localStore,t,!1).then((()=>kp(r,t,e))).catch(ul)}async function oO(i,t){const e=Lt(i),r=t.batch.batchId;try{const o=await mV(e.localStore,t);QS(e,r,null),YS(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await tc(e,o)}catch(o){await ul(o)}}async function lO(i,t,e){const r=Lt(i);try{const o=await(function(c,m){const p=Lt(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next((b=>(ce(b!==null,37113),v=b.keys(),p.mutationQueue.removeMutationBatch(g,b)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(r.localStore,t);QS(r,t,e),YS(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),await tc(r,o)}catch(o){await ul(o)}}function YS(i,t){(i.mu.get(t)||[]).forEach((e=>{e.resolve()})),i.mu.delete(t)}function QS(i,t,e){const r=Lt(i);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(e?u.reject(e):u.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function kp(i,t,e=null){i.sharedClientState.removeLocalQueryTarget(t);for(const r of i.Iu.get(t))i.Tu.delete(r),e&&i.Pu.yu(r,e);i.Iu.delete(t),i.isPrimaryClient&&i.Ru.jr(t).forEach((r=>{i.Ru.containsKey(r)||XS(i,r)}))}function XS(i,t){i.Eu.delete(t.path.canonicalString());const e=i.du.get(t);e!==null&&(kg(i.remoteStore,e),i.du=i.du.remove(t),i.Au.delete(e),qg(i))}function S1(i,t,e){for(const r of e)r instanceof HS?(i.Ru.addReference(r.key,t),uO(i,r)):r instanceof qS?(Tt(Hg,"Document no longer in limbo: "+r.key),i.Ru.removeReference(r.key,t),i.Ru.containsKey(r.key)||XS(i,r.key)):Mt(19791,{wu:r})}function uO(i,t){const e=t.key,r=e.path.canonicalString();i.du.get(e)||i.Eu.has(r)||(Tt(Hg,"New document in limbo: "+e),i.Eu.add(r),qg(i))}function qg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const t=i.Eu.values().next().value;i.Eu.delete(t);const e=new Rt(ke.fromString(t)),r=i.fu.next();i.Au.set(r,new JV(e)),i.du=i.du.insert(e,r),jS(i.remoteStore,new Nr(us(Rg(e.path)),r,"TargetPurposeLimboResolution",xf.ce))}}async function tc(i,t,e){const r=Lt(i),o=[],u=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,p)=>{c.push(r.pu(p,t,e).then((g=>{if((g||e)&&r.isPrimaryClient){const v=g?!g.fromCache:e?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){o.push(g);const v=Ng.As(p.targetId,g);u.push(v)}})))})),await Promise.all(c),r.Pu.H_(o),await(async function(p,g){const v=Lt(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ut.forEach(g,(E=>ut.forEach(E.Es,(I=>v.persistence.referenceDelegate.addReference(b,E.targetId,I))).next((()=>ut.forEach(E.ds,(I=>v.persistence.referenceDelegate.removeReference(b,E.targetId,I)))))))))}catch(b){if(!cl(b))throw b;Tt(Pg,"Failed to update sequence numbers: "+b)}for(const b of g){const E=b.targetId;if(!b.fromCache){const I=v.Ms.get(E),L=I.snapshotVersion,P=I.withLastLimboFreeSnapshotVersion(L);v.Ms=v.Ms.insert(E,P)}}})(r.localStore,u))}async function cO(i,t){const e=Lt(i);if(!e.currentUser.isEqual(t)){Tt(Hg,"User change. New user:",t.toKey());const r=await OS(e.localStore,t);e.currentUser=t,(function(u,c){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new At(ct.CANCELLED,c))}))})),u.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await tc(e,r.Ls)}}function hO(i,t){const e=Lt(i),r=e.Au.get(t);if(r&&r.hu)return Zt().add(r.key);{let o=Zt();const u=e.Iu.get(t);if(!u)return o;for(const c of u){const m=e.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}function WS(i){const t=Lt(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=KS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=hO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=aO.bind(null,t),t.Pu.H_=YV.bind(null,t.eventManager),t.Pu.yu=QV.bind(null,t.eventManager),t}function fO(i){const t=Lt(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=oO.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=lO.bind(null,t),t}class pf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Pf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return dV(this.persistence,new cV,t.initialUser,this.serializer)}Cu(t){return new VS(Og.mi,this.serializer)}Du(t){return new TV}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pf.provider={build:()=>new pf};class dO extends pf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){ce(this.persistence.referenceDelegate instanceof df,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new XM(r,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Xn.withCacheSize(this.cacheSizeBytes):Xn.DEFAULT;return new VS((r=>df.mi(r,e)),this.serializer)}}class jp{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>E1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=cO.bind(null,this.syncEngine),await FV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new qV})()}createDatastore(t){const e=Pf(t.databaseInfo.databaseId),r=(function(u){return new wV(u)})(t.databaseInfo);return(function(u,c,m,p){return new IV(u,c,m,p)})(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return(function(r,o,u,c,m){return new MV(r,o,u,c,m)})(this.localStore,this.datastore,t.asyncQueue,(e=>E1(this.syncEngine,e,0)),(function(){return g1.v()?new g1:new bV})())}createSyncEngine(t,e){return(function(o,u,c,m,p,g,v){const b=new ZV(o,u,c,m,p,g);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const r=Lt(e);Tt(ka,"RemoteStore shutting down."),r.Ea.add(5),await Zu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}jp.provider={build:()=>new jp};class mO{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Gs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const Gr="FirestoreClient";class pO{constructor(t,e,r,o,u){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=o,this.user=Mn.UNAUTHENTICATED,this.clientId=Tg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async c=>{Tt(Gr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(Tt(Gr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const r=Bg(e,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Jm(i,t){i.asyncQueue.verifyOperationInProgress(),Tt(Gr,"Initializing OfflineComponentProvider");const e=i.configuration;await t.initialize(e);let r=e.initialUser;i.setCredentialChangeListener((async o=>{r.isEqual(o)||(await OS(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=t}async function A1(i,t){i.asyncQueue.verifyOperationInProgress();const e=await gO(i);Tt(Gr,"Initializing OnlineComponentProvider"),await t.initialize(e,i.configuration),i.setCredentialChangeListener((r=>v1(t.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,o)=>v1(t.remoteStore,o))),i._onlineComponents=t}async function gO(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Tt(Gr,"Using user provided OfflineComponentProvider");try{await Jm(i,i._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(o){return o.name==="FirebaseError"?o.code===ct.FAILED_PRECONDITION||o.code===ct.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(e))throw e;$o("Error using user provided cache. Falling back to memory cache: "+e),await Jm(i,new pf)}}else Tt(Gr,"Using default OfflineComponentProvider"),await Jm(i,new dO(void 0));return i._offlineComponents}async function $S(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Tt(Gr,"Using user provided OnlineComponentProvider"),await A1(i,i._uninitializedComponentsProvider._online)):(Tt(Gr,"Using default OnlineComponentProvider"),await A1(i,new jp))),i._onlineComponents}function yO(i){return $S(i).then((t=>t.syncEngine))}async function vO(i){const t=await $S(i),e=t.eventManager;return e.onListen=tO.bind(null,t.syncEngine),e.onUnlisten=iO.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=eO.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=sO.bind(null,t.syncEngine),e}function _O(i,t,e={}){const r=new Ur;return i.asyncQueue.enqueueAndForget((async()=>(function(u,c,m,p,g){const v=new mO({next:E=>{v.Nu(),c.enqueueAndForget((()=>KV(u,b)));const I=E.docs.has(m);!I&&E.fromCache?g.reject(new At(ct.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&E.fromCache&&p&&p.source==="server"?g.reject(new At(ct.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(E)},error:E=>g.reject(E)}),b=new XV(Rg(m.path),v,{includeMetadataChanges:!0,qa:!0});return GV(u,b)})(await vO(i),i.asyncQueue,t,e,r))),r.promise}function JS(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}const w1=new Map;const ZS="firestore.googleapis.com",x1=!0;class R1{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new At(ct.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ZS,this.ssl=x1}else this.host=t.host,this.ssl=t.ssl??x1;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=MS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<YM)throw new At(ct.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}DD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JS(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new At(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new At(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new At(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Gg{constructor(t,e,r,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new R1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new At(ct.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new At(ct.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new R1(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new _D;switch(r.type){case"firstParty":return new SD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new At(ct.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const r=w1.get(e);r&&(Tt("ComponentProvider","Removing Datastore"),w1.delete(e),r.terminate())})(this),Promise.resolve()}}function TO(i,t,e,r={}){i=Mu(i,Gg);const o=rl(t),u=i._getSettings(),c={...u,emulatorOptions:i._getEmulatorOptions()},m=`${t}:${e}`;o&&(Zb(`https://${m}`),tE("Firestore",!0)),u.host!==ZS&&u.host!==m&&$o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:r};if(!Va(p,c)&&(i._setSettings(p),r.mockUserToken)){let g,v;if(typeof r.mockUserToken=="string")g=r.mockUserToken,v=Mn.MOCK_USER;else{g=HR(r.mockUserToken,i._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new At(ct.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Mn(b)}i._authCredentials=new TD(new qE(g,v))}}class Kg{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Kg(this.firestore,t,this._query)}}class pn{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new pn(this.firestore,t,this._key)}toJSON(){return{type:pn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,r){if(Wu(e,pn._jsonSchema))return new pn(t,r||null,new Rt(ke.fromString(e.referencePath)))}}pn._jsonSchemaVersion="firestore/documentReference/1.0",pn._jsonSchema={type:nn("string",pn._jsonSchemaVersion),referencePath:nn("string")};class Lu extends Kg{constructor(t,e,r){super(t,e,Rg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new pn(this.firestore,null,new Rt(t))}withConverter(t){return new Lu(this.firestore,t,this._path)}}function tA(i,t,...e){if(i=Vi(i),arguments.length===1&&(t=Tg.newId()),ID("doc","path",t),i instanceof Gg){const r=ke.fromString(t,...e);return BT(r),new pn(i,null,new Rt(r))}{if(!(i instanceof pn||i instanceof Lu))throw new At(ct.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(ke.fromString(t,...e));return BT(r),new pn(i.firestore,i instanceof Lu?i.converter:null,new Rt(r))}}const C1="AsyncQueue";class I1{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new PS(this,"async_queue_retry"),this._c=()=>{const r=$m();r&&Tt(C1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const e=$m();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=$m();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new Ur;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!cl(t))throw t;Tt(C1,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Gs("INTERNAL UNHANDLED ERROR: ",D1(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=e,e}enqueueAfterDelay(t,e,r){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const o=zg.createAndSchedule(this,t,e,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Mt(47125,{Pc:D1(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,r)=>e.targetTimeMs-r.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function D1(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}class Yg extends Gg{constructor(t,e,r,o){super(t,e,r,o),this.type="firestore",this._queue=new I1,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new I1(t),this._firestoreClient=void 0,await t}}}function bO(i,t){const e=typeof i=="object"?i:sE(),r=typeof i=="string"?i:af,o=lg(e,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=BR("firestore");u&&TO(o,...u)}return o}function eA(i){if(i._terminated)throw new At(ct.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||EO(i),i._firestoreClient}function EO(i){const t=i._freezeSettings(),e=(function(o,u,c,m){return new BD(o,u,c,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,JS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,t);i._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),i._firestoreClient=new pO(i._authCredentials,i._appCheckCredentials,i._queue,e,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class Ii{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ii(wn.fromBase64String(t))}catch(e){throw new At(ct.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Ii(wn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ii._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Wu(t,Ii._jsonSchema))return Ii.fromBase64String(t.bytes)}}Ii._jsonSchemaVersion="firestore/bytes/1.0",Ii._jsonSchema={type:nn("string",Ii._jsonSchemaVersion),bytes:nn("string")};class Qg{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new At(ct.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new An(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class nA{constructor(t){this._methodName=t}}class hs{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new At(ct.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new At(ct.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Jt(this._lat,t._lat)||Jt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:hs._jsonSchemaVersion}}static fromJSON(t){if(Wu(t,hs._jsonSchema))return new hs(t.latitude,t.longitude)}}hs._jsonSchemaVersion="firestore/geoPoint/1.0",hs._jsonSchema={type:nn("string",hs._jsonSchemaVersion),latitude:nn("number"),longitude:nn("number")};class fs{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:fs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Wu(t,fs._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new fs(t.vectorValues);throw new At(ct.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fs._jsonSchemaVersion="firestore/vectorValue/1.0",fs._jsonSchema={type:nn("string",fs._jsonSchemaVersion),vectorValues:nn("object")};const SO=/^__.*__$/;class AO{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return this.fieldMask!==null?new Ua(t,this.data,this.fieldMask,e,this.fieldTransforms):new $u(t,this.data,e,this.fieldTransforms)}}function iA(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Mt(40011,{Ac:i})}}class Xg{constructor(t,e,r,o,u,c){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Xg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),r=this.Vc({path:e,fc:!1});return r.gc(t),r}yc(t){const e=this.path?.child(t),r=this.Vc({path:e,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return gf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(iA(this.Ac)&&SO.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class wO{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||Pf(t)}Cc(t,e,r,o=!1){return new Xg({Ac:t,methodName:e,Dc:r,path:An.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xO(i){const t=i._freezeSettings(),e=Pf(i._databaseId);return new wO(i._databaseId,!!t.ignoreUndefinedProperties,e)}function RO(i,t,e,r,o,u={}){const c=i.Cc(u.merge||u.mergeFields?2:0,t,e,o);oA("Data must be an object, but it was:",c,r);const m=rA(r,c);let p,g;if(u.merge)p=new Ki(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const v=[];for(const b of u.mergeFields){const E=CO(t,b,e);if(!c.contains(E))throw new At(ct.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);DO(v,E)||v.push(E)}p=new Ki(v),g=c.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,g=c.fieldTransforms;return new AO(new Ci(m),p,g)}function sA(i,t){if(aA(i=Vi(i)))return oA("Unsupported field value:",t,i),rA(i,t);if(i instanceof nA)return(function(r,o){if(!iA(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let c=0;for(const m of r){let p=sA(m,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(i,t)}return(function(r,o){if((r=Vi(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return hM(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=Ae.fromDate(r);return{timestampValue:ff(o.serializer,u)}}if(r instanceof Ae){const u=new Ae(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ff(o.serializer,u)}}if(r instanceof hs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ii)return{bytesValue:AS(o.serializer,r._byteString)};if(r instanceof pn){const u=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Mg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof fs)return(function(c,m){return{mapValue:{fields:{[ZE]:{stringValue:tS},[of]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Cg(m.serializer,g)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${bg(r)}`)})(i,t)}function rA(i,t){const e={};return YE(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ja(i,((r,o)=>{const u=sA(o,t.mc(r));u!=null&&(e[r]=u)})),{mapValue:{fields:e}}}function aA(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Ae||i instanceof hs||i instanceof Ii||i instanceof pn||i instanceof nA||i instanceof fs)}function oA(i,t,e){if(!aA(e)||!GE(e)){const r=bg(e);throw r==="an object"?t.Sc(i+" a custom object"):t.Sc(i+" "+r)}}function CO(i,t,e){if((t=Vi(t))instanceof Qg)return t._internalPath;if(typeof t=="string")return lA(i,t);throw gf("Field path arguments must be of type string or ",i,!1,void 0,e)}const IO=new RegExp("[~\\*/\\[\\]]");function lA(i,t,e){if(t.search(IO)>=0)throw gf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,e);try{return new Qg(...t.split("."))._internalPath}catch{throw gf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,e)}}function gf(i,t,e,r,o){const u=r&&!r.isEmpty(),c=o!==void 0;let m=`Function ${t}() called with invalid data`;e&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${r}`),c&&(p+=` in document ${o}`),p+=")"),new At(ct.INVALID_ARGUMENT,m+i+p)}function DO(i,t){return i.some((e=>e.isEqual(t)))}class uA{constructor(t,e,r,o,u){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new MO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(cA("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class MO extends uA{data(){return super.data()}}function cA(i,t){return typeof t=="string"?lA(i,t):t instanceof Qg?t._internalPath:t._delegate._internalPath}class VO{convertValue(t,e="none"){switch(Hr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Qe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Fr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Mt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return ja(t,((o,u)=>{r[o]=this.convertValue(u,e)})),r}convertVectorValue(t){const e=t.fields?.[of].arrayValue?.values?.map((r=>Qe(r.doubleValue)));return new fs(e)}convertGeoPoint(t){return new hs(Qe(t.latitude),Qe(t.longitude))}convertArray(t,e){return(t.values||[]).map((r=>this.convertValue(r,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const r=Cf(t);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(Ou(t));default:return null}}convertTimestamp(t){const e=Br(t);return new Ae(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=ke.fromString(t);ce(DS(r),9688,{name:t});const o=new Nu(r.get(1),r.get(3)),u=new Rt(r.popFirst(5));return o.isEqual(e)||Gs(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),u}}function OO(i,t,e){let r;return r=i?i.toFirestore(t):t,r}class pu{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ia extends uA{constructor(t,e,r,o,u,c){super(t,e,r,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new qh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(cA("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new At(ct.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Ia._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Ia._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ia._jsonSchema={type:nn("string",Ia._jsonSchemaVersion),bundleSource:nn("string","DocumentSnapshot"),bundleName:nn("string"),bundle:nn("string")};class qh extends Ia{data(t={}){return super.data(t)}}class Su{constructor(t,e,r,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new pu(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((r=>{t.call(e,new qh(this._firestore,this._userDataWriter,r.key,r,new pu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new At(ct.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const p=new qh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new pu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new qh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new pu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),v=c.indexOf(m.doc.key)),{type:NO(m.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new At(ct.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Su._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Tg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(e.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function NO(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Mt(61501,{type:i})}}function PO(i){i=Mu(i,pn);const t=Mu(i.firestore,Yg);return _O(eA(t),i._key).then((e=>UO(t,i,e)))}Su._jsonSchemaVersion="firestore/querySnapshot/1.0",Su._jsonSchema={type:nn("string",Su._jsonSchemaVersion),bundleSource:nn("string","QuerySnapshot"),bundleName:nn("string"),bundle:nn("string")};class kO extends VO{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ii(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new pn(this.firestore,null,e)}}function jO(i,t,e){i=Mu(i,pn);const r=Mu(i.firestore,Yg),o=OO(i.converter,t);return LO(r,[RO(xO(r),"setDoc",i._key,o,i.converter!==null,e).toMutation(i._key,Fs.none())])}function LO(i,t){return(function(r,o){const u=new Ur;return r.asyncQueue.enqueueAndForget((async()=>rO(await yO(r),o,u))),u.promise})(eA(i),t)}function UO(i,t,e){const r=e.docs.get(t._key),o=new kO(i);return new Ia(i,o,t._key,r,new pu(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(o){ll=o})(al),Xo(new Oa("firestore",((r,{instanceIdentifier:o,options:u})=>{const c=r.getProvider("app").getImmediate(),m=new Yg(new bD(r.getProvider("auth-internal")),new AD(c,r.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new At(ct.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nu(g.options.projectId,v)})(c,o),c);return u={useFetchStreams:e,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),jr(jT,LT,t),jr(jT,LT,"esm2020")})();const zO={apiKey:"AIzaSyAKvyD0SV7kUX5UciilZ0bk2F08wkf0T7g",authDomain:"planttycoon-c9dc0.firebaseapp.com",projectId:"planttycoon-c9dc0",storageBucket:"planttycoon-c9dc0.firebasestorage.app",messagingSenderId:"49910703062",appId:"1:49910703062:web:60c410e51c98714f3bfa77",measurementId:"G-NY5W0YD0SX"},hA=iE(zO),Wg=yD(hA),fA=bO(hA),BO=new Us,FO=async()=>{try{return(await xI(Wg,BO)).user}catch(i){throw console.error("Login failed:",i),i}},HO=async()=>{try{await aI(Wg)}catch(i){throw console.error("Logout failed:",i),i}},qO=async(i,t)=>{try{return await jO(tA(fA,"users",i),{savedAt:new Date().toISOString(),gameData:t}),!0}catch(e){return console.error("Save failed:",e),!1}},GO=async i=>{try{const t=tA(fA,"users",i),e=await PO(t);return e.exists()?e.data().gameData:null}catch(t){throw console.error("Load failed:",t),t}},KO=[{emoji:"",value:5,rarity:"common",weight:100,description:" ",flavorText:"      .    ,    ."},{emoji:"",value:6,rarity:"common",weight:90,description:" ",flavorText:"   .   ,   ."},{emoji:"",value:7,rarity:"common",weight:80,description:"",flavorText:"   .       ."},{emoji:"",value:8,rarity:"common",weight:70,description:"",flavorText:"   .        ."},{emoji:"",value:10,rarity:"common",weight:60,description:"",flavorText:"  .       ."},{emoji:"",value:15,rarity:"rare",weight:10,description:"",flavorText:"   .     ."},{emoji:"",value:16,rarity:"rare",weight:9,description:"",flavorText:"    .      ."},{emoji:"",value:17,rarity:"rare",weight:8,description:"",flavorText:"   .      ."},{emoji:"",value:18,rarity:"rare",weight:7,description:"",flavorText:"  .     ."},{emoji:"",value:19,rarity:"rare",weight:6,description:"",flavorText:"  .     ."},{emoji:"",value:20,rarity:"rare",weight:5,description:"",flavorText:"    .       ."},{emoji:"",value:21,rarity:"rare",weight:4,description:"",flavorText:"   .       ."},{emoji:"",value:23,rarity:"rare",weight:3,description:"",flavorText:"     .       ."},{emoji:"",value:25,rarity:"rare",weight:2,description:"",flavorText:"  .    ."},{emoji:"",value:40,rarity:"epic",weight:2,description:"",flavorText:"   .       ."},{emoji:"",value:42,rarity:"epic",weight:1.8,description:"",flavorText:"    .   ."},{emoji:"",value:44,rarity:"epic",weight:1.6,description:"",flavorText:"     .    ."},{emoji:"",value:46,rarity:"epic",weight:1.4,description:"",flavorText:"   .     ."},{emoji:"",value:48,rarity:"epic",weight:1.2,description:"",flavorText:"    .      ."},{emoji:"",value:50,rarity:"epic",weight:1,description:"",flavorText:"  , .    ."},{emoji:"",value:52,rarity:"epic",weight:.8,description:"",flavorText:"      .     ."},{emoji:"",value:55,rarity:"epic",weight:.6,description:"",flavorText:"   .    ."},{emoji:"",value:60,rarity:"epic",weight:.4,description:"",flavorText:"    .     ."},{emoji:"",value:80,rarity:"legendary",weight:.3,description:"",flavorText:"   .      ."},{emoji:"",value:82,rarity:"legendary",weight:.25,description:"",flavorText:"   .    ."},{emoji:"",value:84,rarity:"legendary",weight:.2,description:"",flavorText:"   .    ."},{emoji:"",value:86,rarity:"legendary",weight:.18,description:"",flavorText:"   .      ."},{emoji:"",value:88,rarity:"legendary",weight:.16,description:"",flavorText:"  .      ."},{emoji:"",value:90,rarity:"legendary",weight:.14,description:"",flavorText:"  .     ."},{emoji:"",value:92,rarity:"legendary",weight:.12,description:"",flavorText:"   .      ."},{emoji:"",value:95,rarity:"legendary",weight:.1,description:"",flavorText:"   .     ."},{emoji:"",value:98,rarity:"legendary",weight:.08,description:"",flavorText:"   .      ."},{emoji:"",value:100,rarity:"legendary",weight:.06,description:"",flavorText:"    .     ."},{emoji:"",value:250,rarity:"mythic",weight:.05,description:"",flavorText:"    .     ."},{emoji:"",value:260,rarity:"mythic",weight:.03,description:"",flavorText:"   .       ."},{emoji:"",value:270,rarity:"mythic",weight:.02,description:"",flavorText:"   .     ."},{emoji:"",value:280,rarity:"mythic",weight:.01,description:" ",flavorText:"   .     ."},{emoji:"",value:300,rarity:"mythic",weight:.005,description:"",flavorText:"     .    ."}],Ls={mushrooms:KO},YO=[{id:"red_stew",name:" ",emoji:"",description:"    .   50% .",ingredients:["","",""],time:1e4,value:20,effect:{type:"speed",value:.5,duration:12e4}},{id:"rainbow_salad",name:" ",emoji:"",description:"  !     .",ingredients:["","",""],time:3e4,value:150,effect:{type:"fill_empty_slots",value:1,duration:0}},{id:"nut_bomb",name:" ",emoji:"",description:"  .   1 .",ingredients:["","",""],time:45e3,value:80,effect:{type:"add_consumable",value:"seedBomb",count:1,duration:0}},{id:"golden_tea",name:" ",emoji:"",description:"   .    50% .",ingredients:["","",""],time:6e4,value:130,effect:{type:"spawn_rate",value:.5,duration:12e4}},{id:"elixir_of_life",name:" ",emoji:"",description:"  . 30    10 .",ingredients:["","",""],time:12e4,value:2e3,effect:{type:"speed",value:9,duration:3e4}},{id:"mushroom_soup",name:" ",emoji:"",description:"  . 3    30% .",ingredients:["","",""],time:15e3,value:30,effect:{type:"speed",value:.3,duration:18e4}},{id:"nut_bar",name:" ",emoji:"",description:" ! 3     30% .",ingredients:["","",""],time:2e4,value:40,effect:{type:"spawn_rate",value:.3,duration:18e4}},{id:"tropical_punch",name:" ",emoji:"",description:"   . 2    100% .",ingredients:["","",""],time:4e4,value:200,effect:{type:"speed",value:1,duration:12e4}},{id:"flower_bouquet",name:"",emoji:"",description:" . 2     100% .",ingredients:["","",""],time:5e4,value:250,effect:{type:"spawn_rate",value:1,duration:12e4}},{id:"lucky_charm",name:" ",emoji:"",description:" . 5     50% .",ingredients:["","",""],time:35e3,value:100,effect:{type:"spawn_rate",value:.5,duration:3e5}},{id:"lucky_stew",name:" ",emoji:"",description:"    . 3       2 .",ingredients:["","",""],time:2e4,value:50,effect:{type:"rarity_boost",target:"all",value:2,duration:18e4}},{id:"green_smoothie",name:" ",emoji:"",description:" ! 3  '(Rare)'     3 .",ingredients:["","",""],time:25e3,value:60,effect:{type:"rarity_boost",target:"rare",value:3,duration:18e4}},{id:"purple_tart",name:" ",emoji:"",description:" . 3  '(Epic)'     3 .",ingredients:["","",""],time:4e4,value:150,effect:{type:"rarity_boost",target:"epic",value:3,duration:18e4}},{id:"royal_cake",name:" ",emoji:"",description:" . 3  '(Legendary)'     3 .",ingredients:["","",""],time:6e4,value:300,effect:{type:"rarity_boost",target:"legendary",value:3,duration:18e4}},{id:"starlight_pudding",name:" ",emoji:"",description:" . 3  '(Mythic)'     3 .",ingredients:["","",""],time:1e5,value:1e3,effect:{type:"rarity_boost",target:"mythic",value:3,duration:18e4}}],Gh={recipes:YO},QO=[{id:"harvest_10",title:" ",description:"  10 .",icon:"",condition:{type:"total_harvest",value:10},reward:{type:"gold",value:100}},{id:"harvest_100",title:" ",description:"  100 .",icon:"",condition:{type:"total_harvest",value:100},reward:{type:"gold",value:500}},{id:"harvest_1000",title:" ",description:"  1,000 .",icon:"",condition:{type:"total_harvest",value:1e3},reward:{type:"gold",value:5e3}},{id:"gold_1000",title:"",description:" 1,000  .",icon:"",condition:{type:"total_gold",value:1e3},reward:{type:"gold",value:200}},{id:"gold_10000",title:"",description:" 10,000  .",icon:"",condition:{type:"total_gold",value:1e4},reward:{type:"gold",value:1e3}},{id:"gold_100000",title:"",description:" 100,000  .",icon:"",condition:{type:"total_gold",value:1e5},reward:{type:"gold",value:1e4}},{id:"cook_1",title:" ",description:" 1 .",icon:"",condition:{type:"total_cook",value:1},reward:{type:"gold",value:50}},{id:"cook_10",title:"",description:" 10 .",icon:"",condition:{type:"total_cook",value:10},reward:{type:"gold",value:300}},{id:"cook_50",title:" ",description:" 50 .",icon:"",condition:{type:"total_cook",value:50},reward:{type:"gold",value:2e3}},{id:"collection_5",title:"",description:"  5 .",icon:"",condition:{type:"collection_count",value:5},reward:{type:"gold",value:150}},{id:"collection_10",title:" ",description:"  10 .",icon:"",condition:{type:"collection_count",value:10},reward:{type:"gold",value:500}},{id:"collection_20",title:" ",description:"  20 .",icon:"",condition:{type:"collection_count",value:20},reward:{type:"gold",value:2e3}}],M1={achievements:QO},XO=[{id:"chef",name:" ",emoji:"",dialogue:["  !","  ?","   ?","   ."]},{id:"merchant",name:" ",emoji:"",dialogue:["   ."," .","  ?","   !"]},{id:"farmer",name:" ",emoji:"",dialogue:["...   ."," .","  ?"," ..."]},{id:"wizard",name:" ",emoji:"",dialogue:["  .","  .","   ?","   ."]}],V1={npcs:XO},Dh=25,WO=.01;function $O(){const[i,t]=G.useState(()=>{const O=localStorage.getItem("plant_game_gold");return O?parseInt(O):50}),[e,r]=G.useState(()=>{const O=localStorage.getItem("plant_game_plants");return O?JSON.parse(O):Array(Dh).fill(null)}),[o,u]=G.useState(()=>{const O=localStorage.getItem("plant_game_inventory");return O?JSON.parse(O):{}}),[c,m]=G.useState(()=>{const O=localStorage.getItem("plant_game_collection");return O?JSON.parse(O):{}}),[p,g]=G.useState(()=>{const O=localStorage.getItem("plant_game_upgradeLevel");return O?parseInt(O):0}),[v,b]=G.useState(()=>{const O=localStorage.getItem("plant_game_unlocks");return O?JSON.parse(O):{statistics:!1,harvestAll:!1}}),[E,I]=G.useState(()=>{const O=localStorage.getItem("plant_game_rarityLevel");return O?parseInt(O):1}),[L,P]=G.useState(()=>{const O=localStorage.getItem("plant_game_foodState");return O?JSON.parse(O):{active:!1,endTime:0,type:null,multiplier:1}}),[U,J]=G.useState(()=>{const O=localStorage.getItem("plant_game_activeBuffs");return O?JSON.parse(O):[]}),[ot,et]=G.useState(()=>{const O=localStorage.getItem("plant_game_stats");return O?JSON.parse(O):{total_harvest:0,total_gold:0,total_cook:0,collection_count:0}}),[gt,dt]=G.useState(()=>{const O=localStorage.getItem("plant_game_achievements");return O?JSON.parse(O):{}}),[ft,R]=G.useState(()=>{const O=localStorage.getItem("plant_game_activeQuests");return O?JSON.parse(O):[]}),[w,C]=G.useState(()=>{const O=localStorage.getItem("plant_game_questTimer");return O?parseInt(O):Date.now()+18e5}),[N,V]=G.useState(()=>{const O=localStorage.getItem("plant_game_pityCounter");return O?parseInt(O):0}),[z,D]=G.useState(()=>{const O=localStorage.getItem("plant_game_fertilizerLevel");return O?parseInt(O):0}),[Ht,re]=G.useState(()=>{const O=localStorage.getItem("plant_game_consumables");return O?JSON.parse(O):{seedBomb:0,growthPotion:0}}),[W,st]=G.useState(()=>{const O=localStorage.getItem("plant_game_cookedItems");return O?JSON.parse(O):{}}),[yt,Vt]=G.useState(()=>{const O=localStorage.getItem("plant_game_cookingState");let rt=O?JSON.parse(O):{active:!1,startTime:0,duration:0,ingredients:[],result:null};return rt.result&&!rt.result.ingredients&&(rt.result.ingredients=["","",""]),rt}),[Ct,k]=G.useState(()=>{const O=localStorage.getItem("plant_game_discoveredRecipes");return O?JSON.parse(O):[]}),[tt,pt]=G.useState(null),[vt,xt]=G.useState(!1),[Pt,qt]=G.useState(null);G.useEffect(()=>{const O=rI(Wg,rt=>{pt(rt)});return()=>O()},[]);const we=async()=>{try{await FO()}catch(O){alert(" : "+O.message)}},me=async()=>{try{await HO(),pt(null)}catch(O){alert(" : "+O.message)}},ie=async()=>{if(!tt){alert(" .");return}xt(!0);const O={gold:i,plants:e,inventory:o,collection:c,upgradeLevel:p,unlocks:v,rarityLevel:E,fertilizerLevel:z,consumables:Ht,cookedItems:W,discoveredRecipes:Ct,stats:ot,achievements:gt,foodState:L,activeBuffs:U,cookingState:yt,pityCounter:N,questTimer:w,activeQuests:ft,savedAt:Date.now()},rt=await qO(tt.uid,O);xt(!1),rt?(qt(new Date),alert(" ! ")):alert(" .  .")},gn=async()=>{if(!tt){alert(" .");return}if(window.confirm("    ?")){xt(!0);try{const O=await GO(tt.uid);O?(t(O.gold||50),r(O.plants||Array(Dh).fill(null)),u(O.inventory||{}),m(O.collection||{}),g(O.upgradeLevel||0),b(O.unlocks||{statistics:!1,harvestAll:!1}),I(O.rarityLevel||1),D(O.fertilizerLevel||0),re(O.consumables||{seedBomb:0,growthPotion:0}),st(O.cookedItems||{}),k(O.discoveredRecipes||[]),et(O.stats||{total_harvest:0,total_gold:0,total_cook:0,collection_count:0}),dt(O.achievements||{}),P(O.foodState||{active:!1,endTime:0,type:null,multiplier:1}),J(O.activeBuffs||[]),Vt(O.cookingState||{active:!1,startTime:0,duration:0,ingredients:[],result:null}),V(O.pityCounter||0),C(O.questTimer||Date.now()+18e5),R(O.activeQuests||[]),alert("  ! ")):alert("  .")}catch(O){console.error(O),alert(" .")}finally{xt(!1)}}};G.useEffect(()=>{localStorage.setItem("plant_game_gold",i),localStorage.setItem("plant_game_plants",JSON.stringify(e)),localStorage.setItem("plant_game_inventory",JSON.stringify(o)),localStorage.setItem("plant_game_collection",JSON.stringify(c)),localStorage.setItem("plant_game_upgradeLevel",p),localStorage.setItem("plant_game_unlocks",JSON.stringify(v)),localStorage.setItem("plant_game_rarityLevel",E),localStorage.setItem("plant_game_foodState",JSON.stringify(L)),localStorage.setItem("plant_game_pityCounter",N),localStorage.setItem("plant_game_fertilizerLevel",z),localStorage.setItem("plant_game_consumables",JSON.stringify(Ht)),localStorage.setItem("plant_game_cookedItems",JSON.stringify(W)),localStorage.setItem("plant_game_activeBuffs",JSON.stringify(U)),localStorage.setItem("plant_game_cookingState",JSON.stringify(yt)),localStorage.setItem("plant_game_discoveredRecipes",JSON.stringify(Ct)),localStorage.setItem("plant_game_stats",JSON.stringify(ot)),localStorage.setItem("plant_game_achievements",JSON.stringify(gt)),localStorage.setItem("plant_game_activeQuests",JSON.stringify(ft)),localStorage.setItem("plant_game_questTimer",w)},[i,e,o,c,p,v,E,L,N,z,Ht,W,U,yt,Ct,ot,gt,ft,w]);const Oi=G.useRef({plants:e,foodState:L,upgradeLevel:p,rarityLevel:E,pityCounter:N,fertilizerLevel:z,consumables:Ht,activeBuffs:U});G.useEffect(()=>{Oi.current={plants:e,foodState:L,upgradeLevel:p,rarityLevel:E,pityCounter:N,fertilizerLevel:z,consumables:Ht,activeBuffs:U}},[e,L,p,E,N,z,Ht,U]),G.useEffect(()=>{const O=setInterval(()=>{const{plants:rt,foodState:Q,upgradeLevel:lt,rarityLevel:K,pityCounter:it,activeBuffs:ht}=Oi.current,_t=Date.now(),Gt=ht.filter(Dt=>Dt.endTime>_t);Gt.length!==ht.length&&J(Gt);let Re=1,ee=1;if(Gt.forEach(Dt=>{Dt.type==="speed"&&(Re+=Dt.value),Dt.type==="spawn_rate"&&(ee+=Dt.value)}),Q.active&&Date.now()>Q.endTime){P({active:!1,endTime:0,type:null,multiplier:1});return}r(Dt=>{let Kt=[...Dt],cn=!1;const $s=Kt.map((ze,Rn)=>ze===null?Rn:-1).filter(ze=>ze!==-1);if(!Q.active)return Dt;const Ya=WO*Q.multiplier*ee,Qa=it*.01,mi=Math.min(Ya+Qa,1);if($s.length>0&&Math.random()<mi){V(0);const ze=$s[Math.floor(Math.random()*$s.length)],Rn=ht.filter(pe=>pe.type==="rarity_boost"),hn=Ls.mushrooms.filter(pe=>!(pe.rarity==="epic"&&K<5||pe.rarity==="legendary"&&K<10||pe.rarity==="mythic"&&K<15)).map(pe=>{let Cn=1;return Rn.forEach(Xi=>{(Xi.target==="all"&&pe.rarity!=="common"||Xi.target===pe.rarity)&&(Cn*=Xi.value)}),{...pe,effectiveWeight:pe.rarity==="common"?pe.weight/(1+K*.15):pe.weight*(1+(K-1)*.8)*Cn}}),rn=hn.reduce((pe,Cn)=>pe+Cn.effectiveWeight,0);let ei=Math.random()*rn,Ne=hn[0];for(const pe of hn)if(ei-=pe.effectiveWeight,ei<=0){Ne=pe;break}let Wr=Math.max(6e4-lt*3e3,5e3);Kt[ze]={...Ne,id:Date.now()+Math.random(),stage:"baby",plantedAt:Date.now(),growthProgress:0,growthDuration:Wr},cn=!0}else $s.length>0&&V(ze=>ze+1);return Q.active&&(Kt=Kt.map(ze=>{if(ze&&ze.stage==="baby"){const Rn=ze.growthProgress||0,hn=1e3*(Q.multiplier||1)*Re,rn=Rn+hn;return rn>=ze.growthDuration?(cn=!0,{...ze,stage:"adult",growthProgress:rn}):(cn=!0,{...ze,growthProgress:rn})}return ze})),cn?Kt:Dt})},1e3);return()=>clearInterval(O)},[]);const $n=G.useCallback((O,rt)=>{const Q={};let lt=!1;const K=Object.keys(rt).length;O.collection_count!==K&&(O.collection_count=K),M1.achievements.forEach(it=>{if(gt[it.id])return;const ht=it.condition;O[ht.type]>=ht.value&&(Q[it.id]={unlocked:!0,date:new Date().toISOString(),claimed:!1},lt=!0)}),lt&&dt(it=>({...it,...Q}))},[gt]),Me=G.useCallback((O,rt=1)=>{et(Q=>({...Q,[O]:(Q[O]||0)+rt}))},[]);G.useEffect(()=>{$n(ot,c)},[ot,c,$n]);const Qi=G.useCallback(O=>{const rt=gt[O];if(!rt||!rt.unlocked||rt.claimed)return;const Q=M1.achievements.find(K=>K.id===O);if(!Q)return;const lt=Q.reward;lt.type==="gold"&&t(K=>K+lt.value),dt(K=>({...K,[O]:{...K[O],claimed:!0}}))},[gt]),Un=G.useCallback(()=>{const O=[],rt=V1.npcs;for(let Q=0;Q<3;Q++){const lt=rt[Math.floor(Math.random()*rt.length)],K=Ct.length>0&&Math.random()<.3;let it,ht,_t;if(K){const ee=Ct[Math.floor(Math.random()*Ct.length)],Dt=Gh.recipes.find(Kt=>Kt.id===ee);if(!Dt)continue;it={type:"dish",id:Dt.id,name:Dt.name,emoji:Dt.emoji,value:Dt.value},ht=Math.floor(Math.random()*3)+1}else{const ee=Ls.mushrooms.filter(Kt=>Kt.rarity==="common"||Kt.rarity==="rare"&&E>=2||Kt.rarity==="epic"&&E>=5||Kt.rarity==="legendary"&&E>=10),Dt=ee[Math.floor(Math.random()*ee.length)];it={type:"plant",id:Dt.emoji,name:Dt.name,emoji:Dt.emoji,value:Dt.value},ht=Math.floor(Math.random()*5)+3}const Gt=it.value*ht,Re=1.5+Math.random()*.5;_t=Math.floor(Gt*Re),O.push({id:Date.now()+Q,npcId:lt.id,npcName:lt.name,npcEmoji:lt.emoji,dialogue:lt.dialogue[Math.floor(Math.random()*lt.dialogue.length)],request:{...it,count:ht},reward:{gold:_t}})}R(O),C(Date.now()+18e5)},[E,Ct]),vs=G.useCallback((O=0)=>{Date.now()>=w?Un():i>=O&&(t(rt=>rt-O),Un())},[i,Un,w]),Ni=G.useCallback(O=>{if(i<100)return;t(Dt=>Dt-100);const Q=V1.npcs,lt=Q[Math.floor(Math.random()*Q.length)],K=Ct.length>0&&Math.random()<.3;let it,ht,_t;if(K){const Dt=Ct[Math.floor(Math.random()*Ct.length)],Kt=Gh.recipes.find(cn=>cn.id===Dt);if(!Kt)return;it={type:"dish",id:Kt.id,name:Kt.name,emoji:Kt.emoji,value:Kt.value},ht=Math.floor(Math.random()*3)+1}else{const Dt=Ls.mushrooms.filter(cn=>cn.rarity==="common"||cn.rarity==="rare"&&E>=2||cn.rarity==="epic"&&E>=5||cn.rarity==="legendary"&&E>=10),Kt=Dt[Math.floor(Math.random()*Dt.length)];it={type:"plant",id:Kt.emoji,name:Kt.name,emoji:Kt.emoji,value:Kt.value},ht=Math.floor(Math.random()*10)+5}const Gt=it.value*ht,Re=1.5+Math.random()*.5;_t=Math.floor(Gt*Re);const ee={id:Date.now(),npcId:lt.id,npcName:lt.name,npcEmoji:lt.emoji,dialogue:lt.dialogue[Math.floor(Math.random()*lt.dialogue.length)],request:{...it,count:ht},reward:{gold:_t}};R(Dt=>Dt.map(Kt=>Kt.id===O?ee:Kt))},[i,E,Ct]),xe=G.useCallback(O=>{const rt=ft.find(lt=>lt.id===O);if(!rt)return;const Q=rt.request;if(Q.type==="plant"){if(!o[Q.id]||o[Q.id].count<Q.count)return;u(lt=>{const K={...lt};return K[Q.id]={...K[Q.id]},K[Q.id].count-=Q.count,K[Q.id].count<=0&&delete K[Q.id],K})}else if(Q.type==="dish"){if(!W[Q.id]||W[Q.id].count<Q.count)return;st(lt=>{const K={...lt};return K[Q.id]={...K[Q.id]},K[Q.id].count-=Q.count,K[Q.id].count<=0&&delete K[Q.id],K})}t(lt=>lt+rt.reward.gold),R(lt=>lt.filter(K=>K.id!==O))},[ft,o,W]);G.useEffect(()=>{w||C(Date.now()+18e5)},[w]),G.useEffect(()=>{ft.length===0&&Un()},[]);const Ve=G.useCallback(O=>{const rt=e[O];!rt||rt.stage!=="adult"||(r(Q=>{const lt=[...Q];return lt[O]=null,lt}),u(Q=>{const lt={...Q};return lt[rt.emoji]?lt[rt.emoji]={...lt[rt.emoji]}:lt[rt.emoji]={...rt,count:0},lt[rt.emoji].count+=1,lt}),m(Q=>{const lt={...Q};return lt[rt.emoji]?lt[rt.emoji]={...lt[rt.emoji]}:lt[rt.emoji]={discovered:!0,count:0,firstDiscoveredAt:new Date().toISOString()},lt[rt.emoji].count+=1,lt}),Me("total_harvest",1))},[e,Me]),ci=G.useCallback((O,rt=1)=>{const Q=o[O];!Q||Q.count<rt||(u(lt=>{const K={...lt};return K[O]&&(K[O]={...K[O]},K[O].count-=rt,K[O].count<=0&&delete K[O]),K}),t(lt=>{const K=U.find(_t=>_t.type==="gold"),it=K?1+K.value:1,ht=Math.floor(Q.value*rt*it);return Me("total_gold",ht),lt+ht}))},[o,U,Me]),Xr=G.useCallback(()=>{let O=0;Object.values(o).forEach(rt=>{O+=rt.value*rt.count}),O>0&&(u({}),t(rt=>{const Q=U.find(it=>it.type==="gold"),lt=Q?1+Q.value:1,K=Math.floor(O*lt);return Me("total_gold",K),rt+K}))},[o,U,Me]),bt=G.useCallback(()=>{const O=100+p*50;return i>=O?(t(rt=>rt-O),g(rt=>rt+1),!0):!1},[i,p]),Ut=G.useCallback(O=>i>=500&&!v[O]?(t(Q=>Q-500),b(Q=>({...Q,[O]:!0})),!0):!1,[i,v]),xn=G.useCallback(()=>{const O=500*E;i>=O&&(t(rt=>rt-O),I(rt=>rt+1))},[i,E]),Pn=G.useCallback(()=>{const O=1e3+z*500;i>=O&&(t(rt=>rt-O),D(rt=>rt+1))},[i,z]),se=G.useCallback((O,rt)=>{i>=rt&&(t(Q=>Q-rt),re(Q=>({...Q,[O]:(Q[O]||0)+1})))},[i]),Te=O=>{const rt=U.filter(it=>it.type==="rarity_boost"),Q=Ls.mushrooms.filter(it=>!(it.rarity==="epic"&&O<5||it.rarity==="legendary"&&O<10||it.rarity==="mythic"&&O<15)).map(it=>{let ht=1;return rt.forEach(_t=>{(_t.target==="all"&&it.rarity!=="common"||_t.target===it.rarity)&&(ht*=_t.value)}),{...it,effectiveWeight:it.rarity==="common"?it.weight:it.weight*(1+(O-1)*.1)*ht}}),lt=Q.reduce((it,ht)=>it+ht.effectiveWeight,0);let K=Math.random()*lt;for(const it of Q)if(K-=it.effectiveWeight,K<=0)return it;return Q[0]},zn=G.useCallback(O=>{if(!Ht[O]||Ht[O]<=0)return;let rt=!1;O==="seedBomb"?r(Q=>{const lt=[...Q];let K=!1;lt.forEach((it,ht)=>{it&&it.stage==="baby"&&(lt[ht]={...it,stage:"adult",growthProgress:it.growthDuration},K=!0)});for(let it=0;it<Dh;it++)if(!lt[it]){const ht=Te(E),_t=Math.max(6e4-p*3e3,5e3);lt[it]={...ht,id:Date.now()+Math.random()+it,stage:"adult",plantedAt:Date.now(),growthProgress:_t,growthDuration:_t},K=!0}return K&&(rt=!0),K?lt:Q}):O==="growthPotion"&&r(Q=>{const lt=Q.map(K=>K&&K.stage==="baby"?(rt=!0,{...K,stage:"adult",growthProgress:K.growthDuration}):K);return rt=!0,lt}),rt&&re(Q=>({...Q,[O]:Q[O]-1}))},[Ht,E,p]),Ba=G.useCallback(()=>{if(i<250)return{success:!1,message:" !"};t(lt=>lt-250);const rt=Math.random()*100;let Q={};return rt<.5?(t(K=>K+3e3),Q={type:"jackpot",message:" !  !",rewardText:"+3000 Gold"}):rt<5.5?(t(K=>K+500),Q={type:"big_win",message:" !  ?",rewardText:"+500 Gold"}):rt<45.5?(t(K=>K+50),Q={type:"small_win",message:"  ...",rewardText:"+50 Gold"}):Q={type:"trash",message:" !  ...",rewardText:" ..."},{success:!0,result:Q}},[i]),Fa=G.useCallback(()=>{v.harvestAll&&r(O=>{const rt=[...O];let Q=0;const lt={};return rt.forEach((K,it)=>{K&&K.stage==="adult"&&(rt[it]=null,Q++,lt[K.emoji]||(lt[K.emoji]={...K,count:0}),lt[K.emoji].count++)}),Q===0?O:(u(K=>{const it={...K};return Object.values(lt).forEach(ht=>{it[ht.emoji]?it[ht.emoji]={...it[ht.emoji]}:it[ht.emoji]={...ht,count:0},it[ht.emoji].count+=ht.count}),it}),m(K=>{const it={...K};return Object.values(lt).forEach(ht=>{it[ht.emoji]?it[ht.emoji]={...it[ht.emoji]}:it[ht.emoji]={discovered:!0,count:0,firstDiscoveredAt:new Date().toISOString()},it[ht.emoji].count+=ht.count}),it}),rt)})},[v.harvestAll]),Ha=G.useCallback(O=>{const Q={"3min-free":{duration:18e4,multiplier:.5,cost:0,name:"3min Free"},"1min":{duration:6e4,multiplier:2.5,cost:200,name:"1min Speed (2.5x)"},"5min":{duration:3e5,multiplier:1,cost:150,name:"5min Normal"},"10min":{duration:6e5,multiplier:.7,cost:350,name:"10min Slow"}}[O];if(Q&&i>=Q.cost){t(it=>it-Q.cost);const lt=1+z*.1,K=Q.duration*lt;P({active:!0,endTime:Date.now()+K,type:O,multiplier:Q.multiplier})}},[i,z]),Jn=G.useCallback(()=>{P({active:!1,endTime:0,type:null,multiplier:1})},[]),sn=G.useCallback(O=>{if(O.length!==3)return;const rt={};O.forEach(K=>{rt[K]=(rt[K]||0)+1});for(const[K,it]of Object.entries(rt))if(!o[K]||o[K].count<it)return;u(K=>{const it={...K};return O.forEach(ht=>{it[ht]&&(it[ht]={...it[ht]},it[ht].count-=1,it[ht].count<=0&&delete it[ht])}),it});const Q=[...O].sort(),lt=Gh.recipes.find(K=>{const it=[...K.ingredients].sort();return JSON.stringify(it)===JSON.stringify(Q)});if(lt)Vt({active:!0,startTime:Date.now(),duration:lt.time,ingredients:O,result:lt});else{const K=O.reduce((ht,_t)=>{const Gt=Ls.mushrooms.find(Re=>Re.emoji===_t);return ht+(Gt?Gt.value:0)},0),it={id:`mixed_stew_${Date.now()}`,name:" ",emoji:"",description:"     .    .",value:Math.floor(K*1.1),count:1,effect:null};Vt({active:!0,startTime:Date.now(),duration:1e4,ingredients:O,result:{...it,ingredients:O}})}},[o]),Bn=G.useCallback(()=>{if(!yt.active||Date.now()-yt.startTime<yt.duration)return;const Q=yt.result;st(lt=>{const K={...lt},it=Q.id.startsWith("mixed_stew")?`mixed_stew_${Q.value}`:Q.id;return K[it]?K[it]={...K[it]}:K[it]={...Q,id:it,count:0},K[it].count===void 0&&(K[it].count=0),K[it].count+=1,K}),Q.id.startsWith("mixed_stew")||k(lt=>lt.includes(Q.id)?lt:[...lt,Q.id]),Vt({active:!1,startTime:0,duration:0,ingredients:[],result:null}),Me("total_cook",1)},[yt,Me]),Oe=G.useCallback(O=>{if(!W[O]||W[O].count<=0)return;const rt=W[O],Q=rt.effect;Q.type==="instant_growth"?r(lt=>{const K=[...lt];let it=Q.value;const ht=K.map((_t,Gt)=>({p:_t,i:Gt})).filter(({p:_t})=>_t&&_t.stage==="baby");for(let _t=ht.length-1;_t>0;_t--){const Gt=Math.floor(Math.random()*(_t+1));[ht[_t],ht[Gt]]=[ht[Gt],ht[_t]]}return ht.slice(0,it).forEach(({i:_t})=>{K[_t]={...K[_t],stage:"adult",growthProgress:K[_t].growthDuration}}),K}):Q.type==="fill_empty_slots"?r(lt=>{const K=[...lt];let it=!1;for(let ht=0;ht<Dh;ht++)if(!K[ht]){const _t=Te(E),Gt=Math.max(6e4-p*3e3,5e3);K[ht]={..._t,id:Date.now()+Math.random()+ht,stage:"baby",plantedAt:Date.now(),growthProgress:0,growthDuration:Gt},it=!0}return it?K:lt}):J(lt=>[...lt.filter(K=>K.type!==Q.type||K.target!==Q.target),{type:Q.type,target:Q.target,value:Q.value,endTime:Date.now()+Q.duration,name:rt.name}]),st(lt=>{const K={...lt};return K[O]={...K[O]},K[O].count-=1,K[O].count<=0&&delete K[O],K})},[W]),qa=G.useCallback((O,rt=1)=>{const Q=W[O];!Q||Q.count<rt||(st(lt=>{const K={...lt};return K[O]={...K[O]},K[O].count-=rt,K[O].count<=0&&delete K[O],K}),t(lt=>{const K=U.find(_t=>_t.type==="gold"),it=K?1+K.value:1,ht=Math.floor(Q.value*rt*it);return Me("total_gold",ht),lt+ht}))},[W,U,Me]),Ws=G.useCallback(()=>{window.confirm(" ?   .")&&(localStorage.clear(),window.location.reload())},[]),Ga=G.useCallback(()=>{t(1e5);const O=Ls.mushrooms,rt={};O.forEach(Q=>{rt[Q.emoji]={...Q,count:99}}),u(rt),alert("God Mode Activated! ")},[]),[hi,_s]=G.useState({}),Ue=G.useCallback(O=>{_s(rt=>{const Q={...rt};return Q[O]?(delete Q[O],t(lt=>lt+50),Q):rt})},[]),[un,fi]=G.useState(()=>{const O=localStorage.getItem("plant_game_pets");return O?JSON.parse(O):{dog:!1}});G.useEffect(()=>{localStorage.setItem("plant_game_pets",JSON.stringify(un))},[un]);const Zn=G.useCallback((O,rt)=>i>=rt&&!un[O]?(t(Q=>Q-rt),fi(Q=>({...Q,[O]:!0})),!0):!1,[i,un]);G.useEffect(()=>{if(!un.dog)return;const O=setInterval(()=>{r(rt=>{const Q=rt.map((ht,_t)=>ht&&ht.stage==="adult"?_t:-1).filter(ht=>ht!==-1);if(Q.length===0)return rt;const lt=Q[Math.floor(Math.random()*Q.length)],K=rt[lt];u(ht=>{const _t={...ht};return _t[K.emoji]?_t[K.emoji]={..._t[K.emoji]}:_t[K.emoji]={...K,count:0},_t[K.emoji].count+=1,_t}),m(ht=>{const _t={...ht};return _t[K.emoji]?_t[K.emoji]={..._t[K.emoji]}:_t[K.emoji]={discovered:!0,count:0,firstDiscoveredAt:new Date().toISOString()},_t[K.emoji].count+=1,_t}),et(ht=>({...ht,total_harvest:(ht.total_harvest||0)+1}));const it=[...rt];return it[lt]=null,it})},5e3);return()=>clearInterval(O)},[un.dog]);const[ti,Ka]=G.useState(()=>{const O=localStorage.getItem("plant_game_dailyReward");return O?JSON.parse(O):{streak:0,lastClaimed:null}});G.useEffect(()=>{localStorage.setItem("plant_game_dailyReward",JSON.stringify(ti))},[ti]);const di=G.useCallback(()=>{const O=Date.now(),rt=ti.lastClaimed?new Date(ti.lastClaimed).getTime():0,Q=new Date(rt),lt=new Date(O);if(Q.getFullYear()===lt.getFullYear()&&Q.getMonth()===lt.getMonth()&&Q.getDate()===lt.getDate()&&ti.lastClaimed!==null)return{success:!1,message:"   ."};let it=ti.streak+1;ti.lastClaimed&&O-rt>2880*60*1e3&&(it=1),it>7&&(it=1);const _t=[{day:1,type:"gold",value:500},{day:2,type:"gold",value:1e3},{day:3,type:"consumable",id:"growthPotion",count:1},{day:4,type:"gold",value:2e3},{day:5,type:"consumable",id:"seedBomb",count:1},{day:6,type:"consumable",id:"growthPotion",count:2},{day:7,type:"mixed",gold:5e3,items:[{id:"seedBomb",count:3}]}][it-1];return _t.type==="gold"?t(Gt=>Gt+_t.value):_t.type==="consumable"?re(Gt=>({...Gt,[_t.id]:(Gt[_t.id]||0)+_t.count})):_t.type==="mixed"&&(t(Gt=>Gt+_t.gold),re(Gt=>{const Re={...Gt};return _t.items.forEach(ee=>{Re[ee.id]=(Re[ee.id]||0)+ee.count}),Re})),Ka({streak:it,lastClaimed:new Date().toISOString()}),{success:!0,streak:it,reward:_t}},[ti]);return{user:tt,handleLogin:we,handleLogout:me,handleSaveGame:ie,handleLoadGame:gn,isSaving:vt,lastSaved:Pt,dailyReward:ti,claimDailyReward:di,gold:i,plants:e,inventory:o,collection:c,upgradeLevel:p,unlocks:v,rarityLevel:E,fertilizerLevel:z,consumables:Ht,foodState:L,pityCounter:N,harvest:Ve,sell:ci,sellAll:Xr,buyUpgrade:bt,buyUnlock:Ut,buyRarityUpgrade:xn,buyFertilizerUpgrade:Pn,buyConsumable:se,useConsumable:zn,harvestAll:Fa,activateFood:Ha,cancelFood:Jn,cookedItems:W,activeBuffs:U,useCookedItem:Oe,cookingState:yt,discoveredRecipes:Ct,startCooking:sn,claimDish:Bn,sellCookedItem:qa,resetGame:Ws,activateGodMode:Ga,stats:ot,achievements:gt,claimAchievement:Qi,activeQuests:ft,questTimer:w,refreshQuests:vs,rerollQuest:Ni,completeQuest:xe,buyLuckyBox:Ba,pests:hi,removePest:Ue,pets:un,buyPet:Zn}}const $g=G.createContext({});function Jg(i){const t=G.useRef(null);return t.current===null&&(t.current=i()),t.current}const Zg=typeof window<"u",dA=Zg?G.useLayoutEffect:G.useEffect,Lf=G.createContext(null);function ty(i,t){i.indexOf(t)===-1&&i.push(t)}function ey(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}const Ys=(i,t,e)=>e>t?t:e<i?i:e;let ny=()=>{};const Qs={},mA=i=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(i);function pA(i){return typeof i=="object"&&i!==null}const gA=i=>/^0[^.\s]+$/u.test(i);function iy(i){let t;return()=>(t===void 0&&(t=i()),t)}const Mi=i=>i,JO=(i,t)=>e=>t(i(e)),ec=(...i)=>i.reduce(JO),Uu=(i,t,e)=>{const r=t-i;return r===0?1:(e-i)/r};class sy{constructor(){this.subscriptions=[]}add(t){return ty(this.subscriptions,t),()=>ey(this.subscriptions,t)}notify(t,e,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,e,r);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(t,e,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ds=i=>i*1e3,Di=i=>i/1e3;function yA(i,t){return t?i*(1e3/t):0}const vA=(i,t,e)=>(((1-3*e+3*t)*i+(3*e-6*t))*i+3*t)*i,ZO=1e-7,tN=12;function eN(i,t,e,r,o){let u,c,m=0;do c=t+(e-t)/2,u=vA(c,r,o)-i,u>0?e=c:t=c;while(Math.abs(u)>ZO&&++m<tN);return c}function nc(i,t,e,r){if(i===t&&e===r)return Mi;const o=u=>eN(u,0,1,i,e);return u=>u===0||u===1?u:vA(o(u),t,r)}const _A=i=>t=>t<=.5?i(2*t)/2:(2-i(2*(1-t)))/2,TA=i=>t=>1-i(1-t),bA=nc(.33,1.53,.69,.99),ry=TA(bA),EA=_A(ry),SA=i=>(i*=2)<1?.5*ry(i):.5*(2-Math.pow(2,-10*(i-1))),ay=i=>1-Math.sin(Math.acos(i)),AA=TA(ay),wA=_A(ay),nN=nc(.42,0,1,1),iN=nc(0,0,.58,1),xA=nc(.42,0,.58,1),sN=i=>Array.isArray(i)&&typeof i[0]!="number",RA=i=>Array.isArray(i)&&typeof i[0]=="number",rN={linear:Mi,easeIn:nN,easeInOut:xA,easeOut:iN,circIn:ay,circInOut:wA,circOut:AA,backIn:ry,backInOut:EA,backOut:bA,anticipate:SA},aN=i=>typeof i=="string",O1=i=>{if(RA(i)){ny(i.length===4);const[t,e,r,o]=i;return nc(t,e,r,o)}else if(aN(i))return rN[i];return i},Mh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function oN(i,t){let e=new Set,r=new Set,o=!1,u=!1;const c=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function p(v){c.has(v)&&(g.schedule(v),i()),v(m)}const g={schedule:(v,b=!1,E=!1)=>{const L=E&&o?e:r;return b&&c.add(v),L.has(v)||L.add(v),v},cancel:v=>{r.delete(v),c.delete(v)},process:v=>{if(m=v,o){u=!0;return}o=!0,[e,r]=[r,e],e.forEach(p),e.clear(),o=!1,u&&(u=!1,g.process(v))}};return g}const lN=40;function CA(i,t){let e=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>e=!0,c=Mh.reduce((et,gt)=>(et[gt]=oN(u),et),{}),{setup:m,read:p,resolveKeyframes:g,preUpdate:v,update:b,preRender:E,render:I,postRender:L}=c,P=()=>{const et=Qs.useManualTiming?o.timestamp:performance.now();e=!1,Qs.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(et-o.timestamp,lN),1)),o.timestamp=et,o.isProcessing=!0,m.process(o),p.process(o),g.process(o),v.process(o),b.process(o),E.process(o),I.process(o),L.process(o),o.isProcessing=!1,e&&t&&(r=!1,i(P))},U=()=>{e=!0,r=!0,o.isProcessing||i(P)};return{schedule:Mh.reduce((et,gt)=>{const dt=c[gt];return et[gt]=(ft,R=!1,w=!1)=>(e||U(),dt.schedule(ft,R,w)),et},{}),cancel:et=>{for(let gt=0;gt<Mh.length;gt++)c[Mh[gt]].cancel(et)},state:o,steps:c}}const{schedule:De,cancel:Kr,state:En,steps:Zm}=CA(typeof requestAnimationFrame<"u"?requestAnimationFrame:Mi,!0);let Kh;function uN(){Kh=void 0}const Wn={now:()=>(Kh===void 0&&Wn.set(En.isProcessing||Qs.useManualTiming?En.timestamp:performance.now()),Kh),set:i=>{Kh=i,queueMicrotask(uN)}},IA=i=>t=>typeof t=="string"&&t.startsWith(i),oy=IA("--"),cN=IA("var(--"),ly=i=>cN(i)?hN.test(i.split("/*")[0].trim()):!1,hN=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,fl={test:i=>typeof i=="number",parse:parseFloat,transform:i=>i},zu={...fl,transform:i=>Ys(0,1,i)},Vh={...fl,default:1},Au=i=>Math.round(i*1e5)/1e5,uy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function fN(i){return i==null}const dN=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,cy=(i,t)=>e=>!!(typeof e=="string"&&dN.test(e)&&e.startsWith(i)||t&&!fN(e)&&Object.prototype.hasOwnProperty.call(e,t)),DA=(i,t,e)=>r=>{if(typeof r!="string")return r;const[o,u,c,m]=r.match(uy);return{[i]:parseFloat(o),[t]:parseFloat(u),[e]:parseFloat(c),alpha:m!==void 0?parseFloat(m):1}},mN=i=>Ys(0,255,i),tp={...fl,transform:i=>Math.round(mN(i))},xa={test:cy("rgb","red"),parse:DA("red","green","blue"),transform:({red:i,green:t,blue:e,alpha:r=1})=>"rgba("+tp.transform(i)+", "+tp.transform(t)+", "+tp.transform(e)+", "+Au(zu.transform(r))+")"};function pN(i){let t="",e="",r="",o="";return i.length>5?(t=i.substring(1,3),e=i.substring(3,5),r=i.substring(5,7),o=i.substring(7,9)):(t=i.substring(1,2),e=i.substring(2,3),r=i.substring(3,4),o=i.substring(4,5),t+=t,e+=e,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Lp={test:cy("#"),parse:pN,transform:xa.transform},ic=i=>({test:t=>typeof t=="string"&&t.endsWith(i)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${i}`}),Dr=ic("deg"),ms=ic("%"),Ot=ic("px"),gN=ic("vh"),yN=ic("vw"),N1={...ms,parse:i=>ms.parse(i)/100,transform:i=>ms.transform(i*100)},Uo={test:cy("hsl","hue"),parse:DA("hue","saturation","lightness"),transform:({hue:i,saturation:t,lightness:e,alpha:r=1})=>"hsla("+Math.round(i)+", "+ms.transform(Au(t))+", "+ms.transform(Au(e))+", "+Au(zu.transform(r))+")"},en={test:i=>xa.test(i)||Lp.test(i)||Uo.test(i),parse:i=>xa.test(i)?xa.parse(i):Uo.test(i)?Uo.parse(i):Lp.parse(i),transform:i=>typeof i=="string"?i:i.hasOwnProperty("red")?xa.transform(i):Uo.transform(i),getAnimatableNone:i=>{const t=en.parse(i);return t.alpha=0,en.transform(t)}},vN=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function _N(i){return isNaN(i)&&typeof i=="string"&&(i.match(uy)?.length||0)+(i.match(vN)?.length||0)>0}const MA="number",VA="color",TN="var",bN="var(",P1="${}",EN=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Bu(i){const t=i.toString(),e=[],r={color:[],number:[],var:[]},o=[];let u=0;const m=t.replace(EN,p=>(en.test(p)?(r.color.push(u),o.push(VA),e.push(en.parse(p))):p.startsWith(bN)?(r.var.push(u),o.push(TN),e.push(p)):(r.number.push(u),o.push(MA),e.push(parseFloat(p))),++u,P1)).split(P1);return{values:e,split:m,indexes:r,types:o}}function OA(i){return Bu(i).values}function NA(i){const{split:t,types:e}=Bu(i),r=t.length;return o=>{let u="";for(let c=0;c<r;c++)if(u+=t[c],o[c]!==void 0){const m=e[c];m===MA?u+=Au(o[c]):m===VA?u+=en.transform(o[c]):u+=o[c]}return u}}const SN=i=>typeof i=="number"?0:en.test(i)?en.getAnimatableNone(i):i;function AN(i){const t=OA(i);return NA(i)(t.map(SN))}const Yr={test:_N,parse:OA,createTransformer:NA,getAnimatableNone:AN};function ep(i,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?i+(t-i)*6*e:e<1/2?t:e<2/3?i+(t-i)*(2/3-e)*6:i}function wN({hue:i,saturation:t,lightness:e,alpha:r}){i/=360,t/=100,e/=100;let o=0,u=0,c=0;if(!t)o=u=c=e;else{const m=e<.5?e*(1+t):e+t-e*t,p=2*e-m;o=ep(p,m,i+1/3),u=ep(p,m,i),c=ep(p,m,i-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:r}}function yf(i,t){return e=>e>0?t:i}const je=(i,t,e)=>i+(t-i)*e,np=(i,t,e)=>{const r=i*i,o=e*(t*t-r)+r;return o<0?0:Math.sqrt(o)},xN=[Lp,xa,Uo],RN=i=>xN.find(t=>t.test(i));function k1(i){const t=RN(i);if(!t)return!1;let e=t.parse(i);return t===Uo&&(e=wN(e)),e}const j1=(i,t)=>{const e=k1(i),r=k1(t);if(!e||!r)return yf(i,t);const o={...e};return u=>(o.red=np(e.red,r.red,u),o.green=np(e.green,r.green,u),o.blue=np(e.blue,r.blue,u),o.alpha=je(e.alpha,r.alpha,u),xa.transform(o))},Up=new Set(["none","hidden"]);function CN(i,t){return Up.has(i)?e=>e<=0?i:t:e=>e>=1?t:i}function IN(i,t){return e=>je(i,t,e)}function hy(i){return typeof i=="number"?IN:typeof i=="string"?ly(i)?yf:en.test(i)?j1:VN:Array.isArray(i)?PA:typeof i=="object"?en.test(i)?j1:DN:yf}function PA(i,t){const e=[...i],r=e.length,o=i.map((u,c)=>hy(u)(u,t[c]));return u=>{for(let c=0;c<r;c++)e[c]=o[c](u);return e}}function DN(i,t){const e={...i,...t},r={};for(const o in e)i[o]!==void 0&&t[o]!==void 0&&(r[o]=hy(i[o])(i[o],t[o]));return o=>{for(const u in r)e[u]=r[u](o);return e}}function MN(i,t){const e=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],c=i.indexes[u][r[u]],m=i.values[c]??0;e[o]=m,r[u]++}return e}const VN=(i,t)=>{const e=Yr.createTransformer(t),r=Bu(i),o=Bu(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Up.has(i)&&!o.values.length||Up.has(t)&&!r.values.length?CN(i,t):ec(PA(MN(r,o),o.values),e):yf(i,t)};function kA(i,t,e){return typeof i=="number"&&typeof t=="number"&&typeof e=="number"?je(i,t,e):hy(i)(i,t)}const ON=i=>{const t=({timestamp:e})=>i(e);return{start:(e=!0)=>De.update(t,e),stop:()=>Kr(t),now:()=>En.isProcessing?En.timestamp:Wn.now()}},jA=(i,t,e=10)=>{let r="";const o=Math.max(Math.round(t/e),2);for(let u=0;u<o;u++)r+=Math.round(i(u/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},vf=2e4;function fy(i){let t=0;const e=50;let r=i.next(t);for(;!r.done&&t<vf;)t+=e,r=i.next(t);return t>=vf?1/0:t}function NN(i,t=100,e){const r=e({...i,keyframes:[0,t]}),o=Math.min(fy(r),vf);return{type:"keyframes",ease:u=>r.next(o*u).value/t,duration:Di(o)}}const PN=5;function LA(i,t,e){const r=Math.max(t-PN,0);return yA(e-i(r),t-r)}const He={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ip=.001;function kN({duration:i=He.duration,bounce:t=He.bounce,velocity:e=He.velocity,mass:r=He.mass}){let o,u,c=1-t;c=Ys(He.minDamping,He.maxDamping,c),i=Ys(He.minDuration,He.maxDuration,Di(i)),c<1?(o=g=>{const v=g*c,b=v*i,E=v-e,I=zp(g,c),L=Math.exp(-b);return ip-E/I*L},u=g=>{const b=g*c*i,E=b*e+e,I=Math.pow(c,2)*Math.pow(g,2)*i,L=Math.exp(-b),P=zp(Math.pow(g,2),c);return(-o(g)+ip>0?-1:1)*((E-I)*L)/P}):(o=g=>{const v=Math.exp(-g*i),b=(g-e)*i+1;return-ip+v*b},u=g=>{const v=Math.exp(-g*i),b=(e-g)*(i*i);return v*b});const m=5/i,p=LN(o,u,m);if(i=ds(i),isNaN(p))return{stiffness:He.stiffness,damping:He.damping,duration:i};{const g=Math.pow(p,2)*r;return{stiffness:g,damping:c*2*Math.sqrt(r*g),duration:i}}}const jN=12;function LN(i,t,e){let r=e;for(let o=1;o<jN;o++)r=r-i(r)/t(r);return r}function zp(i,t){return i*Math.sqrt(1-t*t)}const UN=["duration","bounce"],zN=["stiffness","damping","mass"];function L1(i,t){return t.some(e=>i[e]!==void 0)}function BN(i){let t={velocity:He.velocity,stiffness:He.stiffness,damping:He.damping,mass:He.mass,isResolvedFromDuration:!1,...i};if(!L1(i,zN)&&L1(i,UN))if(i.visualDuration){const e=i.visualDuration,r=2*Math.PI/(e*1.2),o=r*r,u=2*Ys(.05,1,1-(i.bounce||0))*Math.sqrt(o);t={...t,mass:He.mass,stiffness:o,damping:u}}else{const e=kN(i);t={...t,...e,mass:He.mass},t.isResolvedFromDuration=!0}return t}function _f(i=He.visualDuration,t=He.bounce){const e=typeof i!="object"?{visualDuration:i,keyframes:[0,1],bounce:t}:i;let{restSpeed:r,restDelta:o}=e;const u=e.keyframes[0],c=e.keyframes[e.keyframes.length-1],m={done:!1,value:u},{stiffness:p,damping:g,mass:v,duration:b,velocity:E,isResolvedFromDuration:I}=BN({...e,velocity:-Di(e.velocity||0)}),L=E||0,P=g/(2*Math.sqrt(p*v)),U=c-u,J=Di(Math.sqrt(p/v)),ot=Math.abs(U)<5;r||(r=ot?He.restSpeed.granular:He.restSpeed.default),o||(o=ot?He.restDelta.granular:He.restDelta.default);let et;if(P<1){const dt=zp(J,P);et=ft=>{const R=Math.exp(-P*J*ft);return c-R*((L+P*J*U)/dt*Math.sin(dt*ft)+U*Math.cos(dt*ft))}}else if(P===1)et=dt=>c-Math.exp(-J*dt)*(U+(L+J*U)*dt);else{const dt=J*Math.sqrt(P*P-1);et=ft=>{const R=Math.exp(-P*J*ft),w=Math.min(dt*ft,300);return c-R*((L+P*J*U)*Math.sinh(w)+dt*U*Math.cosh(w))/dt}}const gt={calculatedDuration:I&&b||null,next:dt=>{const ft=et(dt);if(I)m.done=dt>=b;else{let R=dt===0?L:0;P<1&&(R=dt===0?ds(L):LA(et,dt,ft));const w=Math.abs(R)<=r,C=Math.abs(c-ft)<=o;m.done=w&&C}return m.value=m.done?c:ft,m},toString:()=>{const dt=Math.min(fy(gt),vf),ft=jA(R=>gt.next(dt*R).value,dt,30);return dt+"ms "+ft},toTransition:()=>{}};return gt}_f.applyToOptions=i=>{const t=NN(i,100,_f);return i.ease=t.ease,i.duration=ds(t.duration),i.type="keyframes",i};function Bp({keyframes:i,velocity:t=0,power:e=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:m,max:p,restDelta:g=.5,restSpeed:v}){const b=i[0],E={done:!1,value:b},I=w=>m!==void 0&&w<m||p!==void 0&&w>p,L=w=>m===void 0?p:p===void 0||Math.abs(m-w)<Math.abs(p-w)?m:p;let P=e*t;const U=b+P,J=c===void 0?U:c(U);J!==U&&(P=J-b);const ot=w=>-P*Math.exp(-w/r),et=w=>J+ot(w),gt=w=>{const C=ot(w),N=et(w);E.done=Math.abs(C)<=g,E.value=E.done?J:N};let dt,ft;const R=w=>{I(E.value)&&(dt=w,ft=_f({keyframes:[E.value,L(E.value)],velocity:LA(et,w,E.value),damping:o,stiffness:u,restDelta:g,restSpeed:v}))};return R(0),{calculatedDuration:null,next:w=>{let C=!1;return!ft&&dt===void 0&&(C=!0,gt(w),R(w)),dt!==void 0&&w>=dt?ft.next(w-dt):(!C&&gt(w),E)}}}function FN(i,t,e){const r=[],o=e||Qs.mix||kA,u=i.length-1;for(let c=0;c<u;c++){let m=o(i[c],i[c+1]);if(t){const p=Array.isArray(t)?t[c]||Mi:t;m=ec(p,m)}r.push(m)}return r}function HN(i,t,{clamp:e=!0,ease:r,mixer:o}={}){const u=i.length;if(ny(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=i[0]===i[1];i[0]>i[u-1]&&(i=[...i].reverse(),t=[...t].reverse());const m=FN(t,r,o),p=m.length,g=v=>{if(c&&v<i[0])return t[0];let b=0;if(p>1)for(;b<i.length-2&&!(v<i[b+1]);b++);const E=Uu(i[b],i[b+1],v);return m[b](E)};return e?v=>g(Ys(i[0],i[u-1],v)):g}function qN(i,t){const e=i[i.length-1];for(let r=1;r<=t;r++){const o=Uu(0,t,r);i.push(je(e,1,o))}}function GN(i){const t=[0];return qN(t,i.length-1),t}function KN(i,t){return i.map(e=>e*t)}function YN(i,t){return i.map(()=>t||xA).splice(0,i.length-1)}function wu({duration:i=300,keyframes:t,times:e,ease:r="easeInOut"}){const o=sN(r)?r.map(O1):O1(r),u={done:!1,value:t[0]},c=KN(e&&e.length===t.length?e:GN(t),i),m=HN(c,t,{ease:Array.isArray(o)?o:YN(t,o)});return{calculatedDuration:i,next:p=>(u.value=m(p),u.done=p>=i,u)}}const QN=i=>i!==null;function dy(i,{repeat:t,repeatType:e="loop"},r,o=1){const u=i.filter(QN),m=o<0||t&&e!=="loop"&&t%2===1?0:u.length-1;return!m||r===void 0?u[m]:r}const XN={decay:Bp,inertia:Bp,tween:wu,keyframes:wu,spring:_f};function UA(i){typeof i.type=="string"&&(i.type=XN[i.type])}class my{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const WN=i=>i/100;class py extends my{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==Wn.now()&&this.tick(Wn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;UA(t);const{type:e=wu,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=t;let{keyframes:m}=t;const p=e||wu;p!==wu&&typeof m[0]!="number"&&(this.mixKeyframes=ec(WN,kA(m[0],m[1])),m=[0,100]);const g=p({...t,keyframes:m});u==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...m].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=fy(g));const{calculatedDuration:v}=g;this.calculatedDuration=v,this.resolvedDuration=v+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=g}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:m,calculatedDuration:p}=this;if(this.startTime===null)return r.next(0);const{delay:g=0,keyframes:v,repeat:b,repeatType:E,repeatDelay:I,type:L,onUpdate:P,finalKeyframe:U}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const J=this.currentTime-g*(this.playbackSpeed>=0?1:-1),ot=this.playbackSpeed>=0?J<0:J>o;this.currentTime=Math.max(J,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let et=this.currentTime,gt=r;if(b){const w=Math.min(this.currentTime,o)/m;let C=Math.floor(w),N=w%1;!N&&w>=1&&(N=1),N===1&&C--,C=Math.min(C,b+1),!!(C%2)&&(E==="reverse"?(N=1-N,I&&(N-=I/m)):E==="mirror"&&(gt=c)),et=Ys(0,1,N)*m}const dt=ot?{done:!1,value:v[0]}:gt.next(et);u&&(dt.value=u(dt.value));let{done:ft}=dt;!ot&&p!==null&&(ft=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ft);return R&&L!==Bp&&(dt.value=dy(v,this.options,U,this.speed)),P&&P(dt.value),R&&this.finish(),dt}then(t,e){return this.finished.then(t,e)}get duration(){return Di(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Di(t)}get time(){return Di(this.currentTime)}set time(t){t=ds(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Wn.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=Di(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=ON,startTime:e}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=e??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Wn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function $N(i){for(let t=1;t<i.length;t++)i[t]??(i[t]=i[t-1])}const Ra=i=>i*180/Math.PI,Fp=i=>{const t=Ra(Math.atan2(i[1],i[0]));return Hp(t)},JN={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:i=>(Math.abs(i[0])+Math.abs(i[3]))/2,rotate:Fp,rotateZ:Fp,skewX:i=>Ra(Math.atan(i[1])),skewY:i=>Ra(Math.atan(i[2])),skew:i=>(Math.abs(i[1])+Math.abs(i[2]))/2},Hp=i=>(i=i%360,i<0&&(i+=360),i),U1=Fp,z1=i=>Math.sqrt(i[0]*i[0]+i[1]*i[1]),B1=i=>Math.sqrt(i[4]*i[4]+i[5]*i[5]),ZN={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:z1,scaleY:B1,scale:i=>(z1(i)+B1(i))/2,rotateX:i=>Hp(Ra(Math.atan2(i[6],i[5]))),rotateY:i=>Hp(Ra(Math.atan2(-i[2],i[0]))),rotateZ:U1,rotate:U1,skewX:i=>Ra(Math.atan(i[4])),skewY:i=>Ra(Math.atan(i[1])),skew:i=>(Math.abs(i[1])+Math.abs(i[4]))/2};function qp(i){return i.includes("scale")?1:0}function Gp(i,t){if(!i||i==="none")return qp(t);const e=i.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(e)r=ZN,o=e;else{const m=i.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=JN,o=m}if(!o)return qp(t);const u=r[t],c=o[1].split(",").map(e3);return typeof u=="function"?u(c):c[u]}const t3=(i,t)=>{const{transform:e="none"}=getComputedStyle(i);return Gp(e,t)};function e3(i){return parseFloat(i.trim())}const dl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ml=new Set(dl),F1=i=>i===fl||i===Ot,n3=new Set(["x","y","z"]),i3=dl.filter(i=>!n3.has(i));function s3(i){const t=[];return i3.forEach(e=>{const r=i.getValue(e);r!==void 0&&(t.push([e,r.get()]),r.set(e.startsWith("scale")?1:0))}),t}const Da={width:({x:i},{paddingLeft:t="0",paddingRight:e="0"})=>i.max-i.min-parseFloat(t)-parseFloat(e),height:({y:i},{paddingTop:t="0",paddingBottom:e="0"})=>i.max-i.min-parseFloat(t)-parseFloat(e),top:(i,{top:t})=>parseFloat(t),left:(i,{left:t})=>parseFloat(t),bottom:({y:i},{top:t})=>parseFloat(t)+(i.max-i.min),right:({x:i},{left:t})=>parseFloat(t)+(i.max-i.min),x:(i,{transform:t})=>Gp(t,"x"),y:(i,{transform:t})=>Gp(t,"y")};Da.translateX=Da.x;Da.translateY=Da.y;const Ma=new Set;let Kp=!1,Yp=!1,Qp=!1;function zA(){if(Yp){const i=Array.from(Ma).filter(r=>r.needsMeasurement),t=new Set(i.map(r=>r.element)),e=new Map;t.forEach(r=>{const o=s3(r);o.length&&(e.set(r,o),r.render())}),i.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=e.get(r);o&&o.forEach(([u,c])=>{r.getValue(u)?.set(c)})}),i.forEach(r=>r.measureEndState()),i.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Yp=!1,Kp=!1,Ma.forEach(i=>i.complete(Qp)),Ma.clear()}function BA(){Ma.forEach(i=>{i.readKeyframes(),i.needsMeasurement&&(Yp=!0)})}function r3(){Qp=!0,BA(),zA(),Qp=!1}class gy{constructor(t,e,r,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=r,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Ma.add(this),Kp||(Kp=!0,De.read(BA),De.resolveKeyframes(zA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:r,motionValue:o}=this;if(t[0]===null){const u=o?.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(r&&e){const m=r.readValue(e,c);m!=null&&(t[0]=m)}t[0]===void 0&&(t[0]=c),o&&u===void 0&&o.set(t[0])}$N(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ma.delete(this)}cancel(){this.state==="scheduled"&&(Ma.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const a3=i=>i.startsWith("--");function o3(i,t,e){a3(t)?i.style.setProperty(t,e):i.style[t]=e}const l3=iy(()=>window.ScrollTimeline!==void 0),u3={};function c3(i,t){const e=iy(i);return()=>u3[t]??e()}const FA=c3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),gu=([i,t,e,r])=>`cubic-bezier(${i}, ${t}, ${e}, ${r})`,H1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:gu([0,.65,.55,1]),circOut:gu([.55,0,1,.45]),backIn:gu([.31,.01,.66,-.59]),backOut:gu([.33,1.53,.69,.99])};function HA(i,t){if(i)return typeof i=="function"?FA()?jA(i,t):"ease-out":RA(i)?gu(i):Array.isArray(i)?i.map(e=>HA(e,t)||H1.easeOut):H1[i]}function h3(i,t,e,{delay:r=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:m="easeOut",times:p}={},g=void 0){const v={[t]:e};p&&(v.offset=p);const b=HA(m,o);Array.isArray(b)&&(v.easing=b);const E={delay:r,duration:o,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return g&&(E.pseudoElement=g),i.animate(v,E)}function qA(i){return typeof i=="function"&&"applyToOptions"in i}function f3({type:i,...t}){return qA(i)&&FA()?i.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class d3 extends my{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:e,name:r,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:m,onComplete:p}=t;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=t,ny(typeof t.type!="string");const g=f3(t);this.animation=h3(e,r,o,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const v=dy(o,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(v):o3(e,r,v),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Di(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Di(t)}get time(){return Di(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=ds(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&l3()?(this.animation.timeline=t,Mi):e(this)}}const GA={anticipate:SA,backInOut:EA,circInOut:wA};function m3(i){return i in GA}function p3(i){typeof i.ease=="string"&&m3(i.ease)&&(i.ease=GA[i.ease])}const q1=10;class g3 extends d3{constructor(t){p3(t),UA(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:r,onComplete:o,element:u,...c}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const m=new py({...c,autoplay:!1}),p=ds(this.finishedTime??this.time);e.setWithVelocity(m.sample(p-q1).value,m.sample(p).value,q1),m.stop()}}const G1=(i,t)=>t==="zIndex"?!1:!!(typeof i=="number"||Array.isArray(i)||typeof i=="string"&&(Yr.test(i)||i==="0")&&!i.startsWith("url("));function y3(i){const t=i[0];if(i.length===1)return!0;for(let e=0;e<i.length;e++)if(i[e]!==t)return!0}function v3(i,t,e,r){const o=i[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=i[i.length-1],c=G1(o,t),m=G1(u,t);return!c||!m?!1:y3(i)||(e==="spring"||qA(e))&&r}function Xp(i){i.duration=0,i.type="keyframes"}const _3=new Set(["opacity","clipPath","filter","transform"]),T3=iy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function b3(i){const{motionValue:t,name:e,repeatDelay:r,repeatType:o,damping:u,type:c}=i;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=t.owner.getProps();return T3()&&e&&_3.has(e)&&(e!=="transform"||!g)&&!p&&!r&&o!=="mirror"&&u!==0&&c!=="inertia"}const E3=40;class S3 extends my{constructor({autoplay:t=!0,delay:e=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:m,name:p,motionValue:g,element:v,...b}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Wn.now();const E={autoplay:t,delay:e,type:r,repeat:o,repeatDelay:u,repeatType:c,name:p,motionValue:g,element:v,...b},I=v?.KeyframeResolver||gy;this.keyframeResolver=new I(m,(L,P,U)=>this.onKeyframesResolved(L,P,E,!U),p,g,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,r,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:m,delay:p,isHandoff:g,onUpdate:v}=r;this.resolvedAt=Wn.now(),v3(t,u,c,m)||((Qs.instantAnimations||!p)&&v?.(dy(t,r,e)),t[0]=t[t.length-1],Xp(r),r.repeat=0);const E={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>E3?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...r,keyframes:t},I=!g&&b3(E)?new g3({...E,element:E.motionValue.owner.current}):new py(E);I.finished.then(()=>this.notifyFinished()).catch(Mi),this.pendingTimeline&&(this.stopTimeline=I.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=I}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),r3()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const A3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function w3(i){const t=A3.exec(i);if(!t)return[,];const[,e,r,o]=t;return[`--${e??r}`,o]}function KA(i,t,e=1){const[r,o]=w3(i);if(!r)return;const u=window.getComputedStyle(t).getPropertyValue(r);if(u){const c=u.trim();return mA(c)?parseFloat(c):c}return ly(o)?KA(o,t,e+1):o}function yy(i,t){return i?.[t]??i?.default??i}const YA=new Set(["width","height","top","left","right","bottom",...dl]),x3={test:i=>i==="auto",parse:i=>i},QA=i=>t=>t.test(i),XA=[fl,Ot,ms,Dr,yN,gN,x3],K1=i=>XA.find(QA(i));function R3(i){return typeof i=="number"?i===0:i!==null?i==="none"||i==="0"||gA(i):!0}const C3=new Set(["brightness","contrast","saturate","opacity"]);function I3(i){const[t,e]=i.slice(0,-1).split("(");if(t==="drop-shadow")return i;const[r]=e.match(uy)||[];if(!r)return i;const o=e.replace(r,"");let u=C3.has(t)?1:0;return r!==e&&(u*=100),t+"("+u+o+")"}const D3=/\b([a-z-]*)\(.*?\)/gu,Wp={...Yr,getAnimatableNone:i=>{const t=i.match(D3);return t?t.map(I3).join(" "):i}},Y1={...fl,transform:Math.round},M3={rotate:Dr,rotateX:Dr,rotateY:Dr,rotateZ:Dr,scale:Vh,scaleX:Vh,scaleY:Vh,scaleZ:Vh,skew:Dr,skewX:Dr,skewY:Dr,distance:Ot,translateX:Ot,translateY:Ot,translateZ:Ot,x:Ot,y:Ot,z:Ot,perspective:Ot,transformPerspective:Ot,opacity:zu,originX:N1,originY:N1,originZ:Ot},vy={borderWidth:Ot,borderTopWidth:Ot,borderRightWidth:Ot,borderBottomWidth:Ot,borderLeftWidth:Ot,borderRadius:Ot,radius:Ot,borderTopLeftRadius:Ot,borderTopRightRadius:Ot,borderBottomRightRadius:Ot,borderBottomLeftRadius:Ot,width:Ot,maxWidth:Ot,height:Ot,maxHeight:Ot,top:Ot,right:Ot,bottom:Ot,left:Ot,padding:Ot,paddingTop:Ot,paddingRight:Ot,paddingBottom:Ot,paddingLeft:Ot,margin:Ot,marginTop:Ot,marginRight:Ot,marginBottom:Ot,marginLeft:Ot,backgroundPositionX:Ot,backgroundPositionY:Ot,...M3,zIndex:Y1,fillOpacity:zu,strokeOpacity:zu,numOctaves:Y1},V3={...vy,color:en,backgroundColor:en,outlineColor:en,fill:en,stroke:en,borderColor:en,borderTopColor:en,borderRightColor:en,borderBottomColor:en,borderLeftColor:en,filter:Wp,WebkitFilter:Wp},WA=i=>V3[i];function $A(i,t){let e=WA(i);return e!==Wp&&(e=Yr),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const O3=new Set(["auto","none","0"]);function N3(i,t,e){let r=0,o;for(;r<i.length&&!o;){const u=i[r];typeof u=="string"&&!O3.has(u)&&Bu(u).values.length&&(o=i[r]),r++}if(o&&e)for(const u of t)i[u]=$A(e,o)}class P3 extends gy{constructor(t,e,r,o,u){super(t,e,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:r}=this;if(!e||!e.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let g=t[p];if(typeof g=="string"&&(g=g.trim(),ly(g))){const v=KA(g,e.current);v!==void 0&&(t[p]=v),p===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!YA.has(r)||t.length!==2)return;const[o,u]=t,c=K1(o),m=K1(u);if(c!==m)if(F1(c)&&F1(m))for(let p=0;p<t.length;p++){const g=t[p];typeof g=="string"&&(t[p]=parseFloat(g))}else Da[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||R3(t[o]))&&r.push(o);r.length&&N3(t,r,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Da[r](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const o=e[e.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(e);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,c=r[u];r[u]=Da[e](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([m,p])=>{t.getValue(m).set(p)}),this.resolveNoneKeyframes()}}function k3(i,t,e){if(i instanceof EventTarget)return[i];if(typeof i=="string"){let r=document;const o=e?.[i]??r.querySelectorAll(i);return o?Array.from(o):[]}return Array.from(i)}const JA=(i,t)=>t&&typeof i=="number"?t.transform(i):i;function ZA(i){return pA(i)&&"offsetHeight"in i}const Q1=30,j3=i=>!isNaN(parseFloat(i));class L3{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const o=Wn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=Wn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=j3(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new sy);const r=this.events[t].add(e);return t==="change"?()=>{r(),De.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,r){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Wn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Q1)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,Q1);return yA(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function il(i,t){return new L3(i,t)}const{schedule:_y}=CA(queueMicrotask,!1),Hi={x:!1,y:!1};function tw(){return Hi.x||Hi.y}function U3(i){return i==="x"||i==="y"?Hi[i]?null:(Hi[i]=!0,()=>{Hi[i]=!1}):Hi.x||Hi.y?null:(Hi.x=Hi.y=!0,()=>{Hi.x=Hi.y=!1})}function ew(i,t){const e=k3(i),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[e,o,()=>r.abort()]}function X1(i){return!(i.pointerType==="touch"||tw())}function z3(i,t,e={}){const[r,o,u]=ew(i,e),c=m=>{if(!X1(m))return;const{target:p}=m,g=t(p,m);if(typeof g!="function"||!p)return;const v=b=>{X1(b)&&(g(b),p.removeEventListener("pointerleave",v))};p.addEventListener("pointerleave",v,o)};return r.forEach(m=>{m.addEventListener("pointerenter",c,o)}),u}const nw=(i,t)=>t?i===t?!0:nw(i,t.parentElement):!1,Ty=i=>i.pointerType==="mouse"?typeof i.button!="number"||i.button<=0:i.isPrimary!==!1,B3=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function F3(i){return B3.has(i.tagName)||i.tabIndex!==-1}const Yh=new WeakSet;function W1(i){return t=>{t.key==="Enter"&&i(t)}}function sp(i,t){i.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const H3=(i,t)=>{const e=i.currentTarget;if(!e)return;const r=W1(()=>{if(Yh.has(e))return;sp(e,"down");const o=W1(()=>{sp(e,"up")}),u=()=>sp(e,"cancel");e.addEventListener("keyup",o,t),e.addEventListener("blur",u,t)});e.addEventListener("keydown",r,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",r),t)};function $1(i){return Ty(i)&&!tw()}function q3(i,t,e={}){const[r,o,u]=ew(i,e),c=m=>{const p=m.currentTarget;if(!$1(m))return;Yh.add(p);const g=t(p,m),v=(I,L)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",E),Yh.has(p)&&Yh.delete(p),$1(I)&&typeof g=="function"&&g(I,{success:L})},b=I=>{v(I,p===window||p===document||e.useGlobalTarget||nw(p,I.target))},E=I=>{v(I,!1)};window.addEventListener("pointerup",b,o),window.addEventListener("pointercancel",E,o)};return r.forEach(m=>{(e.useGlobalTarget?window:m).addEventListener("pointerdown",c,o),ZA(m)&&(m.addEventListener("focus",g=>H3(g,o)),!F3(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),u}function iw(i){return pA(i)&&"ownerSVGElement"in i}function G3(i){return iw(i)&&i.tagName==="svg"}const On=i=>!!(i&&i.getVelocity),K3=[...XA,en,Yr],Y3=i=>K3.find(QA(i)),by=G.createContext({transformPagePoint:i=>i,isStatic:!1,reducedMotion:"never"});function J1(i,t){if(typeof i=="function")return i(t);i!=null&&(i.current=t)}function Q3(...i){return t=>{let e=!1;const r=i.map(o=>{const u=J1(o,t);return!e&&typeof u=="function"&&(e=!0),u});if(e)return()=>{for(let o=0;o<r.length;o++){const u=r[o];typeof u=="function"?u():J1(i[o],null)}}}}function X3(...i){return G.useCallback(Q3(...i),i)}class W3 extends G.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const r=e.offsetParent,o=ZA(r)&&r.offsetWidth||0,u=this.props.sizeRef.current;u.height=e.offsetHeight||0,u.width=e.offsetWidth||0,u.top=e.offsetTop,u.left=e.offsetLeft,u.right=o-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function $3({children:i,isPresent:t,anchorX:e,root:r}){const o=G.useId(),u=G.useRef(null),c=G.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:m}=G.useContext(by),p=X3(u,i?.ref);return G.useInsertionEffect(()=>{const{width:g,height:v,top:b,left:E,right:I}=c.current;if(t||!u.current||!g||!v)return;const L=e==="left"?`left: ${E}`:`right: ${I}`;u.current.dataset.motionPopId=o;const P=document.createElement("style");m&&(P.nonce=m);const U=r??document.head;return U.appendChild(P),P.sheet&&P.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${v}px !important;
            ${L}px !important;
            top: ${b}px !important;
          }
        `),()=>{U.contains(P)&&U.removeChild(P)}},[t]),A.jsx(W3,{isPresent:t,childRef:u,sizeRef:c,children:G.cloneElement(i,{ref:p})})}const J3=({children:i,initial:t,isPresent:e,onExitComplete:r,custom:o,presenceAffectsLayout:u,mode:c,anchorX:m,root:p})=>{const g=Jg(Z3),v=G.useId();let b=!0,E=G.useMemo(()=>(b=!1,{id:v,initial:t,isPresent:e,custom:o,onExitComplete:I=>{g.set(I,!0);for(const L of g.values())if(!L)return;r&&r()},register:I=>(g.set(I,!1),()=>g.delete(I))}),[e,g,r]);return u&&b&&(E={...E}),G.useMemo(()=>{g.forEach((I,L)=>g.set(L,!1))},[e]),G.useEffect(()=>{!e&&!g.size&&r&&r()},[e]),c==="popLayout"&&(i=A.jsx($3,{isPresent:e,anchorX:m,root:p,children:i})),A.jsx(Lf.Provider,{value:E,children:i})};function Z3(){return new Map}function sw(i=!0){const t=G.useContext(Lf);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:r,register:o}=t,u=G.useId();G.useEffect(()=>{if(i)return o(u)},[i]);const c=G.useCallback(()=>i&&r&&r(u),[u,r,i]);return!e&&r?[!1,c]:[!0]}const Oh=i=>i.key||"";function Z1(i){const t=[];return G.Children.forEach(i,e=>{G.isValidElement(e)&&t.push(e)}),t}const Ey=({children:i,custom:t,initial:e=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:u="sync",propagate:c=!1,anchorX:m="left",root:p})=>{const[g,v]=sw(c),b=G.useMemo(()=>Z1(i),[i]),E=c&&!g?[]:b.map(Oh),I=G.useRef(!0),L=G.useRef(b),P=Jg(()=>new Map),[U,J]=G.useState(b),[ot,et]=G.useState(b);dA(()=>{I.current=!1,L.current=b;for(let ft=0;ft<ot.length;ft++){const R=Oh(ot[ft]);E.includes(R)?P.delete(R):P.get(R)!==!0&&P.set(R,!1)}},[ot,E.length,E.join("-")]);const gt=[];if(b!==U){let ft=[...b];for(let R=0;R<ot.length;R++){const w=ot[R],C=Oh(w);E.includes(C)||(ft.splice(R,0,w),gt.push(w))}return u==="wait"&&gt.length&&(ft=gt),et(Z1(ft)),J(b),null}const{forceRender:dt}=G.useContext($g);return A.jsx(A.Fragment,{children:ot.map(ft=>{const R=Oh(ft),w=c&&!g?!1:b===ot||E.includes(R),C=()=>{if(P.has(R))P.set(R,!0);else return;let N=!0;P.forEach(V=>{V||(N=!1)}),N&&(dt?.(),et(L.current),c&&v?.(),r&&r())};return A.jsx(J3,{isPresent:w,initial:!I.current||e?void 0:!1,custom:t,presenceAffectsLayout:o,mode:u,root:p,onExitComplete:w?void 0:C,anchorX:m,children:ft},R)})})},rw=G.createContext({strict:!1}),tb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},sl={};for(const i in tb)sl[i]={isEnabled:t=>tb[i].some(e=>!!t[e])};function tP(i){for(const t in i)sl[t]={...sl[t],...i[t]}}const eP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Tf(i){return i.startsWith("while")||i.startsWith("drag")&&i!=="draggable"||i.startsWith("layout")||i.startsWith("onTap")||i.startsWith("onPan")||i.startsWith("onLayout")||eP.has(i)}let aw=i=>!Tf(i);function nP(i){typeof i=="function"&&(aw=t=>t.startsWith("on")?!Tf(t):i(t))}try{nP(require("@emotion/is-prop-valid").default)}catch{}function iP(i,t,e){const r={};for(const o in i)o==="values"&&typeof i.values=="object"||(aw(o)||e===!0&&Tf(o)||!t&&!Tf(o)||i.draggable&&o.startsWith("onDrag"))&&(r[o]=i[o]);return r}const Uf=G.createContext({});function zf(i){return i!==null&&typeof i=="object"&&typeof i.start=="function"}function Fu(i){return typeof i=="string"||Array.isArray(i)}const Sy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ay=["initial",...Sy];function Bf(i){return zf(i.animate)||Ay.some(t=>Fu(i[t]))}function ow(i){return!!(Bf(i)||i.variants)}function sP(i,t){if(Bf(i)){const{initial:e,animate:r}=i;return{initial:e===!1||Fu(e)?e:void 0,animate:Fu(r)?r:void 0}}return i.inherit!==!1?t:{}}function rP(i){const{initial:t,animate:e}=sP(i,G.useContext(Uf));return G.useMemo(()=>({initial:t,animate:e}),[eb(t),eb(e)])}function eb(i){return Array.isArray(i)?i.join(" "):i}const Hu={};function aP(i){for(const t in i)Hu[t]=i[t],oy(t)&&(Hu[t].isCSSVariable=!0)}function lw(i,{layout:t,layoutId:e}){return ml.has(i)||i.startsWith("origin")||(t||e!==void 0)&&(!!Hu[i]||i==="opacity")}const oP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},lP=dl.length;function uP(i,t,e){let r="",o=!0;for(let u=0;u<lP;u++){const c=dl[u],m=i[c];if(m===void 0)continue;let p=!0;if(typeof m=="number"?p=m===(c.startsWith("scale")?1:0):p=parseFloat(m)===0,!p||e){const g=JA(m,vy[c]);if(!p){o=!1;const v=oP[c]||c;r+=`${v}(${g}) `}e&&(t[c]=g)}}return r=r.trim(),e?r=e(t,o?"":r):o&&(r="none"),r}function wy(i,t,e){const{style:r,vars:o,transformOrigin:u}=i;let c=!1,m=!1;for(const p in t){const g=t[p];if(ml.has(p)){c=!0;continue}else if(oy(p)){o[p]=g;continue}else{const v=JA(g,vy[p]);p.startsWith("origin")?(m=!0,u[p]=v):r[p]=v}}if(t.transform||(c||e?r.transform=uP(t,i.transform,e):r.transform&&(r.transform="none")),m){const{originX:p="50%",originY:g="50%",originZ:v=0}=u;r.transformOrigin=`${p} ${g} ${v}`}}const xy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function uw(i,t,e){for(const r in t)!On(t[r])&&!lw(r,e)&&(i[r]=t[r])}function cP({transformTemplate:i},t){return G.useMemo(()=>{const e=xy();return wy(e,t,i),Object.assign({},e.vars,e.style)},[t])}function hP(i,t){const e=i.style||{},r={};return uw(r,e,i),Object.assign(r,cP(i,t)),r}function fP(i,t){const e={},r=hP(i,t);return i.drag&&i.dragListener!==!1&&(e.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=i.drag===!0?"none":`pan-${i.drag==="x"?"y":"x"}`),i.tabIndex===void 0&&(i.onTap||i.onTapStart||i.whileTap)&&(e.tabIndex=0),e.style=r,e}const dP={offset:"stroke-dashoffset",array:"stroke-dasharray"},mP={offset:"strokeDashoffset",array:"strokeDasharray"};function pP(i,t,e=1,r=0,o=!0){i.pathLength=1;const u=o?dP:mP;i[u.offset]=Ot.transform(-r);const c=Ot.transform(t),m=Ot.transform(e);i[u.array]=`${c} ${m}`}function cw(i,{attrX:t,attrY:e,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...m},p,g,v){if(wy(i,m,g),p){i.style.viewBox&&(i.attrs.viewBox=i.style.viewBox);return}i.attrs=i.style,i.style={};const{attrs:b,style:E}=i;b.transform&&(E.transform=b.transform,delete b.transform),(E.transform||b.transformOrigin)&&(E.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),E.transform&&(E.transformBox=v?.transformBox??"fill-box",delete b.transformBox),t!==void 0&&(b.x=t),e!==void 0&&(b.y=e),r!==void 0&&(b.scale=r),o!==void 0&&pP(b,o,u,c,!1)}const hw=()=>({...xy(),attrs:{}}),fw=i=>typeof i=="string"&&i.toLowerCase()==="svg";function gP(i,t,e,r){const o=G.useMemo(()=>{const u=hw();return cw(u,t,fw(r),i.transformTemplate,i.style),{...u.attrs,style:{...u.style}}},[t]);if(i.style){const u={};uw(u,i.style,i),o.style={...u,...o.style}}return o}const yP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ry(i){return typeof i!="string"||i.includes("-")?!1:!!(yP.indexOf(i)>-1||/[A-Z]/u.test(i))}function vP(i,t,e,{latestValues:r},o,u=!1){const m=(Ry(i)?gP:fP)(t,r,o,i),p=iP(t,typeof i=="string",u),g=i!==G.Fragment?{...p,...m,ref:e}:{},{children:v}=t,b=G.useMemo(()=>On(v)?v.get():v,[v]);return G.createElement(i,{...g,children:b})}function nb(i){const t=[{},{}];return i?.values.forEach((e,r)=>{t[0][r]=e.get(),t[1][r]=e.getVelocity()}),t}function Cy(i,t,e,r){if(typeof t=="function"){const[o,u]=nb(r);t=t(e!==void 0?e:i.custom,o,u)}if(typeof t=="string"&&(t=i.variants&&i.variants[t]),typeof t=="function"){const[o,u]=nb(r);t=t(e!==void 0?e:i.custom,o,u)}return t}function Qh(i){return On(i)?i.get():i}function _P({scrapeMotionValuesFromProps:i,createRenderState:t},e,r,o){return{latestValues:TP(e,r,o,i),renderState:t()}}function TP(i,t,e,r){const o={},u=r(i,{});for(const E in u)o[E]=Qh(u[E]);let{initial:c,animate:m}=i;const p=Bf(i),g=ow(i);t&&g&&!p&&i.inherit!==!1&&(c===void 0&&(c=t.initial),m===void 0&&(m=t.animate));let v=e?e.initial===!1:!1;v=v||c===!1;const b=v?m:c;if(b&&typeof b!="boolean"&&!zf(b)){const E=Array.isArray(b)?b:[b];for(let I=0;I<E.length;I++){const L=Cy(i,E[I]);if(L){const{transitionEnd:P,transition:U,...J}=L;for(const ot in J){let et=J[ot];if(Array.isArray(et)){const gt=v?et.length-1:0;et=et[gt]}et!==null&&(o[ot]=et)}for(const ot in P)o[ot]=P[ot]}}}return o}const dw=i=>(t,e)=>{const r=G.useContext(Uf),o=G.useContext(Lf),u=()=>_P(i,t,r,o);return e?u():Jg(u)};function Iy(i,t,e){const{style:r}=i,o={};for(const u in r)(On(r[u])||t.style&&On(t.style[u])||lw(u,i)||e?.getValue(u)?.liveStyle!==void 0)&&(o[u]=r[u]);return o}const bP=dw({scrapeMotionValuesFromProps:Iy,createRenderState:xy});function mw(i,t,e){const r=Iy(i,t,e);for(const o in i)if(On(i[o])||On(t[o])){const u=dl.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=i[o]}return r}const EP=dw({scrapeMotionValuesFromProps:mw,createRenderState:hw}),SP=Symbol.for("motionComponentSymbol");function zo(i){return i&&typeof i=="object"&&Object.prototype.hasOwnProperty.call(i,"current")}function AP(i,t,e){return G.useCallback(r=>{r&&i.onMount&&i.onMount(r),t&&(r?t.mount(r):t.unmount()),e&&(typeof e=="function"?e(r):zo(e)&&(e.current=r))},[t])}const Dy=i=>i.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),wP="framerAppearId",pw="data-"+Dy(wP),gw=G.createContext({});function xP(i,t,e,r,o){const{visualElement:u}=G.useContext(Uf),c=G.useContext(rw),m=G.useContext(Lf),p=G.useContext(by).reducedMotion,g=G.useRef(null);r=r||c.renderer,!g.current&&r&&(g.current=r(i,{visualState:t,parent:u,props:e,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:p}));const v=g.current,b=G.useContext(gw);v&&!v.projection&&o&&(v.type==="html"||v.type==="svg")&&RP(g.current,e,o,b);const E=G.useRef(!1);G.useInsertionEffect(()=>{v&&E.current&&v.update(e,m)});const I=e[pw],L=G.useRef(!!I&&!window.MotionHandoffIsComplete?.(I)&&window.MotionHasOptimisedAnimation?.(I));return dA(()=>{v&&(E.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),L.current&&v.animationState&&v.animationState.animateChanges())}),G.useEffect(()=>{v&&(!L.current&&v.animationState&&v.animationState.animateChanges(),L.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(I)}),L.current=!1),v.enteringChildren=void 0)}),v}function RP(i,t,e,r){const{layoutId:o,layout:u,drag:c,dragConstraints:m,layoutScroll:p,layoutRoot:g,layoutCrossfade:v}=t;i.projection=new e(i.latestValues,t["data-framer-portal-id"]?void 0:yw(i.parent)),i.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||m&&zo(m),visualElement:i,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:v,layoutScroll:p,layoutRoot:g})}function yw(i){if(i)return i.options.allowProjection!==!1?i.projection:yw(i.parent)}function rp(i,{forwardMotionProps:t=!1}={},e,r){e&&tP(e);const o=Ry(i)?EP:bP;function u(m,p){let g;const v={...G.useContext(by),...m,layoutId:CP(m)},{isStatic:b}=v,E=rP(m),I=o(m,b);if(!b&&Zg){IP();const L=DP(v);g=L.MeasureLayout,E.visualElement=xP(i,I,v,r,L.ProjectionNode)}return A.jsxs(Uf.Provider,{value:E,children:[g&&E.visualElement?A.jsx(g,{visualElement:E.visualElement,...v}):null,vP(i,m,AP(I,E.visualElement,p),I,b,t)]})}u.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const c=G.forwardRef(u);return c[SP]=i,c}function CP({layoutId:i}){const t=G.useContext($g).id;return t&&i!==void 0?t+"-"+i:i}function IP(i,t){G.useContext(rw).strict}function DP(i){const{drag:t,layout:e}=sl;if(!t&&!e)return{};const r={...t,...e};return{MeasureLayout:t?.isEnabled(i)||e?.isEnabled(i)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function MP(i,t){if(typeof Proxy>"u")return rp;const e=new Map,r=(u,c)=>rp(u,c,i,t),o=(u,c)=>r(u,c);return new Proxy(o,{get:(u,c)=>c==="create"?r:(e.has(c)||e.set(c,rp(c,void 0,i,t)),e.get(c))})}function vw({top:i,left:t,right:e,bottom:r}){return{x:{min:t,max:e},y:{min:i,max:r}}}function VP({x:i,y:t}){return{top:t.min,right:i.max,bottom:t.max,left:i.min}}function OP(i,t){if(!t)return i;const e=t({x:i.left,y:i.top}),r=t({x:i.right,y:i.bottom});return{top:e.y,left:e.x,bottom:r.y,right:r.x}}function ap(i){return i===void 0||i===1}function $p({scale:i,scaleX:t,scaleY:e}){return!ap(i)||!ap(t)||!ap(e)}function Sa(i){return $p(i)||_w(i)||i.z||i.rotate||i.rotateX||i.rotateY||i.skewX||i.skewY}function _w(i){return ib(i.x)||ib(i.y)}function ib(i){return i&&i!=="0%"}function bf(i,t,e){const r=i-e,o=t*r;return e+o}function sb(i,t,e,r,o){return o!==void 0&&(i=bf(i,o,r)),bf(i,e,r)+t}function Jp(i,t=0,e=1,r,o){i.min=sb(i.min,t,e,r,o),i.max=sb(i.max,t,e,r,o)}function Tw(i,{x:t,y:e}){Jp(i.x,t.translate,t.scale,t.originPoint),Jp(i.y,e.translate,e.scale,e.originPoint)}const rb=.999999999999,ab=1.0000000000001;function NP(i,t,e,r=!1){const o=e.length;if(!o)return;t.x=t.y=1;let u,c;for(let m=0;m<o;m++){u=e[m],c=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Fo(i,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,Tw(i,c)),r&&Sa(u.latestValues)&&Fo(i,u.latestValues))}t.x<ab&&t.x>rb&&(t.x=1),t.y<ab&&t.y>rb&&(t.y=1)}function Bo(i,t){i.min=i.min+t,i.max=i.max+t}function ob(i,t,e,r,o=.5){const u=je(i.min,i.max,o);Jp(i,t,e,u,r)}function Fo(i,t){ob(i.x,t.x,t.scaleX,t.scale,t.originX),ob(i.y,t.y,t.scaleY,t.scale,t.originY)}function bw(i,t){return vw(OP(i.getBoundingClientRect(),t))}function PP(i,t,e){const r=bw(i,e),{scroll:o}=t;return o&&(Bo(r.x,o.offset.x),Bo(r.y,o.offset.y)),r}const lb=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ho=()=>({x:lb(),y:lb()}),ub=()=>({min:0,max:0}),Ye=()=>({x:ub(),y:ub()}),Zp={current:null},Ew={current:!1};function kP(){if(Ew.current=!0,!!Zg)if(window.matchMedia){const i=window.matchMedia("(prefers-reduced-motion)"),t=()=>Zp.current=i.matches;i.addEventListener("change",t),t()}else Zp.current=!1}const jP=new WeakMap;function LP(i,t,e){for(const r in t){const o=t[r],u=e[r];if(On(o))i.addValue(r,o);else if(On(u))i.addValue(r,il(o,{owner:i}));else if(u!==o)if(i.hasValue(r)){const c=i.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=i.getStaticValue(r);i.addValue(r,il(c!==void 0?c:o,{owner:i}))}}for(const r in e)t[r]===void 0&&i.removeValue(r);return t}const cb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class UP{scrapeMotionValuesFromProps(t,e,r){return{}}constructor({parent:t,props:e,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=gy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=Wn.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,De.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=c;this.latestValues=p,this.baseTarget={...p},this.initialValues=e.initial?{...p}:{},this.renderState=g,this.parent=t,this.props=e,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=Bf(e),this.isVariantNode=ow(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,...b}=this.scrapeMotionValuesFromProps(e,{},this);for(const E in b){const I=b[E];p[E]!==void 0&&On(I)&&I.set(p[E])}}mount(t){this.current=t,jP.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,r)=>this.bindToMotionValue(r,e)),Ew.current||kP(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Zp.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Kr(this.notifyUpdate),Kr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=ml.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=e.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&De.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{o(),u&&u(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in sl){const e=sl[t];if(!e)continue;const{isEnabled:r,Feature:o}=e;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ye()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let r=0;r<cb.length;r++){const o=cb[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=t[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=LP(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const r=this.values.get(t);e!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&e!==void 0&&(r=il(e===null?void 0:e,{owner:this}),this.addValue(t,r)),r}readValue(t,e){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(mA(r)||gA(r))?r=parseFloat(r):!Y3(r)&&Yr.test(e)&&(r=$A(t,e)),this.setBaseTarget(t,On(r)?r.get():r)),On(r)?r.get():r}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let r;if(typeof e=="string"||typeof e=="object"){const u=Cy(this.props,e,this.presenceContext?.custom);u&&(r=u[t])}if(e&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!On(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new sy),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){_y.render(this.render)}}class Sw extends UP{constructor(){super(...arguments),this.KeyframeResolver=P3}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:r}){delete e[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;On(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function Aw(i,{style:t,vars:e},r,o){const u=i.style;let c;for(c in t)u[c]=t[c];o?.applyProjectionStyles(u,r);for(c in e)u.setProperty(c,e[c])}function zP(i){return window.getComputedStyle(i)}class BP extends Sw{constructor(){super(...arguments),this.type="html",this.renderInstance=Aw}readValueFromInstance(t,e){if(ml.has(e))return this.projection?.isProjecting?qp(e):t3(t,e);{const r=zP(t),o=(oy(e)?r.getPropertyValue(e):r[e])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:e}){return bw(t,e)}build(t,e,r){wy(t,e,r.transformTemplate)}scrapeMotionValuesFromProps(t,e,r){return Iy(t,e,r)}}const ww=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function FP(i,t,e,r){Aw(i,t,void 0,r);for(const o in t.attrs)i.setAttribute(ww.has(o)?o:Dy(o),t.attrs[o])}class HP extends Sw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ye}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(ml.has(e)){const r=WA(e);return r&&r.default||0}return e=ww.has(e)?e:Dy(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,r){return mw(t,e,r)}build(t,e,r){cw(t,e,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,e,r,o){FP(t,e,r,o)}mount(t){this.isSVGTag=fw(t.tagName),super.mount(t)}}const qP=(i,t)=>Ry(i)?new HP(t):new BP(t,{allowProjection:i!==G.Fragment});function Qo(i,t,e){const r=i.getProps();return Cy(r,t,e!==void 0?e:r.custom,i)}const tg=i=>Array.isArray(i);function GP(i,t,e){i.hasValue(t)?i.getValue(t).set(e):i.addValue(t,il(e))}function KP(i){return tg(i)?i[i.length-1]||0:i}function YP(i,t){const e=Qo(i,t);let{transitionEnd:r={},transition:o={},...u}=e||{};u={...u,...r};for(const c in u){const m=KP(u[c]);GP(i,c,m)}}function QP(i){return!!(On(i)&&i.add)}function eg(i,t){const e=i.getValue("willChange");if(QP(e))return e.add(t);if(!e&&Qs.WillChange){const r=new Qs.WillChange("auto");i.addValue("willChange",r),r.add(t)}}function xw(i){return i.props[pw]}const XP=i=>i!==null;function WP(i,{repeat:t,repeatType:e="loop"},r){const o=i.filter(XP),u=t&&e!=="loop"&&t%2===1?0:o.length-1;return o[u]}const $P={type:"spring",stiffness:500,damping:25,restSpeed:10},JP=i=>({type:"spring",stiffness:550,damping:i===0?2*Math.sqrt(550):30,restSpeed:10}),ZP={type:"keyframes",duration:.8},t4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},e4=(i,{keyframes:t})=>t.length>2?ZP:ml.has(i)?i.startsWith("scale")?JP(t[1]):$P:t4;function n4({when:i,delay:t,delayChildren:e,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:m,from:p,elapsed:g,...v}){return!!Object.keys(v).length}const My=(i,t,e,r={},o,u)=>c=>{const m=yy(r,i)||{},p=m.delay||r.delay||0;let{elapsed:g=0}=r;g=g-ds(p);const v={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...m,delay:-g,onUpdate:E=>{t.set(E),m.onUpdate&&m.onUpdate(E)},onComplete:()=>{c(),m.onComplete&&m.onComplete()},name:i,motionValue:t,element:u?void 0:o};n4(m)||Object.assign(v,e4(i,v)),v.duration&&(v.duration=ds(v.duration)),v.repeatDelay&&(v.repeatDelay=ds(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let b=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(Xp(v),v.delay===0&&(b=!0)),(Qs.instantAnimations||Qs.skipAnimations)&&(b=!0,Xp(v),v.delay=0),v.allowFlatten=!m.type&&!m.ease,b&&!u&&t.get()!==void 0){const E=WP(v.keyframes,m);if(E!==void 0){De.update(()=>{v.onUpdate(E),v.onComplete()});return}}return m.isSync?new py(v):new S3(v)};function i4({protectedKeys:i,needsAnimating:t},e){const r=i.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,r}function Rw(i,t,{delay:e=0,transitionOverride:r,type:o}={}){let{transition:u=i.getDefaultTransition(),transitionEnd:c,...m}=t;r&&(u=r);const p=[],g=o&&i.animationState&&i.animationState.getState()[o];for(const v in m){const b=i.getValue(v,i.latestValues[v]??null),E=m[v];if(E===void 0||g&&i4(g,v))continue;const I={delay:e,...yy(u||{},v)},L=b.get();if(L!==void 0&&!b.isAnimating&&!Array.isArray(E)&&E===L&&!I.velocity)continue;let P=!1;if(window.MotionHandoffAnimation){const J=xw(i);if(J){const ot=window.MotionHandoffAnimation(J,v,De);ot!==null&&(I.startTime=ot,P=!0)}}eg(i,v),b.start(My(v,b,E,i.shouldReduceMotion&&YA.has(v)?{type:!1}:I,i,P));const U=b.animation;U&&p.push(U)}return c&&Promise.all(p).then(()=>{De.update(()=>{c&&YP(i,c)})}),p}function Cw(i,t,e,r=0,o=1){const u=Array.from(i).sort((g,v)=>g.sortNodePosition(v)).indexOf(t),c=i.size,m=(c-1)*r;return typeof e=="function"?e(u,c):o===1?u*r:m-u*r}function ng(i,t,e={}){const r=Qo(i,t,e.type==="exit"?i.presenceContext?.custom:void 0);let{transition:o=i.getDefaultTransition()||{}}=r||{};e.transitionOverride&&(o=e.transitionOverride);const u=r?()=>Promise.all(Rw(i,r,e)):()=>Promise.resolve(),c=i.variantChildren&&i.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:b}=o;return s4(i,t,p,g,v,b,e)}:()=>Promise.resolve(),{when:m}=o;if(m){const[p,g]=m==="beforeChildren"?[u,c]:[c,u];return p().then(()=>g())}else return Promise.all([u(),c(e.delay)])}function s4(i,t,e=0,r=0,o=0,u=1,c){const m=[];for(const p of i.variantChildren)p.notify("AnimationStart",t),m.push(ng(p,t,{...c,delay:e+(typeof r=="function"?0:r)+Cw(i.variantChildren,p,r,o,u)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(m)}function r4(i,t,e={}){i.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(u=>ng(i,u,e));r=Promise.all(o)}else if(typeof t=="string")r=ng(i,t,e);else{const o=typeof t=="function"?Qo(i,t,e.custom):t;r=Promise.all(Rw(i,o,e))}return r.then(()=>{i.notify("AnimationComplete",t)})}function Iw(i,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==i.length)return!1;for(let r=0;r<e;r++)if(t[r]!==i[r])return!1;return!0}const a4=Ay.length;function Dw(i){if(!i)return;if(!i.isControllingVariants){const e=i.parent?Dw(i.parent)||{}:{};return i.props.initial!==void 0&&(e.initial=i.props.initial),e}const t={};for(let e=0;e<a4;e++){const r=Ay[e],o=i.props[r];(Fu(o)||o===!1)&&(t[r]=o)}return t}const o4=[...Sy].reverse(),l4=Sy.length;function u4(i){return t=>Promise.all(t.map(({animation:e,options:r})=>r4(i,e,r)))}function c4(i){let t=u4(i),e=hb(),r=!0;const o=p=>(g,v)=>{const b=Qo(i,v,p==="exit"?i.presenceContext?.custom:void 0);if(b){const{transition:E,transitionEnd:I,...L}=b;g={...g,...L,...I}}return g};function u(p){t=p(i)}function c(p){const{props:g}=i,v=Dw(i.parent)||{},b=[],E=new Set;let I={},L=1/0;for(let U=0;U<l4;U++){const J=o4[U],ot=e[J],et=g[J]!==void 0?g[J]:v[J],gt=Fu(et),dt=J===p?ot.isActive:null;dt===!1&&(L=U);let ft=et===v[J]&&et!==g[J]&&gt;if(ft&&r&&i.manuallyAnimateOnMount&&(ft=!1),ot.protectedKeys={...I},!ot.isActive&&dt===null||!et&&!ot.prevProp||zf(et)||typeof et=="boolean")continue;const R=h4(ot.prevProp,et);let w=R||J===p&&ot.isActive&&!ft&&gt||U>L&&gt,C=!1;const N=Array.isArray(et)?et:[et];let V=N.reduce(o(J),{});dt===!1&&(V={});const{prevResolvedValues:z={}}=ot,D={...z,...V},Ht=st=>{w=!0,E.has(st)&&(C=!0,E.delete(st)),ot.needsAnimating[st]=!0;const yt=i.getValue(st);yt&&(yt.liveStyle=!1)};for(const st in D){const yt=V[st],Vt=z[st];if(I.hasOwnProperty(st))continue;let Ct=!1;tg(yt)&&tg(Vt)?Ct=!Iw(yt,Vt):Ct=yt!==Vt,Ct?yt!=null?Ht(st):E.add(st):yt!==void 0&&E.has(st)?Ht(st):ot.protectedKeys[st]=!0}ot.prevProp=et,ot.prevResolvedValues=V,ot.isActive&&(I={...I,...V}),r&&i.blockInitialAnimation&&(w=!1);const re=ft&&R;w&&(!re||C)&&b.push(...N.map(st=>{const yt={type:J};if(typeof st=="string"&&r&&!re&&i.manuallyAnimateOnMount&&i.parent){const{parent:Vt}=i,Ct=Qo(Vt,st);if(Vt.enteringChildren&&Ct){const{delayChildren:k}=Ct.transition||{};yt.delay=Cw(Vt.enteringChildren,i,k)}}return{animation:st,options:yt}}))}if(E.size){const U={};if(typeof g.initial!="boolean"){const J=Qo(i,Array.isArray(g.initial)?g.initial[0]:g.initial);J&&J.transition&&(U.transition=J.transition)}E.forEach(J=>{const ot=i.getBaseTarget(J),et=i.getValue(J);et&&(et.liveStyle=!0),U[J]=ot??null}),b.push({animation:U})}let P=!!b.length;return r&&(g.initial===!1||g.initial===g.animate)&&!i.manuallyAnimateOnMount&&(P=!1),r=!1,P?t(b):Promise.resolve()}function m(p,g){if(e[p].isActive===g)return Promise.resolve();i.variantChildren?.forEach(b=>b.animationState?.setActive(p,g)),e[p].isActive=g;const v=c(p);for(const b in e)e[b].protectedKeys={};return v}return{animateChanges:c,setActive:m,setAnimateFunction:u,getState:()=>e,reset:()=>{e=hb()}}}function h4(i,t){return typeof t=="string"?t!==i:Array.isArray(t)?!Iw(t,i):!1}function ba(i=!1){return{isActive:i,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function hb(){return{animate:ba(!0),whileInView:ba(),whileHover:ba(),whileTap:ba(),whileDrag:ba(),whileFocus:ba(),exit:ba()}}class Qr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class f4 extends Qr{constructor(t){super(t),t.animationState||(t.animationState=c4(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();zf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let d4=0;class m4 extends Qr{constructor(){super(...arguments),this.id=d4++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);e&&!t&&o.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const p4={animation:{Feature:f4},exit:{Feature:m4}};function qu(i,t,e,r={passive:!0}){return i.addEventListener(t,e,r),()=>i.removeEventListener(t,e)}function sc(i){return{point:{x:i.pageX,y:i.pageY}}}const g4=i=>t=>Ty(t)&&i(t,sc(t));function xu(i,t,e,r){return qu(i,t,g4(e),r)}const Mw=1e-4,y4=1-Mw,v4=1+Mw,Vw=.01,_4=0-Vw,T4=0+Vw;function Ln(i){return i.max-i.min}function b4(i,t,e){return Math.abs(i-t)<=e}function fb(i,t,e,r=.5){i.origin=r,i.originPoint=je(t.min,t.max,i.origin),i.scale=Ln(e)/Ln(t),i.translate=je(e.min,e.max,i.origin)-i.originPoint,(i.scale>=y4&&i.scale<=v4||isNaN(i.scale))&&(i.scale=1),(i.translate>=_4&&i.translate<=T4||isNaN(i.translate))&&(i.translate=0)}function Ru(i,t,e,r){fb(i.x,t.x,e.x,r?r.originX:void 0),fb(i.y,t.y,e.y,r?r.originY:void 0)}function db(i,t,e){i.min=e.min+t.min,i.max=i.min+Ln(t)}function E4(i,t,e){db(i.x,t.x,e.x),db(i.y,t.y,e.y)}function mb(i,t,e){i.min=t.min-e.min,i.max=i.min+Ln(t)}function Cu(i,t,e){mb(i.x,t.x,e.x),mb(i.y,t.y,e.y)}function Ri(i){return[i("x"),i("y")]}const Ow=({current:i})=>i?i.ownerDocument.defaultView:null,pb=(i,t)=>Math.abs(i-t);function S4(i,t){const e=pb(i.x,t.x),r=pb(i.y,t.y);return Math.sqrt(e**2+r**2)}class Nw{constructor(t,e,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=lp(this.lastMoveEventInfo,this.history),I=this.startEvent!==null,L=S4(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!I&&!L)return;const{point:P}=E,{timestamp:U}=En;this.history.push({...P,timestamp:U});const{onStart:J,onMove:ot}=this.handlers;I||(J&&J(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),ot&&ot(this.lastMoveEvent,E)},this.handlePointerMove=(E,I)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=op(I,this.transformPagePoint),De.update(this.updatePoint,!0)},this.handlePointerUp=(E,I)=>{this.end();const{onEnd:L,onSessionEnd:P,resumeAnimation:U}=this.handlers;if(this.dragSnapToOrigin&&U&&U(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const J=lp(E.type==="pointercancel"?this.lastMoveEventInfo:op(I,this.transformPagePoint),this.history);this.startEvent&&L&&L(E,J),P&&P(E,J)},!Ty(t))return;this.dragSnapToOrigin=u,this.handlers=e,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=o||window;const m=sc(t),p=op(m,this.transformPagePoint),{point:g}=p,{timestamp:v}=En;this.history=[{...g,timestamp:v}];const{onSessionStart:b}=e;b&&b(t,lp(p,this.history)),this.removeListeners=ec(xu(this.contextWindow,"pointermove",this.handlePointerMove),xu(this.contextWindow,"pointerup",this.handlePointerUp),xu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Kr(this.updatePoint)}}function op(i,t){return t?{point:t(i.point)}:i}function gb(i,t){return{x:i.x-t.x,y:i.y-t.y}}function lp({point:i},t){return{point:i,delta:gb(i,Pw(t)),offset:gb(i,A4(t)),velocity:w4(t,.1)}}function A4(i){return i[0]}function Pw(i){return i[i.length-1]}function w4(i,t){if(i.length<2)return{x:0,y:0};let e=i.length-1,r=null;const o=Pw(i);for(;e>=0&&(r=i[e],!(o.timestamp-r.timestamp>ds(t)));)e--;if(!r)return{x:0,y:0};const u=Di(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function x4(i,{min:t,max:e},r){return t!==void 0&&i<t?i=r?je(t,i,r.min):Math.max(i,t):e!==void 0&&i>e&&(i=r?je(e,i,r.max):Math.min(i,e)),i}function yb(i,t,e){return{min:t!==void 0?i.min+t:void 0,max:e!==void 0?i.max+e-(i.max-i.min):void 0}}function R4(i,{top:t,left:e,bottom:r,right:o}){return{x:yb(i.x,e,o),y:yb(i.y,t,r)}}function vb(i,t){let e=t.min-i.min,r=t.max-i.max;return t.max-t.min<i.max-i.min&&([e,r]=[r,e]),{min:e,max:r}}function C4(i,t){return{x:vb(i.x,t.x),y:vb(i.y,t.y)}}function I4(i,t){let e=.5;const r=Ln(i),o=Ln(t);return o>r?e=Uu(t.min,t.max-r,i.min):r>o&&(e=Uu(i.min,i.max-o,t.min)),Ys(0,1,e)}function D4(i,t){const e={};return t.min!==void 0&&(e.min=t.min-i.min),t.max!==void 0&&(e.max=t.max-i.min),e}const ig=.35;function M4(i=ig){return i===!1?i=0:i===!0&&(i=ig),{x:_b(i,"left","right"),y:_b(i,"top","bottom")}}function _b(i,t,e){return{min:Tb(i,t),max:Tb(i,e)}}function Tb(i,t){return typeof i=="number"?i:i[t]||0}const V4=new WeakMap;class O4{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ye(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=b=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(sc(b).point)},c=(b,E)=>{const{drag:I,dragPropagation:L,onDragStart:P}=this.getProps();if(I&&!L&&(this.openDragLock&&this.openDragLock(),this.openDragLock=U3(I),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ri(J=>{let ot=this.getAxisMotionValue(J).get()||0;if(ms.test(ot)){const{projection:et}=this.visualElement;if(et&&et.layout){const gt=et.layout.layoutBox[J];gt&&(ot=Ln(gt)*(parseFloat(ot)/100))}}this.originPoint[J]=ot}),P&&De.postRender(()=>P(b,E)),eg(this.visualElement,"transform");const{animationState:U}=this.visualElement;U&&U.setActive("whileDrag",!0)},m=(b,E)=>{this.latestPointerEvent=b,this.latestPanInfo=E;const{dragPropagation:I,dragDirectionLock:L,onDirectionLock:P,onDrag:U}=this.getProps();if(!I&&!this.openDragLock)return;const{offset:J}=E;if(L&&this.currentDirection===null){this.currentDirection=N4(J),this.currentDirection!==null&&P&&P(this.currentDirection);return}this.updateAxis("x",E.point,J),this.updateAxis("y",E.point,J),this.visualElement.render(),U&&U(b,E)},p=(b,E)=>{this.latestPointerEvent=b,this.latestPanInfo=E,this.stop(b,E),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>Ri(b=>this.getAnimationState(b)==="paused"&&this.getAxisMotionValue(b).animation?.play()),{dragSnapToOrigin:v}=this.getProps();this.panSession=new Nw(t,{onSessionStart:u,onStart:c,onMove:m,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:r,contextWindow:Ow(this.visualElement)})}stop(t,e){const r=t||this.latestPointerEvent,o=e||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!r)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:m}=this.getProps();m&&De.postRender(()=>m(r,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,r){const{drag:o}=this.getProps();if(!r||!Nh(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=x4(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&zo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=R4(r.layoutBox,t):this.constraints=!1,this.elastic=M4(e),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ri(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=D4(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!zo(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=PP(r,o.root,this.visualElement.getTransformPagePoint());let c=C4(o.layout.layoutBox,u);if(e){const m=e(VP(c));this.hasMutatedConstraints=!!m,m&&(c=vw(m))}return c}startAnimation(t){const{drag:e,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:m}=this.getProps(),p=this.constraints||{},g=Ri(v=>{if(!Nh(v,e,this.currentDirection))return;let b=p&&p[v]||{};c&&(b={min:0,max:0});const E=o?200:1e6,I=o?40:1e7,L={type:"inertia",velocity:r?t[v]:0,bounceStiffness:E,bounceDamping:I,timeConstant:750,restDelta:1,restSpeed:10,...u,...b};return this.startAxisValueAnimation(v,L)});return Promise.all(g).then(m)}startAxisValueAnimation(t,e){const r=this.getAxisMotionValue(t);return eg(this.visualElement,t),r.start(My(t,r,0,e,this.visualElement,!1))}stopAnimation(){Ri(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ri(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[e];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Ri(e=>{const{drag:r}=this.getProps();if(!Nh(e,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(e);if(o&&o.layout){const{min:c,max:m}=o.layout.layoutBox[e];u.set(t[e]-je(c,m,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:r}=this.visualElement;if(!zo(e)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Ri(c=>{const m=this.getAxisMotionValue(c);if(m&&this.constraints!==!1){const p=m.get();o[c]=I4({min:p,max:p},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ri(c=>{if(!Nh(c,t,null))return;const m=this.getAxisMotionValue(c),{min:p,max:g}=this.constraints[c];m.set(je(p,g,o[c]))})}addListeners(){if(!this.visualElement.current)return;V4.set(this.visualElement,this);const t=this.visualElement.current,e=xu(t,"pointerdown",p=>{const{drag:g,dragListener:v=!0}=this.getProps();g&&v&&this.start(p)}),r=()=>{const{dragConstraints:p}=this.getProps();zo(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),De.read(r);const c=qu(window,"resize",()=>this.scalePositionWithinConstraints()),m=o.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(Ri(v=>{const b=this.getAxisMotionValue(v);b&&(this.originPoint[v]+=p[v].translate,b.set(b.get()+p[v].translate))}),this.visualElement.render())}));return()=>{c(),e(),u(),m&&m()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=ig,dragMomentum:m=!0}=t;return{...t,drag:e,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:m}}}function Nh(i,t,e){return(t===!0||t===i)&&(e===null||e===i)}function N4(i,t=10){let e=null;return Math.abs(i.y)>t?e="y":Math.abs(i.x)>t&&(e="x"),e}class P4 extends Qr{constructor(t){super(t),this.removeGroupControls=Mi,this.removeListeners=Mi,this.controls=new O4(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Mi}unmount(){this.removeGroupControls(),this.removeListeners()}}const bb=i=>(t,e)=>{i&&De.postRender(()=>i(t,e))};class k4 extends Qr{constructor(){super(...arguments),this.removePointerDownListener=Mi}onPointerDown(t){this.session=new Nw(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ow(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:bb(t),onStart:bb(e),onMove:r,onEnd:(u,c)=>{delete this.session,o&&De.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=xu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Xh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Eb(i,t){return t.max===t.min?0:i/(t.max-t.min)*100}const hu={correct:(i,t)=>{if(!t.target)return i;if(typeof i=="string")if(Ot.test(i))i=parseFloat(i);else return i;const e=Eb(i,t.target.x),r=Eb(i,t.target.y);return`${e}% ${r}%`}},j4={correct:(i,{treeScale:t,projectionDelta:e})=>{const r=i,o=Yr.parse(i);if(o.length>5)return r;const u=Yr.createTransformer(i),c=typeof o[0]!="number"?1:0,m=e.x.scale*t.x,p=e.y.scale*t.y;o[0+c]/=m,o[1+c]/=p;const g=je(m,p,.5);return typeof o[2+c]=="number"&&(o[2+c]/=g),typeof o[3+c]=="number"&&(o[3+c]/=g),u(o)}};let up=!1;class L4 extends G.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=t;aP(U4),u&&(e.group&&e.group.add(u),r&&r.register&&o&&r.register(u),up&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Xh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:r,drag:o,isPresent:u}=this.props,{projection:c}=r;return c&&(c.isPresent=u,up=!0,o||t.layoutDependency!==e||e===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||De.postRender(()=>{const m=c.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),_y.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:r}=this.props,{projection:o}=t;up=!0,o&&(o.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function kw(i){const[t,e]=sw(),r=G.useContext($g);return A.jsx(L4,{...i,layoutGroup:r,switchLayoutGroup:G.useContext(gw),isPresent:t,safeToRemove:e})}const U4={borderRadius:{...hu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:hu,borderTopRightRadius:hu,borderBottomLeftRadius:hu,borderBottomRightRadius:hu,boxShadow:j4};function z4(i,t,e){const r=On(i)?i:il(i);return r.start(My("",r,t,e)),r.animation}const B4=(i,t)=>i.depth-t.depth;class F4{constructor(){this.children=[],this.isDirty=!1}add(t){ty(this.children,t),this.isDirty=!0}remove(t){ey(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(B4),this.isDirty=!1,this.children.forEach(t)}}function H4(i,t){const e=Wn.now(),r=({timestamp:o})=>{const u=o-e;u>=t&&(Kr(r),i(u-t))};return De.setup(r,!0),()=>Kr(r)}const jw=["TopLeft","TopRight","BottomLeft","BottomRight"],q4=jw.length,Sb=i=>typeof i=="string"?parseFloat(i):i,Ab=i=>typeof i=="number"||Ot.test(i);function G4(i,t,e,r,o,u){o?(i.opacity=je(0,e.opacity??1,K4(r)),i.opacityExit=je(t.opacity??1,0,Y4(r))):u&&(i.opacity=je(t.opacity??1,e.opacity??1,r));for(let c=0;c<q4;c++){const m=`border${jw[c]}Radius`;let p=wb(t,m),g=wb(e,m);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||Ab(p)===Ab(g)?(i[m]=Math.max(je(Sb(p),Sb(g),r),0),(ms.test(g)||ms.test(p))&&(i[m]+="%")):i[m]=g}(t.rotate||e.rotate)&&(i.rotate=je(t.rotate||0,e.rotate||0,r))}function wb(i,t){return i[t]!==void 0?i[t]:i.borderRadius}const K4=Lw(0,.5,AA),Y4=Lw(.5,.95,Mi);function Lw(i,t,e){return r=>r<i?0:r>t?1:e(Uu(i,t,r))}function xb(i,t){i.min=t.min,i.max=t.max}function xi(i,t){xb(i.x,t.x),xb(i.y,t.y)}function Rb(i,t){i.translate=t.translate,i.scale=t.scale,i.originPoint=t.originPoint,i.origin=t.origin}function Cb(i,t,e,r,o){return i-=t,i=bf(i,1/e,r),o!==void 0&&(i=bf(i,1/o,r)),i}function Q4(i,t=0,e=1,r=.5,o,u=i,c=i){if(ms.test(t)&&(t=parseFloat(t),t=je(c.min,c.max,t/100)-c.min),typeof t!="number")return;let m=je(u.min,u.max,r);i===u&&(m-=t),i.min=Cb(i.min,t,e,m,o),i.max=Cb(i.max,t,e,m,o)}function Ib(i,t,[e,r,o],u,c){Q4(i,t[e],t[r],t[o],t.scale,u,c)}const X4=["x","scaleX","originX"],W4=["y","scaleY","originY"];function Db(i,t,e,r){Ib(i.x,t,X4,e?e.x:void 0,r?r.x:void 0),Ib(i.y,t,W4,e?e.y:void 0,r?r.y:void 0)}function Mb(i){return i.translate===0&&i.scale===1}function Uw(i){return Mb(i.x)&&Mb(i.y)}function Vb(i,t){return i.min===t.min&&i.max===t.max}function $4(i,t){return Vb(i.x,t.x)&&Vb(i.y,t.y)}function Ob(i,t){return Math.round(i.min)===Math.round(t.min)&&Math.round(i.max)===Math.round(t.max)}function zw(i,t){return Ob(i.x,t.x)&&Ob(i.y,t.y)}function Nb(i){return Ln(i.x)/Ln(i.y)}function Pb(i,t){return i.translate===t.translate&&i.scale===t.scale&&i.originPoint===t.originPoint}class J4{constructor(){this.members=[]}add(t){ty(this.members,t),t.scheduleRender()}remove(t){if(ey(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(o=>t===o);if(e===0)return!1;let r;for(let o=e;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(t,e){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,e&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:r}=t;e.onExitComplete&&e.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Z4(i,t,e){let r="";const o=i.x.translate/t.x,u=i.y.translate/t.y,c=e?.z||0;if((o||u||c)&&(r=`translate3d(${o}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:g,rotate:v,rotateX:b,rotateY:E,skewX:I,skewY:L}=e;g&&(r=`perspective(${g}px) ${r}`),v&&(r+=`rotate(${v}deg) `),b&&(r+=`rotateX(${b}deg) `),E&&(r+=`rotateY(${E}deg) `),I&&(r+=`skewX(${I}deg) `),L&&(r+=`skewY(${L}deg) `)}const m=i.x.scale*t.x,p=i.y.scale*t.y;return(m!==1||p!==1)&&(r+=`scale(${m}, ${p})`),r||"none"}const cp=["","X","Y","Z"],t6=1e3;let e6=0;function hp(i,t,e,r){const{latestValues:o}=t;o[i]&&(e[i]=o[i],t.setStaticValue(i,0),r&&(r[i]=0))}function Bw(i){if(i.hasCheckedOptimisedAppear=!0,i.root===i)return;const{visualElement:t}=i.options;if(!t)return;const e=xw(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:o,layoutId:u}=i.options;window.MotionCancelOptimisedAnimation(e,"transform",De,!(o||u))}const{parent:r}=i;r&&!r.hasCheckedOptimisedAppear&&Bw(r)}function Fw({attachResizeListener:i,defaultParent:t,measureScroll:e,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},m=t?.()){this.id=e6++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(s6),this.nodes.forEach(l6),this.nodes.forEach(u6),this.nodes.forEach(r6)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new F4)}addEventListener(c,m){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new sy),this.eventHandlers.get(c).add(m)}notifyListeners(c,...m){const p=this.eventHandlers.get(c);p&&p.notify(...m)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=iw(c)&&!G3(c),this.instance=c;const{layoutId:m,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||m)&&(this.isLayoutDirty=!0),i){let v,b=0;const E=()=>this.root.updateBlockedByResize=!1;De.read(()=>{b=window.innerWidth}),i(c,()=>{const I=window.innerWidth;I!==b&&(b=I,this.root.updateBlockedByResize=!0,v&&v(),v=H4(E,250),Xh.hasAnimatedSinceResize&&(Xh.hasAnimatedSinceResize=!1,this.nodes.forEach(Lb)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&g&&(m||p)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:b,hasRelativeLayoutChanged:E,layout:I})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const L=this.options.transition||g.getDefaultTransition()||m6,{onLayoutAnimationStart:P,onLayoutAnimationComplete:U}=g.getProps(),J=!this.targetLayout||!zw(this.targetLayout,I),ot=!b&&E;if(this.options.layoutRoot||this.resumeFrom||ot||b&&(J||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const et={...yy(L,"layout"),onPlay:P,onComplete:U};(g.shouldReduceMotion||this.options.layoutRoot)&&(et.delay=0,et.type=!1),this.startAnimation(et),this.setAnimationOrigin(v,ot)}else b||Lb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=I})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Kr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(c6),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Bw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const b=this.path[v];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:m,layout:p}=this.options;if(m===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(kb);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(jb);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(o6),this.nodes.forEach(n6),this.nodes.forEach(i6)):this.nodes.forEach(jb),this.clearAllSnapshots();const m=Wn.now();En.delta=Ys(0,1e3/60,m-En.timestamp),En.timestamp=m,En.isProcessing=!0,Zm.update.process(En),Zm.preRender.process(En),Zm.render.process(En),En.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,_y.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(a6),this.sharedNodes.forEach(h6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,De.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){De.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ln(this.snapshot.measuredBox.x)&&!Ln(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ye(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(m=!1),m&&this.instance){const p=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!Uw(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;c&&this.instance&&(m||Sa(this.latestValues)||v)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const m=this.measurePageBox();let p=this.removeElementScroll(m);return c&&(p=this.removeTransform(p)),p6(p),{animationId:this.root.animationId,measuredBox:m,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Ye();const m=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(g6))){const{scroll:g}=this.root;g&&(Bo(m.x,g.offset.x),Bo(m.y,g.offset.y))}return m}removeElementScroll(c){const m=Ye();if(xi(m,c),this.scroll?.wasRoot)return m;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:v,options:b}=g;g!==this.root&&v&&b.layoutScroll&&(v.wasRoot&&xi(m,c),Bo(m.x,v.offset.x),Bo(m.y,v.offset.y))}return m}applyTransform(c,m=!1){const p=Ye();xi(p,c);for(let g=0;g<this.path.length;g++){const v=this.path[g];!m&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Fo(p,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Sa(v.latestValues)&&Fo(p,v.latestValues)}return Sa(this.latestValues)&&Fo(p,this.latestValues),p}removeTransform(c){const m=Ye();xi(m,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!Sa(g.latestValues))continue;$p(g.latestValues)&&g.updateSnapshot();const v=Ye(),b=g.measurePageBox();xi(v,b),Db(m,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return Sa(this.latestValues)&&Db(m,this.latestValues),m}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==En.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==m;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:b}=this.options;if(!(!this.layout||!(v||b))){if(this.resolvedRelativeTargetAt=En.timestamp,!this.targetDelta&&!this.relativeTarget){const E=this.getClosestProjectingParent();E&&E.layout&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ye(),this.relativeTargetOrigin=Ye(),Cu(this.relativeTargetOrigin,this.layout.layoutBox,E.layout.layoutBox),xi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ye(),this.targetWithTransforms=Ye()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),E4(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):xi(this.target,this.layout.layoutBox),Tw(this.target,this.targetDelta)):xi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const E=this.getClosestProjectingParent();E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ye(),this.relativeTargetOrigin=Ye(),Cu(this.relativeTargetOrigin,this.target,E.target),xi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||$p(this.parent.latestValues)||_w(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),m=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===En.timestamp&&(p=!1),p)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;xi(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,E=this.treeScale.y;NP(this.layoutCorrected,this.treeScale,this.path,m),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Ye());const{target:I}=c;if(!I){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Rb(this.prevProjectionDelta.x,this.projectionDelta.x),Rb(this.prevProjectionDelta.y,this.projectionDelta.y)),Ru(this.projectionDelta,this.layoutCorrected,I,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==E||!Pb(this.projectionDelta.x,this.prevProjectionDelta.x)||!Pb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",I))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ho(),this.projectionDelta=Ho(),this.projectionDeltaWithTransform=Ho()}setAnimationOrigin(c,m=!1){const p=this.snapshot,g=p?p.latestValues:{},v={...this.latestValues},b=Ho();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const E=Ye(),I=p?p.source:void 0,L=this.layout?this.layout.source:void 0,P=I!==L,U=this.getStack(),J=!U||U.members.length<=1,ot=!!(P&&!J&&this.options.crossfade===!0&&!this.path.some(d6));this.animationProgress=0;let et;this.mixTargetDelta=gt=>{const dt=gt/1e3;Ub(b.x,c.x,dt),Ub(b.y,c.y,dt),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Cu(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),f6(this.relativeTarget,this.relativeTargetOrigin,E,dt),et&&$4(this.relativeTarget,et)&&(this.isProjectionDirty=!1),et||(et=Ye()),xi(et,this.relativeTarget)),P&&(this.animationValues=v,G4(v,g,this.latestValues,dt,ot,J)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=dt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Kr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=De.update(()=>{Xh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=il(0)),this.currentAnimation=z4(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),c.onUpdate&&c.onUpdate(m)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(t6),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:m,target:p,layout:g,latestValues:v}=c;if(!(!m||!p||!g)){if(this!==c&&this.layout&&g&&Hw(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||Ye();const b=Ln(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+b;const E=Ln(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+E}xi(m,p),Fo(m,v),Ru(this.projectionDeltaWithTransform,this.layoutCorrected,m,v)}}registerSharedNode(c,m){this.sharedNodes.has(c)||this.sharedNodes.set(c,new J4),this.sharedNodes.get(c).add(m);const g=m.options.initialPromotionConfig;m.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(m):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:m,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let m=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(m=!0),!m)return;const g={};p.z&&hp("z",c,g,this.animationValues);for(let v=0;v<cp.length;v++)hp(`rotate${cp[v]}`,c,g,this.animationValues),hp(`skew${cp[v]}`,c,g,this.animationValues);c.render();for(const v in g)c.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);c.scheduleRender()}applyProjectionStyles(c,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Qh(m?.pointerEvents)||"",c.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Qh(m?.pointerEvents)||""),this.hasProjected&&!Sa(this.latestValues)&&(c.transform=p?p({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=g.animationValues||g.latestValues;this.applyTransformsToTarget();let b=Z4(this.projectionDeltaWithTransform,this.treeScale,v);p&&(b=p(v,b)),c.transform=b;const{x:E,y:I}=this.projectionDelta;c.transformOrigin=`${E.origin*100}% ${I.origin*100}% 0`,g.animationValues?c.opacity=g===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const L in Hu){if(v[L]===void 0)continue;const{correct:P,applyTo:U,isCSSVariable:J}=Hu[L],ot=b==="none"?v[L]:P(v[L],g);if(U){const et=U.length;for(let gt=0;gt<et;gt++)c[U[gt]]=ot}else J?this.options.visualElement.renderState.vars[L]=ot:c[L]=ot}this.options.layoutId&&(c.pointerEvents=g===this?Qh(m?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(kb),this.root.sharedNodes.clear()}}}function n6(i){i.updateLayout()}function i6(i){const t=i.resumeFrom?.snapshot||i.snapshot;if(i.isLead()&&i.layout&&t&&i.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:r}=i.layout,{animationType:o}=i.options,u=t.source!==i.layout.source;o==="size"?Ri(v=>{const b=u?t.measuredBox[v]:t.layoutBox[v],E=Ln(b);b.min=e[v].min,b.max=b.min+E}):Hw(o,t.layoutBox,e)&&Ri(v=>{const b=u?t.measuredBox[v]:t.layoutBox[v],E=Ln(e[v]);b.max=b.min+E,i.relativeTarget&&!i.currentAnimation&&(i.isProjectionDirty=!0,i.relativeTarget[v].max=i.relativeTarget[v].min+E)});const c=Ho();Ru(c,e,t.layoutBox);const m=Ho();u?Ru(m,i.applyTransform(r,!0),t.measuredBox):Ru(m,e,t.layoutBox);const p=!Uw(c);let g=!1;if(!i.resumeFrom){const v=i.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:b,layout:E}=v;if(b&&E){const I=Ye();Cu(I,t.layoutBox,b.layoutBox);const L=Ye();Cu(L,e,E.layoutBox),zw(I,L)||(g=!0),v.options.layoutRoot&&(i.relativeTarget=L,i.relativeTargetOrigin=I,i.relativeParent=v)}}}i.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:m,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(i.isLead()){const{onExitComplete:e}=i.options;e&&e()}i.options.transition=void 0}function s6(i){i.parent&&(i.isProjecting()||(i.isProjectionDirty=i.parent.isProjectionDirty),i.isSharedProjectionDirty||(i.isSharedProjectionDirty=!!(i.isProjectionDirty||i.parent.isProjectionDirty||i.parent.isSharedProjectionDirty)),i.isTransformDirty||(i.isTransformDirty=i.parent.isTransformDirty))}function r6(i){i.isProjectionDirty=i.isSharedProjectionDirty=i.isTransformDirty=!1}function a6(i){i.clearSnapshot()}function kb(i){i.clearMeasurements()}function jb(i){i.isLayoutDirty=!1}function o6(i){const{visualElement:t}=i.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),i.resetTransform()}function Lb(i){i.finishAnimation(),i.targetDelta=i.relativeTarget=i.target=void 0,i.isProjectionDirty=!0}function l6(i){i.resolveTargetDelta()}function u6(i){i.calcProjection()}function c6(i){i.resetSkewAndRotation()}function h6(i){i.removeLeadSnapshot()}function Ub(i,t,e){i.translate=je(t.translate,0,e),i.scale=je(t.scale,1,e),i.origin=t.origin,i.originPoint=t.originPoint}function zb(i,t,e,r){i.min=je(t.min,e.min,r),i.max=je(t.max,e.max,r)}function f6(i,t,e,r){zb(i.x,t.x,e.x,r),zb(i.y,t.y,e.y,r)}function d6(i){return i.animationValues&&i.animationValues.opacityExit!==void 0}const m6={duration:.45,ease:[.4,0,.1,1]},Bb=i=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(i),Fb=Bb("applewebkit/")&&!Bb("chrome/")?Math.round:Mi;function Hb(i){i.min=Fb(i.min),i.max=Fb(i.max)}function p6(i){Hb(i.x),Hb(i.y)}function Hw(i,t,e){return i==="position"||i==="preserve-aspect"&&!b4(Nb(t),Nb(e),.2)}function g6(i){return i!==i.root&&i.scroll?.wasRoot}const y6=Fw({attachResizeListener:(i,t)=>qu(i,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),fp={current:void 0},qw=Fw({measureScroll:i=>({x:i.scrollLeft,y:i.scrollTop}),defaultParent:()=>{if(!fp.current){const i=new y6({});i.mount(window),i.setOptions({layoutScroll:!0}),fp.current=i}return fp.current},resetTransform:(i,t)=>{i.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:i=>window.getComputedStyle(i).position==="fixed"}),v6={pan:{Feature:k4},drag:{Feature:P4,ProjectionNode:qw,MeasureLayout:kw}};function qb(i,t,e){const{props:r}=i;i.animationState&&r.whileHover&&i.animationState.setActive("whileHover",e==="Start");const o="onHover"+e,u=r[o];u&&De.postRender(()=>u(t,sc(t)))}class _6 extends Qr{mount(){const{current:t}=this.node;t&&(this.unmount=z3(t,(e,r)=>(qb(this.node,r,"Start"),o=>qb(this.node,o,"End"))))}unmount(){}}class T6 extends Qr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ec(qu(this.node.current,"focus",()=>this.onFocus()),qu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Gb(i,t,e){const{props:r}=i;if(i.current instanceof HTMLButtonElement&&i.current.disabled)return;i.animationState&&r.whileTap&&i.animationState.setActive("whileTap",e==="Start");const o="onTap"+(e==="End"?"":e),u=r[o];u&&De.postRender(()=>u(t,sc(t)))}class b6 extends Qr{mount(){const{current:t}=this.node;t&&(this.unmount=q3(t,(e,r)=>(Gb(this.node,r,"Start"),(o,{success:u})=>Gb(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const sg=new WeakMap,dp=new WeakMap,E6=i=>{const t=sg.get(i.target);t&&t(i)},S6=i=>{i.forEach(E6)};function A6({root:i,...t}){const e=i||document;dp.has(e)||dp.set(e,{});const r=dp.get(e),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(S6,{root:i,...t})),r[o]}function w6(i,t,e){const r=A6(t);return sg.set(i,e),r.observe(i),()=>{sg.delete(i),r.unobserve(i)}}const x6={some:0,all:1};class R6 extends Qr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:r,amount:o="some",once:u}=t,c={root:e?e.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:x6[o]},m=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:b}=this.node.getProps(),E=g?v:b;E&&E(p)};return w6(this.node.current,c,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(C6(t,e))&&this.startObserver()}unmount(){}}function C6({viewport:i={}},{viewport:t={}}={}){return e=>i[e]!==t[e]}const I6={inView:{Feature:R6},tap:{Feature:b6},focus:{Feature:T6},hover:{Feature:_6}},D6={layout:{ProjectionNode:qw,MeasureLayout:kw}},M6={...p4,...I6,...v6,...D6},Pe=MP(M6,qP);function V6({onClick:i}){return A.jsx(Pe.div,{onClick:t=>{t.stopPropagation(),i()},initial:{scale:0,opacity:0},animate:{scale:[1,1.2,1],rotate:[0,10,-10,0]},transition:{duration:.5,repeat:1/0,repeatType:"reverse"},style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontSize:"2em",zIndex:10,cursor:"pointer",filter:"drop-shadow(0 0 5px rgba(0,0,0,0.5))"},children:""})}function O6({plants:i,onHarvest:t,pests:e,onRemovePest:r}){return A.jsx("div",{className:"log-container",children:A.jsx("div",{className:"mushroom-field",children:i.map((o,u)=>{const c=o&&o.stage==="adult"&&(o.rarity==="rare"||o.rarity==="epic"||o.rarity==="legendary"||o.rarity==="mythic")?`rarity-${o.rarity}`:"";return A.jsx("div",{className:`mushroom-slot ${c}`,onClick:()=>o&&o.stage==="adult"&&t(u),children:A.jsxs(Ey,{mode:"wait",children:[o&&A.jsx(Pe.div,{initial:{scale:0,rotate:-10},animate:{scale:1,rotate:0},exit:{scale:0,y:-20,opacity:0},whileHover:{scale:1.1,rotate:5},whileTap:{scale:.9},className:`mushroom ${o.stage==="baby"?"mushroom-baby":""}`,children:o.stage==="baby"?"":o.emoji},o.id+o.stage),e&&e.has(u)&&A.jsx(V6,{onClick:()=>r(u)})]})},u)})})})}const N6=i=>({common:"#95a5a6",rare:"#3498db",epic:"#9b59b6",legendary:"#f39c12",mythic:"#e74c3c"})[i]||"#95a5a6";function P6({inventory:i,consumables:t,onSell:e,onSellAll:r,onUseConsumable:o,cookedItems:u={},useCookedItem:c,onSellCookedItem:m}){const[p,g]=G.useState({}),[v,b]=G.useState("items"),E=(P,U)=>{g(J=>({...J,[P]:parseInt(U)}))},I=()=>Object.values(i).reduce((P,U)=>P+U.value*U.count,0),L=Object.keys(i).length===0;return A.jsxs("div",{style:{padding:"20px"},children:[A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[A.jsx("h2",{style:{color:"#2d3436",margin:0},children:" "}),v==="items"&&!L&&A.jsxs("button",{onClick:r,style:{padding:"10px 20px",background:"#00b894",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold",whiteSpace:"nowrap",cursor:"pointer"},children:["  ( ",I(),")"]})]}),A.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"20px"},children:[A.jsxs("button",{onClick:()=>b("items"),style:{flex:1,padding:"12px",borderRadius:"10px",border:"none",background:v==="items"?"#00b894":"#dfe6e9",color:v==="items"?"white":"#636e72",fontWeight:"bold",whiteSpace:"nowrap",cursor:"pointer",transition:"all 0.2s"},children:["  (",Object.values(i).reduce((P,U)=>P+U.count,0),")"]}),A.jsxs("button",{onClick:()=>b("consumables"),style:{flex:1,padding:"12px",borderRadius:"10px",border:"none",background:v==="consumables"?"#e17055":"#dfe6e9",color:v==="consumables"?"white":"#636e72",fontWeight:"bold",whiteSpace:"nowrap",cursor:"pointer",transition:"all 0.2s"},children:["  (",(t?.seedBomb||0)+(t?.growthPotion||0)+Object.values(u).reduce((P,U)=>P+U.count,0),")"]})]}),A.jsxs("div",{style:{maxHeight:"600px",overflowY:"auto",paddingRight:"10px",scrollbarWidth:"none",msOverflowStyle:"none"},children:[A.jsx("style",{children:`
          div::-webkit-scrollbar {
            display: none;
          }
        `}),v==="items"?A.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, minmax(0, 1fr))",gap:"15px"},children:A.jsx(Ey,{children:L?A.jsxs("div",{style:{gridColumn:"1 / -1",textAlign:"center",padding:"60px 20px",color:"#636e72"},children:[A.jsx("div",{style:{fontSize:"4em",marginBottom:"10px"},children:""}),A.jsx("p",{style:{fontSize:"1.1em",margin:0},children:"  "}),A.jsx("p",{style:{fontSize:"0.9em",color:"#b2bec3"},children:"  !"})]}):Object.values(i).map(P=>A.jsxs(Pe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},layout:!0,style:{background:"white",borderRadius:"12px",padding:"20px",boxShadow:"0 2px 10px rgba(0,0,0,0.08)",border:`2px solid ${N6(Ls.mushrooms.find(U=>U.emoji===P.emoji)?.rarity)}`},children:[A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",marginBottom:"15px"},children:[A.jsx("div",{style:{fontSize:"3em"},children:P.emoji}),A.jsxs("div",{style:{flex:1},children:[A.jsx("div",{style:{fontSize:"1.1em",fontWeight:"bold",whiteSpace:"nowrap",color:"#2d3436",marginBottom:"4px"},children:P.name}),A.jsxs("div",{style:{fontSize:"0.9em",color:"#636e72",display:"flex",gap:"10px",alignItems:"center"},children:[A.jsxs("span",{children:[" ",P.value]}),A.jsxs("span",{style:{background:"#00b894",color:"white",padding:"4px 10px",borderRadius:"12px",fontSize:"0.95em",fontWeight:"bold",whiteSpace:"nowrap"},children:[P.name,"  ",P.count," "]})]})]})]}),A.jsxs("div",{style:{borderTop:"1px solid #dfe6e9",paddingTop:"15px"},children:[A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"8px"},children:[A.jsxs("span",{style:{fontSize:"0.9em",color:"#636e72",minWidth:"60px",flexShrink:0},children:[p[P.emoji]||1," "]}),A.jsx("input",{type:"range",min:"1",max:P.count,value:p[P.emoji]||1,onChange:U=>E(P.emoji,U.target.value),style:{flex:1,minWidth:0,maxWidth:"100%"}})]}),A.jsxs("button",{onClick:U=>{U.stopPropagation();const J=p[P.emoji]||1;e(P.emoji,J),g(ot=>({...ot,[P.emoji]:1}))},style:{width:"100%",padding:"10px",background:"#00b894",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold",whiteSpace:"nowrap",cursor:"pointer"},children:[" ( ",P.value*(p[P.emoji]||1),")"]})]})]},P.emoji))})}):A.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, minmax(0, 1fr))",gap:"15px"},children:!t||t.seedBomb===0&&t.growthPotion===0&&Object.keys(u).length===0?A.jsxs("div",{style:{gridColumn:"1 / -1",textAlign:"center",padding:"60px 20px",color:"#636e72"},children:[A.jsx("div",{style:{fontSize:"4em",marginBottom:"10px"},children:""}),A.jsx("p",{style:{fontSize:"1.1em",margin:0},children:"  "}),A.jsx("p",{style:{fontSize:"0.9em",color:"#b2bec3"},children:" !"})]}):A.jsxs(A.Fragment,{children:[t.seedBomb>0&&A.jsxs(Pe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},style:{background:"white",borderRadius:"12px",padding:"20px",boxShadow:"0 2px 10px rgba(0,0,0,0.08)",border:"2px solid #e17055"},children:[A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",marginBottom:"15px"},children:[A.jsx("div",{style:{fontSize:"3em"},children:""}),A.jsxs("div",{style:{flex:1},children:[A.jsx("div",{style:{fontSize:"1.1em",fontWeight:"bold",whiteSpace:"nowrap",color:"#2d3436",marginBottom:"4px"},children:" "}),A.jsxs("div",{style:{fontSize:"0.9em",color:"#636e72"},children:["x",t.seedBomb]})]})]}),A.jsxs("div",{style:{borderTop:"1px solid #dfe6e9",paddingTop:"15px"},children:[A.jsx("p",{style:{fontSize:"0.85em",color:"#636e72",margin:"0 0 10px 0"},children:"      "}),A.jsx("button",{onClick:()=>o("seedBomb"),style:{width:"100%",padding:"10px",background:"#e17055",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold",whiteSpace:"nowrap",cursor:"pointer"},children:""})]})]}),t.growthPotion>0&&A.jsxs(Pe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},style:{background:"white",borderRadius:"12px",padding:"20px",boxShadow:"0 2px 10px rgba(0,0,0,0.08)",border:"2px solid #6c5ce7"},children:[A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",marginBottom:"15px"},children:[A.jsx("div",{style:{fontSize:"3em"},children:""}),A.jsxs("div",{style:{flex:1},children:[A.jsx("div",{style:{fontSize:"1.1em",fontWeight:"bold",whiteSpace:"nowrap",color:"#2d3436",marginBottom:"4px"},children:" "}),A.jsxs("div",{style:{fontSize:"0.9em",color:"#636e72"},children:["x",t.growthPotion]})]})]}),A.jsxs("div",{style:{borderTop:"1px solid #dfe6e9",paddingTop:"15px"},children:[A.jsx("p",{style:{fontSize:"0.85em",color:"#636e72",margin:"0 0 10px 0"},children:"   "}),A.jsx("button",{onClick:()=>o("growthPotion"),style:{width:"100%",padding:"10px",background:"#6c5ce7",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold",whiteSpace:"nowrap",cursor:"pointer"},children:""})]})]}),Object.values(u).map(P=>A.jsxs(Pe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},style:{background:"white",borderRadius:"12px",padding:"20px",boxShadow:"0 2px 10px rgba(0,0,0,0.08)",border:"2px solid #fdcb6e"},children:[A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",marginBottom:"15px"},children:[A.jsx("div",{style:{fontSize:"3em"},children:P.emoji}),A.jsxs("div",{style:{flex:1},children:[A.jsx("div",{style:{fontSize:"1.1em",fontWeight:"bold",whiteSpace:"nowrap",color:"#2d3436",marginBottom:"4px"},children:P.name}),A.jsxs("div",{style:{fontSize:"0.9em",color:"#636e72"},children:["x",P.count]})]})]}),A.jsxs("div",{style:{borderTop:"1px solid #dfe6e9",paddingTop:"15px"},children:[A.jsx("p",{style:{fontSize:"0.85em",color:"#636e72",margin:"0 0 10px 0"},children:P.description}),A.jsxs("div",{style:{display:"flex",gap:"10px"},children:[A.jsxs("button",{onClick:()=>m(P.id),style:{flex:1,padding:"10px",background:"#00b894",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold",whiteSpace:"nowrap",cursor:"pointer"},children:[" ( ",P.value,")"]}),P.effect&&A.jsx("button",{onClick:()=>c(P.id),style:{flex:1,padding:"10px",background:"#fdcb6e",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold",whiteSpace:"nowrap",cursor:"pointer"},children:""})]})]})]},P.id))]})})]})]})}function k6({gold:i,upgradeLevel:t,unlocks:e,rarityLevel:r,fertilizerLevel:o,onBuyUpgrade:u,onBuyUnlock:c,onBuyRarityUpgrade:m,onBuyFertilizerUpgrade:p,onBuyConsumable:g,onBuyLuckyBox:v,pets:b,onBuyPet:E}){const I=100+t*50,L=1e3*r,P=500,U=500;return A.jsx("div",{className:"shop-container",children:A.jsxs("div",{className:"shop-items",style:{display:"flex",flexDirection:"column",gap:"20px"},children:[A.jsxs(Pe.div,{className:"shop-item",initial:{opacity:0,y:20},animate:{opacity:1,y:0},style:{background:"white",borderRadius:"16px",padding:"20px",display:"flex",alignItems:"center",gap:"20px",boxShadow:"0 4px 15px rgba(0,0,0,0.05)"},children:[A.jsx("div",{style:{fontSize:"3em"},children:""}),A.jsxs("div",{style:{flex:1},children:[A.jsx("div",{className:"text-black",style:{fontSize:"1.2em",fontWeight:"bold"},children:"  "}),A.jsx("div",{style:{color:"#636e72",fontSize:"0.9em"},children:"  10%  ()"}),A.jsxs("div",{style:{color:"#6c5ce7",fontWeight:"bold",fontSize:"0.9em"},children:[": ",t]})]}),A.jsxs("button",{className:"btn",onClick:u,disabled:i<I,style:{opacity:i<I?.5:1},children:[" ",I]})]}),A.jsxs(Pe.div,{className:"shop-item",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},style:{background:"white",borderRadius:"16px",padding:"20px",display:"flex",alignItems:"center",gap:"20px",boxShadow:"0 4px 15px rgba(0,0,0,0.05)"},children:[A.jsx("div",{style:{fontSize:"3em"},children:""}),A.jsxs("div",{style:{flex:1},children:[A.jsx("div",{className:"text-black",style:{fontSize:"1.2em",fontWeight:"bold"},children:" "}),A.jsx("div",{style:{color:"#636e72",fontSize:"0.9em"},children:"    "}),A.jsxs("div",{style:{color:"#6c5ce7",fontWeight:"bold",fontSize:"0.9em"},children:[": ",r]})]}),A.jsxs("button",{className:"btn",onClick:m,disabled:i<L,style:{opacity:i<L?.5:1},children:[" ",L]})]}),A.jsxs(Pe.div,{className:"shop-item",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},style:{background:"white",borderRadius:"16px",padding:"20px",display:"flex",alignItems:"center",gap:"20px",boxShadow:"0 4px 15px rgba(0,0,0,0.05)"},children:[A.jsx("div",{style:{fontSize:"3em"},children:""}),A.jsxs("div",{style:{flex:1},children:[A.jsx("div",{className:"text-black",style:{fontSize:"1.2em",fontWeight:"bold"},children:"  "}),A.jsx("div",{style:{color:"#636e72",fontSize:"0.9em"},children:"     "})]}),A.jsx("button",{className:"btn",onClick:()=>c("statistics"),disabled:e.statistics||i<P,style:{opacity:e.statistics||i<P?.5:1},children:e.statistics?" ":` ${P}`})]}),A.jsxs(Pe.div,{className:"shop-item",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},style:{background:"white",borderRadius:"16px",padding:"20px",display:"flex",alignItems:"center",gap:"20px",boxShadow:"0 4px 15px rgba(0,0,0,0.05)"},children:[A.jsx("div",{style:{fontSize:"3em"},children:""}),A.jsxs("div",{style:{flex:1},children:[A.jsx("div",{className:"text-black",style:{fontSize:"1.2em",fontWeight:"bold"},children:"   "}),A.jsx("div",{style:{color:"#636e72",fontSize:"0.9em"},children:"       "})]}),A.jsx("button",{className:"btn",onClick:()=>c("harvestAll"),disabled:e.harvestAll||i<U,style:{opacity:e.harvestAll||i<U?.5:1},children:e.harvestAll?" ":` ${U}`})]}),A.jsxs(Pe.div,{className:"shop-item",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},style:{background:"white",borderRadius:"16px",padding:"20px",display:"flex",alignItems:"center",gap:"20px",boxShadow:"0 4px 15px rgba(0,0,0,0.05)"},children:[A.jsx("div",{style:{fontSize:"3em"},children:""}),A.jsxs("div",{style:{flex:1},children:[A.jsx("div",{className:"text-black",style:{fontSize:"1.2em",fontWeight:"bold"},children:"  "}),A.jsx("div",{style:{color:"#636e72",fontSize:"0.9em"},children:"  10% "}),A.jsxs("div",{style:{color:"#6c5ce7",fontWeight:"bold",fontSize:"0.9em"},children:[": ",o]})]}),A.jsxs("button",{className:"btn",onClick:p,disabled:i<1e3+o*500,style:{opacity:i<1e3+o*500?.5:1},children:[" ",1e3+o*500]})]}),A.jsx("div",{style:{borderTop:"2px solid #dfe6e9",margin:"10px 0",paddingTop:"10px"},children:A.jsx("h3",{style:{color:"#2d3436",marginBottom:"15px"},children:" "})}),A.jsxs(Pe.div,{className:"shop-item",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},style:{background:"white",borderRadius:"16px",padding:"20px",display:"flex",alignItems:"center",gap:"20px",boxShadow:"0 4px 15px rgba(0,0,0,0.05)",border:"2px solid #e17055"},children:[A.jsx("div",{style:{fontSize:"3em"},children:""}),A.jsxs("div",{style:{flex:1},children:[A.jsx("div",{className:"text-black",style:{fontSize:"1.2em",fontWeight:"bold"},children:" "}),A.jsx("div",{style:{color:"#636e72",fontSize:"0.9em"},children:"      !"})]}),A.jsx("button",{className:"btn",onClick:()=>g("seedBomb",2e3),disabled:i<2e3,style:{opacity:i<2e3?.5:1,background:"#e17055"},children:" 2000"})]}),A.jsxs(Pe.div,{className:"shop-item",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},style:{background:"white",borderRadius:"16px",padding:"20px",display:"flex",alignItems:"center",gap:"20px",boxShadow:"0 4px 15px rgba(0,0,0,0.05)",border:"2px solid #a29bfe"},children:[A.jsx("div",{style:{fontSize:"3em"},children:""}),A.jsxs("div",{style:{flex:1},children:[A.jsx("div",{className:"text-black",style:{fontSize:"1.2em",fontWeight:"bold"},children:" "}),A.jsx("div",{style:{color:"#636e72",fontSize:"0.9em"},children:"  ! ( )"}),A.jsx("div",{style:{fontSize:"0.75em",color:"#b2bec3",marginTop:"5px"},children:": (0.5%), (5%), (40%), (54.5%)"})]}),A.jsx("button",{className:"btn",onClick:v,disabled:i<250,style:{opacity:i<250?.5:1,background:"#a29bfe"},children:" 250"})]}),A.jsxs(Pe.div,{className:"shop-item",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},style:{background:"white",borderRadius:"16px",padding:"20px",display:"flex",alignItems:"center",gap:"20px",boxShadow:"0 4px 15px rgba(0,0,0,0.05)",border:"2px solid #fdcb6e"},children:[A.jsx("div",{style:{fontSize:"3em"},children:""}),A.jsxs("div",{style:{flex:1},children:[A.jsx("div",{className:"text-black",style:{fontSize:"1.2em",fontWeight:"bold"},children:" "}),A.jsx("div",{style:{color:"#636e72",fontSize:"0.9em"},children:"     !"}),A.jsx("div",{style:{color:"#fdcb6e",fontWeight:"bold",fontSize:"0.9em"},children:b.dog?"":""})]}),A.jsx("button",{className:"btn",onClick:()=>E("dog",5e3),disabled:i<5e3||b.dog,style:{opacity:i<5e3||b.dog?.5:1,background:b.dog?"#b2bec3":"#fdcb6e"},children:b.dog?"":" 5000"})]})]})})}function j6({gold:i,foodState:t,fertilizerLevel:e,onActivateFood:r,onCancelFood:o}){const[u,c]=G.useState(0);G.useEffect(()=>{if(!t.active)return;const v=setInterval(()=>{const b=Math.max(0,t.endTime-Date.now());c(b),b<=0&&clearInterval(v)},100);return()=>clearInterval(v)},[t]);const m=v=>{const b=Math.floor(v/1e3),E=Math.floor(b/60),I=b%60;return`${E}:${I.toString().padStart(2,"0")}`},p=()=>{if(!t.active)return 0;const E=({"3min-free":18e4,"1min":6e4,"5min":3e5,"10min":6e5}[t.type]||0)*(1+e*.1);return u/E*100};if(t.active)return A.jsxs("div",{className:"food-system",style:{background:"rgba(255,255,255,0.8)",padding:"15px",borderRadius:"16px",marginBottom:"20px"},children:[A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"},children:[A.jsx("span",{style:{fontWeight:"bold",color:"#d35400"},children:"  "}),A.jsx("span",{style:{fontWeight:"bold",color:"#6c5ce7"},children:m(u)})]}),A.jsx("div",{style:{height:"20px",background:"rgba(0,0,0,0.1)",borderRadius:"10px",overflow:"hidden",marginBottom:"10px"},children:A.jsx("div",{style:{height:"100%",width:`${p()}%`,background:"linear-gradient(90deg, #10ac84, #1dd1a1)",transition:"width 0.1s linear"}})}),A.jsx("button",{className:"btn btn-secondary",onClick:o,style:{width:"100%",padding:"8px"},children:"  "})]});const g=[{id:"3min-free",name:"",baseDuration:18e4,info:" (0.5x)",cost:0,color:"linear-gradient(135deg, #a8e6cf 0%, #3dccc7 100%)"},{id:"1min",name:"",baseDuration:6e4,info:" (2.5x)",cost:200,color:"linear-gradient(135deg, #ff9a9e 0%, #ff6b6b 100%)"},{id:"5min",name:"",baseDuration:3e5,info:" (1x)",cost:150,color:"linear-gradient(135deg, #a18cd1 0%, #fbc2eb 100%)"},{id:"10min",name:"",baseDuration:6e5,info:" (0.7x)",cost:350,color:"linear-gradient(135deg, #95e1d3 0%, #38ada9 100%)"}];return A.jsx("div",{className:"food-system",style:{marginBottom:"20px"},children:A.jsx("div",{style:{display:"flex",gap:"10px",overflowX:"auto",paddingBottom:"5px"},children:g.map(v=>{const b=v.baseDuration*(1+e*.1),E=Math.floor(b/6e4),I=Math.floor(b%6e4/1e3),L=I>0?`${E} ${I}`:`${E}`;return A.jsxs(Pe.button,{whileHover:{y:-2},whileTap:{scale:.95},onClick:()=>r(v.id),disabled:i<v.cost,style:{flex:"1",minWidth:"100px",border:"none",borderRadius:"12px",padding:"10px",background:v.color,color:"white",cursor:"pointer",opacity:i<v.cost?.5:1,display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},children:[A.jsxs("div",{style:{fontWeight:"bold",fontSize:"0.9em"},children:[v.id==="3min-free"?"":v.id==="1min"?"":v.id==="5min"?"":""," ",L," ",v.name]}),A.jsx("div",{style:{fontSize:"0.7em",opacity:.9},children:v.info}),A.jsx("div",{style:{fontWeight:"bold",fontSize:"0.8em"},children:v.cost===0?"":` ${v.cost}`})]},v.id)})})})}var L6=Kb();const U6=i=>({common:"#95a5a6",rare:"#3498db",epic:"#9b59b6",legendary:"#f39c12",mythic:"#e74c3c"})[i]||"#95a5a6";function z6({inventory:i,cookedItems:t,useCookedItem:e,cookingState:r,discoveredRecipes:o,startCooking:u,claimDish:c}){const[m,p]=G.useState([]),[g,v]=G.useState("ingredients"),[b,E]=G.useState(0),[I,L]=G.useState(!1),[P,U]=G.useState(null);G.useEffect(()=>{if(r.active){const R=setInterval(()=>{const C=Date.now()-r.startTime,N=Math.max(0,r.duration-C);E(N)},100);return()=>clearInterval(R)}else E(0)},[r]);const J=R=>{m.length<3&&p([...m,R])},ot=R=>{if(!r.active){const w=[...m];w.splice(R,1),p(w)}},et=()=>{m.length===3&&(u(m),p([]))},gt=()=>{r.result&&(U(r.result),L(!0),c(),setTimeout(()=>L(!1),3e3))},dt=r.active&&b>0,ft=r.active&&b===0&&Date.now()-r.startTime>=r.duration;return A.jsxs("div",{className:"kitchen-container",style:{paddingBottom:"80px",position:"relative"},children:[L6.createPortal(A.jsx(Ey,{children:I&&P&&A.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:9999,pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},children:[A.jsx(Pe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.5)",pointerEvents:"auto"},onClick:()=>L(!1)}),A.jsxs(Pe.div,{initial:{scale:.8,y:50},animate:{scale:1,y:0},exit:{scale:.8,y:50},onClick:R=>R.stopPropagation(),style:{background:"white",padding:"30px",borderRadius:"20px",boxShadow:"0 10px 30px rgba(0,0,0,0.2)",textAlign:"center",minWidth:"300px",maxWidth:"90%",border:`4px solid ${P.effect?"#fdcb6e":"#b2bec3"}`,zIndex:1e4,pointerEvents:"auto",position:"relative"},children:[A.jsx("div",{style:{fontSize:"5em",marginBottom:"10px"},children:P.emoji}),A.jsxs("h2",{style:{margin:"0 0 10px 0",color:"#2d3436"},children:[P.name," ",P.isRecipeInfo?"":"!"]}),A.jsx("p",{style:{color:"#636e72",marginBottom:"20px"},children:P.description}),P.isRecipeInfo&&A.jsxs("div",{style:{background:"#f1f2f6",padding:"15px",borderRadius:"12px",marginBottom:"20px",textAlign:"left"},children:[A.jsxs("div",{style:{marginBottom:"10px"},children:[A.jsx("span",{style:{fontWeight:"bold",color:"#2d3436"},children:" :"}),A.jsx("div",{style:{display:"flex",gap:"10px",marginTop:"5px"},children:(P.ingredients||["","",""]).map((R,w)=>A.jsx("div",{style:{fontSize:"1.5em",background:"white",borderRadius:"8px",padding:"5px",boxShadow:"0 2px 5px rgba(0,0,0,0.05)"},children:R},w))})]}),P.effect&&A.jsxs("div",{style:{marginBottom:"10px"},children:[A.jsx("span",{style:{fontWeight:"bold",color:"#2d3436"},children:":"}),A.jsxs("div",{style:{color:"#0984e3"},children:[P.effect.type==="speed"&&"   ",P.effect.type==="gold"&&"   ",P.effect.type==="spawn_rate"&&"    ",P.effect.type==="add_consumable"&&"  ",P.effect.type==="instant_growth"&&"  "," ","(",P.effect.duration>0?`${P.effect.duration/6e4}`:"",")"]})]}),A.jsxs("div",{children:[A.jsx("span",{style:{fontWeight:"bold",color:"#2d3436"},children:" :"}),A.jsxs("span",{style:{fontWeight:"bold",color:"#f1c40f",marginLeft:"5px"},children:[" ",P.value]})]})]}),A.jsx("button",{onClick:()=>L(!1),style:{padding:"10px 30px",background:"#00b894",color:"white",border:"none",borderRadius:"10px",fontWeight:"bold",cursor:"pointer",fontSize:"1.1em"},children:""})]})]},"popup-overlay")}),document.body),A.jsxs("div",{style:{background:"white",borderRadius:"16px",padding:"20px",marginBottom:"20px",boxShadow:"0 4px 15px rgba(0,0,0,0.05)",textAlign:"center"},children:[A.jsx("h2",{style:{margin:"0 0 20px 0",color:"#2d3436"},children:"  "}),A.jsx("div",{style:{width:"120px",height:"100px",background:"#636e72",borderRadius:"0 0 40px 40px",margin:"0 auto 20px auto",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"3em"},children:dt?A.jsx(Pe.div,{animate:{y:[0,-10,0]},transition:{repeat:1/0,duration:1},children:""}):ft?A.jsx(Pe.div,{animate:{scale:[1,1.2,1]},transition:{repeat:1/0,duration:.5},children:""}):A.jsx("span",{children:""})}),A.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"15px",marginBottom:"20px"},children:[0,1,2].map(R=>{const w=r.active?r.ingredients[R]:m[R];return A.jsx("div",{onClick:()=>ot(R),style:{width:"60px",height:"60px",borderRadius:"12px",background:"#f1f2f6",border:"2px dashed #b2bec3",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2em",cursor:!r.active&&w?"pointer":"default"},children:w},R)})}),dt?A.jsxs("div",{children:[A.jsxs("div",{style:{marginBottom:"10px",fontWeight:"bold",color:"#e17055"},children:[" ... ",(b/1e3).toFixed(1),""]}),A.jsx("div",{style:{width:"100%",height:"10px",background:"#dfe6e9",borderRadius:"5px",overflow:"hidden"},children:A.jsx(Pe.div,{style:{height:"100%",background:"#e17055"},initial:{width:"0%"},animate:{width:`${(r.duration-b)/r.duration*100}%`}})})]}):ft?A.jsx("button",{onClick:gt,style:{padding:"12px 30px",background:"#fdcb6e",color:"white",border:"none",borderRadius:"25px",fontSize:"1.1em",fontWeight:"bold",cursor:"pointer",boxShadow:"0 4px 0 #e1b12c"},children:" ! "}):A.jsx("button",{onClick:et,disabled:m.length!==3,style:{padding:"12px 30px",background:m.length===3?"#00b894":"#b2bec3",color:"white",border:"none",borderRadius:"25px",fontSize:"1.1em",fontWeight:"bold",cursor:m.length===3?"pointer":"not-allowed",boxShadow:m.length===3?"0 4px 0 #008c70":"none"},children:"  "})]}),A.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"20px"},children:[A.jsx("button",{onClick:()=>v("ingredients"),style:{flex:1,padding:"12px",borderRadius:"10px",border:"none",background:g==="ingredients"?"#6c5ce7":"#dfe6e9",color:g==="ingredients"?"white":"#636e72",fontWeight:"bold",cursor:"pointer"},children:"  "}),A.jsx("button",{onClick:()=>v("recipes"),style:{flex:1,padding:"12px",borderRadius:"10px",border:"none",background:g==="recipes"?"#fdcb6e":"#dfe6e9",color:g==="recipes"?"white":"#636e72",fontWeight:"bold",cursor:"pointer"},children:"  "})]}),g==="ingredients"?A.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"10px",maxHeight:"400px",overflowY:"auto"},children:Object.values(i).map(R=>A.jsxs("div",{onClick:()=>J(R.emoji),style:{background:"white",borderRadius:"12px",padding:"10px",textAlign:"center",border:`2px solid ${U6(Ls.mushrooms.find(w=>w.emoji===R.emoji)?.rarity)}`,cursor:"pointer",opacity:R.count>0?1:.5},children:[A.jsx("div",{style:{fontSize:"2em"},children:R.emoji}),A.jsxs("div",{style:{fontSize:"0.8em",fontWeight:"bold",color:"#2d3436"},children:["x",R.count]})]},R.emoji))}):A.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"10px",maxHeight:"400px",overflowY:"auto",padding:"5px"},children:[A.jsxs("div",{onClick:()=>{U({id:"mixed_stew",name:" ",emoji:"",description:"    .    .",ingredients:["","",""],value:"???",effect:null,isRecipeInfo:!0}),L(!0)},style:{background:"white",borderRadius:"16px",padding:"15px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"pointer",boxShadow:"0 4px 10px rgba(0,0,0,0.05)",transition:"transform 0.2s",aspectRatio:"0.8",border:"2px solid #b2bec3"},children:[A.jsx("div",{style:{fontSize:"3em",marginBottom:"10px"},children:""}),A.jsx("div",{style:{fontWeight:"bold",fontSize:"0.9em",color:"#2d3436"},children:" "})]}),Gh.recipes.map(R=>{const w=o.includes(R.id);return A.jsxs("div",{onClick:()=>{w&&(U({...R,isRecipeInfo:!0}),L(!0))},style:{background:w?"white":"#dfe6e9",borderRadius:"16px",padding:"15px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:w?"pointer":"default",boxShadow:w?"0 4px 10px rgba(0,0,0,0.05)":"none",transition:"transform 0.2s",aspectRatio:"0.8",border:w?"2px solid #fdcb6e":"2px dashed #b2bec3"},children:[A.jsx("div",{style:{fontSize:"3em",marginBottom:"10px",filter:w?"none":"grayscale(100%) opacity(0.5)"},children:w?R.emoji:""}),A.jsx("div",{style:{fontWeight:"bold",fontSize:"0.9em",color:w?"#2d3436":"#636e72"},children:w?R.name:"???"})]},R.id)})]})]})}function B6({resetGame:i,activateGodMode:t,user:e,onLogin:r,onLogout:o,onSave:u,onLoad:c,isSaving:m,lastSaved:p}){return A.jsxs("div",{className:"settings-container",style:{background:"white",padding:"20px",borderRadius:"16px",boxShadow:"0 4px 15px rgba(0,0,0,0.05)"},children:[A.jsx("h2",{style:{color:"#2d3436",marginBottom:"20px"},children:""}),A.jsxs("div",{style:{marginBottom:"30px",padding:"15px",background:"#f8f9fa",borderRadius:"12px"},children:[A.jsx("h3",{style:{margin:"0 0 15px 0",color:"#6c5ce7"},children:"  "}),e?A.jsxs("div",{children:[A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"15px",padding:"10px",background:"white",borderRadius:"8px",border:"1px solid #dfe6e9"},children:[A.jsx("img",{src:e.photoURL,alt:"Profile",style:{width:"32px",height:"32px",borderRadius:"50%"}}),A.jsxs("div",{style:{flex:1,overflow:"hidden"},children:[A.jsx("div",{style:{fontWeight:"bold",fontSize:"0.9em"},children:e.displayName}),A.jsx("div",{style:{fontSize:"0.8em",color:"#636e72",textOverflow:"ellipsis",overflow:"hidden"},children:e.email})]}),A.jsx("button",{onClick:o,style:{padding:"5px 10px",fontSize:"0.8em",background:"#ff7675",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:""})]}),A.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:[A.jsx("button",{onClick:u,disabled:m,className:"btn",style:{fontSize:"0.9em",padding:"10px"},children:m?" ...":"  "}),A.jsx("button",{onClick:c,disabled:m,className:"btn-secondary",style:{fontSize:"0.9em",padding:"10px"},children:" "})]}),p&&A.jsxs("div",{style:{textAlign:"center",marginTop:"10px",fontSize:"0.8em",color:"#00b894"},children:["  : ",p.toLocaleTimeString()]})]}):A.jsxs("div",{style:{textAlign:"center"},children:[A.jsx("p",{style:{color:"#636e72",marginBottom:"15px"},children:"    ."}),A.jsx("button",{onClick:r,className:"btn",style:{width:"100%",background:"#4285F4"},children:"Google  "})]})]}),A.jsxs("div",{style:{marginBottom:"20px"},children:[A.jsx("h3",{style:{margin:"0 0 10px 0",color:"#d63031"},children:"  "}),A.jsx("p",{style:{fontSize:"0.9em",color:"#636e72",marginBottom:"10px"},children:"     . ( )"}),A.jsx("button",{onClick:()=>{window.confirm(" ?   !")&&i()},style:{width:"100%",padding:"12px",background:"#d63031",color:"white",border:"none",borderRadius:"10px",fontWeight:"bold",cursor:"pointer"},children:"  "})]}),A.jsx("div",{style:{height:"50px",marginTop:"30px"},onClick:g=>{g.detail===5&&t()}}),A.jsx("div",{style:{textAlign:"center",fontSize:"0.8em",color:"#b2bec3"},children:"v1.9.1 (Cloud Enabled)"})]})}function F6({activeQuests:i,questTimer:t,onRefresh:e,onReroll:r,onComplete:o,inventory:u,cookedItems:c}){const[m,p]=G.useState(""),[g,v]=G.useState(!1);G.useEffect(()=>{const I=setInterval(()=>{const L=Date.now(),P=Math.max(0,t-L);if(P===0)v(!0),p("  !");else{v(!1);const U=Math.floor(P/6e4),J=Math.floor(P%6e4/1e3);p(`${U} ${J}`)}},1e3);return()=>clearInterval(I)},[t]);const b=500,E=100;return A.jsx("div",{className:"quests-container",children:A.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.9)",padding:"20px",borderRadius:"16px",marginBottom:"20px",boxShadow:"0 4px 15px rgba(0,0,0,0.1)"},children:[A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[A.jsx("h2",{style:{margin:0,color:"#2d3436"},children:"  "}),A.jsxs("div",{style:{textAlign:"right"},children:[A.jsx("div",{style:{fontSize:"0.9em",color:g?"#00b894":"#636e72",fontWeight:g?"bold":"normal"},children:g?"   !":`  : ${m}`}),A.jsx("button",{onClick:()=>e(b),style:{background:g?"#00b894":"#74b9ff",border:"none",padding:"8px 16px",borderRadius:"8px",color:"white",cursor:"pointer",fontSize:"0.9em",marginTop:"5px",fontWeight:"bold",boxShadow:"0 2px 5px rgba(0,0,0,0.1)"},children:g?"   ":`   (${b}G)`})]})]}),A.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"15px"},children:i.map(I=>{const L=I.request;let P=0;L.type==="plant"?P=u[L.id]?.count||0:P=c[L.id]?.count||0;const U=P>=L.count;return A.jsxs(Pe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},style:{background:"#fff",border:"1px solid #dfe6e9",borderRadius:"12px",padding:"15px",position:"relative",boxShadow:"0 2px 5px rgba(0,0,0,0.05)"},children:[A.jsx("div",{style:{position:"absolute",top:"10px",right:"10px"},children:A.jsx("button",{onClick:()=>r(I.id),title:`   (${E}G)`,style:{background:"none",border:"1px solid #b2bec3",borderRadius:"50%",width:"24px",height:"24px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.8em",color:"#636e72"},children:""})}),A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px",paddingRight:"30px"},children:[A.jsx("div",{style:{fontSize:"2em"},children:I.npcEmoji}),A.jsxs("div",{children:[A.jsx("div",{style:{fontWeight:"bold",color:"#2d3436"},children:I.npcName}),A.jsxs("div",{style:{fontSize:"0.8em",color:"#636e72",fontStyle:"italic"},children:['"',I.dialogue,'"']})]})]}),A.jsxs("div",{style:{background:"#f1f2f6",padding:"10px",borderRadius:"8px",marginBottom:"10px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[A.jsx("span",{style:{fontSize:"1.5em"},children:L.emoji}),A.jsxs("div",{children:[A.jsx("div",{style:{fontWeight:"bold"},children:L.name}),A.jsxs("div",{style:{fontSize:"0.8em",color:U?"#00b894":"#d63031"},children:[P," / ",L.count]})]})]}),A.jsxs("div",{style:{textAlign:"right"},children:[A.jsx("div",{style:{fontSize:"0.8em",color:"#636e72"},children:""}),A.jsxs("div",{style:{fontWeight:"bold",color:"#fdcb6e"},children:[" ",I.reward.gold]})]})]}),A.jsx("div",{style:{display:"flex",gap:"5px"},children:A.jsx("button",{onClick:()=>o(I.id),disabled:!U,style:{flex:1,padding:"10px",border:"none",borderRadius:"8px",background:U?"#00b894":"#b2bec3",color:"white",fontWeight:"bold",cursor:U?"pointer":"not-allowed",transition:"background 0.2s"},children:U?"":" "})}),A.jsxs("div",{style:{textAlign:"center",marginTop:"5px",fontSize:"0.7em",color:"#b2bec3"},children:[" : ",E,"G"]})]},I.id)})}),i.length===0&&A.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#b2bec3"},children:"   .    ."})]})})}function H6({dailyReward:i,onClaim:t,onClose:e}){const[r,o]=G.useState(!1);G.useEffect(()=>{if(i.lastClaimed){const p=new Date(i.lastClaimed),g=new Date,v=p.getFullYear()===g.getFullYear()&&p.getMonth()===g.getMonth()&&p.getDate()===g.getDate();o(v)}},[i]);const u=[{day:1,label:"500 G",icon:""},{day:2,label:"1000 G",icon:""},{day:3,label:"  x1",icon:""},{day:4,label:"2000 G",icon:""},{day:5,label:"  x1",icon:""},{day:6,label:"  x2",icon:""},{day:7,label:"5000 G +  x3",icon:""}],c=()=>{t().success&&o(!0)};i.streak%7+1;const m=i.streak;return A.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2e3},children:A.jsxs("div",{style:{background:"white",padding:"20px",borderRadius:"20px",maxWidth:"400px",width:"90%",textAlign:"center",boxShadow:"0 10px 25px rgba(0,0,0,0.2)"},children:[A.jsx("h2",{style:{color:"#6c5ce7",marginBottom:"5px"},children:"  "}),A.jsx("p",{style:{color:"#636e72",marginBottom:"20px"},children:"   !"}),A.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"10px",marginBottom:"20px"},children:u.map(p=>{let g="locked";r?p.day<=m&&(g="done"):(p.day<=m&&(g="done"),p.day===m+1&&(g="target"));const v=p.day===7;return A.jsxs("div",{style:{gridColumn:v?"span 4":"span 1",background:g==="done"?"#dfe6e9":g==="target"?"#ffeaa7":"#f1f2f6",border:g==="target"?"2px solid #fdcb6e":"1px solid #dfe6e9",borderRadius:"10px",padding:"10px",opacity:g==="done"?.6:1,position:"relative"},children:[A.jsxs("div",{style:{fontSize:"0.8em",color:"#b2bec3",marginBottom:"5px"},children:["Day ",p.day]}),A.jsx("div",{style:{fontSize:"1.5em",marginBottom:"5px"},children:p.icon}),A.jsx("div",{style:{fontSize:"0.7em",fontWeight:"bold",color:"#2d3436"},children:p.label}),g==="done"&&A.jsx("div",{style:{position:"absolute",top:5,right:5},children:""})]},p.day)})}),A.jsx("button",{onClick:c,disabled:r,className:"btn",style:{width:"100%",padding:"15px",background:r?"#b2bec3":"#00b894",fontSize:"1.1em",marginBottom:"10px"},children:r?"  !":" "}),A.jsx("button",{onClick:e,style:{background:"none",border:"none",color:"#636e72",cursor:"pointer",textDecoration:"underline"},children:""})]})})}function q6({result:i,onClose:t}){return i?A.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},onClick:t,children:A.jsxs(Pe.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},exit:{scale:0,opacity:0},transition:{type:"spring",damping:15},style:{background:"white",padding:"30px",borderRadius:"20px",textAlign:"center",maxWidth:"300px",boxShadow:"0 10px 30px rgba(0,0,0,0.3)",border:"4px solid #a29bfe"},onClick:e=>e.stopPropagation(),children:[A.jsx("div",{style:{fontSize:"4em",marginBottom:"10px"},children:i.type==="jackpot"?"":i.type==="big_win"?"":i.type==="item"?"":i.type==="trash"?"":""}),A.jsx("h2",{style:{color:i.type==="trash"?"#636e72":"#2d3436",marginBottom:"10px"},children:i.message}),A.jsx("div",{style:{fontSize:"1.2em",fontWeight:"bold",color:i.type==="jackpot"?"#e17055":"#6c5ce7",marginBottom:"20px"},children:i.rewardText}),A.jsx("button",{className:"btn",onClick:t,style:{width:"100%"},children:""})]})}):null}function G6({type:i}){const[t,e]=G.useState({x:50,y:80}),[r,o]=G.useState(1),[u,c]=G.useState("idle");G.useEffect(()=>{const p=setInterval(()=>{const g=Math.random();g<.6?(c("walk"),o(v=>Math.random()<.2?-v:v),e(v=>{let b=v.x+r*5;return b<10?(b=10,o(1)):b>90&&(b=90,o(-1)),{...v,x:b}})):g<.9?c("idle"):c("sleep")},2e3);return()=>clearInterval(p)},[r]);const m=()=>i==="dog"?u==="sleep"?" ":"":"";return A.jsx(Pe.div,{animate:{left:`${t.x}%`,bottom:`${t.y}px`,scaleX:r},transition:{duration:2,ease:"linear"},style:{position:"fixed",fontSize:"3em",zIndex:90,pointerEvents:"none",filter:"drop-shadow(0 4px 4px rgba(0,0,0,0.3))"},children:m()})}function K6(){const{user:i,handleLogin:t,handleLogout:e,handleSaveGame:r,handleLoadGame:o,isSaving:u,lastSaved:c,dailyReward:m,claimDailyReward:p,gold:g,plants:v,inventory:b,upgradeLevel:E,unlocks:I,rarityLevel:L,fertilizerLevel:P,consumables:U,foodState:J,pityCounter:ot,harvest:et,sell:gt,sellAll:dt,buyUpgrade:ft,buyUnlock:R,buyRarityUpgrade:w,buyFertilizerUpgrade:C,buyConsumable:N,useConsumable:V,harvestAll:z,activateFood:D,cancelFood:Ht,cookedItems:re,useCookedItem:W,activeBuffs:st,cookingState:yt,discoveredRecipes:Vt,startCooking:Ct,claimDish:k,sellCookedItem:tt,resetGame:pt,activateGodMode:vt,buyLuckyBox:xt,pests:Pt,removePest:qt,pets:we,buyPet:me}=$O(),[ie,gn]=G.useState("game"),[Oi,$n]=G.useState(!1),[Me,Qi]=G.useState(null),Un=()=>{const bt=xt();bt&&bt.success?Qi(bt.result):bt&&!bt.success&&alert(bt.message)};G.useEffect(()=>{window.scrollTo(0,0)},[ie]),G.useEffect(()=>{if(m.lastClaimed){const bt=new Date(m.lastClaimed),Ut=new Date;bt.getFullYear()===Ut.getFullYear()&&bt.getMonth()===Ut.getMonth()&&bt.getDate()===Ut.getDate()||$n(!0)}else $n(!0)},[]);const vs=()=>{const bt=p();return bt.success,bt},Ni=v.filter(bt=>bt&&bt.stage==="adult").length,xe=Object.values(b).reduce((bt,Ut)=>bt+Ut.count,0),Ve=()=>{const bt=st.filter(se=>se.type==="rarity_boost"),Ut=Ls.mushrooms.filter(se=>!(se.rarity==="epic"&&L<5||se.rarity==="legendary"&&L<10||se.rarity==="mythic"&&L<15)).map(se=>{let Te=1;return bt.forEach(zn=>{(zn.target==="all"&&se.rarity!=="common"||zn.target===se.rarity)&&(Te*=zn.value)}),{...se,effectiveWeight:se.rarity==="common"?se.weight/(1+L*.15):se.weight*(1+(L-1)*.8)*Te}}),xn=Ut.reduce((se,Te)=>se+Te.effectiveWeight,0),Pn={};return Ut.forEach(se=>{Pn[se.rarity]||(Pn[se.rarity]=0),Pn[se.rarity]+=se.effectiveWeight}),Object.entries(Pn).map(([se,Te])=>({rarity:se,probability:(Te/xn*100).toFixed(2)}))},ci=()=>{if(!J.active)return"0% ()";const Ut=1+st.filter(Te=>Te.type==="spawn_rate").reduce((Te,zn)=>Te+zn.value,0),xn=.01*J.multiplier*Ut,Pn=(ot||0)*.01,se=Math.min(xn+Pn,1);return`${(se*100).toFixed(se<.1?1:0)}%`},Xr=()=>{const bt=Math.max(6e4-E*3e3,5e3),Ut=st.filter(Te=>Te.type==="speed").reduce((Te,zn)=>Te+zn.value,0),xn=(J.multiplier||1)*(1+Ut);return`${(bt/xn/1e3).toFixed(1)}`};return A.jsxs("div",{className:"game-container",children:[Oi&&A.jsx(H6,{dailyReward:m,onClaim:vs,onClose:()=>$n(!1)}),A.jsx(q6,{result:Me,onClose:()=>Qi(null)}),A.jsx("div",{className:"header",children:A.jsx("h1",{children:" Plant Tycoon"})}),A.jsxs("div",{className:"controls",style:{marginBottom:"20px"},children:[A.jsx("button",{className:`btn ${ie==="game"?"":"btn-secondary"}`,onClick:()=>gn("game"),children:" "}),A.jsx("button",{className:`btn ${ie==="inventory"?"":"btn-secondary"}`,onClick:()=>gn("inventory"),children:" "}),A.jsx("button",{className:`btn ${ie==="shop"?"":"btn-secondary"}`,onClick:()=>gn("shop"),children:" "}),A.jsx("button",{className:`btn ${ie==="collection"?"":"btn-secondary"}`,onClick:()=>gn("collection"),children:" "}),A.jsx("button",{className:`btn ${ie==="achievements"?"":"btn-secondary"}`,onClick:()=>gn("achievements"),children:" "}),A.jsx("button",{className:`btn ${ie==="quests"?"":"btn-secondary"}`,onClick:()=>gn("quests"),children:" "}),A.jsx("button",{className:`btn ${ie==="kitchen"?"":"btn-secondary"}`,onClick:()=>gn("kitchen"),children:" "}),A.jsx("button",{className:`btn ${ie==="settings"?"":"btn-secondary"}`,onClick:()=>gn("settings"),children:" "})]}),A.jsxs("div",{className:"stats",children:[A.jsxs("div",{className:"stat-box",children:[A.jsx("div",{className:"stat-label",children:""}),A.jsxs("div",{className:"stat-value",children:[" ",g]})]}),A.jsxs("div",{className:"stat-box",children:[A.jsx("div",{className:"stat-label",children:""}),A.jsxs("div",{className:"stat-value",children:[" ",Ni]})]}),A.jsxs("div",{className:"stat-box",children:[A.jsx("div",{className:"stat-label",children:""}),A.jsxs("div",{className:"stat-value",children:[" ",xe]})]})]}),st.length>0&&A.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px",marginBottom:"15px",justifyContent:"center"},children:st.map((bt,Ut)=>A.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.9)",padding:"8px 12px",borderRadius:"12px",boxShadow:"0 2px 5px rgba(0,0,0,0.1)",display:"flex",alignItems:"center",gap:"8px",borderLeft:"4px solid #00b894",fontSize:"0.9em"},children:[A.jsx("div",{style:{fontSize:"1.2em"},children:bt.type==="speed"?"":bt.type==="gold"?"":""}),A.jsxs("div",{children:[A.jsx("div",{style:{fontWeight:"bold",color:"#2d3436"},children:bt.name}),A.jsx("div",{style:{fontSize:"0.8em",color:"#636e72"},children:A.jsx(VR,{endTime:bt.endTime})})]})]},Ut))}),ie==="game"&&A.jsxs(A.Fragment,{children:[I.statistics&&A.jsx("div",{style:{background:"rgba(255, 255, 255, 0.9)",padding:"10px",borderRadius:"10px",marginBottom:"10px",fontSize:"0.8em",display:"flex",justifyContent:"space-around",boxShadow:"0 2px 5px rgba(0,0,0,0.1)"},children:Ve().map(({rarity:bt,probability:Ut})=>A.jsxs("div",{style:{textAlign:"center"},children:[A.jsx("div",{style:{fontWeight:"bold",textTransform:"capitalize",color:"#2d3436"},children:bt}),A.jsxs("div",{style:{color:"#2d3436"},children:[Ut,"%"]})]},bt))}),I.statistics&&A.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.9)",padding:"10px",borderRadius:"10px",marginBottom:"10px",fontSize:"0.85em",boxShadow:"0 2px 5px rgba(0,0,0,0.1)"},children:[A.jsxs("div",{style:{marginBottom:"5px",color:"#2d3436"},children:["   : ",A.jsxs("strong",{style:{color:st.some(bt=>bt.type==="spawn_rate")?"#2ecc71":"inherit"},children:[ci(),st.some(bt=>bt.type==="spawn_rate")&&A.jsxs("span",{style:{fontSize:"0.8em",marginLeft:"5px"},children:["(+",(st.filter(bt=>bt.type==="spawn_rate").reduce((bt,Ut)=>bt+Ut.value,0)*100).toFixed(0),"%)"]})]})]}),A.jsxs("div",{style:{color:"#2d3436"},children:["  : ",A.jsxs("strong",{style:{color:st.some(bt=>bt.type==="speed")?"#2ecc71":"inherit"},children:[Xr(),st.some(bt=>bt.type==="speed")&&A.jsxs("span",{style:{fontSize:"0.8em",marginLeft:"5px"},children:["(+",(st.filter(bt=>bt.type==="speed").reduce((bt,Ut)=>bt+Ut.value,0)*100).toFixed(0),"%)"]})]})]}),A.jsxs("div",{style:{marginTop:"5px",color:"#636e72",fontSize:"0.9em"},children:["  : ",A.jsxs("strong",{children:[((J.active?J.multiplier:0)*(1+st.filter(bt=>bt.type==="speed").reduce((bt,Ut)=>bt+Ut.value,0))).toFixed(1),"x"]})]}),st.some(bt=>bt.type==="rarity_boost")&&A.jsxs("div",{style:{marginTop:"5px",color:"#9b59b6",fontSize:"0.9em"},children:["  :",st.filter(bt=>bt.type==="rarity_boost").map((bt,Ut)=>A.jsxs("span",{style:{marginLeft:"5px",fontWeight:"bold"},children:["[",bt.target==="all"?"":bt.target," x",bt.value,"]"]},Ut))]})]}),A.jsx(j6,{gold:g,foodState:J,fertilizerLevel:P,onActivateFood:D,onCancelFood:Ht}),I.harvestAll&&Ni>0&&A.jsxs("button",{onClick:z,style:{width:"100%",padding:"10px",marginBottom:"10px",background:"#fdcb6e",border:"none",borderRadius:"10px",color:"#d35400",fontWeight:"bold",cursor:"pointer",boxShadow:"0 4px 0 #e17055"},children:["   (",Ni,")"]}),A.jsx(O6,{plants:v,onHarvest:et,pests:Pt,onRemovePest:qt})]}),ie==="inventory"&&A.jsx(P6,{inventory:b,consumables:U,onSell:gt,onSellAll:dt,onUseConsumable:V,cookedItems:re,useCookedItem:W,onSellCookedItem:tt}),ie==="shop"&&A.jsx(k6,{gold:g,upgradeLevel:E,unlocks:I,rarityLevel:L,fertilizerLevel:P,onBuyUpgrade:ft,onBuyUnlock:R,onBuyRarityUpgrade:w,onBuyFertilizerUpgrade:C,onBuyConsumable:N,onBuyLuckyBox:Un,pets:we,onBuyPet:me}),we.dog&&A.jsx(G6,{type:"dog"}),ie==="quests"&&A.jsx(F6,{activeQuests,questTimer,onRefresh:refreshQuests,onReroll:rerollQuest,onComplete:completeQuest,inventory:b,cookedItems:re}),ie==="kitchen"&&A.jsx(z6,{inventory:b,cookedItems:re,useCookedItem:W,cookingState:yt,discoveredRecipes:Vt,startCooking:Ct,claimDish:k}),ie==="settings"&&A.jsx(B6,{resetGame:pt,activateGodMode:vt,user:i,onLogin:t,onLogout:e,onSave:r,onLoad:o,isSaving:u,lastSaved:c}),A.jsxs("div",{className:"info",style:{marginTop:"20px",fontSize:"0.9em",color:"#8b4513"},children:[ie==="game"&&"    !",ie==="inventory"&&"     !",ie==="shop"&&"     !",ie==="collection"&&"    !",ie==="achievements"&&"    !",ie==="quests"&&" NPC    !",ie==="kitchen"&&"     !",ie==="settings"&&"     ."]}),A.jsx("div",{style:{marginTop:"15px",fontSize:"0.7em",color:"#b2bec3",textAlign:"center"},children:"v2.1.0"})]})}class Y6 extends wR.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,e){console.error("Game Crash:",t,e)}handleReset=()=>{window.confirm("   ?")&&(localStorage.clear(),window.location.reload())};render(){return this.state.hasError?A.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",background:"#ffeaa7",color:"#2d3436",textAlign:"center",padding:"20px"},children:[A.jsx("div",{style:{fontSize:"5em",marginBottom:"20px"},children:""}),A.jsx("h1",{children:"!   ."}),A.jsxs("p",{style:{marginBottom:"30px",color:"#636e72"},children:["     .",A.jsx("br",{}),"      ."]}),A.jsx("button",{onClick:this.handleReset,style:{padding:"15px 30px",fontSize:"1.2em",background:"#d63031",color:"white",border:"none",borderRadius:"12px",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 0 #c0392b"},children:"    "}),A.jsxs("div",{style:{marginTop:"20px",fontSize:"0.8em",color:"#b2bec3"},children:["Error: ",this.state.error?.toString()]})]}):this.props.children}}MR.createRoot(document.getElementById("root")).render(A.jsx(G.StrictMode,{children:A.jsx(Y6,{children:A.jsx(K6,{})})}));

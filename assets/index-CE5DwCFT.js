(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function e(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=e(o);fetch(o.href,u)}})();function bR(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var km={exports:{}},cu={};var Z_;function SR(){if(Z_)return cu;Z_=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:r,key:c,ref:o!==void 0?o:null,props:u}}return cu.Fragment=t,cu.jsx=e,cu.jsxs=e,cu}var tT;function ER(){return tT||(tT=1,km.exports=SR()),km.exports}var S=ER(),jm={exports:{}},jt={};var eT;function AR(){if(eT)return jt;eT=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),E=Symbol.iterator;function I(j){return j===null||typeof j!="object"?null:(j=E&&j[E]||j["@@iterator"],typeof j=="function"?j:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,k={};function W(j,rt,gt){this.props=j,this.context=rt,this.refs=k,this.updater=gt||U}W.prototype.isReactComponent={},W.prototype.setState=function(j,rt){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,rt,"setState")},W.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function nt(){}nt.prototype=W.prototype;function it(j,rt,gt){this.props=j,this.context=rt,this.refs=k,this.updater=gt||U}var ft=it.prototype=new nt;ft.constructor=it,D(ft,W.prototype),ft.isPureReactComponent=!0;var dt=Array.isArray;function mt(){}var R={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(j,rt,gt){var vt=gt.ref;return{$$typeof:i,type:j,key:rt,ref:vt!==void 0?vt:null,props:gt}}function P(j,rt){return C(j.type,rt,j.props)}function N(j){return typeof j=="object"&&j!==null&&j.$$typeof===i}function z(j){var rt={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(gt){return rt[gt]})}var M=/\/+/g;function Ht(j,rt){return typeof j=="object"&&j!==null&&j.key!=null?z(""+j.key):rt.toString(36)}function le(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(mt,mt):(j.status="pending",j.then(function(rt){j.status==="pending"&&(j.status="fulfilled",j.value=rt)},function(rt){j.status==="pending"&&(j.status="rejected",j.reason=rt)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function Q(j,rt,gt,vt,Ct){var Nt=typeof j;(Nt==="undefined"||Nt==="boolean")&&(j=null);var Bt=!1;if(j===null)Bt=!0;else switch(Nt){case"bigint":case"string":case"number":Bt=!0;break;case"object":switch(j.$$typeof){case i:case t:Bt=!0;break;case v:return Bt=j._init,Q(Bt(j._payload),rt,gt,vt,Ct)}}if(Bt)return Ct=Ct(j),Bt=vt===""?"."+Ht(j,0):vt,dt(Ct)?(gt="",Bt!=null&&(gt=Bt.replace(M,"$&/")+"/"),Q(Ct,rt,gt,"",function(Ii){return Ii})):Ct!=null&&(N(Ct)&&(Ct=P(Ct,gt+(Ct.key==null||j&&j.key===Ct.key?"":(""+Ct.key).replace(M,"$&/")+"/")+Bt)),rt.push(Ct)),1;Bt=0;var De=vt===""?".":vt+":";if(dt(j))for(var pe=0;pe<j.length;pe++)vt=j[pe],Nt=De+Ht(vt,pe),Bt+=Q(vt,rt,gt,Nt,Ct);else if(pe=I(j),typeof pe=="function")for(j=pe.call(j),pe=0;!(vt=j.next()).done;)vt=vt.value,Nt=De+Ht(vt,pe++),Bt+=Q(vt,rt,gt,Nt,Ct);else if(Nt==="object"){if(typeof j.then=="function")return Q(le(j),rt,gt,vt,Ct);throw rt=String(j),Error("Objects are not valid as a React child (found: "+(rt==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":rt)+"). If you meant to render a collection of children, use an array instead.")}return Bt}function ut(j,rt,gt){if(j==null)return j;var vt=[],Ct=0;return Q(j,vt,"","",function(Nt){return rt.call(gt,Nt,Ct++)}),vt}function ht(j){if(j._status===-1){var rt=j._result;rt=rt(),rt.then(function(gt){(j._status===0||j._status===-1)&&(j._status=1,j._result=gt)},function(gt){(j._status===0||j._status===-1)&&(j._status=2,j._result=gt)}),j._status===-1&&(j._status=0,j._result=rt)}if(j._status===1)return j._result.default;throw j._result}var Mt=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var rt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(rt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},Rt={map:ut,forEach:function(j,rt,gt){ut(j,function(){rt.apply(this,arguments)},gt)},count:function(j){var rt=0;return ut(j,function(){rt++}),rt},toArray:function(j){return ut(j,function(rt){return rt})||[]},only:function(j){if(!N(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return jt.Activity=T,jt.Children=Rt,jt.Component=W,jt.Fragment=e,jt.Profiler=o,jt.PureComponent=it,jt.StrictMode=r,jt.Suspense=p,jt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,jt.__COMPILER_RUNTIME={__proto__:null,c:function(j){return R.H.useMemoCache(j)}},jt.cache=function(j){return function(){return j.apply(null,arguments)}},jt.cacheSignal=function(){return null},jt.cloneElement=function(j,rt,gt){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var vt=D({},j.props),Ct=j.key;if(rt!=null)for(Nt in rt.key!==void 0&&(Ct=""+rt.key),rt)!w.call(rt,Nt)||Nt==="key"||Nt==="__self"||Nt==="__source"||Nt==="ref"&&rt.ref===void 0||(vt[Nt]=rt[Nt]);var Nt=arguments.length-2;if(Nt===1)vt.children=gt;else if(1<Nt){for(var Bt=Array(Nt),De=0;De<Nt;De++)Bt[De]=arguments[De+2];vt.children=Bt}return C(j.type,Ct,vt)},jt.createContext=function(j){return j={$$typeof:c,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:u,_context:j},j},jt.createElement=function(j,rt,gt){var vt,Ct={},Nt=null;if(rt!=null)for(vt in rt.key!==void 0&&(Nt=""+rt.key),rt)w.call(rt,vt)&&vt!=="key"&&vt!=="__self"&&vt!=="__source"&&(Ct[vt]=rt[vt]);var Bt=arguments.length-2;if(Bt===1)Ct.children=gt;else if(1<Bt){for(var De=Array(Bt),pe=0;pe<Bt;pe++)De[pe]=arguments[pe+2];Ct.children=De}if(j&&j.defaultProps)for(vt in Bt=j.defaultProps,Bt)Ct[vt]===void 0&&(Ct[vt]=Bt[vt]);return C(j,Nt,Ct)},jt.createRef=function(){return{current:null}},jt.forwardRef=function(j){return{$$typeof:m,render:j}},jt.isValidElement=N,jt.lazy=function(j){return{$$typeof:v,_payload:{_status:-1,_result:j},_init:ht}},jt.memo=function(j,rt){return{$$typeof:g,type:j,compare:rt===void 0?null:rt}},jt.startTransition=function(j){var rt=R.T,gt={};R.T=gt;try{var vt=j(),Ct=R.S;Ct!==null&&Ct(gt,vt),typeof vt=="object"&&vt!==null&&typeof vt.then=="function"&&vt.then(mt,Mt)}catch(Nt){Mt(Nt)}finally{rt!==null&&gt.types!==null&&(rt.types=gt.types),R.T=rt}},jt.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},jt.use=function(j){return R.H.use(j)},jt.useActionState=function(j,rt,gt){return R.H.useActionState(j,rt,gt)},jt.useCallback=function(j,rt){return R.H.useCallback(j,rt)},jt.useContext=function(j){return R.H.useContext(j)},jt.useDebugValue=function(){},jt.useDeferredValue=function(j,rt){return R.H.useDeferredValue(j,rt)},jt.useEffect=function(j,rt){return R.H.useEffect(j,rt)},jt.useEffectEvent=function(j){return R.H.useEffectEvent(j)},jt.useId=function(){return R.H.useId()},jt.useImperativeHandle=function(j,rt,gt){return R.H.useImperativeHandle(j,rt,gt)},jt.useInsertionEffect=function(j,rt){return R.H.useInsertionEffect(j,rt)},jt.useLayoutEffect=function(j,rt){return R.H.useLayoutEffect(j,rt)},jt.useMemo=function(j,rt){return R.H.useMemo(j,rt)},jt.useOptimistic=function(j,rt){return R.H.useOptimistic(j,rt)},jt.useReducer=function(j,rt,gt){return R.H.useReducer(j,rt,gt)},jt.useRef=function(j){return R.H.useRef(j)},jt.useState=function(j){return R.H.useState(j)},jt.useSyncExternalStore=function(j,rt,gt){return R.H.useSyncExternalStore(j,rt,gt)},jt.useTransition=function(){return R.H.useTransition()},jt.version="19.2.0",jt}var nT;function ag(){return nT||(nT=1,jm.exports=AR()),jm.exports}var G=ag();const wR=bR(G);var Lm={exports:{}},hu={},Um={exports:{}},zm={};var iT;function xR(){return iT||(iT=1,(function(i){function t(Q,ut){var ht=Q.length;Q.push(ut);t:for(;0<ht;){var Mt=ht-1>>>1,Rt=Q[Mt];if(0<o(Rt,ut))Q[Mt]=ut,Q[ht]=Rt,ht=Mt;else break t}}function e(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var ut=Q[0],ht=Q.pop();if(ht!==ut){Q[0]=ht;t:for(var Mt=0,Rt=Q.length,j=Rt>>>1;Mt<j;){var rt=2*(Mt+1)-1,gt=Q[rt],vt=rt+1,Ct=Q[vt];if(0>o(gt,ht))vt<Rt&&0>o(Ct,gt)?(Q[Mt]=Ct,Q[vt]=ht,Mt=vt):(Q[Mt]=gt,Q[rt]=ht,Mt=rt);else if(vt<Rt&&0>o(Ct,ht))Q[Mt]=Ct,Q[vt]=ht,Mt=vt;else break t}}return ut}function o(Q,ut){var ht=Q.sortIndex-ut.sortIndex;return ht!==0?ht:Q.id-ut.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();i.unstable_now=function(){return c.now()-m}}var p=[],g=[],v=1,T=null,E=3,I=!1,U=!1,D=!1,k=!1,W=typeof setTimeout=="function"?setTimeout:null,nt=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;function ft(Q){for(var ut=e(g);ut!==null;){if(ut.callback===null)r(g);else if(ut.startTime<=Q)r(g),ut.sortIndex=ut.expirationTime,t(p,ut);else break;ut=e(g)}}function dt(Q){if(D=!1,ft(Q),!U)if(e(p)!==null)U=!0,mt||(mt=!0,z());else{var ut=e(g);ut!==null&&le(dt,ut.startTime-Q)}}var mt=!1,R=-1,w=5,C=-1;function P(){return k?!0:!(i.unstable_now()-C<w)}function N(){if(k=!1,mt){var Q=i.unstable_now();C=Q;var ut=!0;try{t:{U=!1,D&&(D=!1,nt(R),R=-1),I=!0;var ht=E;try{e:{for(ft(Q),T=e(p);T!==null&&!(T.expirationTime>Q&&P());){var Mt=T.callback;if(typeof Mt=="function"){T.callback=null,E=T.priorityLevel;var Rt=Mt(T.expirationTime<=Q);if(Q=i.unstable_now(),typeof Rt=="function"){T.callback=Rt,ft(Q),ut=!0;break e}T===e(p)&&r(p),ft(Q)}else r(p);T=e(p)}if(T!==null)ut=!0;else{var j=e(g);j!==null&&le(dt,j.startTime-Q),ut=!1}}break t}finally{T=null,E=ht,I=!1}ut=void 0}}finally{ut?z():mt=!1}}}var z;if(typeof it=="function")z=function(){it(N)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,Ht=M.port2;M.port1.onmessage=N,z=function(){Ht.postMessage(null)}}else z=function(){W(N,0)};function le(Q,ut){R=W(function(){Q(i.unstable_now())},ut)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Q){Q.callback=null},i.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Q?Math.floor(1e3/Q):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_next=function(Q){switch(E){case 1:case 2:case 3:var ut=3;break;default:ut=E}var ht=E;E=ut;try{return Q()}finally{E=ht}},i.unstable_requestPaint=function(){k=!0},i.unstable_runWithPriority=function(Q,ut){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ht=E;E=Q;try{return ut()}finally{E=ht}},i.unstable_scheduleCallback=function(Q,ut,ht){var Mt=i.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Mt+ht:Mt):ht=Mt,Q){case 1:var Rt=-1;break;case 2:Rt=250;break;case 5:Rt=1073741823;break;case 4:Rt=1e4;break;default:Rt=5e3}return Rt=ht+Rt,Q={id:v++,callback:ut,priorityLevel:Q,startTime:ht,expirationTime:Rt,sortIndex:-1},ht>Mt?(Q.sortIndex=ht,t(g,Q),e(p)===null&&Q===e(g)&&(D?(nt(R),R=-1):D=!0,le(dt,ht-Mt))):(Q.sortIndex=Rt,t(p,Q),U||I||(U=!0,mt||(mt=!0,z()))),Q},i.unstable_shouldYield=P,i.unstable_wrapCallback=function(Q){var ut=E;return function(){var ht=E;E=ut;try{return Q.apply(this,arguments)}finally{E=ht}}}})(zm)),zm}var sT;function RR(){return sT||(sT=1,Um.exports=xR()),Um.exports}var Bm={exports:{}},Rn={};var rT;function CR(){if(rT)return Rn;rT=1;var i=ag();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:v}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Rn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,v)},Rn.flushSync=function(p){var g=c.T,v=r.p;try{if(c.T=null,r.p=2,p)return p()}finally{c.T=g,r.p=v,r.d.f()}},Rn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},Rn.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},Rn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,T=m(v,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,I=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:E,fetchPriority:I}):v==="script"&&r.d.X(p,{crossOrigin:T,integrity:E,fetchPriority:I,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Rn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},Rn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,T=m(v,g.crossOrigin);r.d.L(p,v,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Rn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},Rn.requestFormReset=function(p){r.d.r(p)},Rn.unstable_batchedUpdates=function(p,g){return p(g)},Rn.useFormState=function(p,g,v){return c.H.useFormState(p,g,v)},Rn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Rn.version="19.2.0",Rn}var aT;function K1(){if(aT)return Bm.exports;aT=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Bm.exports=CR(),Bm.exports}var oT;function IR(){if(oT)return hu;oT=1;var i=RR(),t=ag(),e=K1();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function m(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function p(n){if(u(n)!==n)throw Error(r(188))}function g(n){var s=n.alternate;if(!s){if(s=u(n),s===null)throw Error(r(188));return s!==n?null:n}for(var a=n,l=s;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),n;if(d===l)return p(f),s;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,A=f.child;A;){if(A===a){_=!0,a=f,l=d;break}if(A===l){_=!0,l=f,a=d;break}A=A.sibling}if(!_){for(A=d.child;A;){if(A===a){_=!0,a=d,l=f;break}if(A===l){_=!0,l=d,a=f;break}A=A.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?n:s}function v(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=v(n),s!==null)return s;n=n.sibling}return null}var T=Object.assign,E=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),nt=Symbol.for("react.consumer"),it=Symbol.for("react.context"),ft=Symbol.for("react.forward_ref"),dt=Symbol.for("react.suspense"),mt=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function z(n){return n===null||typeof n!="object"?null:(n=N&&n[N]||n["@@iterator"],typeof n=="function"?n:null)}var M=Symbol.for("react.client.reference");function Ht(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===M?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case D:return"Fragment";case W:return"Profiler";case k:return"StrictMode";case dt:return"Suspense";case mt:return"SuspenseList";case C:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case U:return"Portal";case it:return n.displayName||"Context";case nt:return(n._context.displayName||"Context")+".Consumer";case ft:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case R:return s=n.displayName||null,s!==null?s:Ht(n.type)||"Memo";case w:s=n._payload,n=n._init;try{return Ht(n(s))}catch{}}return null}var le=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Mt=[],Rt=-1;function j(n){return{current:n}}function rt(n){0>Rt||(n.current=Mt[Rt],Mt[Rt]=null,Rt--)}function gt(n,s){Rt++,Mt[Rt]=n.current,n.current=s}var vt=j(null),Ct=j(null),Nt=j(null),Bt=j(null);function De(n,s){switch(gt(Nt,s),gt(Ct,n),gt(vt,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?S_(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=S_(s),n=E_(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}rt(vt),gt(vt,n)}function pe(){rt(vt),rt(Ct),rt(Nt)}function Ii(n){n.memoizedState!==null&&gt(Bt,n);var s=vt.current,a=E_(s,n.type);s!==a&&(gt(Ct,n),gt(vt,a))}function Xi(n){Ct.current===n&&(rt(vt),rt(Ct)),Bt.current===n&&(rt(Bt),au._currentValue=ht)}var Wi,$i;function On(n){if(Wi===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Wi=s&&s[1]||"",$i=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wi+n+$i}var Ji=!1;function je(n,s){if(!n||Ji)return"";Ji=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var ot=function(){throw Error()};if(Object.defineProperty(ot.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ot,[])}catch(J){var Y=J}Reflect.construct(n,[],ot)}else{try{ot.call()}catch(J){Y=J}n.call(ot.prototype)}}else{try{throw Error()}catch(J){Y=J}(ot=n())&&typeof ot.catch=="function"&&ot.catch(function(){})}}catch(J){if(J&&Y&&typeof J.stack=="string")return[J.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],A=d[1];if(_&&A){var V=_.split(`
`),K=A.split(`
`);for(f=l=0;l<V.length&&!V[l].includes("DetermineComponentFrameRoot");)l++;for(;f<K.length&&!K[f].includes("DetermineComponentFrameRoot");)f++;if(l===V.length||f===K.length)for(l=V.length-1,f=K.length-1;1<=l&&0<=f&&V[l]!==K[f];)f--;for(;1<=l&&0<=f;l--,f--)if(V[l]!==K[f]){if(l!==1||f!==1)do if(l--,f--,0>f||V[l]!==K[f]){var Z=`
`+V[l].replace(" at new "," at ");return n.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",n.displayName)),Z}while(1<=l&&0<=f);break}}}finally{Ji=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?On(a):""}function Di(n,s){switch(n.tag){case 26:case 27:case 5:return On(n.type);case 16:return On("Lazy");case 13:return n.child!==s&&s!==null?On("Suspense Fallback"):On("Suspense");case 19:return On("SuspenseList");case 0:case 15:return je(n.type,!1);case 11:return je(n.type.render,!1);case 1:return je(n.type,!0);case 31:return On("Activity");default:return""}}function ai(n){try{var s="",a=null;do s+=Di(n,a),a=n,n=n.return;while(n);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var xe=Object.prototype.hasOwnProperty,Me=i.unstable_scheduleCallback,Gt=i.unstable_cancelCallback,An=i.unstable_shouldYield,ir=i.unstable_requestPaint,He=i.unstable_now,Mi=i.unstable_getCurrentPriorityLevel,Zi=i.unstable_ImmediatePriority,Ss=i.unstable_UserBlockingPriority,oi=i.unstable_NormalPriority,Es=i.unstable_LowPriority,As=i.unstable_IdlePriority,sr=i.log,rr=i.unstable_setDisableYieldValue,Nn=null,yt=null;function qt(n){if(typeof sr=="function"&&rr(n),yt&&typeof yt.setStrictMode=="function")try{yt.setStrictMode(Nn,n)}catch{}}var ue=Math.clz32?Math.clz32:Le,Un=Math.log,te=Math.LN2;function Le(n){return n>>>=0,n===0?32:31-(Un(n)/te|0)|0}var qe=256,ws=262144,Ue=4194304;function li(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ui(n,s,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,d=n.suspendedLanes,_=n.pingedLanes;n=n.warmLanes;var A=l&134217727;return A!==0?(l=A&~d,l!==0?f=li(l):(_&=A,_!==0?f=li(_):a||(a=A&~n,a!==0&&(f=li(a))))):(A=l&~d,A!==0?f=li(A):_!==0?f=li(_):a||(a=l&~n,a!==0&&(f=li(a)))),f===0?0:s!==0&&s!==f&&(s&d)===0&&(d=f&-f,a=s&-s,d>=a||d===32&&(a&4194048)!==0)?s:f}function an(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function gl(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wa(){var n=Ue;return Ue<<=1,(Ue&62914560)===0&&(Ue=4194304),n}function Wn(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function mn(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function yl(n,s,a,l,f,d){var _=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var A=n.entanglements,V=n.expirationTimes,K=n.hiddenUpdates;for(a=_&~a;0<a;){var Z=31-ue(a),ot=1<<Z;A[Z]=0,V[Z]=-1;var Y=K[Z];if(Y!==null)for(K[Z]=null,Z=0;Z<Y.length;Z++){var J=Y[Z];J!==null&&(J.lane&=-536870913)}a&=~ot}l!==0&&xs(n,l,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(_&~s))}function xs(n,s,a){n.pendingLanes|=s,n.suspendedLanes&=~s;var l=31-ue(s);n.entangledLanes|=s,n.entanglements[l]=n.entanglements[l]|1073741824|a&261930}function O(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var l=31-ue(a),f=1<<l;f&s|n[l]&s&&(n[l]|=s),a&=~f}}function et(n,s){var a=s&-s;return a=(a&42)!==0?1:$(a),(a&(n.suspendedLanes|s))!==0?0:a}function $(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function tt(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function F(){var n=ut.p;return n!==0?n:(n=window.event,n===void 0?32:K_(n.type))}function at(n,s){var a=ut.p;try{return ut.p=n,s()}finally{ut.p=a}}var bt=Math.random().toString(36).slice(2),_t="__reactFiber$"+bt,Pt="__reactProps$"+bt,Ve="__reactContainer$"+bt,We="__reactEvents$"+bt,ee="__reactListeners$"+bt,re="__reactHandles$"+bt,wn="__reactResources$"+bt,Pn="__reactMarker$"+bt;function ar(n){delete n[_t],delete n[Pt],delete n[We],delete n[ee],delete n[re]}function ci(n){var s=n[_t];if(s)return s;for(var a=n.parentNode;a;){if(s=a[Ve]||a[_t]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=D_(n);n!==null;){if(a=n[_t])return a;n=D_(n)}return s}n=a,a=n.parentNode}return null}function zn(n){if(n=n[_t]||n[Ve]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function he(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function xn(n){var s=n[wn];return s||(s=n[wn]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function be(n){n[Pn]=!0}var Vi=new Set,or={};function $n(n,s){Oi(n,s),Oi(n+"Capture",s)}function Oi(n,s){for(or[n]=s,n=0;n<s.length;n++)Vi.add(s[n])}var ra=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Oe={},Ni={};function Rs(n){return xe.call(Ni,n)?!0:xe.call(Oe,n)?!1:ra.test(n)?Ni[n]=!0:(Oe[n]=!0,!1)}function $a(n,s,a){if(Rs(s))if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+a)}}function Jn(n,s,a){if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+a)}}function $e(n,s,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(s,a,""+l)}}function cn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function lr(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function vl(n,s,a){var l=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(n,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function fe(n){if(!n._valueTracker){var s=lr(n)?"checked":"value";n._valueTracker=vl(n,s,""+n[s])}}function aa(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return n&&(l=lr(n)?n.checked?"true":"false":n.value),n=l,n!==a?(s.setValue(n),!0):!1}function ts(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var oa=/[\n"\\]/g;function Bn(n){return n.replace(oa,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ja(n,s,a,l,f,d,_,A){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),s!=null?_==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+cn(s)):n.value!==""+cn(s)&&(n.value=""+cn(s)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),s!=null?_l(n,_,cn(s)):a!=null?_l(n,_,cn(a)):l!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?n.name=""+cn(A):n.removeAttribute("name")}function ac(n,s,a,l,f,d,_,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null)){fe(n);return}a=a!=null?""+cn(a):"",s=s!=null?""+cn(s):a,A||s===n.value||(n.value=s),n.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=A?n.checked:!!l,n.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_),fe(n)}function _l(n,s,a){s==="number"&&ts(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function ur(n,s,a,l){if(n=n.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=s.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+cn(a),s=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function oc(n,s,a){if(s!=null&&(s=""+cn(s),s!==n.value&&(n.value=s),a==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=a!=null?""+cn(a):""}function cr(n,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(le(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=cn(s),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l),fe(n)}function Fn(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var lc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tl(n,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":l?n.setProperty(s,a):typeof a!="number"||a===0||lc.has(s)?s==="float"?n.cssFloat=a:n[s]=(""+a).trim():n[s]=a+"px"}function bl(n,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&Tl(n,f,l)}else for(var d in s)s.hasOwnProperty(d)&&Tl(n,d,s[d])}function Za(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function to(n){return hr.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Pi(){}var Sl=null;function hi(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var fr=null,es=null;function la(n){var s=zn(n);if(s&&(n=s.stateNode)){var a=n[Pt]||null;t:switch(n=s.stateNode,s.type){case"input":if(Ja(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Bn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==n&&l.form===n.form){var f=l[Pt]||null;if(!f)throw Error(r(90));Ja(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===n.form&&aa(l)}break t;case"textarea":oc(n,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&ur(n,!!a.multiple,s,!1)}}}var eo=!1;function dr(n,s,a){if(eo)return n(s,a);eo=!0;try{var l=n(s);return l}finally{if(eo=!1,(fr!==null||es!==null)&&(nh(),fr&&(s=fr,n=es,es=fr=null,la(s),n)))for(s=0;s<n.length;s++)la(n[s])}}function ki(n,s){var a=n.stateNode;if(a===null)return null;var l=a[Pt]||null;if(l===null)return null;a=l[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break t;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ua=!1;if(fi)try{var ge={};Object.defineProperty(ge,"passive",{get:function(){ua=!0}}),window.addEventListener("test",ge,ge),window.removeEventListener("test",ge,ge)}catch{ua=!1}var ns=null,El=null,ca=null;function Al(){if(ca)return ca;var n,s=El,a=s.length,l,f="value"in ns?ns.value:ns.textContent,d=f.length;for(n=0;n<a&&s[n]===f[n];n++);var _=a-n;for(l=1;l<=_&&s[a-l]===f[d-l];l++);return ca=f.slice(n,1<l?1-l:void 0)}function ha(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Cs(){return!0}function ji(){return!1}function pn(n){function s(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var A in n)n.hasOwnProperty(A)&&(a=n[A],this[A]=a?a(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Cs:ji,this.isPropagationStopped=ji,this}return T(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Cs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Cs)},persist:function(){},isPersistent:Cs}),s}var Is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},is=pn(Is),mr=T({},Is,{view:0,detail:0}),wl=pn(mr),pr,no,ss,io=T({},mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gr,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ss&&(ss&&n.type==="mousemove"?(pr=n.screenX-ss.screenX,no=n.screenY-ss.screenY):no=pr=0,ss=n),pr)},movementY:function(n){return"movementY"in n?n.movementY:no}}),xl=pn(io),fa=T({},io,{dataTransfer:0}),cc=pn(fa),hc=T({},mr,{relatedTarget:0}),da=pn(hc),Rl=T({},Is,{animationName:0,elapsedTime:0,pseudoElement:0}),fc=pn(Rl),so=T({},Is,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),dc=pn(so),mc=T({},Is,{data:0}),rs=pn(mc),pc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vc(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=yc[n])?!!s[n]:!1}function gr(){return vc}var kn=T({},mr,{key:function(n){if(n.key){var s=pc[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=ha(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?gc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gr,charCode:function(n){return n.type==="keypress"?ha(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ha(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),_c=pn(kn),Tc=T({},io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ds=pn(Tc),h=T({},mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gr}),y=pn(h),b=T({},Is,{propertyName:0,elapsedTime:0,pseudoElement:0}),x=pn(b),H=T({},io,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),X=pn(H),pt=T({},Is,{newState:0,oldState:0}),Ut=pn(pt),Ge=[9,13,27,32],ae=fi&&"CompositionEvent"in window,Re=null;fi&&"documentMode"in document&&(Re=document.documentMode);var di=fi&&"TextEvent"in window&&!Re,as=fi&&(!ae||Re&&8<Re&&11>=Re),Li=" ",Ui=!1;function ma(n,s){switch(n){case"keyup":return Ge.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ro(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ao=!1;function Gw(n,s){switch(n){case"compositionend":return ro(s);case"keypress":return s.which!==32?null:(Ui=!0,Li);case"textInput":return n=s.data,n===Li&&Ui?null:n;default:return null}}function Kw(n,s){if(ao)return n==="compositionend"||!ae&&ma(n,s)?(n=Al(),ca=El=ns=null,ao=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return as&&s.locale!=="ko"?null:s.data;default:return null}}var Yw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oy(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!Yw[n.type]:s==="textarea"}function Ny(n,s,a,l){fr?es?es.push(l):es=[l]:fr=l,s=uh(s,"onChange"),0<s.length&&(a=new is("onChange","change",null,a,l),n.push({event:a,listeners:s}))}var Cl=null,Il=null;function Qw(n){g_(n,0)}function bc(n){var s=he(n);if(aa(s))return n}function Py(n,s){if(n==="change")return s}var ky=!1;if(fi){var Hf;if(fi){var qf="oninput"in document;if(!qf){var jy=document.createElement("div");jy.setAttribute("oninput","return;"),qf=typeof jy.oninput=="function"}Hf=qf}else Hf=!1;ky=Hf&&(!document.documentMode||9<document.documentMode)}function Ly(){Cl&&(Cl.detachEvent("onpropertychange",Uy),Il=Cl=null)}function Uy(n){if(n.propertyName==="value"&&bc(Il)){var s=[];Ny(s,Il,n,hi(n)),dr(Qw,s)}}function Xw(n,s,a){n==="focusin"?(Ly(),Cl=s,Il=a,Cl.attachEvent("onpropertychange",Uy)):n==="focusout"&&Ly()}function Ww(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return bc(Il)}function $w(n,s){if(n==="click")return bc(s)}function Jw(n,s){if(n==="input"||n==="change")return bc(s)}function Zw(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Zn=typeof Object.is=="function"?Object.is:Zw;function Dl(n,s){if(Zn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!xe.call(s,f)||!Zn(n[f],s[f]))return!1}return!0}function zy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function By(n,s){var a=zy(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=s&&l>=s)return{node:a,offset:s-n};n=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=zy(a)}}function Fy(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Fy(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Hy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=ts(n.document);s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=ts(n.document)}return s}function Gf(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var tx=fi&&"documentMode"in document&&11>=document.documentMode,oo=null,Kf=null,Ml=null,Yf=!1;function qy(n,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Yf||oo==null||oo!==ts(l)||(l=oo,"selectionStart"in l&&Gf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ml&&Dl(Ml,l)||(Ml=l,l=uh(Kf,"onSelect"),0<l.length&&(s=new is("onSelect","select",null,s,a),n.push({event:s,listeners:l}),s.target=oo)))}function pa(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var lo={animationend:pa("Animation","AnimationEnd"),animationiteration:pa("Animation","AnimationIteration"),animationstart:pa("Animation","AnimationStart"),transitionrun:pa("Transition","TransitionRun"),transitionstart:pa("Transition","TransitionStart"),transitioncancel:pa("Transition","TransitionCancel"),transitionend:pa("Transition","TransitionEnd")},Qf={},Gy={};fi&&(Gy=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function ga(n){if(Qf[n])return Qf[n];if(!lo[n])return n;var s=lo[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in Gy)return Qf[n]=s[a];return n}var Ky=ga("animationend"),Yy=ga("animationiteration"),Qy=ga("animationstart"),ex=ga("transitionrun"),nx=ga("transitionstart"),ix=ga("transitioncancel"),Xy=ga("transitionend"),Wy=new Map,Xf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xf.push("scrollEnd");function zi(n,s){Wy.set(n,s),$n(s,[n])}var Sc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},mi=[],uo=0,Wf=0;function Ec(){for(var n=uo,s=Wf=uo=0;s<n;){var a=mi[s];mi[s++]=null;var l=mi[s];mi[s++]=null;var f=mi[s];mi[s++]=null;var d=mi[s];if(mi[s++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&$y(a,f,d)}}function Ac(n,s,a,l){mi[uo++]=n,mi[uo++]=s,mi[uo++]=a,mi[uo++]=l,Wf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function $f(n,s,a,l){return Ac(n,s,a,l),wc(n)}function ya(n,s){return Ac(n,null,null,s),wc(n)}function $y(n,s,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&s!==null&&(f=31-ue(a),n=d.hiddenUpdates,l=n[f],l===null?n[f]=[s]:l.push(s),s.lane=a|536870912),d):null}function wc(n){if(50<Zl)throw Zl=0,am=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var co={};function sx(n,s,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ti(n,s,a,l){return new sx(n,s,a,l)}function Jf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Ms(n,s){var a=n.alternate;return a===null?(a=ti(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Jy(n,s){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,s=a.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function xc(n,s,a,l,f,d){var _=0;if(l=n,typeof n=="function")Jf(n)&&(_=1);else if(typeof n=="string")_=uR(n,a,vt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case C:return n=ti(31,a,s,f),n.elementType=C,n.lanes=d,n;case D:return va(a.children,f,d,s);case k:_=8,f|=24;break;case W:return n=ti(12,a,s,f|2),n.elementType=W,n.lanes=d,n;case dt:return n=ti(13,a,s,f),n.elementType=dt,n.lanes=d,n;case mt:return n=ti(19,a,s,f),n.elementType=mt,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case it:_=10;break t;case nt:_=9;break t;case ft:_=11;break t;case R:_=14;break t;case w:_=16,l=null;break t}_=29,a=Error(r(130,n===null?"null":typeof n,"")),l=null}return s=ti(_,a,s,f),s.elementType=n,s.type=l,s.lanes=d,s}function va(n,s,a,l){return n=ti(7,n,l,s),n.lanes=a,n}function Zf(n,s,a){return n=ti(6,n,null,s),n.lanes=a,n}function Zy(n){var s=ti(18,null,null,0);return s.stateNode=n,s}function td(n,s,a){return s=ti(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var t0=new WeakMap;function pi(n,s){if(typeof n=="object"&&n!==null){var a=t0.get(n);return a!==void 0?a:(s={value:n,source:s,stack:ai(s)},t0.set(n,s),s)}return{value:n,source:s,stack:ai(s)}}var ho=[],fo=0,Rc=null,Vl=0,gi=[],yi=0,yr=null,os=1,ls="";function Vs(n,s){ho[fo++]=Vl,ho[fo++]=Rc,Rc=n,Vl=s}function e0(n,s,a){gi[yi++]=os,gi[yi++]=ls,gi[yi++]=yr,yr=n;var l=os;n=ls;var f=32-ue(l)-1;l&=~(1<<f),a+=1;var d=32-ue(s)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,os=1<<32-ue(s)+f|a<<f|l,ls=d+n}else os=1<<d|a<<f|l,ls=n}function ed(n){n.return!==null&&(Vs(n,1),e0(n,1,0))}function nd(n){for(;n===Rc;)Rc=ho[--fo],ho[fo]=null,Vl=ho[--fo],ho[fo]=null;for(;n===yr;)yr=gi[--yi],gi[yi]=null,ls=gi[--yi],gi[yi]=null,os=gi[--yi],gi[yi]=null}function n0(n,s){gi[yi++]=os,gi[yi++]=ls,gi[yi++]=yr,os=s.id,ls=s.overflow,yr=n}var gn=null,Se=null,Zt=!1,vr=null,vi=!1,id=Error(r(519));function _r(n){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ol(pi(s,n)),id}function i0(n){var s=n.stateNode,a=n.type,l=n.memoizedProps;switch(s[_t]=n,s[Pt]=l,a){case"dialog":Yt("cancel",s),Yt("close",s);break;case"iframe":case"object":case"embed":Yt("load",s);break;case"video":case"audio":for(a=0;a<eu.length;a++)Yt(eu[a],s);break;case"source":Yt("error",s);break;case"img":case"image":case"link":Yt("error",s),Yt("load",s);break;case"details":Yt("toggle",s);break;case"input":Yt("invalid",s),ac(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Yt("invalid",s);break;case"textarea":Yt("invalid",s),cr(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||T_(s.textContent,a)?(l.popover!=null&&(Yt("beforetoggle",s),Yt("toggle",s)),l.onScroll!=null&&Yt("scroll",s),l.onScrollEnd!=null&&Yt("scrollend",s),l.onClick!=null&&(s.onclick=Pi),s=!0):s=!1,s||_r(n,!0)}function s0(n){for(gn=n.return;gn;)switch(gn.tag){case 5:case 31:case 13:vi=!1;return;case 27:case 3:vi=!0;return;default:gn=gn.return}}function mo(n){if(n!==gn)return!1;if(!Zt)return s0(n),Zt=!0,!1;var s=n.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||bm(n.type,n.memoizedProps)),a=!a),a&&Se&&_r(n),s0(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));Se=I_(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));Se=I_(n)}else s===27?(s=Se,Or(n.type)?(n=xm,xm=null,Se=n):Se=s):Se=gn?Ti(n.stateNode.nextSibling):null;return!0}function _a(){Se=gn=null,Zt=!1}function sd(){var n=vr;return n!==null&&(Kn===null?Kn=n:Kn.push.apply(Kn,n),vr=null),n}function Ol(n){vr===null?vr=[n]:vr.push(n)}var rd=j(null),Ta=null,Os=null;function Tr(n,s,a){gt(rd,s._currentValue),s._currentValue=a}function Ns(n){n._currentValue=rd.current,rt(rd)}function ad(n,s,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),n===a)break;n=n.return}}function od(n,s,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;t:for(;d!==null;){var A=d;d=f;for(var V=0;V<s.length;V++)if(A.context===s[V]){d.lanes|=a,A=d.alternate,A!==null&&(A.lanes|=a),ad(d.return,a,n),l||(_=null);break t}d=A.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),ad(_,a,n),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===n){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function po(n,s,a,l){n=null;for(var f=s,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var A=f.type;Zn(f.pendingProps.value,_.value)||(n!==null?n.push(A):n=[A])}}else if(f===Bt.current){if(_=f.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(au):n=[au])}f=f.return}n!==null&&od(s,n,a,l),s.flags|=262144}function Cc(n){for(n=n.firstContext;n!==null;){if(!Zn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ba(n){Ta=n,Os=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function yn(n){return r0(Ta,n)}function Ic(n,s){return Ta===null&&ba(n),r0(n,s)}function r0(n,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Os===null){if(n===null)throw Error(r(308));Os=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else Os=Os.next=s;return a}var rx=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){s.aborted=!0,n.forEach(function(a){return a()})}},ax=i.unstable_scheduleCallback,ox=i.unstable_NormalPriority,Je={$$typeof:it,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ld(){return{controller:new rx,data:new Map,refCount:0}}function Nl(n){n.refCount--,n.refCount===0&&ax(ox,function(){n.controller.abort()})}var Pl=null,ud=0,go=0,yo=null;function lx(n,s){if(Pl===null){var a=Pl=[];ud=0,go=fm(),yo={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ud++,s.then(a0,a0),s}function a0(){if(--ud===0&&Pl!==null){yo!==null&&(yo.status="fulfilled");var n=Pl;Pl=null,go=0,yo=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function ux(n,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var o0=Q.S;Q.S=function(n,s){qv=He(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&lx(n,s),o0!==null&&o0(n,s)};var Sa=j(null);function cd(){var n=Sa.current;return n!==null?n:Te.pooledCache}function Dc(n,s){s===null?gt(Sa,Sa.current):gt(Sa,s.pool)}function l0(){var n=cd();return n===null?null:{parent:Je._currentValue,pool:n}}var vo=Error(r(460)),hd=Error(r(474)),Mc=Error(r(542)),Vc={then:function(){}};function u0(n){return n=n.status,n==="fulfilled"||n==="rejected"}function c0(n,s,a){switch(a=n[a],a===void 0?n.push(s):a!==s&&(s.then(Pi,Pi),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,f0(n),n;default:if(typeof s.status=="string")s.then(Pi,Pi);else{if(n=Te,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,f0(n),n}throw Aa=s,vo}}function Ea(n){try{var s=n._init;return s(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Aa=a,vo):a}}var Aa=null;function h0(){if(Aa===null)throw Error(r(459));var n=Aa;return Aa=null,n}function f0(n){if(n===vo||n===Mc)throw Error(r(483))}var _o=null,kl=0;function Oc(n){var s=kl;return kl+=1,_o===null&&(_o=[]),c0(_o,n,s)}function jl(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Nc(n,s){throw s.$$typeof===E?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function d0(n){function s(B,L){if(n){var q=B.deletions;q===null?(B.deletions=[L],B.flags|=16):q.push(L)}}function a(B,L){if(!n)return null;for(;L!==null;)s(B,L),L=L.sibling;return null}function l(B){for(var L=new Map;B!==null;)B.key!==null?L.set(B.key,B):L.set(B.index,B),B=B.sibling;return L}function f(B,L){return B=Ms(B,L),B.index=0,B.sibling=null,B}function d(B,L,q){return B.index=q,n?(q=B.alternate,q!==null?(q=q.index,q<L?(B.flags|=67108866,L):q):(B.flags|=67108866,L)):(B.flags|=1048576,L)}function _(B){return n&&B.alternate===null&&(B.flags|=67108866),B}function A(B,L,q,st){return L===null||L.tag!==6?(L=Zf(q,B.mode,st),L.return=B,L):(L=f(L,q),L.return=B,L)}function V(B,L,q,st){var wt=q.type;return wt===D?Z(B,L,q.props.children,st,q.key):L!==null&&(L.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===w&&Ea(wt)===L.type)?(L=f(L,q.props),jl(L,q),L.return=B,L):(L=xc(q.type,q.key,q.props,null,B.mode,st),jl(L,q),L.return=B,L)}function K(B,L,q,st){return L===null||L.tag!==4||L.stateNode.containerInfo!==q.containerInfo||L.stateNode.implementation!==q.implementation?(L=td(q,B.mode,st),L.return=B,L):(L=f(L,q.children||[]),L.return=B,L)}function Z(B,L,q,st,wt){return L===null||L.tag!==7?(L=va(q,B.mode,st,wt),L.return=B,L):(L=f(L,q),L.return=B,L)}function ot(B,L,q){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Zf(""+L,B.mode,q),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case I:return q=xc(L.type,L.key,L.props,null,B.mode,q),jl(q,L),q.return=B,q;case U:return L=td(L,B.mode,q),L.return=B,L;case w:return L=Ea(L),ot(B,L,q)}if(le(L)||z(L))return L=va(L,B.mode,q,null),L.return=B,L;if(typeof L.then=="function")return ot(B,Oc(L),q);if(L.$$typeof===it)return ot(B,Ic(B,L),q);Nc(B,L)}return null}function Y(B,L,q,st){var wt=L!==null?L.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return wt!==null?null:A(B,L,""+q,st);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case I:return q.key===wt?V(B,L,q,st):null;case U:return q.key===wt?K(B,L,q,st):null;case w:return q=Ea(q),Y(B,L,q,st)}if(le(q)||z(q))return wt!==null?null:Z(B,L,q,st,null);if(typeof q.then=="function")return Y(B,L,Oc(q),st);if(q.$$typeof===it)return Y(B,L,Ic(B,q),st);Nc(B,q)}return null}function J(B,L,q,st,wt){if(typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint")return B=B.get(q)||null,A(L,B,""+st,wt);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case I:return B=B.get(st.key===null?q:st.key)||null,V(L,B,st,wt);case U:return B=B.get(st.key===null?q:st.key)||null,K(L,B,st,wt);case w:return st=Ea(st),J(B,L,q,st,wt)}if(le(st)||z(st))return B=B.get(q)||null,Z(L,B,st,wt,null);if(typeof st.then=="function")return J(B,L,q,Oc(st),wt);if(st.$$typeof===it)return J(B,L,q,Ic(L,st),wt);Nc(L,st)}return null}function St(B,L,q,st){for(var wt=null,ie=null,Et=L,Ft=L=0,Xt=null;Et!==null&&Ft<q.length;Ft++){Et.index>Ft?(Xt=Et,Et=null):Xt=Et.sibling;var se=Y(B,Et,q[Ft],st);if(se===null){Et===null&&(Et=Xt);break}n&&Et&&se.alternate===null&&s(B,Et),L=d(se,L,Ft),ie===null?wt=se:ie.sibling=se,ie=se,Et=Xt}if(Ft===q.length)return a(B,Et),Zt&&Vs(B,Ft),wt;if(Et===null){for(;Ft<q.length;Ft++)Et=ot(B,q[Ft],st),Et!==null&&(L=d(Et,L,Ft),ie===null?wt=Et:ie.sibling=Et,ie=Et);return Zt&&Vs(B,Ft),wt}for(Et=l(Et);Ft<q.length;Ft++)Xt=J(Et,B,Ft,q[Ft],st),Xt!==null&&(n&&Xt.alternate!==null&&Et.delete(Xt.key===null?Ft:Xt.key),L=d(Xt,L,Ft),ie===null?wt=Xt:ie.sibling=Xt,ie=Xt);return n&&Et.forEach(function(Lr){return s(B,Lr)}),Zt&&Vs(B,Ft),wt}function It(B,L,q,st){if(q==null)throw Error(r(151));for(var wt=null,ie=null,Et=L,Ft=L=0,Xt=null,se=q.next();Et!==null&&!se.done;Ft++,se=q.next()){Et.index>Ft?(Xt=Et,Et=null):Xt=Et.sibling;var Lr=Y(B,Et,se.value,st);if(Lr===null){Et===null&&(Et=Xt);break}n&&Et&&Lr.alternate===null&&s(B,Et),L=d(Lr,L,Ft),ie===null?wt=Lr:ie.sibling=Lr,ie=Lr,Et=Xt}if(se.done)return a(B,Et),Zt&&Vs(B,Ft),wt;if(Et===null){for(;!se.done;Ft++,se=q.next())se=ot(B,se.value,st),se!==null&&(L=d(se,L,Ft),ie===null?wt=se:ie.sibling=se,ie=se);return Zt&&Vs(B,Ft),wt}for(Et=l(Et);!se.done;Ft++,se=q.next())se=J(Et,B,Ft,se.value,st),se!==null&&(n&&se.alternate!==null&&Et.delete(se.key===null?Ft:se.key),L=d(se,L,Ft),ie===null?wt=se:ie.sibling=se,ie=se);return n&&Et.forEach(function(TR){return s(B,TR)}),Zt&&Vs(B,Ft),wt}function _e(B,L,q,st){if(typeof q=="object"&&q!==null&&q.type===D&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case I:t:{for(var wt=q.key;L!==null;){if(L.key===wt){if(wt=q.type,wt===D){if(L.tag===7){a(B,L.sibling),st=f(L,q.props.children),st.return=B,B=st;break t}}else if(L.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===w&&Ea(wt)===L.type){a(B,L.sibling),st=f(L,q.props),jl(st,q),st.return=B,B=st;break t}a(B,L);break}else s(B,L);L=L.sibling}q.type===D?(st=va(q.props.children,B.mode,st,q.key),st.return=B,B=st):(st=xc(q.type,q.key,q.props,null,B.mode,st),jl(st,q),st.return=B,B=st)}return _(B);case U:t:{for(wt=q.key;L!==null;){if(L.key===wt)if(L.tag===4&&L.stateNode.containerInfo===q.containerInfo&&L.stateNode.implementation===q.implementation){a(B,L.sibling),st=f(L,q.children||[]),st.return=B,B=st;break t}else{a(B,L);break}else s(B,L);L=L.sibling}st=td(q,B.mode,st),st.return=B,B=st}return _(B);case w:return q=Ea(q),_e(B,L,q,st)}if(le(q))return St(B,L,q,st);if(z(q)){if(wt=z(q),typeof wt!="function")throw Error(r(150));return q=wt.call(q),It(B,L,q,st)}if(typeof q.then=="function")return _e(B,L,Oc(q),st);if(q.$$typeof===it)return _e(B,L,Ic(B,q),st);Nc(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,L!==null&&L.tag===6?(a(B,L.sibling),st=f(L,q),st.return=B,B=st):(a(B,L),st=Zf(q,B.mode,st),st.return=B,B=st),_(B)):a(B,L)}return function(B,L,q,st){try{kl=0;var wt=_e(B,L,q,st);return _o=null,wt}catch(Et){if(Et===vo||Et===Mc)throw Et;var ie=ti(29,Et,null,B.mode);return ie.lanes=st,ie.return=B,ie}finally{}}}var wa=d0(!0),m0=d0(!1),br=!1;function fd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dd(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Sr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Er(n,s,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(oe&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=wc(n),$y(n,null,a),s}return Ac(n,l,s,a),wc(n)}function Ll(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,O(n,a)}}function md(n,s){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=s:d=d.next=s}else f=d=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}var pd=!1;function Ul(){if(pd){var n=yo;if(n!==null)throw n}}function zl(n,s,a,l){pd=!1;var f=n.updateQueue;br=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var V=A,K=V.next;V.next=null,_===null?d=K:_.next=K,_=V;var Z=n.alternate;Z!==null&&(Z=Z.updateQueue,A=Z.lastBaseUpdate,A!==_&&(A===null?Z.firstBaseUpdate=K:A.next=K,Z.lastBaseUpdate=V))}if(d!==null){var ot=f.baseState;_=0,Z=K=V=null,A=d;do{var Y=A.lane&-536870913,J=Y!==A.lane;if(J?(Qt&Y)===Y:(l&Y)===Y){Y!==0&&Y===go&&(pd=!0),Z!==null&&(Z=Z.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var St=n,It=A;Y=s;var _e=a;switch(It.tag){case 1:if(St=It.payload,typeof St=="function"){ot=St.call(_e,ot,Y);break t}ot=St;break t;case 3:St.flags=St.flags&-65537|128;case 0:if(St=It.payload,Y=typeof St=="function"?St.call(_e,ot,Y):St,Y==null)break t;ot=T({},ot,Y);break t;case 2:br=!0}}Y=A.callback,Y!==null&&(n.flags|=64,J&&(n.flags|=8192),J=f.callbacks,J===null?f.callbacks=[Y]:J.push(Y))}else J={lane:Y,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Z===null?(K=Z=J,V=ot):Z=Z.next=J,_|=Y;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;J=A,A=J.next,J.next=null,f.lastBaseUpdate=J,f.shared.pending=null}}while(!0);Z===null&&(V=ot),f.baseState=V,f.firstBaseUpdate=K,f.lastBaseUpdate=Z,d===null&&(f.shared.lanes=0),Cr|=_,n.lanes=_,n.memoizedState=ot}}function p0(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function g0(n,s){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)p0(a[n],s)}var To=j(null),Pc=j(0);function y0(n,s){n=Hs,gt(Pc,n),gt(To,s),Hs=n|s.baseLanes}function gd(){gt(Pc,Hs),gt(To,To.current)}function yd(){Hs=Pc.current,rt(To),rt(Pc)}var ei=j(null),_i=null;function Ar(n){var s=n.alternate;gt(Ke,Ke.current&1),gt(ei,n),_i===null&&(s===null||To.current!==null||s.memoizedState!==null)&&(_i=n)}function vd(n){gt(Ke,Ke.current),gt(ei,n),_i===null&&(_i=n)}function v0(n){n.tag===22?(gt(Ke,Ke.current),gt(ei,n),_i===null&&(_i=n)):wr()}function wr(){gt(Ke,Ke.current),gt(ei,ei.current)}function ni(n){rt(ei),_i===n&&(_i=null),rt(Ke)}var Ke=j(0);function kc(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Am(a)||wm(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ps=0,zt=null,ye=null,Ze=null,jc=!1,bo=!1,xa=!1,Lc=0,Bl=0,So=null,cx=0;function ze(){throw Error(r(321))}function _d(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!Zn(n[a],s[a]))return!1;return!0}function Td(n,s,a,l,f,d){return Ps=d,zt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Q.H=n===null||n.memoizedState===null?ev:Pd,xa=!1,d=a(l,f),xa=!1,bo&&(d=T0(s,a,l,f)),_0(n),d}function _0(n){Q.H=ql;var s=ye!==null&&ye.next!==null;if(Ps=0,Ze=ye=zt=null,jc=!1,Bl=0,So=null,s)throw Error(r(300));n===null||tn||(n=n.dependencies,n!==null&&Cc(n)&&(tn=!0))}function T0(n,s,a,l){zt=n;var f=0;do{if(bo&&(So=null),Bl=0,bo=!1,25<=f)throw Error(r(301));if(f+=1,Ze=ye=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=nv,d=s(a,l)}while(bo);return d}function hx(){var n=Q.H,s=n.useState()[0];return s=typeof s.then=="function"?Fl(s):s,n=n.useState()[0],(ye!==null?ye.memoizedState:null)!==n&&(zt.flags|=1024),s}function bd(){var n=Lc!==0;return Lc=0,n}function Sd(n,s,a){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~a}function Ed(n){if(jc){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}jc=!1}Ps=0,Ze=ye=zt=null,bo=!1,Bl=Lc=0,So=null}function jn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?zt.memoizedState=Ze=n:Ze=Ze.next=n,Ze}function Ye(){if(ye===null){var n=zt.alternate;n=n!==null?n.memoizedState:null}else n=ye.next;var s=Ze===null?zt.memoizedState:Ze.next;if(s!==null)Ze=s,ye=n;else{if(n===null)throw zt.alternate===null?Error(r(467)):Error(r(310));ye=n,n={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},Ze===null?zt.memoizedState=Ze=n:Ze=Ze.next=n}return Ze}function Uc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fl(n){var s=Bl;return Bl+=1,So===null&&(So=[]),n=c0(So,n,s),s=zt,(Ze===null?s.memoizedState:Ze.next)===null&&(s=s.alternate,Q.H=s===null||s.memoizedState===null?ev:Pd),n}function zc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Fl(n);if(n.$$typeof===it)return yn(n)}throw Error(r(438,String(n)))}function Ad(n){var s=null,a=zt.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=zt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Uc(),zt.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(n),l=0;l<n;l++)a[l]=P;return s.index++,a}function ks(n,s){return typeof s=="function"?s(n):s}function Bc(n){var s=Ye();return wd(s,ye,n)}function wd(n,s,a){var l=n.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=n.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}s.baseQueue=f=d,l.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{s=f.next;var A=_=null,V=null,K=s,Z=!1;do{var ot=K.lane&-536870913;if(ot!==K.lane?(Qt&ot)===ot:(Ps&ot)===ot){var Y=K.revertLane;if(Y===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ot===go&&(Z=!0);else if((Ps&Y)===Y){K=K.next,Y===go&&(Z=!0);continue}else ot={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},V===null?(A=V=ot,_=d):V=V.next=ot,zt.lanes|=Y,Cr|=Y;ot=K.action,xa&&a(d,ot),d=K.hasEagerState?K.eagerState:a(d,ot)}else Y={lane:ot,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},V===null?(A=V=Y,_=d):V=V.next=Y,zt.lanes|=ot,Cr|=ot;K=K.next}while(K!==null&&K!==s);if(V===null?_=d:V.next=A,!Zn(d,n.memoizedState)&&(tn=!0,Z&&(a=yo,a!==null)))throw a;n.memoizedState=d,n.baseState=_,n.baseQueue=V,l.lastRenderedState=d}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function xd(n){var s=Ye(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,d=s.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=n(d,_.action),_=_.next;while(_!==f);Zn(d,s.memoizedState)||(tn=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,l]}function b0(n,s,a){var l=zt,f=Ye(),d=Zt;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=s();var _=!Zn((ye||f).memoizedState,a);if(_&&(f.memoizedState=a,tn=!0),f=f.queue,Id(A0.bind(null,l,f,n),[n]),f.getSnapshot!==s||_||Ze!==null&&Ze.memoizedState.tag&1){if(l.flags|=2048,Eo(9,{destroy:void 0},E0.bind(null,l,f,a,s),null),Te===null)throw Error(r(349));d||(Ps&127)!==0||S0(l,s,a)}return a}function S0(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=zt.updateQueue,s===null?(s=Uc(),zt.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function E0(n,s,a,l){s.value=a,s.getSnapshot=l,w0(s)&&x0(n)}function A0(n,s,a){return a(function(){w0(s)&&x0(n)})}function w0(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!Zn(n,a)}catch{return!0}}function x0(n){var s=ya(n,2);s!==null&&Yn(s,n,2)}function Rd(n){var s=jn();if(typeof n=="function"){var a=n;if(n=a(),xa){qt(!0);try{a()}finally{qt(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:n},s}function R0(n,s,a,l){return n.baseState=a,wd(n,ye,typeof l=="function"?l:ks)}function fx(n,s,a,l,f){if(qc(n))throw Error(r(485));if(n=s.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Q.T!==null?a(!0):d.isTransition=!1,l(d),a=s.pending,a===null?(d.next=s.pending=d,C0(s,d)):(d.next=a.next,s.pending=a.next=d)}}function C0(n,s){var a=s.action,l=s.payload,f=n.state;if(s.isTransition){var d=Q.T,_={};Q.T=_;try{var A=a(f,l),V=Q.S;V!==null&&V(_,A),I0(n,s,A)}catch(K){Cd(n,s,K)}finally{d!==null&&_.types!==null&&(d.types=_.types),Q.T=d}}else try{d=a(f,l),I0(n,s,d)}catch(K){Cd(n,s,K)}}function I0(n,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){D0(n,s,l)},function(l){return Cd(n,s,l)}):D0(n,s,a)}function D0(n,s,a){s.status="fulfilled",s.value=a,M0(s),n.state=a,s=n.pending,s!==null&&(a=s.next,a===s?n.pending=null:(a=a.next,s.next=a,C0(n,a)))}function Cd(n,s,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,M0(s),s=s.next;while(s!==l)}n.action=null}function M0(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function V0(n,s){return s}function O0(n,s){if(Zt){var a=Te.formState;if(a!==null){t:{var l=zt;if(Zt){if(Se){e:{for(var f=Se,d=vi;f.nodeType!==8;){if(!d){f=null;break e}if(f=Ti(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){Se=Ti(f.nextSibling),l=f.data==="F!";break t}}_r(l)}l=!1}l&&(s=a[0])}}return a=jn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:V0,lastRenderedState:s},a.queue=l,a=J0.bind(null,zt,l),l.dispatch=a,l=Rd(!1),d=Nd.bind(null,zt,!1,l.queue),l=jn(),f={state:s,dispatch:null,action:n,pending:null},l.queue=f,a=fx.bind(null,zt,f,d,a),f.dispatch=a,l.memoizedState=n,[s,a,!1]}function N0(n){var s=Ye();return P0(s,ye,n)}function P0(n,s,a){if(s=wd(n,s,V0)[0],n=Bc(ks)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Fl(s)}catch(_){throw _===vo?Mc:_}else l=s;s=Ye();var f=s.queue,d=f.dispatch;return a!==s.memoizedState&&(zt.flags|=2048,Eo(9,{destroy:void 0},dx.bind(null,f,a),null)),[l,d,n]}function dx(n,s){n.action=s}function k0(n){var s=Ye(),a=ye;if(a!==null)return P0(s,a,n);Ye(),s=s.memoizedState,a=Ye();var l=a.queue.dispatch;return a.memoizedState=n,[s,l,!1]}function Eo(n,s,a,l){return n={tag:n,create:a,deps:l,inst:s,next:null},s=zt.updateQueue,s===null&&(s=Uc(),zt.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,s.lastEffect=n),n}function j0(){return Ye().memoizedState}function Fc(n,s,a,l){var f=jn();zt.flags|=n,f.memoizedState=Eo(1|s,{destroy:void 0},a,l===void 0?null:l)}function Hc(n,s,a,l){var f=Ye();l=l===void 0?null:l;var d=f.memoizedState.inst;ye!==null&&l!==null&&_d(l,ye.memoizedState.deps)?f.memoizedState=Eo(s,d,a,l):(zt.flags|=n,f.memoizedState=Eo(1|s,d,a,l))}function L0(n,s){Fc(8390656,8,n,s)}function Id(n,s){Hc(2048,8,n,s)}function mx(n){zt.flags|=4;var s=zt.updateQueue;if(s===null)s=Uc(),zt.updateQueue=s,s.events=[n];else{var a=s.events;a===null?s.events=[n]:a.push(n)}}function U0(n){var s=Ye().memoizedState;return mx({ref:s,nextImpl:n}),function(){if((oe&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function z0(n,s){return Hc(4,2,n,s)}function B0(n,s){return Hc(4,4,n,s)}function F0(n,s){if(typeof s=="function"){n=n();var a=s(n);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function H0(n,s,a){a=a!=null?a.concat([n]):null,Hc(4,4,F0.bind(null,s,n),a)}function Dd(){}function q0(n,s){var a=Ye();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&_d(s,l[1])?l[0]:(a.memoizedState=[n,s],n)}function G0(n,s){var a=Ye();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&_d(s,l[1]))return l[0];if(l=n(),xa){qt(!0);try{n()}finally{qt(!1)}}return a.memoizedState=[l,s],l}function Md(n,s,a){return a===void 0||(Ps&1073741824)!==0&&(Qt&261930)===0?n.memoizedState=s:(n.memoizedState=a,n=Kv(),zt.lanes|=n,Cr|=n,a)}function K0(n,s,a,l){return Zn(a,s)?a:To.current!==null?(n=Md(n,a,l),Zn(n,s)||(tn=!0),n):(Ps&42)===0||(Ps&1073741824)!==0&&(Qt&261930)===0?(tn=!0,n.memoizedState=a):(n=Kv(),zt.lanes|=n,Cr|=n,s)}function Y0(n,s,a,l,f){var d=ut.p;ut.p=d!==0&&8>d?d:8;var _=Q.T,A={};Q.T=A,Nd(n,!1,s,a);try{var V=f(),K=Q.S;if(K!==null&&K(A,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var Z=ux(V,l);Hl(n,s,Z,ri(n))}else Hl(n,s,l,ri(n))}catch(ot){Hl(n,s,{then:function(){},status:"rejected",reason:ot},ri())}finally{ut.p=d,_!==null&&A.types!==null&&(_.types=A.types),Q.T=_}}function px(){}function Vd(n,s,a,l){if(n.tag!==5)throw Error(r(476));var f=Q0(n).queue;Y0(n,f,s,ht,a===null?px:function(){return X0(n),a(l)})}function Q0(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:ht},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:a},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function X0(n){var s=Q0(n);s.next===null&&(s=n.alternate.memoizedState),Hl(n,s.next.queue,{},ri())}function Od(){return yn(au)}function W0(){return Ye().memoizedState}function $0(){return Ye().memoizedState}function gx(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var a=ri();n=Sr(a);var l=Er(s,n,a);l!==null&&(Yn(l,s,a),Ll(l,s,a)),s={cache:ld()},n.payload=s;return}s=s.return}}function yx(n,s,a){var l=ri();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},qc(n)?Z0(s,a):(a=$f(n,s,a,l),a!==null&&(Yn(a,n,l),tv(a,s,l)))}function J0(n,s,a){var l=ri();Hl(n,s,a,l)}function Hl(n,s,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(qc(n))Z0(s,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var _=s.lastRenderedState,A=d(_,a);if(f.hasEagerState=!0,f.eagerState=A,Zn(A,_))return Ac(n,s,f,0),Te===null&&Ec(),!1}catch{}finally{}if(a=$f(n,s,f,l),a!==null)return Yn(a,n,l),tv(a,s,l),!0}return!1}function Nd(n,s,a,l){if(l={lane:2,revertLane:fm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},qc(n)){if(s)throw Error(r(479))}else s=$f(n,a,l,2),s!==null&&Yn(s,n,2)}function qc(n){var s=n.alternate;return n===zt||s!==null&&s===zt}function Z0(n,s){bo=jc=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function tv(n,s,a){if((a&4194048)!==0){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,O(n,a)}}var ql={readContext:yn,use:zc,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useLayoutEffect:ze,useInsertionEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useSyncExternalStore:ze,useId:ze,useHostTransitionStatus:ze,useFormState:ze,useActionState:ze,useOptimistic:ze,useMemoCache:ze,useCacheRefresh:ze};ql.useEffectEvent=ze;var ev={readContext:yn,use:zc,useCallback:function(n,s){return jn().memoizedState=[n,s===void 0?null:s],n},useContext:yn,useEffect:L0,useImperativeHandle:function(n,s,a){a=a!=null?a.concat([n]):null,Fc(4194308,4,F0.bind(null,s,n),a)},useLayoutEffect:function(n,s){return Fc(4194308,4,n,s)},useInsertionEffect:function(n,s){Fc(4,2,n,s)},useMemo:function(n,s){var a=jn();s=s===void 0?null:s;var l=n();if(xa){qt(!0);try{n()}finally{qt(!1)}}return a.memoizedState=[l,s],l},useReducer:function(n,s,a){var l=jn();if(a!==void 0){var f=a(s);if(xa){qt(!0);try{a(s)}finally{qt(!1)}}}else f=s;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=yx.bind(null,zt,n),[l.memoizedState,n]},useRef:function(n){var s=jn();return n={current:n},s.memoizedState=n},useState:function(n){n=Rd(n);var s=n.queue,a=J0.bind(null,zt,s);return s.dispatch=a,[n.memoizedState,a]},useDebugValue:Dd,useDeferredValue:function(n,s){var a=jn();return Md(a,n,s)},useTransition:function(){var n=Rd(!1);return n=Y0.bind(null,zt,n.queue,!0,!1),jn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,a){var l=zt,f=jn();if(Zt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),Te===null)throw Error(r(349));(Qt&127)!==0||S0(l,s,a)}f.memoizedState=a;var d={value:a,getSnapshot:s};return f.queue=d,L0(A0.bind(null,l,d,n),[n]),l.flags|=2048,Eo(9,{destroy:void 0},E0.bind(null,l,d,a,s),null),a},useId:function(){var n=jn(),s=Te.identifierPrefix;if(Zt){var a=ls,l=os;a=(l&~(1<<32-ue(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Lc++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=cx++,s="_"+s+"r_"+a.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:Od,useFormState:O0,useActionState:O0,useOptimistic:function(n){var s=jn();s.memoizedState=s.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Nd.bind(null,zt,!0,a),a.dispatch=s,[n,s]},useMemoCache:Ad,useCacheRefresh:function(){return jn().memoizedState=gx.bind(null,zt)},useEffectEvent:function(n){var s=jn(),a={impl:n};return s.memoizedState=a,function(){if((oe&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Pd={readContext:yn,use:zc,useCallback:q0,useContext:yn,useEffect:Id,useImperativeHandle:H0,useInsertionEffect:z0,useLayoutEffect:B0,useMemo:G0,useReducer:Bc,useRef:j0,useState:function(){return Bc(ks)},useDebugValue:Dd,useDeferredValue:function(n,s){var a=Ye();return K0(a,ye.memoizedState,n,s)},useTransition:function(){var n=Bc(ks)[0],s=Ye().memoizedState;return[typeof n=="boolean"?n:Fl(n),s]},useSyncExternalStore:b0,useId:W0,useHostTransitionStatus:Od,useFormState:N0,useActionState:N0,useOptimistic:function(n,s){var a=Ye();return R0(a,ye,n,s)},useMemoCache:Ad,useCacheRefresh:$0};Pd.useEffectEvent=U0;var nv={readContext:yn,use:zc,useCallback:q0,useContext:yn,useEffect:Id,useImperativeHandle:H0,useInsertionEffect:z0,useLayoutEffect:B0,useMemo:G0,useReducer:xd,useRef:j0,useState:function(){return xd(ks)},useDebugValue:Dd,useDeferredValue:function(n,s){var a=Ye();return ye===null?Md(a,n,s):K0(a,ye.memoizedState,n,s)},useTransition:function(){var n=xd(ks)[0],s=Ye().memoizedState;return[typeof n=="boolean"?n:Fl(n),s]},useSyncExternalStore:b0,useId:W0,useHostTransitionStatus:Od,useFormState:k0,useActionState:k0,useOptimistic:function(n,s){var a=Ye();return ye!==null?R0(a,ye,n,s):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Ad,useCacheRefresh:$0};nv.useEffectEvent=U0;function kd(n,s,a,l){s=n.memoizedState,a=a(l,s),a=a==null?s:T({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var jd={enqueueSetState:function(n,s,a){n=n._reactInternals;var l=ri(),f=Sr(l);f.payload=s,a!=null&&(f.callback=a),s=Er(n,f,l),s!==null&&(Yn(s,n,l),Ll(s,n,l))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var l=ri(),f=Sr(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=Er(n,f,l),s!==null&&(Yn(s,n,l),Ll(s,n,l))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=ri(),l=Sr(a);l.tag=2,s!=null&&(l.callback=s),s=Er(n,l,a),s!==null&&(Yn(s,n,a),Ll(s,n,a))}};function iv(n,s,a,l,f,d,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,_):s.prototype&&s.prototype.isPureReactComponent?!Dl(a,l)||!Dl(f,d):!0}function sv(n,s,a,l){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==n&&jd.enqueueReplaceState(s,s.state,null)}function Ra(n,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(n=n.defaultProps){a===s&&(a=T({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}function rv(n){Sc(n)}function av(n){console.error(n)}function ov(n){Sc(n)}function Gc(n,s){try{var a=n.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function lv(n,s,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ld(n,s,a){return a=Sr(a),a.tag=3,a.payload={element:null},a.callback=function(){Gc(n,s)},a}function uv(n){return n=Sr(n),n.tag=3,n}function cv(n,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;n.payload=function(){return f(d)},n.callback=function(){lv(s,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){lv(s,a,l),typeof f!="function"&&(Ir===null?Ir=new Set([this]):Ir.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function vx(n,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&po(s,a,f,!0),a=ei.current,a!==null){switch(a.tag){case 31:case 13:return _i===null?ih():a.alternate===null&&Be===0&&(Be=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Vc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),um(n,l,f)),!1;case 22:return a.flags|=65536,l===Vc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),um(n,l,f)),!1}throw Error(r(435,a.tag))}return um(n,l,f),ih(),!1}if(Zt)return s=ei.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==id&&(n=Error(r(422),{cause:l}),Ol(pi(n,a)))):(l!==id&&(s=Error(r(423),{cause:l}),Ol(pi(s,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=pi(l,a),f=Ld(n.stateNode,l,f),md(n,f),Be!==4&&(Be=2)),!1;var d=Error(r(520),{cause:l});if(d=pi(d,a),Jl===null?Jl=[d]:Jl.push(d),Be!==4&&(Be=2),s===null)return!0;l=pi(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=Ld(a.stateNode,l,n),md(a,n),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ir===null||!Ir.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=uv(f),cv(f,n,a,l),md(a,f),!1}a=a.return}while(a!==null);return!1}var Ud=Error(r(461)),tn=!1;function vn(n,s,a,l){s.child=n===null?m0(s,null,a,l):wa(s,n.child,a,l)}function hv(n,s,a,l,f){a=a.render;var d=s.ref;if("ref"in l){var _={};for(var A in l)A!=="ref"&&(_[A]=l[A])}else _=l;return ba(s),l=Td(n,s,a,_,d,f),A=bd(),n!==null&&!tn?(Sd(n,s,f),js(n,s,f)):(Zt&&A&&ed(s),s.flags|=1,vn(n,s,l,f),s.child)}function fv(n,s,a,l,f){if(n===null){var d=a.type;return typeof d=="function"&&!Jf(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,dv(n,s,d,l,f)):(n=xc(a.type,null,l,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(d=n.child,!Yd(n,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Dl,a(_,l)&&n.ref===s.ref)return js(n,s,f)}return s.flags|=1,n=Ms(d,l),n.ref=s.ref,n.return=s,s.child=n}function dv(n,s,a,l,f){if(n!==null){var d=n.memoizedProps;if(Dl(d,l)&&n.ref===s.ref)if(tn=!1,s.pendingProps=l=d,Yd(n,f))(n.flags&131072)!==0&&(tn=!0);else return s.lanes=n.lanes,js(n,s,f)}return zd(n,s,a,l,f)}function mv(n,s,a,l){var f=l.children,d=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,n!==null){for(l=s.child=n.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,s.child=null;return pv(n,s,d,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Dc(s,d!==null?d.cachePool:null),d!==null?y0(s,d):gd(),v0(s);else return l=s.lanes=536870912,pv(n,s,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Dc(s,d.cachePool),y0(s,d),wr(),s.memoizedState=null):(n!==null&&Dc(s,null),gd(),wr());return vn(n,s,f,a),s.child}function Gl(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function pv(n,s,a,l,f){var d=cd();return d=d===null?null:{parent:Je._currentValue,pool:d},s.memoizedState={baseLanes:a,cachePool:d},n!==null&&Dc(s,null),gd(),v0(s),n!==null&&po(n,s,l,!0),s.childLanes=f,null}function Kc(n,s){return s=Qc({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function gv(n,s,a){return wa(s,n.child,null,a),n=Kc(s,s.pendingProps),n.flags|=2,ni(s),s.memoizedState=null,n}function _x(n,s,a){var l=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(Zt){if(l.mode==="hidden")return n=Kc(s,l),s.lanes=536870912,Gl(null,n);if(vd(s),(n=Se)?(n=C_(n,vi),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:yr!==null?{id:os,overflow:ls}:null,retryLane:536870912,hydrationErrors:null},a=Zy(n),a.return=s,s.child=a,gn=s,Se=null)):n=null,n===null)throw _r(s);return s.lanes=536870912,null}return Kc(s,l)}var d=n.memoizedState;if(d!==null){var _=d.dehydrated;if(vd(s),f)if(s.flags&256)s.flags&=-257,s=gv(n,s,a);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(r(558));else if(tn||po(n,s,a,!1),f=(a&n.childLanes)!==0,tn||f){if(l=Te,l!==null&&(_=et(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,ya(n,_),Yn(l,n,_),Ud;ih(),s=gv(n,s,a)}else n=d.treeContext,Se=Ti(_.nextSibling),gn=s,Zt=!0,vr=null,vi=!1,n!==null&&n0(s,n),s=Kc(s,l),s.flags|=4096;return s}return n=Ms(n.child,{mode:l.mode,children:l.children}),n.ref=s.ref,s.child=n,n.return=s,n}function Yc(n,s){var a=s.ref;if(a===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(n===null||n.ref!==a)&&(s.flags|=4194816)}}function zd(n,s,a,l,f){return ba(s),a=Td(n,s,a,l,void 0,f),l=bd(),n!==null&&!tn?(Sd(n,s,f),js(n,s,f)):(Zt&&l&&ed(s),s.flags|=1,vn(n,s,a,f),s.child)}function yv(n,s,a,l,f,d){return ba(s),s.updateQueue=null,a=T0(s,l,a,f),_0(n),l=bd(),n!==null&&!tn?(Sd(n,s,d),js(n,s,d)):(Zt&&l&&ed(s),s.flags|=1,vn(n,s,a,d),s.child)}function vv(n,s,a,l,f){if(ba(s),s.stateNode===null){var d=co,_=a.contextType;typeof _=="object"&&_!==null&&(d=yn(_)),d=new a(l,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=jd,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=l,d.state=s.memoizedState,d.refs={},fd(s),_=a.contextType,d.context=typeof _=="object"&&_!==null?yn(_):co,d.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(kd(s,a,_,l),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&jd.enqueueReplaceState(d,d.state,null),zl(s,l,d,f),Ul(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(n===null){d=s.stateNode;var A=s.memoizedProps,V=Ra(a,A);d.props=V;var K=d.context,Z=a.contextType;_=co,typeof Z=="object"&&Z!==null&&(_=yn(Z));var ot=a.getDerivedStateFromProps;Z=typeof ot=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||K!==_)&&sv(s,d,l,_),br=!1;var Y=s.memoizedState;d.state=Y,zl(s,l,d,f),Ul(),K=s.memoizedState,A||Y!==K||br?(typeof ot=="function"&&(kd(s,a,ot,l),K=s.memoizedState),(V=br||iv(s,a,V,l,Y,K,_))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=K),d.props=l,d.state=K,d.context=_,l=V):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{d=s.stateNode,dd(n,s),_=s.memoizedProps,Z=Ra(a,_),d.props=Z,ot=s.pendingProps,Y=d.context,K=a.contextType,V=co,typeof K=="object"&&K!==null&&(V=yn(K)),A=a.getDerivedStateFromProps,(K=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ot||Y!==V)&&sv(s,d,l,V),br=!1,Y=s.memoizedState,d.state=Y,zl(s,l,d,f),Ul();var J=s.memoizedState;_!==ot||Y!==J||br||n!==null&&n.dependencies!==null&&Cc(n.dependencies)?(typeof A=="function"&&(kd(s,a,A,l),J=s.memoizedState),(Z=br||iv(s,a,Z,l,Y,J,V)||n!==null&&n.dependencies!==null&&Cc(n.dependencies))?(K||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,J,V),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,J,V)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===n.memoizedProps&&Y===n.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&Y===n.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=J),d.props=l,d.state=J,d.context=V,l=Z):(typeof d.componentDidUpdate!="function"||_===n.memoizedProps&&Y===n.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&Y===n.memoizedState||(s.flags|=1024),l=!1)}return d=l,Yc(n,s),l=(s.flags&128)!==0,d||l?(d=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,n!==null&&l?(s.child=wa(s,n.child,null,f),s.child=wa(s,null,a,f)):vn(n,s,a,f),s.memoizedState=d.state,n=s.child):n=js(n,s,f),n}function _v(n,s,a,l){return _a(),s.flags|=256,vn(n,s,a,l),s.child}var Bd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fd(n){return{baseLanes:n,cachePool:l0()}}function Hd(n,s,a){return n=n!==null?n.childLanes&~a:0,s&&(n|=si),n}function Tv(n,s,a){var l=s.pendingProps,f=!1,d=(s.flags&128)!==0,_;if((_=d)||(_=n!==null&&n.memoizedState===null?!1:(Ke.current&2)!==0),_&&(f=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,n===null){if(Zt){if(f?Ar(s):wr(),(n=Se)?(n=C_(n,vi),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:yr!==null?{id:os,overflow:ls}:null,retryLane:536870912,hydrationErrors:null},a=Zy(n),a.return=s,s.child=a,gn=s,Se=null)):n=null,n===null)throw _r(s);return wm(n)?s.lanes=32:s.lanes=536870912,null}var A=l.children;return l=l.fallback,f?(wr(),f=s.mode,A=Qc({mode:"hidden",children:A},f),l=va(l,f,a,null),A.return=s,l.return=s,A.sibling=l,s.child=A,l=s.child,l.memoizedState=Fd(a),l.childLanes=Hd(n,_,a),s.memoizedState=Bd,Gl(null,l)):(Ar(s),qd(s,A))}var V=n.memoizedState;if(V!==null&&(A=V.dehydrated,A!==null)){if(d)s.flags&256?(Ar(s),s.flags&=-257,s=Gd(n,s,a)):s.memoizedState!==null?(wr(),s.child=n.child,s.flags|=128,s=null):(wr(),A=l.fallback,f=s.mode,l=Qc({mode:"visible",children:l.children},f),A=va(A,f,a,null),A.flags|=2,l.return=s,A.return=s,l.sibling=A,s.child=l,wa(s,n.child,null,a),l=s.child,l.memoizedState=Fd(a),l.childLanes=Hd(n,_,a),s.memoizedState=Bd,s=Gl(null,l));else if(Ar(s),wm(A)){if(_=A.nextSibling&&A.nextSibling.dataset,_)var K=_.dgst;_=K,l=Error(r(419)),l.stack="",l.digest=_,Ol({value:l,source:null,stack:null}),s=Gd(n,s,a)}else if(tn||po(n,s,a,!1),_=(a&n.childLanes)!==0,tn||_){if(_=Te,_!==null&&(l=et(_,a),l!==0&&l!==V.retryLane))throw V.retryLane=l,ya(n,l),Yn(_,n,l),Ud;Am(A)||ih(),s=Gd(n,s,a)}else Am(A)?(s.flags|=192,s.child=n.child,s=null):(n=V.treeContext,Se=Ti(A.nextSibling),gn=s,Zt=!0,vr=null,vi=!1,n!==null&&n0(s,n),s=qd(s,l.children),s.flags|=4096);return s}return f?(wr(),A=l.fallback,f=s.mode,V=n.child,K=V.sibling,l=Ms(V,{mode:"hidden",children:l.children}),l.subtreeFlags=V.subtreeFlags&65011712,K!==null?A=Ms(K,A):(A=va(A,f,a,null),A.flags|=2),A.return=s,l.return=s,l.sibling=A,s.child=l,Gl(null,l),l=s.child,A=n.child.memoizedState,A===null?A=Fd(a):(f=A.cachePool,f!==null?(V=Je._currentValue,f=f.parent!==V?{parent:V,pool:V}:f):f=l0(),A={baseLanes:A.baseLanes|a,cachePool:f}),l.memoizedState=A,l.childLanes=Hd(n,_,a),s.memoizedState=Bd,Gl(n.child,l)):(Ar(s),a=n.child,n=a.sibling,a=Ms(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,n!==null&&(_=s.deletions,_===null?(s.deletions=[n],s.flags|=16):_.push(n)),s.child=a,s.memoizedState=null,a)}function qd(n,s){return s=Qc({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Qc(n,s){return n=ti(22,n,null,s),n.lanes=0,n}function Gd(n,s,a){return wa(s,n.child,null,a),n=qd(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function bv(n,s,a){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s),ad(n.return,s,a)}function Kd(n,s,a,l,f,d){var _=n.memoizedState;_===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function Sv(n,s,a){var l=s.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=Ke.current,A=(_&2)!==0;if(A?(_=_&1|2,s.flags|=128):_&=1,gt(Ke,_),vn(n,s,l,a),l=Zt?Vl:0,!A&&n!==null&&(n.flags&128)!==0)t:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&bv(n,a,s);else if(n.tag===19)bv(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break t;for(;n.sibling===null;){if(n.return===null||n.return===s)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)n=a.alternate,n!==null&&kc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Kd(s,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&kc(n)===null){s.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Kd(s,!0,a,null,d,l);break;case"together":Kd(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function js(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),Cr|=s.lanes,(a&s.childLanes)===0)if(n!==null){if(po(n,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,a=Ms(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=Ms(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function Yd(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Cc(n)))}function Tx(n,s,a){switch(s.tag){case 3:De(s,s.stateNode.containerInfo),Tr(s,Je,n.memoizedState.cache),_a();break;case 27:case 5:Ii(s);break;case 4:De(s,s.stateNode.containerInfo);break;case 10:Tr(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,vd(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Ar(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Tv(n,s,a):(Ar(s),n=js(n,s,a),n!==null?n.sibling:null);Ar(s);break;case 19:var f=(n.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(po(n,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return Sv(n,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),gt(Ke,Ke.current),l)break;return null;case 22:return s.lanes=0,mv(n,s,a,s.pendingProps);case 24:Tr(s,Je,n.memoizedState.cache)}return js(n,s,a)}function Ev(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps)tn=!0;else{if(!Yd(n,a)&&(s.flags&128)===0)return tn=!1,Tx(n,s,a);tn=(n.flags&131072)!==0}else tn=!1,Zt&&(s.flags&1048576)!==0&&e0(s,Vl,s.index);switch(s.lanes=0,s.tag){case 16:t:{var l=s.pendingProps;if(n=Ea(s.elementType),s.type=n,typeof n=="function")Jf(n)?(l=Ra(n,l),s.tag=1,s=vv(null,s,n,l,a)):(s.tag=0,s=zd(null,s,n,l,a));else{if(n!=null){var f=n.$$typeof;if(f===ft){s.tag=11,s=hv(null,s,n,l,a);break t}else if(f===R){s.tag=14,s=fv(null,s,n,l,a);break t}}throw s=Ht(n)||n,Error(r(306,s,""))}}return s;case 0:return zd(n,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=Ra(l,s.pendingProps),vv(n,s,l,f,a);case 3:t:{if(De(s,s.stateNode.containerInfo),n===null)throw Error(r(387));l=s.pendingProps;var d=s.memoizedState;f=d.element,dd(n,s),zl(s,l,null,a);var _=s.memoizedState;if(l=_.cache,Tr(s,Je,l),l!==d.cache&&od(s,[Je],a,!0),Ul(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=_v(n,s,l,a);break t}else if(l!==f){f=pi(Error(r(424)),s),Ol(f),s=_v(n,s,l,a);break t}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Se=Ti(n.firstChild),gn=s,Zt=!0,vr=null,vi=!0,a=m0(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(_a(),l===f){s=js(n,s,a);break t}vn(n,s,l,a)}s=s.child}return s;case 26:return Yc(n,s),n===null?(a=N_(s.type,null,s.pendingProps,null))?s.memoizedState=a:Zt||(a=s.type,n=s.pendingProps,l=ch(Nt.current).createElement(a),l[_t]=s,l[Pt]=n,_n(l,a,n),be(l),s.stateNode=l):s.memoizedState=N_(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return Ii(s),n===null&&Zt&&(l=s.stateNode=M_(s.type,s.pendingProps,Nt.current),gn=s,vi=!0,f=Se,Or(s.type)?(xm=f,Se=Ti(l.firstChild)):Se=f),vn(n,s,s.pendingProps.children,a),Yc(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Zt&&((f=l=Se)&&(l=Wx(l,s.type,s.pendingProps,vi),l!==null?(s.stateNode=l,gn=s,Se=Ti(l.firstChild),vi=!1,f=!0):f=!1),f||_r(s)),Ii(s),f=s.type,d=s.pendingProps,_=n!==null?n.memoizedProps:null,l=d.children,bm(f,d)?l=null:_!==null&&bm(f,_)&&(s.flags|=32),s.memoizedState!==null&&(f=Td(n,s,hx,null,null,a),au._currentValue=f),Yc(n,s),vn(n,s,l,a),s.child;case 6:return n===null&&Zt&&((n=a=Se)&&(a=$x(a,s.pendingProps,vi),a!==null?(s.stateNode=a,gn=s,Se=null,n=!0):n=!1),n||_r(s)),null;case 13:return Tv(n,s,a);case 4:return De(s,s.stateNode.containerInfo),l=s.pendingProps,n===null?s.child=wa(s,null,l,a):vn(n,s,l,a),s.child;case 11:return hv(n,s,s.type,s.pendingProps,a);case 7:return vn(n,s,s.pendingProps,a),s.child;case 8:return vn(n,s,s.pendingProps.children,a),s.child;case 12:return vn(n,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Tr(s,s.type,l.value),vn(n,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,ba(s),f=yn(f),l=l(f),s.flags|=1,vn(n,s,l,a),s.child;case 14:return fv(n,s,s.type,s.pendingProps,a);case 15:return dv(n,s,s.type,s.pendingProps,a);case 19:return Sv(n,s,a);case 31:return _x(n,s,a);case 22:return mv(n,s,a,s.pendingProps);case 24:return ba(s),l=yn(Je),n===null?(f=cd(),f===null&&(f=Te,d=ld(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),s.memoizedState={parent:l,cache:f},fd(s),Tr(s,Je,f)):((n.lanes&a)!==0&&(dd(n,s),zl(s,null,null,a),Ul()),f=n.memoizedState,d=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Tr(s,Je,l)):(l=d.cache,Tr(s,Je,l),l!==f.cache&&od(s,[Je],a,!0))),vn(n,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Ls(n){n.flags|=4}function Qd(n,s,a,l,f){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(Wv())n.flags|=8192;else throw Aa=Vc,hd}else n.flags&=-16777217}function Av(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!U_(s))if(Wv())n.flags|=8192;else throw Aa=Vc,hd}function Xc(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?Wa():536870912,n.lanes|=s,Ro|=s)}function Kl(n,s){if(!Zt)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function Ee(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(s)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,s}function bx(n,s,a){var l=s.pendingProps;switch(nd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ee(s),null;case 1:return Ee(s),null;case 3:return a=s.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Ns(Je),pe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(mo(s)?Ls(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,sd())),Ee(s),null;case 26:var f=s.type,d=s.memoizedState;return n===null?(Ls(s),d!==null?(Ee(s),Av(s,d)):(Ee(s),Qd(s,f,null,l,a))):d?d!==n.memoizedState?(Ls(s),Ee(s),Av(s,d)):(Ee(s),s.flags&=-16777217):(n=n.memoizedProps,n!==l&&Ls(s),Ee(s),Qd(s,f,n,l,a)),null;case 27:if(Xi(s),a=Nt.current,f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&Ls(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return Ee(s),null}n=vt.current,mo(s)?i0(s):(n=M_(f,l,a),s.stateNode=n,Ls(s))}return Ee(s),null;case 5:if(Xi(s),f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&Ls(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return Ee(s),null}if(d=vt.current,mo(s))i0(s);else{var _=ch(Nt.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[_t]=s,d[Pt]=l;t:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break t;for(;_.sibling===null;){if(_.return===null||_.return===s)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=d;t:switch(_n(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Ls(s)}}return Ee(s),Qd(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,a),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==l&&Ls(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(n=Nt.current,mo(s)){if(n=s.stateNode,a=s.memoizedProps,l=null,f=gn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[_t]=s,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||T_(n.nodeValue,a)),n||_r(s,!0)}else n=ch(n).createTextNode(l),n[_t]=s,s.stateNode=n}return Ee(s),null;case 31:if(a=s.memoizedState,n===null||n.memoizedState!==null){if(l=mo(s),a!==null){if(n===null){if(!l)throw Error(r(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(557));n[_t]=s}else _a(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ee(s),n=!1}else a=sd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return s.flags&256?(ni(s),s):(ni(s),null);if((s.flags&128)!==0)throw Error(r(558))}return Ee(s),null;case 13:if(l=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=mo(s),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[_t]=s}else _a(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ee(s),f=!1}else f=sd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(ni(s),s):(ni(s),null)}return ni(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,n=n!==null&&n.memoizedState!==null,a&&(l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==n&&a&&(s.child.flags|=8192),Xc(s,s.updateQueue),Ee(s),null);case 4:return pe(),n===null&&gm(s.stateNode.containerInfo),Ee(s),null;case 10:return Ns(s.type),Ee(s),null;case 19:if(rt(Ke),l=s.memoizedState,l===null)return Ee(s),null;if(f=(s.flags&128)!==0,d=l.rendering,d===null)if(f)Kl(l,!1);else{if(Be!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(d=kc(n),d!==null){for(s.flags|=128,Kl(l,!1),n=d.updateQueue,s.updateQueue=n,Xc(s,n),s.subtreeFlags=0,n=a,a=s.child;a!==null;)Jy(a,n),a=a.sibling;return gt(Ke,Ke.current&1|2),Zt&&Vs(s,l.treeForkCount),s.child}n=n.sibling}l.tail!==null&&He()>th&&(s.flags|=128,f=!0,Kl(l,!1),s.lanes=4194304)}else{if(!f)if(n=kc(d),n!==null){if(s.flags|=128,f=!0,n=n.updateQueue,s.updateQueue=n,Xc(s,n),Kl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Zt)return Ee(s),null}else 2*He()-l.renderingStartTime>th&&a!==536870912&&(s.flags|=128,f=!0,Kl(l,!1),s.lanes=4194304);l.isBackwards?(d.sibling=s.child,s.child=d):(n=l.last,n!==null?n.sibling=d:s.child=d,l.last=d)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=He(),n.sibling=null,a=Ke.current,gt(Ke,f?a&1|2:a&1),Zt&&Vs(s,l.treeForkCount),n):(Ee(s),null);case 22:case 23:return ni(s),yd(),l=s.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(Ee(s),s.subtreeFlags&6&&(s.flags|=8192)):Ee(s),a=s.updateQueue,a!==null&&Xc(s,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),n!==null&&rt(Sa),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Ns(Je),Ee(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function Sx(n,s){switch(nd(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Ns(Je),pe(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Xi(s),null;case 31:if(s.memoizedState!==null){if(ni(s),s.alternate===null)throw Error(r(340));_a()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(ni(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));_a()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return rt(Ke),null;case 4:return pe(),null;case 10:return Ns(s.type),null;case 22:case 23:return ni(s),yd(),n!==null&&rt(Sa),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return Ns(Je),null;case 25:return null;default:return null}}function wv(n,s){switch(nd(s),s.tag){case 3:Ns(Je),pe();break;case 26:case 27:case 5:Xi(s);break;case 4:pe();break;case 31:s.memoizedState!==null&&ni(s);break;case 13:ni(s);break;case 19:rt(Ke);break;case 10:Ns(s.type);break;case 22:case 23:ni(s),yd(),n!==null&&rt(Sa);break;case 24:Ns(Je)}}function Yl(n,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(A){me(s,s.return,A)}}function xr(n,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&n)===n){var _=l.inst,A=_.destroy;if(A!==void 0){_.destroy=void 0,f=s;var V=a,K=A;try{K()}catch(Z){me(f,V,Z)}}}l=l.next}while(l!==d)}}catch(Z){me(s,s.return,Z)}}function xv(n){var s=n.updateQueue;if(s!==null){var a=n.stateNode;try{g0(s,a)}catch(l){me(n,n.return,l)}}}function Rv(n,s,a){a.props=Ra(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){me(n,s,l)}}function Ql(n,s){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){me(n,s,f)}}function us(n,s){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){me(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){me(n,s,f)}else a.current=null}function Cv(n){var s=n.type,a=n.memoizedProps,l=n.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){me(n,n.return,f)}}function Xd(n,s,a){try{var l=n.stateNode;qx(l,n.type,a,s),l[Pt]=s}catch(f){me(n,n.return,f)}}function Iv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Or(n.type)||n.tag===4}function Wd(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||Iv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Or(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function $d(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(n),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Pi));else if(l!==4&&(l===27&&Or(n.type)&&(a=n.stateNode,s=null),n=n.child,n!==null))for($d(n,s,a),n=n.sibling;n!==null;)$d(n,s,a),n=n.sibling}function Wc(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(l!==4&&(l===27&&Or(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Wc(n,s,a),n=n.sibling;n!==null;)Wc(n,s,a),n=n.sibling}function Dv(n){var s=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);_n(s,l,a),s[_t]=n,s[Pt]=a}catch(d){me(n,n.return,d)}}var Us=!1,en=!1,Jd=!1,Mv=typeof WeakSet=="function"?WeakSet:Set,hn=null;function Ex(n,s){if(n=n.containerInfo,_m=yh,n=Hy(n),Gf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else t:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,A=-1,V=-1,K=0,Z=0,ot=n,Y=null;e:for(;;){for(var J;ot!==a||f!==0&&ot.nodeType!==3||(A=_+f),ot!==d||l!==0&&ot.nodeType!==3||(V=_+l),ot.nodeType===3&&(_+=ot.nodeValue.length),(J=ot.firstChild)!==null;)Y=ot,ot=J;for(;;){if(ot===n)break e;if(Y===a&&++K===f&&(A=_),Y===d&&++Z===l&&(V=_),(J=ot.nextSibling)!==null)break;ot=Y,Y=ot.parentNode}ot=J}a=A===-1||V===-1?null:{start:A,end:V}}else a=null}a=a||{start:0,end:0}}else a=null;for(Tm={focusedElem:n,selectionRange:a},yh=!1,hn=s;hn!==null;)if(s=hn,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,hn=n;else for(;hn!==null;){switch(s=hn,d=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)f=n[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=s,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var St=Ra(a.type,f);n=l.getSnapshotBeforeUpdate(St,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(It){me(a,a.return,It)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,a=n.nodeType,a===9)Em(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Em(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,hn=n;break}hn=s.return}}function Vv(n,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Bs(n,a),l&4&&Yl(5,a);break;case 1:if(Bs(n,a),l&4)if(n=a.stateNode,s===null)try{n.componentDidMount()}catch(_){me(a,a.return,_)}else{var f=Ra(a.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(_){me(a,a.return,_)}}l&64&&xv(a),l&512&&Ql(a,a.return);break;case 3:if(Bs(n,a),l&64&&(n=a.updateQueue,n!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{g0(n,s)}catch(_){me(a,a.return,_)}}break;case 27:s===null&&l&4&&Dv(a);case 26:case 5:Bs(n,a),s===null&&l&4&&Cv(a),l&512&&Ql(a,a.return);break;case 12:Bs(n,a);break;case 31:Bs(n,a),l&4&&Pv(n,a);break;case 13:Bs(n,a),l&4&&kv(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=Vx.bind(null,a),Jx(n,a))));break;case 22:if(l=a.memoizedState!==null||Us,!l){s=s!==null&&s.memoizedState!==null||en,f=Us;var d=en;Us=l,(en=s)&&!d?Fs(n,a,(a.subtreeFlags&8772)!==0):Bs(n,a),Us=f,en=d}break;case 30:break;default:Bs(n,a)}}function Ov(n){var s=n.alternate;s!==null&&(n.alternate=null,Ov(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&ar(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Ce=null,Hn=!1;function zs(n,s,a){for(a=a.child;a!==null;)Nv(n,s,a),a=a.sibling}function Nv(n,s,a){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount(Nn,a)}catch{}switch(a.tag){case 26:en||us(a,s),zs(n,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:en||us(a,s);var l=Ce,f=Hn;Or(a.type)&&(Ce=a.stateNode,Hn=!1),zs(n,s,a),iu(a.stateNode),Ce=l,Hn=f;break;case 5:en||us(a,s);case 6:if(l=Ce,f=Hn,Ce=null,zs(n,s,a),Ce=l,Hn=f,Ce!==null)if(Hn)try{(Ce.nodeType===9?Ce.body:Ce.nodeName==="HTML"?Ce.ownerDocument.body:Ce).removeChild(a.stateNode)}catch(d){me(a,s,d)}else try{Ce.removeChild(a.stateNode)}catch(d){me(a,s,d)}break;case 18:Ce!==null&&(Hn?(n=Ce,x_(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Po(n)):x_(Ce,a.stateNode));break;case 4:l=Ce,f=Hn,Ce=a.stateNode.containerInfo,Hn=!0,zs(n,s,a),Ce=l,Hn=f;break;case 0:case 11:case 14:case 15:xr(2,a,s),en||xr(4,a,s),zs(n,s,a);break;case 1:en||(us(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Rv(a,s,l)),zs(n,s,a);break;case 21:zs(n,s,a);break;case 22:en=(l=en)||a.memoizedState!==null,zs(n,s,a),en=l;break;default:zs(n,s,a)}}function Pv(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Po(n)}catch(a){me(s,s.return,a)}}}function kv(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Po(n)}catch(a){me(s,s.return,a)}}function Ax(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new Mv),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new Mv),s;default:throw Error(r(435,n.tag))}}function $c(n,s){var a=Ax(n);s.forEach(function(l){if(!a.has(l)){a.add(l);var f=Ox.bind(null,n,l);l.then(f,f)}})}function qn(n,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=n,_=s,A=_;t:for(;A!==null;){switch(A.tag){case 27:if(Or(A.type)){Ce=A.stateNode,Hn=!1;break t}break;case 5:Ce=A.stateNode,Hn=!1;break t;case 3:case 4:Ce=A.stateNode.containerInfo,Hn=!0;break t}A=A.return}if(Ce===null)throw Error(r(160));Nv(d,_,f),Ce=null,Hn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)jv(s,n),s=s.sibling}var Bi=null;function jv(n,s){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:qn(s,n),Gn(n),l&4&&(xr(3,n,n.return),Yl(3,n),xr(5,n,n.return));break;case 1:qn(s,n),Gn(n),l&512&&(en||a===null||us(a,a.return)),l&64&&Us&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Bi;if(qn(s,n),Gn(n),l&512&&(en||a===null||us(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){t:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Pn]||d[_t]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),_n(d,l,a),d[_t]=n,be(d),l=d;break t;case"link":var _=j_("link","href",f).get(l+(a.href||""));if(_){for(var A=0;A<_.length;A++)if(d=_[A],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(A,1);break e}}d=f.createElement(l),_n(d,l,a),f.head.appendChild(d);break;case"meta":if(_=j_("meta","content",f).get(l+(a.content||""))){for(A=0;A<_.length;A++)if(d=_[A],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(A,1);break e}}d=f.createElement(l),_n(d,l,a),f.head.appendChild(d);break;default:throw Error(r(468,l))}d[_t]=n,be(d),l=d}n.stateNode=l}else L_(f,n.type,n.stateNode);else n.stateNode=k_(f,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?L_(f,n.type,n.stateNode):k_(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Xd(n,n.memoizedProps,a.memoizedProps)}break;case 27:qn(s,n),Gn(n),l&512&&(en||a===null||us(a,a.return)),a!==null&&l&4&&Xd(n,n.memoizedProps,a.memoizedProps);break;case 5:if(qn(s,n),Gn(n),l&512&&(en||a===null||us(a,a.return)),n.flags&32){f=n.stateNode;try{Fn(f,"")}catch(St){me(n,n.return,St)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,Xd(n,f,a!==null?a.memoizedProps:f)),l&1024&&(Jd=!0);break;case 6:if(qn(s,n),Gn(n),l&4){if(n.stateNode===null)throw Error(r(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(St){me(n,n.return,St)}}break;case 3:if(dh=null,f=Bi,Bi=hh(s.containerInfo),qn(s,n),Bi=f,Gn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Po(s.containerInfo)}catch(St){me(n,n.return,St)}Jd&&(Jd=!1,Lv(n));break;case 4:l=Bi,Bi=hh(n.stateNode.containerInfo),qn(s,n),Gn(n),Bi=l;break;case 12:qn(s,n),Gn(n);break;case 31:qn(s,n),Gn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,$c(n,l)));break;case 13:qn(s,n),Gn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Zc=He()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,$c(n,l)));break;case 22:f=n.memoizedState!==null;var V=a!==null&&a.memoizedState!==null,K=Us,Z=en;if(Us=K||f,en=Z||V,qn(s,n),en=Z,Us=K,Gn(n),l&8192)t:for(s=n.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||V||Us||en||Ca(n)),a=null,s=n;;){if(s.tag===5||s.tag===26){if(a===null){V=a=s;try{if(d=V.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{A=V.stateNode;var ot=V.memoizedProps.style,Y=ot!=null&&ot.hasOwnProperty("display")?ot.display:null;A.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(St){me(V,V.return,St)}}}else if(s.tag===6){if(a===null){V=s;try{V.stateNode.nodeValue=f?"":V.memoizedProps}catch(St){me(V,V.return,St)}}}else if(s.tag===18){if(a===null){V=s;try{var J=V.stateNode;f?R_(J,!0):R_(V.stateNode,!1)}catch(St){me(V,V.return,St)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break t;for(;s.sibling===null;){if(s.return===null||s.return===n)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,$c(n,a))));break;case 19:qn(s,n),Gn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,$c(n,l)));break;case 30:break;case 21:break;default:qn(s,n),Gn(n)}}function Gn(n){var s=n.flags;if(s&2){try{for(var a,l=n.return;l!==null;){if(Iv(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,d=Wd(n);Wc(n,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(Fn(_,""),a.flags&=-33);var A=Wd(n);Wc(n,A,_);break;case 3:case 4:var V=a.stateNode.containerInfo,K=Wd(n);$d(n,K,V);break;default:throw Error(r(161))}}catch(Z){me(n,n.return,Z)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function Lv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;Lv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Bs(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Vv(n,s.alternate,s),s=s.sibling}function Ca(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:xr(4,s,s.return),Ca(s);break;case 1:us(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Rv(s,s.return,a),Ca(s);break;case 27:iu(s.stateNode);case 26:case 5:us(s,s.return),Ca(s);break;case 22:s.memoizedState===null&&Ca(s);break;case 30:Ca(s);break;default:Ca(s)}n=n.sibling}}function Fs(n,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=n,d=s,_=d.flags;switch(d.tag){case 0:case 11:case 15:Fs(f,d,a),Yl(4,d);break;case 1:if(Fs(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(K){me(l,l.return,K)}if(l=d,f=l.updateQueue,f!==null){var A=l.stateNode;try{var V=f.shared.hiddenCallbacks;if(V!==null)for(f.shared.hiddenCallbacks=null,f=0;f<V.length;f++)p0(V[f],A)}catch(K){me(l,l.return,K)}}a&&_&64&&xv(d),Ql(d,d.return);break;case 27:Dv(d);case 26:case 5:Fs(f,d,a),a&&l===null&&_&4&&Cv(d),Ql(d,d.return);break;case 12:Fs(f,d,a);break;case 31:Fs(f,d,a),a&&_&4&&Pv(f,d);break;case 13:Fs(f,d,a),a&&_&4&&kv(f,d);break;case 22:d.memoizedState===null&&Fs(f,d,a),Ql(d,d.return);break;case 30:break;default:Fs(f,d,a)}s=s.sibling}}function Zd(n,s){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Nl(a))}function tm(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Nl(n))}function Fi(n,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Uv(n,s,a,l),s=s.sibling}function Uv(n,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Fi(n,s,a,l),f&2048&&Yl(9,s);break;case 1:Fi(n,s,a,l);break;case 3:Fi(n,s,a,l),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Nl(n)));break;case 12:if(f&2048){Fi(n,s,a,l),n=s.stateNode;try{var d=s.memoizedProps,_=d.id,A=d.onPostCommit;typeof A=="function"&&A(_,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(V){me(s,s.return,V)}}else Fi(n,s,a,l);break;case 31:Fi(n,s,a,l);break;case 13:Fi(n,s,a,l);break;case 23:break;case 22:d=s.stateNode,_=s.alternate,s.memoizedState!==null?d._visibility&2?Fi(n,s,a,l):Xl(n,s):d._visibility&2?Fi(n,s,a,l):(d._visibility|=2,Ao(n,s,a,l,(s.subtreeFlags&10256)!==0||!1)),f&2048&&Zd(_,s);break;case 24:Fi(n,s,a,l),f&2048&&tm(s.alternate,s);break;default:Fi(n,s,a,l)}}function Ao(n,s,a,l,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var d=n,_=s,A=a,V=l,K=_.flags;switch(_.tag){case 0:case 11:case 15:Ao(d,_,A,V,f),Yl(8,_);break;case 23:break;case 22:var Z=_.stateNode;_.memoizedState!==null?Z._visibility&2?Ao(d,_,A,V,f):Xl(d,_):(Z._visibility|=2,Ao(d,_,A,V,f)),f&&K&2048&&Zd(_.alternate,_);break;case 24:Ao(d,_,A,V,f),f&&K&2048&&tm(_.alternate,_);break;default:Ao(d,_,A,V,f)}s=s.sibling}}function Xl(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=n,l=s,f=l.flags;switch(l.tag){case 22:Xl(a,l),f&2048&&Zd(l.alternate,l);break;case 24:Xl(a,l),f&2048&&tm(l.alternate,l);break;default:Xl(a,l)}s=s.sibling}}var Wl=8192;function wo(n,s,a){if(n.subtreeFlags&Wl)for(n=n.child;n!==null;)zv(n,s,a),n=n.sibling}function zv(n,s,a){switch(n.tag){case 26:wo(n,s,a),n.flags&Wl&&n.memoizedState!==null&&cR(a,Bi,n.memoizedState,n.memoizedProps);break;case 5:wo(n,s,a);break;case 3:case 4:var l=Bi;Bi=hh(n.stateNode.containerInfo),wo(n,s,a),Bi=l;break;case 22:n.memoizedState===null&&(l=n.alternate,l!==null&&l.memoizedState!==null?(l=Wl,Wl=16777216,wo(n,s,a),Wl=l):wo(n,s,a));break;default:wo(n,s,a)}}function Bv(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function $l(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];hn=l,Hv(l,n)}Bv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Fv(n),n=n.sibling}function Fv(n){switch(n.tag){case 0:case 11:case 15:$l(n),n.flags&2048&&xr(9,n,n.return);break;case 3:$l(n);break;case 12:$l(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Jc(n)):$l(n);break;default:$l(n)}}function Jc(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];hn=l,Hv(l,n)}Bv(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:xr(8,s,s.return),Jc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Jc(s));break;default:Jc(s)}n=n.sibling}}function Hv(n,s){for(;hn!==null;){var a=hn;switch(a.tag){case 0:case 11:case 15:xr(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Nl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,hn=l;else t:for(a=n;hn!==null;){l=hn;var f=l.sibling,d=l.return;if(Ov(l),l===a){hn=null;break t}if(f!==null){f.return=d,hn=f;break t}hn=d}}}var wx={getCacheForType:function(n){var s=yn(Je),a=s.data.get(n);return a===void 0&&(a=n(),s.data.set(n,a)),a},cacheSignal:function(){return yn(Je).controller.signal}},xx=typeof WeakMap=="function"?WeakMap:Map,oe=0,Te=null,Kt=null,Qt=0,de=0,ii=null,Rr=!1,xo=!1,em=!1,Hs=0,Be=0,Cr=0,Ia=0,nm=0,si=0,Ro=0,Jl=null,Kn=null,im=!1,Zc=0,qv=0,th=1/0,eh=null,Ir=null,on=0,Dr=null,Co=null,qs=0,sm=0,rm=null,Gv=null,Zl=0,am=null;function ri(){return(oe&2)!==0&&Qt!==0?Qt&-Qt:Q.T!==null?fm():F()}function Kv(){if(si===0)if((Qt&536870912)===0||Zt){var n=ws;ws<<=1,(ws&3932160)===0&&(ws=262144),si=n}else si=536870912;return n=ei.current,n!==null&&(n.flags|=32),si}function Yn(n,s,a){(n===Te&&(de===2||de===9)||n.cancelPendingCommit!==null)&&(Io(n,0),Mr(n,Qt,si,!1)),mn(n,a),((oe&2)===0||n!==Te)&&(n===Te&&((oe&2)===0&&(Ia|=a),Be===4&&Mr(n,Qt,si,!1)),cs(n))}function Yv(n,s,a){if((oe&6)!==0)throw Error(r(327));var l=!a&&(s&127)===0&&(s&n.expiredLanes)===0||an(n,s),f=l?Ix(n,s):lm(n,s,!0),d=l;do{if(f===0){xo&&!l&&Mr(n,s,0,!1);break}else{if(a=n.current.alternate,d&&!Rx(a)){f=lm(n,s,!1),d=!1;continue}if(f===2){if(d=s,n.errorRecoveryDisabledLanes&d)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;t:{var A=n;f=Jl;var V=A.current.memoizedState.isDehydrated;if(V&&(Io(A,_).flags|=256),_=lm(A,_,!1),_!==2){if(em&&!V){A.errorRecoveryDisabledLanes|=d,Ia|=d,f=4;break t}d=Kn,Kn=f,d!==null&&(Kn===null?Kn=d:Kn.push.apply(Kn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){Io(n,0),Mr(n,s,0,!0);break}t:{switch(l=n,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Mr(l,s,si,!Rr);break t;case 2:Kn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=Zc+300-He(),10<f)){if(Mr(l,s,si,!Rr),ui(l,0,!0)!==0)break t;qs=s,l.timeoutHandle=A_(Qv.bind(null,l,a,Kn,eh,im,s,si,Ia,Ro,Rr,d,"Throttled",-0,0),f);break t}Qv(l,a,Kn,eh,im,s,si,Ia,Ro,Rr,d,null,-0,0)}}break}while(!0);cs(n)}function Qv(n,s,a,l,f,d,_,A,V,K,Z,ot,Y,J){if(n.timeoutHandle=-1,ot=s.subtreeFlags,ot&8192||(ot&16785408)===16785408){ot={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pi},zv(s,d,ot);var St=(d&62914560)===d?Zc-He():(d&4194048)===d?qv-He():0;if(St=hR(ot,St),St!==null){qs=d,n.cancelPendingCommit=St(n_.bind(null,n,s,d,a,l,f,_,A,V,Z,ot,null,Y,J)),Mr(n,d,_,!K);return}}n_(n,s,d,a,l,f,_,A,V)}function Rx(n){for(var s=n;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!Zn(d(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Mr(n,s,a,l){s&=~nm,s&=~Ia,n.suspendedLanes|=s,n.pingedLanes&=~s,l&&(n.warmLanes|=s),l=n.expirationTimes;for(var f=s;0<f;){var d=31-ue(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&xs(n,a,s)}function nh(){return(oe&6)===0?(tu(0),!1):!0}function om(){if(Kt!==null){if(de===0)var n=Kt.return;else n=Kt,Os=Ta=null,Ed(n),_o=null,kl=0,n=Kt;for(;n!==null;)wv(n.alternate,n),n=n.return;Kt=null}}function Io(n,s){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,Yx(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),qs=0,om(),Te=n,Kt=a=Ms(n.current,null),Qt=s,de=0,ii=null,Rr=!1,xo=an(n,s),em=!1,Ro=si=nm=Ia=Cr=Be=0,Kn=Jl=null,im=!1,(s&8)!==0&&(s|=s&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=s;0<l;){var f=31-ue(l),d=1<<f;s|=n[f],l&=~d}return Hs=s,Ec(),a}function Xv(n,s){zt=null,Q.H=ql,s===vo||s===Mc?(s=h0(),de=3):s===hd?(s=h0(),de=4):de=s===Ud?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,ii=s,Kt===null&&(Be=1,Gc(n,pi(s,n.current)))}function Wv(){var n=ei.current;return n===null?!0:(Qt&4194048)===Qt?_i===null:(Qt&62914560)===Qt||(Qt&536870912)!==0?n===_i:!1}function $v(){var n=Q.H;return Q.H=ql,n===null?ql:n}function Jv(){var n=Q.A;return Q.A=wx,n}function ih(){Be=4,Rr||(Qt&4194048)!==Qt&&ei.current!==null||(xo=!0),(Cr&134217727)===0&&(Ia&134217727)===0||Te===null||Mr(Te,Qt,si,!1)}function lm(n,s,a){var l=oe;oe|=2;var f=$v(),d=Jv();(Te!==n||Qt!==s)&&(eh=null,Io(n,s)),s=!1;var _=Be;t:do try{if(de!==0&&Kt!==null){var A=Kt,V=ii;switch(de){case 8:om(),_=6;break t;case 3:case 2:case 9:case 6:ei.current===null&&(s=!0);var K=de;if(de=0,ii=null,Do(n,A,V,K),a&&xo){_=0;break t}break;default:K=de,de=0,ii=null,Do(n,A,V,K)}}Cx(),_=Be;break}catch(Z){Xv(n,Z)}while(!0);return s&&n.shellSuspendCounter++,Os=Ta=null,oe=l,Q.H=f,Q.A=d,Kt===null&&(Te=null,Qt=0,Ec()),_}function Cx(){for(;Kt!==null;)Zv(Kt)}function Ix(n,s){var a=oe;oe|=2;var l=$v(),f=Jv();Te!==n||Qt!==s?(eh=null,th=He()+500,Io(n,s)):xo=an(n,s);t:do try{if(de!==0&&Kt!==null){s=Kt;var d=ii;e:switch(de){case 1:de=0,ii=null,Do(n,s,d,1);break;case 2:case 9:if(u0(d)){de=0,ii=null,t_(s);break}s=function(){de!==2&&de!==9||Te!==n||(de=7),cs(n)},d.then(s,s);break t;case 3:de=7;break t;case 4:de=5;break t;case 7:u0(d)?(de=0,ii=null,t_(s)):(de=0,ii=null,Do(n,s,d,7));break;case 5:var _=null;switch(Kt.tag){case 26:_=Kt.memoizedState;case 5:case 27:var A=Kt;if(_?U_(_):A.stateNode.complete){de=0,ii=null;var V=A.sibling;if(V!==null)Kt=V;else{var K=A.return;K!==null?(Kt=K,sh(K)):Kt=null}break e}}de=0,ii=null,Do(n,s,d,5);break;case 6:de=0,ii=null,Do(n,s,d,6);break;case 8:om(),Be=6;break t;default:throw Error(r(462))}}Dx();break}catch(Z){Xv(n,Z)}while(!0);return Os=Ta=null,Q.H=l,Q.A=f,oe=a,Kt!==null?0:(Te=null,Qt=0,Ec(),Be)}function Dx(){for(;Kt!==null&&!An();)Zv(Kt)}function Zv(n){var s=Ev(n.alternate,n,Hs);n.memoizedProps=n.pendingProps,s===null?sh(n):Kt=s}function t_(n){var s=n,a=s.alternate;switch(s.tag){case 15:case 0:s=yv(a,s,s.pendingProps,s.type,void 0,Qt);break;case 11:s=yv(a,s,s.pendingProps,s.type.render,s.ref,Qt);break;case 5:Ed(s);default:wv(a,s),s=Kt=Jy(s,Hs),s=Ev(a,s,Hs)}n.memoizedProps=n.pendingProps,s===null?sh(n):Kt=s}function Do(n,s,a,l){Os=Ta=null,Ed(s),_o=null,kl=0;var f=s.return;try{if(vx(n,f,s,a,Qt)){Be=1,Gc(n,pi(a,n.current)),Kt=null;return}}catch(d){if(f!==null)throw Kt=f,d;Be=1,Gc(n,pi(a,n.current)),Kt=null;return}s.flags&32768?(Zt||l===1?n=!0:xo||(Qt&536870912)!==0?n=!1:(Rr=n=!0,(l===2||l===9||l===3||l===6)&&(l=ei.current,l!==null&&l.tag===13&&(l.flags|=16384))),e_(s,n)):sh(s)}function sh(n){var s=n;do{if((s.flags&32768)!==0){e_(s,Rr);return}n=s.return;var a=bx(s.alternate,s,Hs);if(a!==null){Kt=a;return}if(s=s.sibling,s!==null){Kt=s;return}Kt=s=n}while(s!==null);Be===0&&(Be=5)}function e_(n,s){do{var a=Sx(n.alternate,n);if(a!==null){a.flags&=32767,Kt=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(n=n.sibling,n!==null)){Kt=n;return}Kt=n=a}while(n!==null);Be=6,Kt=null}function n_(n,s,a,l,f,d,_,A,V){n.cancelPendingCommit=null;do rh();while(on!==0);if((oe&6)!==0)throw Error(r(327));if(s!==null){if(s===n.current)throw Error(r(177));if(d=s.lanes|s.childLanes,d|=Wf,yl(n,a,d,_,A,V),n===Te&&(Kt=Te=null,Qt=0),Co=s,Dr=n,qs=a,sm=d,rm=f,Gv=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,Nx(oi,function(){return o_(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,f=ut.p,ut.p=2,_=oe,oe|=4;try{Ex(n,s,a)}finally{oe=_,ut.p=f,Q.T=l}}on=1,i_(),s_(),r_()}}function i_(){if(on===1){on=0;var n=Dr,s=Co,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=ut.p;ut.p=2;var f=oe;oe|=4;try{jv(s,n);var d=Tm,_=Hy(n.containerInfo),A=d.focusedElem,V=d.selectionRange;if(_!==A&&A&&A.ownerDocument&&Fy(A.ownerDocument.documentElement,A)){if(V!==null&&Gf(A)){var K=V.start,Z=V.end;if(Z===void 0&&(Z=K),"selectionStart"in A)A.selectionStart=K,A.selectionEnd=Math.min(Z,A.value.length);else{var ot=A.ownerDocument||document,Y=ot&&ot.defaultView||window;if(Y.getSelection){var J=Y.getSelection(),St=A.textContent.length,It=Math.min(V.start,St),_e=V.end===void 0?It:Math.min(V.end,St);!J.extend&&It>_e&&(_=_e,_e=It,It=_);var B=By(A,It),L=By(A,_e);if(B&&L&&(J.rangeCount!==1||J.anchorNode!==B.node||J.anchorOffset!==B.offset||J.focusNode!==L.node||J.focusOffset!==L.offset)){var q=ot.createRange();q.setStart(B.node,B.offset),J.removeAllRanges(),It>_e?(J.addRange(q),J.extend(L.node,L.offset)):(q.setEnd(L.node,L.offset),J.addRange(q))}}}}for(ot=[],J=A;J=J.parentNode;)J.nodeType===1&&ot.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ot.length;A++){var st=ot[A];st.element.scrollLeft=st.left,st.element.scrollTop=st.top}}yh=!!_m,Tm=_m=null}finally{oe=f,ut.p=l,Q.T=a}}n.current=s,on=2}}function s_(){if(on===2){on=0;var n=Dr,s=Co,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=ut.p;ut.p=2;var f=oe;oe|=4;try{Vv(n,s.alternate,s)}finally{oe=f,ut.p=l,Q.T=a}}on=3}}function r_(){if(on===4||on===3){on=0,ir();var n=Dr,s=Co,a=qs,l=Gv;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?on=5:(on=0,Co=Dr=null,a_(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Ir=null),tt(a),s=s.stateNode,yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot(Nn,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=Q.T,f=ut.p,ut.p=2,Q.T=null;try{for(var d=n.onRecoverableError,_=0;_<l.length;_++){var A=l[_];d(A.value,{componentStack:A.stack})}}finally{Q.T=s,ut.p=f}}(qs&3)!==0&&rh(),cs(n),f=n.pendingLanes,(a&261930)!==0&&(f&42)!==0?n===am?Zl++:(Zl=0,am=n):Zl=0,tu(0)}}function a_(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Nl(s)))}function rh(){return i_(),s_(),r_(),o_()}function o_(){if(on!==5)return!1;var n=Dr,s=sm;sm=0;var a=tt(qs),l=Q.T,f=ut.p;try{ut.p=32>a?32:a,Q.T=null,a=rm,rm=null;var d=Dr,_=qs;if(on=0,Co=Dr=null,qs=0,(oe&6)!==0)throw Error(r(331));var A=oe;if(oe|=4,Fv(d.current),Uv(d,d.current,_,a),oe=A,tu(0,!1),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot(Nn,d)}catch{}return!0}finally{ut.p=f,Q.T=l,a_(n,s)}}function l_(n,s,a){s=pi(a,s),s=Ld(n.stateNode,s,2),n=Er(n,s,2),n!==null&&(mn(n,2),cs(n))}function me(n,s,a){if(n.tag===3)l_(n,n,a);else for(;s!==null;){if(s.tag===3){l_(s,n,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ir===null||!Ir.has(l))){n=pi(a,n),a=uv(2),l=Er(s,a,2),l!==null&&(cv(a,l,s,n),mn(l,2),cs(l));break}}s=s.return}}function um(n,s,a){var l=n.pingCache;if(l===null){l=n.pingCache=new xx;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(em=!0,f.add(a),n=Mx.bind(null,n,s,a),s.then(n,n))}function Mx(n,s,a){var l=n.pingCache;l!==null&&l.delete(s),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,Te===n&&(Qt&a)===a&&(Be===4||Be===3&&(Qt&62914560)===Qt&&300>He()-Zc?(oe&2)===0&&Io(n,0):nm|=a,Ro===Qt&&(Ro=0)),cs(n)}function u_(n,s){s===0&&(s=Wa()),n=ya(n,s),n!==null&&(mn(n,s),cs(n))}function Vx(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),u_(n,a)}function Ox(n,s){var a=0;switch(n.tag){case 31:case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),u_(n,a)}function Nx(n,s){return Me(n,s)}var ah=null,Mo=null,cm=!1,oh=!1,hm=!1,Vr=0;function cs(n){n!==Mo&&n.next===null&&(Mo===null?ah=Mo=n:Mo=Mo.next=n),oh=!0,cm||(cm=!0,kx())}function tu(n,s){if(!hm&&oh){hm=!0;do for(var a=!1,l=ah;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,A=l.pingedLanes;d=(1<<31-ue(42|n)+1)-1,d&=f&~(_&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,d_(l,d))}else d=Qt,d=ui(l,l===Te?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||an(l,d)||(a=!0,d_(l,d));l=l.next}while(a);hm=!1}}function Px(){c_()}function c_(){oh=cm=!1;var n=0;Vr!==0&&Kx()&&(n=Vr);for(var s=He(),a=null,l=ah;l!==null;){var f=l.next,d=h_(l,s);d===0?(l.next=null,a===null?ah=f:a.next=f,f===null&&(Mo=a)):(a=l,(n!==0||(d&3)!==0)&&(oh=!0)),l=f}on!==0&&on!==5||tu(n),Vr!==0&&(Vr=0)}function h_(n,s){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var _=31-ue(d),A=1<<_,V=f[_];V===-1?((A&a)===0||(A&l)!==0)&&(f[_]=gl(A,s)):V<=s&&(n.expiredLanes|=A),d&=~A}if(s=Te,a=Qt,a=ui(n,n===s?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===s&&(de===2||de===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Gt(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||an(n,a)){if(s=a&-a,s===n.callbackPriority)return s;switch(l!==null&&Gt(l),tt(a)){case 2:case 8:a=Ss;break;case 32:a=oi;break;case 268435456:a=As;break;default:a=oi}return l=f_.bind(null,n),a=Me(a,l),n.callbackPriority=s,n.callbackNode=a,s}return l!==null&&l!==null&&Gt(l),n.callbackPriority=2,n.callbackNode=null,2}function f_(n,s){if(on!==0&&on!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(rh()&&n.callbackNode!==a)return null;var l=Qt;return l=ui(n,n===Te?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(Yv(n,l,s),h_(n,He()),n.callbackNode!=null&&n.callbackNode===a?f_.bind(null,n):null)}function d_(n,s){if(rh())return null;Yv(n,s,!0)}function kx(){Qx(function(){(oe&6)!==0?Me(Zi,Px):c_()})}function fm(){if(Vr===0){var n=go;n===0&&(n=qe,qe<<=1,(qe&261888)===0&&(qe=256)),Vr=n}return Vr}function m_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:to(""+n)}function p_(n,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,n.id&&a.setAttribute("form",n.id),s.parentNode.insertBefore(a,s),n=new FormData(n),a.parentNode.removeChild(a),n}function jx(n,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var d=m_((f[Pt]||null).action),_=l.submitter;_&&(s=(s=_[Pt]||null)?m_(s.formAction):_.getAttribute("formAction"),s!==null&&(d=s,_=null));var A=new is("action","action",null,l,f);n.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Vr!==0){var V=_?p_(f,_):new FormData(f);Vd(a,{pending:!0,data:V,method:f.method,action:d},null,V)}}else typeof d=="function"&&(A.preventDefault(),V=_?p_(f,_):new FormData(f),Vd(a,{pending:!0,data:V,method:f.method,action:d},d,V))},currentTarget:f}]})}}for(var dm=0;dm<Xf.length;dm++){var mm=Xf[dm],Lx=mm.toLowerCase(),Ux=mm[0].toUpperCase()+mm.slice(1);zi(Lx,"on"+Ux)}zi(Ky,"onAnimationEnd"),zi(Yy,"onAnimationIteration"),zi(Qy,"onAnimationStart"),zi("dblclick","onDoubleClick"),zi("focusin","onFocus"),zi("focusout","onBlur"),zi(ex,"onTransitionRun"),zi(nx,"onTransitionStart"),zi(ix,"onTransitionCancel"),zi(Xy,"onTransitionEnd"),Oi("onMouseEnter",["mouseout","mouseover"]),Oi("onMouseLeave",["mouseout","mouseover"]),Oi("onPointerEnter",["pointerout","pointerover"]),Oi("onPointerLeave",["pointerout","pointerover"]),$n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$n("onBeforeInput",["compositionend","keypress","textInput","paste"]),$n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(eu));function g_(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;t:{var d=void 0;if(s)for(var _=l.length-1;0<=_;_--){var A=l[_],V=A.instance,K=A.currentTarget;if(A=A.listener,V!==d&&f.isPropagationStopped())break t;d=A,f.currentTarget=K;try{d(f)}catch(Z){Sc(Z)}f.currentTarget=null,d=V}else for(_=0;_<l.length;_++){if(A=l[_],V=A.instance,K=A.currentTarget,A=A.listener,V!==d&&f.isPropagationStopped())break t;d=A,f.currentTarget=K;try{d(f)}catch(Z){Sc(Z)}f.currentTarget=null,d=V}}}}function Yt(n,s){var a=s[We];a===void 0&&(a=s[We]=new Set);var l=n+"__bubble";a.has(l)||(y_(s,n,2,!1),a.add(l))}function pm(n,s,a){var l=0;s&&(l|=4),y_(a,n,l,s)}var lh="_reactListening"+Math.random().toString(36).slice(2);function gm(n){if(!n[lh]){n[lh]=!0,Vi.forEach(function(a){a!=="selectionchange"&&(zx.has(a)||pm(a,!1,n),pm(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[lh]||(s[lh]=!0,pm("selectionchange",!1,s))}}function y_(n,s,a,l){switch(K_(s)){case 2:var f=mR;break;case 8:f=pR;break;default:f=Mm}a=f.bind(null,s,a,n),f=void 0,!ua||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(s,a,{capture:!0,passive:f}):n.addEventListener(s,a,!0):f!==void 0?n.addEventListener(s,a,{passive:f}):n.addEventListener(s,a,!1)}function ym(n,s,a,l,f){var d=l;if((s&1)===0&&(s&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var A=l.stateNode.containerInfo;if(A===f)break;if(_===4)for(_=l.return;_!==null;){var V=_.tag;if((V===3||V===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;A!==null;){if(_=ci(A),_===null)return;if(V=_.tag,V===5||V===6||V===26||V===27){l=d=_;continue t}A=A.parentNode}}l=l.return}dr(function(){var K=d,Z=hi(a),ot=[];t:{var Y=Wy.get(n);if(Y!==void 0){var J=is,St=n;switch(n){case"keypress":if(ha(a)===0)break t;case"keydown":case"keyup":J=_c;break;case"focusin":St="focus",J=da;break;case"focusout":St="blur",J=da;break;case"beforeblur":case"afterblur":J=da;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=xl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=cc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=y;break;case Ky:case Yy:case Qy:J=fc;break;case Xy:J=x;break;case"scroll":case"scrollend":J=wl;break;case"wheel":J=X;break;case"copy":case"cut":case"paste":J=dc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Ds;break;case"toggle":case"beforetoggle":J=Ut}var It=(s&4)!==0,_e=!It&&(n==="scroll"||n==="scrollend"),B=It?Y!==null?Y+"Capture":null:Y;It=[];for(var L=K,q;L!==null;){var st=L;if(q=st.stateNode,st=st.tag,st!==5&&st!==26&&st!==27||q===null||B===null||(st=ki(L,B),st!=null&&It.push(nu(L,st,q))),_e)break;L=L.return}0<It.length&&(Y=new J(Y,St,null,a,Z),ot.push({event:Y,listeners:It}))}}if((s&7)===0){t:{if(Y=n==="mouseover"||n==="pointerover",J=n==="mouseout"||n==="pointerout",Y&&a!==Sl&&(St=a.relatedTarget||a.fromElement)&&(ci(St)||St[Ve]))break t;if((J||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,J?(St=a.relatedTarget||a.toElement,J=K,St=St?ci(St):null,St!==null&&(_e=u(St),It=St.tag,St!==_e||It!==5&&It!==27&&It!==6)&&(St=null)):(J=null,St=K),J!==St)){if(It=xl,st="onMouseLeave",B="onMouseEnter",L="mouse",(n==="pointerout"||n==="pointerover")&&(It=Ds,st="onPointerLeave",B="onPointerEnter",L="pointer"),_e=J==null?Y:he(J),q=St==null?Y:he(St),Y=new It(st,L+"leave",J,a,Z),Y.target=_e,Y.relatedTarget=q,st=null,ci(Z)===K&&(It=new It(B,L+"enter",St,a,Z),It.target=q,It.relatedTarget=_e,st=It),_e=st,J&&St)e:{for(It=Bx,B=J,L=St,q=0,st=B;st;st=It(st))q++;st=0;for(var wt=L;wt;wt=It(wt))st++;for(;0<q-st;)B=It(B),q--;for(;0<st-q;)L=It(L),st--;for(;q--;){if(B===L||L!==null&&B===L.alternate){It=B;break e}B=It(B),L=It(L)}It=null}else It=null;J!==null&&v_(ot,Y,J,It,!1),St!==null&&_e!==null&&v_(ot,_e,St,It,!0)}}t:{if(Y=K?he(K):window,J=Y.nodeName&&Y.nodeName.toLowerCase(),J==="select"||J==="input"&&Y.type==="file")var ie=Py;else if(Oy(Y))if(ky)ie=Jw;else{ie=Ww;var Et=Xw}else J=Y.nodeName,!J||J.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?K&&Za(K.elementType)&&(ie=Py):ie=$w;if(ie&&(ie=ie(n,K))){Ny(ot,ie,a,Z);break t}Et&&Et(n,Y,K),n==="focusout"&&K&&Y.type==="number"&&K.memoizedProps.value!=null&&_l(Y,"number",Y.value)}switch(Et=K?he(K):window,n){case"focusin":(Oy(Et)||Et.contentEditable==="true")&&(oo=Et,Kf=K,Ml=null);break;case"focusout":Ml=Kf=oo=null;break;case"mousedown":Yf=!0;break;case"contextmenu":case"mouseup":case"dragend":Yf=!1,qy(ot,a,Z);break;case"selectionchange":if(tx)break;case"keydown":case"keyup":qy(ot,a,Z)}var Ft;if(ae)t:{switch(n){case"compositionstart":var Xt="onCompositionStart";break t;case"compositionend":Xt="onCompositionEnd";break t;case"compositionupdate":Xt="onCompositionUpdate";break t}Xt=void 0}else ao?ma(n,a)&&(Xt="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Xt="onCompositionStart");Xt&&(as&&a.locale!=="ko"&&(ao||Xt!=="onCompositionStart"?Xt==="onCompositionEnd"&&ao&&(Ft=Al()):(ns=Z,El="value"in ns?ns.value:ns.textContent,ao=!0)),Et=uh(K,Xt),0<Et.length&&(Xt=new rs(Xt,n,null,a,Z),ot.push({event:Xt,listeners:Et}),Ft?Xt.data=Ft:(Ft=ro(a),Ft!==null&&(Xt.data=Ft)))),(Ft=di?Gw(n,a):Kw(n,a))&&(Xt=uh(K,"onBeforeInput"),0<Xt.length&&(Et=new rs("onBeforeInput","beforeinput",null,a,Z),ot.push({event:Et,listeners:Xt}),Et.data=Ft)),jx(ot,n,K,a,Z)}g_(ot,s)})}function nu(n,s,a){return{instance:n,listener:s,currentTarget:a}}function uh(n,s){for(var a=s+"Capture",l=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ki(n,a),f!=null&&l.unshift(nu(n,f,d)),f=ki(n,s),f!=null&&l.push(nu(n,f,d))),n.tag===3)return l;n=n.return}return[]}function Bx(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function v_(n,s,a,l,f){for(var d=s._reactName,_=[];a!==null&&a!==l;){var A=a,V=A.alternate,K=A.stateNode;if(A=A.tag,V!==null&&V===l)break;A!==5&&A!==26&&A!==27||K===null||(V=K,f?(K=ki(a,d),K!=null&&_.unshift(nu(a,K,V))):f||(K=ki(a,d),K!=null&&_.push(nu(a,K,V)))),a=a.return}_.length!==0&&n.push({event:s,listeners:_})}var Fx=/\r\n?/g,Hx=/\u0000|\uFFFD/g;function __(n){return(typeof n=="string"?n:""+n).replace(Fx,`
`).replace(Hx,"")}function T_(n,s){return s=__(s),__(n)===s}function ve(n,s,a,l,f,d){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||Fn(n,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&Fn(n,""+l);break;case"className":Jn(n,"class",l);break;case"tabIndex":Jn(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Jn(n,a,l);break;case"style":bl(n,l,d);break;case"data":if(s!=="object"){Jn(n,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=to(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&ve(n,s,"name",f.name,f,null),ve(n,s,"formEncType",f.formEncType,f,null),ve(n,s,"formMethod",f.formMethod,f,null),ve(n,s,"formTarget",f.formTarget,f,null)):(ve(n,s,"encType",f.encType,f,null),ve(n,s,"method",f.method,f,null),ve(n,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=to(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Pi);break;case"onScroll":l!=null&&Yt("scroll",n);break;case"onScrollEnd":l!=null&&Yt("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=to(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Yt("beforetoggle",n),Yt("toggle",n),$a(n,"popover",l);break;case"xlinkActuate":$e(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":$e(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":$e(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":$e(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":$e(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":$e(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":$e(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":$e(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":$e(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":$a(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=uc.get(a)||a,$a(n,a,l))}}function vm(n,s,a,l,f,d){switch(a){case"style":bl(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Fn(n,l):(typeof l=="number"||typeof l=="bigint")&&Fn(n,""+l);break;case"onScroll":l!=null&&Yt("scroll",n);break;case"onScrollEnd":l!=null&&Yt("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Pi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!or.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),d=n[Pt]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(s,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(s,l,f);break t}a in n?n[a]=l:l===!0?n.setAttribute(a,""):$a(n,a,l)}}}function _n(n,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Yt("error",n),Yt("load",n);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ve(n,s,d,_,a,null)}}f&&ve(n,s,"srcSet",a.srcSet,a,null),l&&ve(n,s,"src",a.src,a,null);return;case"input":Yt("invalid",n);var A=d=_=f=null,V=null,K=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":f=Z;break;case"type":_=Z;break;case"checked":V=Z;break;case"defaultChecked":K=Z;break;case"value":d=Z;break;case"defaultValue":A=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:ve(n,s,l,Z,a,null)}}ac(n,d,A,V,K,_,f,!1);return;case"select":Yt("invalid",n),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(A=a[f],A!=null))switch(f){case"value":d=A;break;case"defaultValue":_=A;break;case"multiple":l=A;default:ve(n,s,f,A,a,null)}s=d,a=_,n.multiple=!!l,s!=null?ur(n,!!l,s,!1):a!=null&&ur(n,!!l,a,!0);return;case"textarea":Yt("invalid",n),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(A=a[_],A!=null))switch(_){case"value":l=A;break;case"defaultValue":f=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:ve(n,s,_,A,a,null)}cr(n,l,f,d);return;case"option":for(V in a)if(a.hasOwnProperty(V)&&(l=a[V],l!=null))switch(V){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ve(n,s,V,l,a,null)}return;case"dialog":Yt("beforetoggle",n),Yt("toggle",n),Yt("cancel",n),Yt("close",n);break;case"iframe":case"object":Yt("load",n);break;case"video":case"audio":for(l=0;l<eu.length;l++)Yt(eu[l],n);break;case"image":Yt("error",n),Yt("load",n);break;case"details":Yt("toggle",n);break;case"embed":case"source":case"link":Yt("error",n),Yt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in a)if(a.hasOwnProperty(K)&&(l=a[K],l!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ve(n,s,K,l,a,null)}return;default:if(Za(s)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&vm(n,s,Z,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&ve(n,s,A,l,a,null))}function qx(n,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,A=null,V=null,K=null,Z=null;for(J in a){var ot=a[J];if(a.hasOwnProperty(J)&&ot!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":V=ot;default:l.hasOwnProperty(J)||ve(n,s,J,null,l,ot)}}for(var Y in l){var J=l[Y];if(ot=a[Y],l.hasOwnProperty(Y)&&(J!=null||ot!=null))switch(Y){case"type":d=J;break;case"name":f=J;break;case"checked":K=J;break;case"defaultChecked":Z=J;break;case"value":_=J;break;case"defaultValue":A=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,s));break;default:J!==ot&&ve(n,s,Y,J,l,ot)}}Ja(n,_,A,V,K,Z,d,f);return;case"select":J=_=A=Y=null;for(d in a)if(V=a[d],a.hasOwnProperty(d)&&V!=null)switch(d){case"value":break;case"multiple":J=V;default:l.hasOwnProperty(d)||ve(n,s,d,null,l,V)}for(f in l)if(d=l[f],V=a[f],l.hasOwnProperty(f)&&(d!=null||V!=null))switch(f){case"value":Y=d;break;case"defaultValue":A=d;break;case"multiple":_=d;default:d!==V&&ve(n,s,f,d,l,V)}s=A,a=_,l=J,Y!=null?ur(n,!!a,Y,!1):!!l!=!!a&&(s!=null?ur(n,!!a,s,!0):ur(n,!!a,a?[]:"",!1));return;case"textarea":J=Y=null;for(A in a)if(f=a[A],a.hasOwnProperty(A)&&f!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ve(n,s,A,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":Y=f;break;case"defaultValue":J=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&ve(n,s,_,f,l,d)}oc(n,Y,J);return;case"option":for(var St in a)if(Y=a[St],a.hasOwnProperty(St)&&Y!=null&&!l.hasOwnProperty(St))switch(St){case"selected":n.selected=!1;break;default:ve(n,s,St,null,l,Y)}for(V in l)if(Y=l[V],J=a[V],l.hasOwnProperty(V)&&Y!==J&&(Y!=null||J!=null))switch(V){case"selected":n.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:ve(n,s,V,Y,l,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var It in a)Y=a[It],a.hasOwnProperty(It)&&Y!=null&&!l.hasOwnProperty(It)&&ve(n,s,It,null,l,Y);for(K in l)if(Y=l[K],J=a[K],l.hasOwnProperty(K)&&Y!==J&&(Y!=null||J!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,s));break;default:ve(n,s,K,Y,l,J)}return;default:if(Za(s)){for(var _e in a)Y=a[_e],a.hasOwnProperty(_e)&&Y!==void 0&&!l.hasOwnProperty(_e)&&vm(n,s,_e,void 0,l,Y);for(Z in l)Y=l[Z],J=a[Z],!l.hasOwnProperty(Z)||Y===J||Y===void 0&&J===void 0||vm(n,s,Z,Y,l,J);return}}for(var B in a)Y=a[B],a.hasOwnProperty(B)&&Y!=null&&!l.hasOwnProperty(B)&&ve(n,s,B,null,l,Y);for(ot in l)Y=l[ot],J=a[ot],!l.hasOwnProperty(ot)||Y===J||Y==null&&J==null||ve(n,s,ot,Y,l,J)}function b_(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Gx(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,A=f.duration;if(d&&A&&b_(_)){for(_=0,A=f.responseEnd,l+=1;l<a.length;l++){var V=a[l],K=V.startTime;if(K>A)break;var Z=V.transferSize,ot=V.initiatorType;Z&&b_(ot)&&(V=V.responseEnd,_+=Z*(V<A?1:(A-K)/(V-K)))}if(--l,s+=8*(d+_)/(f.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var _m=null,Tm=null;function ch(n){return n.nodeType===9?n:n.ownerDocument}function S_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function E_(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function bm(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Sm=null;function Kx(){var n=window.event;return n&&n.type==="popstate"?n===Sm?!1:(Sm=n,!0):(Sm=null,!1)}var A_=typeof setTimeout=="function"?setTimeout:void 0,Yx=typeof clearTimeout=="function"?clearTimeout:void 0,w_=typeof Promise=="function"?Promise:void 0,Qx=typeof queueMicrotask=="function"?queueMicrotask:typeof w_<"u"?function(n){return w_.resolve(null).then(n).catch(Xx)}:A_;function Xx(n){setTimeout(function(){throw n})}function Or(n){return n==="head"}function x_(n,s){var a=s,l=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){n.removeChild(f),Po(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")iu(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,iu(a);for(var d=a.firstChild;d;){var _=d.nextSibling,A=d.nodeName;d[Pn]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&iu(n.ownerDocument.body);a=f}while(a);Po(s)}function R_(n,s){var a=n;n=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=l}while(a)}function Em(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Em(a),ar(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function Wx(n,s,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Pn])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=Ti(n.nextSibling),n===null)break}return null}function $x(n,s,a){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Ti(n.nextSibling),n===null))return null;return n}function C_(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=Ti(n.nextSibling),n===null))return null;return n}function Am(n){return n.data==="$?"||n.data==="$~"}function wm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function Jx(n,s){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Ti(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var xm=null;function I_(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(s===0)return Ti(n.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}n=n.nextSibling}return null}function D_(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return n;s--}else a!=="/$"&&a!=="/&"||s++}n=n.previousSibling}return null}function M_(n,s,a){switch(s=ch(a),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function iu(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);ar(n)}var bi=new Map,V_=new Set;function hh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Gs=ut.d;ut.d={f:Zx,r:tR,D:eR,C:nR,L:iR,m:sR,X:aR,S:rR,M:oR};function Zx(){var n=Gs.f(),s=nh();return n||s}function tR(n){var s=zn(n);s!==null&&s.tag===5&&s.type==="form"?X0(s):Gs.r(n)}var Vo=typeof document>"u"?null:document;function O_(n,s,a){var l=Vo;if(l&&typeof s=="string"&&s){var f=Bn(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),V_.has(f)||(V_.add(f),n={rel:n,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),_n(s,"link",n),be(s),l.head.appendChild(s)))}}function eR(n){Gs.D(n),O_("dns-prefetch",n,null)}function nR(n,s){Gs.C(n,s),O_("preconnect",n,s)}function iR(n,s,a){Gs.L(n,s,a);var l=Vo;if(l&&n&&s){var f='link[rel="preload"][as="'+Bn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Bn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Bn(a.imageSizes)+'"]')):f+='[href="'+Bn(n)+'"]';var d=f;switch(s){case"style":d=Oo(n);break;case"script":d=No(n)}bi.has(d)||(n=T({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:n,as:s},a),bi.set(d,n),l.querySelector(f)!==null||s==="style"&&l.querySelector(su(d))||s==="script"&&l.querySelector(ru(d))||(s=l.createElement("link"),_n(s,"link",n),be(s),l.head.appendChild(s)))}}function sR(n,s){Gs.m(n,s);var a=Vo;if(a&&n){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+Bn(l)+'"][href="'+Bn(n)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=No(n)}if(!bi.has(d)&&(n=T({rel:"modulepreload",href:n},s),bi.set(d,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ru(d)))return}l=a.createElement("link"),_n(l,"link",n),be(l),a.head.appendChild(l)}}}function rR(n,s,a){Gs.S(n,s,a);var l=Vo;if(l&&n){var f=xn(l).hoistableStyles,d=Oo(n);s=s||"default";var _=f.get(d);if(!_){var A={loading:0,preload:null};if(_=l.querySelector(su(d)))A.loading=5;else{n=T({rel:"stylesheet",href:n,"data-precedence":s},a),(a=bi.get(d))&&Rm(n,a);var V=_=l.createElement("link");be(V),_n(V,"link",n),V._p=new Promise(function(K,Z){V.onload=K,V.onerror=Z}),V.addEventListener("load",function(){A.loading|=1}),V.addEventListener("error",function(){A.loading|=2}),A.loading|=4,fh(_,s,l)}_={type:"stylesheet",instance:_,count:1,state:A},f.set(d,_)}}}function aR(n,s){Gs.X(n,s);var a=Vo;if(a&&n){var l=xn(a).hoistableScripts,f=No(n),d=l.get(f);d||(d=a.querySelector(ru(f)),d||(n=T({src:n,async:!0},s),(s=bi.get(f))&&Cm(n,s),d=a.createElement("script"),be(d),_n(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function oR(n,s){Gs.M(n,s);var a=Vo;if(a&&n){var l=xn(a).hoistableScripts,f=No(n),d=l.get(f);d||(d=a.querySelector(ru(f)),d||(n=T({src:n,async:!0,type:"module"},s),(s=bi.get(f))&&Cm(n,s),d=a.createElement("script"),be(d),_n(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function N_(n,s,a,l){var f=(f=Nt.current)?hh(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Oo(a.href),a=xn(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Oo(a.href);var d=xn(f).hoistableStyles,_=d.get(n);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,_),(d=f.querySelector(su(n)))&&!d._p&&(_.instance=d,_.state.loading=5),bi.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},bi.set(n,a),d||lR(f,n,a,_.state))),s&&l===null)throw Error(r(528,""));return _}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=No(a),a=xn(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function Oo(n){return'href="'+Bn(n)+'"'}function su(n){return'link[rel="stylesheet"]['+n+"]"}function P_(n){return T({},n,{"data-precedence":n.precedence,precedence:null})}function lR(n,s,a,l){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=n.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),_n(s,"link",a),be(s),n.head.appendChild(s))}function No(n){return'[src="'+Bn(n)+'"]'}function ru(n){return"script[async]"+n}function k_(n,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=n.querySelector('style[data-href~="'+Bn(a.href)+'"]');if(l)return s.instance=l,be(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),be(l),_n(l,"style",f),fh(l,a.precedence,n),s.instance=l;case"stylesheet":f=Oo(a.href);var d=n.querySelector(su(f));if(d)return s.state.loading|=4,s.instance=d,be(d),d;l=P_(a),(f=bi.get(f))&&Rm(l,f),d=(n.ownerDocument||n).createElement("link"),be(d);var _=d;return _._p=new Promise(function(A,V){_.onload=A,_.onerror=V}),_n(d,"link",l),s.state.loading|=4,fh(d,a.precedence,n),s.instance=d;case"script":return d=No(a.src),(f=n.querySelector(ru(d)))?(s.instance=f,be(f),f):(l=a,(f=bi.get(d))&&(l=T({},a),Cm(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),be(f),_n(f,"link",l),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,fh(l,a.precedence,n));return s.instance}function fh(n,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var A=l[_];if(A.dataset.precedence===s)d=A;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(n,s.firstChild))}function Rm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Cm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var dh=null;function j_(n,s,a){if(dh===null){var l=new Map,f=dh=new Map;f.set(a,l)}else f=dh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[Pn]||d[_t]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(s)||"";_=n+_;var A=l.get(_);A?A.push(d):l.set(_,[d])}}return l}function L_(n,s,a){n=n.ownerDocument||n,n.head.insertBefore(a,s==="title"?n.querySelector("head > title"):null)}function uR(n,s,a){if(a===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function U_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function cR(n,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Oo(l.href),d=s.querySelector(su(f));if(d){s=d._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=mh.bind(n),s.then(n,n)),a.state.loading|=4,a.instance=d,be(d);return}d=s.ownerDocument||s,l=P_(l),(f=bi.get(f))&&Rm(l,f),d=d.createElement("link"),be(d);var _=d;_._p=new Promise(function(A,V){_.onload=A,_.onerror=V}),_n(d,"link",l),a.instance=d}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=mh.bind(n),s.addEventListener("load",a),s.addEventListener("error",a))}}var Im=0;function hR(n,s){return n.stylesheets&&n.count===0&&gh(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var l=setTimeout(function(){if(n.stylesheets&&gh(n,n.stylesheets),n.unsuspend){var d=n.unsuspend;n.unsuspend=null,d()}},6e4+s);0<n.imgBytes&&Im===0&&(Im=62500*Gx());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&gh(n,n.stylesheets),n.unsuspend)){var d=n.unsuspend;n.unsuspend=null,d()}},(n.imgBytes>Im?50:800)+s);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function mh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var ph=null;function gh(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,ph=new Map,s.forEach(fR,n),ph=null,mh.call(n))}function fR(n,s){if(!(s.state.loading&4)){var a=ph.get(n);if(a)var l=a.get(null);else{a=new Map,ph.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=s.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=mh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var au={$$typeof:it,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function dR(n,s,a,l,f,d,_,A,V){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wn(0),this.hiddenUpdates=Wn(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function z_(n,s,a,l,f,d,_,A,V,K,Z,ot){return n=new dR(n,s,a,_,V,K,Z,ot,A),s=1,d===!0&&(s|=24),d=ti(3,null,null,s),n.current=d,d.stateNode=n,s=ld(),s.refCount++,n.pooledCache=s,s.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:s},fd(d),n}function B_(n){return n?(n=co,n):co}function F_(n,s,a,l,f,d){f=B_(f),l.context===null?l.context=f:l.pendingContext=f,l=Sr(s),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Er(n,l,s),a!==null&&(Yn(a,n,s),Ll(a,n,s))}function H_(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function Dm(n,s){H_(n,s),(n=n.alternate)&&H_(n,s)}function q_(n){if(n.tag===13||n.tag===31){var s=ya(n,67108864);s!==null&&Yn(s,n,67108864),Dm(n,67108864)}}function G_(n){if(n.tag===13||n.tag===31){var s=ri();s=$(s);var a=ya(n,s);a!==null&&Yn(a,n,s),Dm(n,s)}}var yh=!0;function mR(n,s,a,l){var f=Q.T;Q.T=null;var d=ut.p;try{ut.p=2,Mm(n,s,a,l)}finally{ut.p=d,Q.T=f}}function pR(n,s,a,l){var f=Q.T;Q.T=null;var d=ut.p;try{ut.p=8,Mm(n,s,a,l)}finally{ut.p=d,Q.T=f}}function Mm(n,s,a,l){if(yh){var f=Vm(l);if(f===null)ym(n,s,l,vh,a),Y_(n,l);else if(yR(f,n,s,a,l))l.stopPropagation();else if(Y_(n,l),s&4&&-1<gR.indexOf(n)){for(;f!==null;){var d=zn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=li(d.pendingLanes);if(_!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;_;){var V=1<<31-ue(_);A.entanglements[1]|=V,_&=~V}cs(d),(oe&6)===0&&(th=He()+500,tu(0))}}break;case 31:case 13:A=ya(d,2),A!==null&&Yn(A,d,2),nh(),Dm(d,2)}if(d=Vm(l),d===null&&ym(n,s,l,vh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else ym(n,s,l,null,a)}}function Vm(n){return n=hi(n),Om(n)}var vh=null;function Om(n){if(vh=null,n=ci(n),n!==null){var s=u(n);if(s===null)n=null;else{var a=s.tag;if(a===13){if(n=c(s),n!==null)return n;n=null}else if(a===31){if(n=m(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return vh=n,null}function K_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mi()){case Zi:return 2;case Ss:return 8;case oi:case Es:return 32;case As:return 268435456;default:return 32}default:return 32}}var Nm=!1,Nr=null,Pr=null,kr=null,ou=new Map,lu=new Map,jr=[],gR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Y_(n,s){switch(n){case"focusin":case"focusout":Nr=null;break;case"dragenter":case"dragleave":Pr=null;break;case"mouseover":case"mouseout":kr=null;break;case"pointerover":case"pointerout":ou.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":lu.delete(s.pointerId)}}function uu(n,s,a,l,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},s!==null&&(s=zn(s),s!==null&&q_(s)),n):(n.eventSystemFlags|=l,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function yR(n,s,a,l,f){switch(s){case"focusin":return Nr=uu(Nr,n,s,a,l,f),!0;case"dragenter":return Pr=uu(Pr,n,s,a,l,f),!0;case"mouseover":return kr=uu(kr,n,s,a,l,f),!0;case"pointerover":var d=f.pointerId;return ou.set(d,uu(ou.get(d)||null,n,s,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,lu.set(d,uu(lu.get(d)||null,n,s,a,l,f)),!0}return!1}function Q_(n){var s=ci(n.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){n.blockedOn=s,at(n.priority,function(){G_(a)});return}}else if(s===31){if(s=m(a),s!==null){n.blockedOn=s,at(n.priority,function(){G_(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function _h(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=Vm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Sl=l,a.target.dispatchEvent(l),Sl=null}else return s=zn(a),s!==null&&q_(s),n.blockedOn=a,!1;s.shift()}return!0}function X_(n,s,a){_h(n)&&a.delete(s)}function vR(){Nm=!1,Nr!==null&&_h(Nr)&&(Nr=null),Pr!==null&&_h(Pr)&&(Pr=null),kr!==null&&_h(kr)&&(kr=null),ou.forEach(X_),lu.forEach(X_)}function Th(n,s){n.blockedOn===s&&(n.blockedOn=null,Nm||(Nm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,vR)))}var bh=null;function W_(n){bh!==n&&(bh=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){bh===n&&(bh=null);for(var s=0;s<n.length;s+=3){var a=n[s],l=n[s+1],f=n[s+2];if(typeof l!="function"){if(Om(l||a)===null)continue;break}var d=zn(a);d!==null&&(n.splice(s,3),s-=3,Vd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Po(n){function s(V){return Th(V,n)}Nr!==null&&Th(Nr,n),Pr!==null&&Th(Pr,n),kr!==null&&Th(kr,n),ou.forEach(s),lu.forEach(s);for(var a=0;a<jr.length;a++){var l=jr[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<jr.length&&(a=jr[0],a.blockedOn===null);)Q_(a),a.blockedOn===null&&jr.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[Pt]||null;if(typeof d=="function")_||W_(a);else if(_){var A=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[Pt]||null)A=_.formAction;else if(Om(f)!==null)continue}else A=_.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),W_(a)}}}function $_(){function n(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function Pm(n){this._internalRoot=n}Sh.prototype.render=Pm.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=ri();F_(a,l,n,s,null,null)},Sh.prototype.unmount=Pm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;F_(n.current,2,null,n,null,null),nh(),s[Ve]=null}};function Sh(n){this._internalRoot=n}Sh.prototype.unstable_scheduleHydration=function(n){if(n){var s=F();n={blockedOn:null,target:n,priority:s};for(var a=0;a<jr.length&&s!==0&&s<jr[a].priority;a++);jr.splice(a,0,n),a===0&&Q_(n)}};var J_=t.version;if(J_!=="19.2.0")throw Error(r(527,J_,"19.2.0"));ut.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=g(s),n=n!==null?v(n):null,n=n===null?null:n.stateNode,n};var _R={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eh.isDisabled&&Eh.supportsFiber)try{Nn=Eh.inject(_R),yt=Eh}catch{}}return hu.createRoot=function(n,s){if(!o(n))throw Error(r(299));var a=!1,l="",f=rv,d=av,_=ov;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=z_(n,1,!1,null,null,a,l,null,f,d,_,$_),n[Ve]=s.current,gm(n),new Pm(s)},hu.hydrateRoot=function(n,s,a){if(!o(n))throw Error(r(299));var l=!1,f="",d=rv,_=av,A=ov,V=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(V=a.formState)),s=z_(n,1,!0,s,a??null,l,f,V,d,_,A,$_),s.context=B_(null),a=s.current,l=ri(),l=$(l),f=Sr(l),f.callback=null,Er(a,f,l),a=l,s.current.lanes=a,mn(s,a),cs(s),n[Ve]=s.current,gm(n),new Sh(s)},hu.version="19.2.0",hu}var lT;function DR(){if(lT)return Lm.exports;lT=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Lm.exports=IR(),Lm.exports}var MR=DR();function VR({endTime:i}){const[t,e]=G.useState(Math.max(0,Math.ceil((i-Date.now())/1e3)));return G.useEffect(()=>{const r=setInterval(()=>{const o=Math.max(0,Math.ceil((i-Date.now())/1e3));e(o),o<=0&&clearInterval(r)},1e3);return()=>clearInterval(r)},[i]),S.jsxs("span",{children:[t,"s"]})}const OR=()=>{};var uT={};const Y1=function(i){const t=[];let e=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},NR=function(i){const t=[];let e=0,r=0;for(;e<i.length;){const o=i[e++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[e++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[e++],c=i[e++],m=i[e++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|m&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const u=i[e++],c=i[e++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},Q1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const u=i[o],c=o+1<i.length,m=c?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,v=u>>2,T=(u&3)<<4|m>>4;let E=(m&15)<<2|g>>6,I=g&63;p||(I=64,c||(E=64)),r.push(e[v],e[T],e[E],e[I])}return r.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(Y1(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):NR(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const u=e[i.charAt(o++)],m=o<i.length?e[i.charAt(o)]:0;++o;const g=o<i.length?e[i.charAt(o)]:64;++o;const T=o<i.length?e[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new PR;const E=u<<2|m>>4;if(r.push(E),g!==64){const I=m<<4&240|g>>2;if(r.push(I),T!==64){const U=g<<6&192|T;r.push(U)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class PR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kR=function(i){const t=Y1(i);return Q1.encodeByteArray(t,!0)},Wh=function(i){return kR(i).replace(/\./g,"")},X1=function(i){try{return Q1.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function jR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const LR=()=>jR().__FIREBASE_DEFAULTS__,UR=()=>{if(typeof process>"u"||typeof uT>"u")return;const i=uT.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},zR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&X1(i[1]);return t&&JSON.parse(t)},Ef=()=>{try{return OR()||LR()||UR()||zR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},W1=i=>Ef()?.emulatorHosts?.[i],BR=i=>{const t=W1(i);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),r]:[t.substring(0,e),r]},$1=()=>Ef()?.config,J1=i=>Ef()?.[`_${i}`];class FR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}}function al(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Z1(i){return(await fetch(i,{credentials:"include"})).ok}function HR(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},r=t||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Wh(JSON.stringify(e)),Wh(JSON.stringify(c)),""].join(".")}const vu={};function qR(){const i={prod:[],emulator:[]};for(const t of Object.keys(vu))vu[t]?i.emulator.push(t):i.prod.push(t);return i}function GR(i){let t=document.getElementById(i),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),e=!0),{created:e,element:t}}let cT=!1;function tS(i,t){if(typeof window>"u"||typeof document>"u"||!al(window.location.host)||vu[i]===t||vu[i]||cT)return;vu[i]=t;function e(E){return`__firebase__banner__${E}`}const r="__firebase__banner",u=qR().prod.length>0;function c(){const E=document.getElementById(r);E&&E.remove()}function m(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function p(E,I){E.setAttribute("width","24"),E.setAttribute("id",I),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function g(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{cT=!0,c()},E}function v(E,I){E.setAttribute("id",I),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function T(){const E=GR(r),I=e("text"),U=document.getElementById(I)||document.createElement("span"),D=e("learnmore"),k=document.getElementById(D)||document.createElement("a"),W=e("preprendIcon"),nt=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const it=E.element;m(it),v(k,D);const ft=g();p(nt,W),it.append(nt,U,k,ft),document.body.appendChild(it)}u?(U.innerText="Preview backend disconnected.",nt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(nt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function Vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vn())}function YR(){const i=Ef()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XR(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function WR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $R(){const i=Vn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function JR(){return!YR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ZR(){try{return typeof indexedDB=="object"}catch{return!1}}function tC(){return new Promise((i,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(e){t(e)}})}const eC="FirebaseError";class nr extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=eC,Object.setPrototypeOf(this,nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ku.prototype.create)}}class Ku{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?nC(u,r):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new nr(o,m,r)}}function nC(i,t){return i.replace(iC,(e,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const iC=/\{\$([^}]+)}/g;function sC(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function Ba(i,t){if(i===t)return!0;const e=Object.keys(i),r=Object.keys(t);for(const o of e){if(!r.includes(o))return!1;const u=i[o],c=t[o];if(hT(u)&&hT(c)){if(!Ba(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!e.includes(o))return!1;return!0}function hT(i){return i!==null&&typeof i=="object"}function Yu(i){const t=[];for(const[e,r]of Object.entries(i))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function rC(i,t){const e=new aC(i,t);return e.subscribe.bind(e)}class aC{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let o;if(t===void 0&&e===void 0&&r===void 0)throw new Error("Missing Observer.");oC(t,["next","error","complete"])?o=t:o={next:t,error:e,complete:r},o.next===void 0&&(o.next=Fm),o.error===void 0&&(o.error=Fm),o.complete===void 0&&(o.complete=Fm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oC(i,t){if(typeof i!="object"||i===null)return!1;for(const e of t)if(e in i&&typeof i[e]=="function")return!0;return!1}function Fm(){}function Ci(i){return i&&i._delegate?i._delegate:i}class Fa{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ma="[DEFAULT]";class lC{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new FR;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(cC(t))try{this.getOrInitializeService({instanceIdentifier:Ma})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=Ma){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ma){return this.instances.has(t)}getOptions(t=Ma){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[u,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&c.resolve(o)}return o}onInit(t,e){const r=this.normalizeInstanceIdentifier(e),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const o of r)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:uC(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Ma){return this.component?this.component.multipleInstances?t:Ma:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uC(i){return i===Ma?void 0:i}function cC(i){return i.instantiationMode==="EAGER"}class hC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new lC(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var Wt;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Wt||(Wt={}));const fC={debug:Wt.DEBUG,verbose:Wt.VERBOSE,info:Wt.INFO,warn:Wt.WARN,error:Wt.ERROR,silent:Wt.SILENT},dC=Wt.INFO,mC={[Wt.DEBUG]:"log",[Wt.VERBOSE]:"log",[Wt.INFO]:"info",[Wt.WARN]:"warn",[Wt.ERROR]:"error"},pC=(i,t,...e)=>{if(t<i.logLevel)return;const r=new Date().toISOString(),o=mC[t];if(o)console[o](`[${r}]  ${i.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class og{constructor(t){this.name=t,this._logLevel=dC,this._logHandler=pC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Wt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?fC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Wt.DEBUG,...t),this._logHandler(this,Wt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Wt.VERBOSE,...t),this._logHandler(this,Wt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Wt.INFO,...t),this._logHandler(this,Wt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Wt.WARN,...t),this._logHandler(this,Wt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Wt.ERROR,...t),this._logHandler(this,Wt.ERROR,...t)}}const gC=(i,t)=>t.some(e=>i instanceof e);let fT,dT;function yC(){return fT||(fT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vC(){return dT||(dT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eS=new WeakMap,pp=new WeakMap,nS=new WeakMap,Hm=new WeakMap,lg=new WeakMap;function _C(i){const t=new Promise((e,r)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",c)},u=()=>{e(Gr(i.result)),o()},c=()=>{r(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&eS.set(e,i)}).catch(()=>{}),lg.set(t,i),t}function TC(i){if(pp.has(i))return;const t=new Promise((e,r)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",c),i.removeEventListener("abort",c)},u=()=>{e(),o()},c=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",c),i.addEventListener("abort",c)});pp.set(i,t)}let gp={get(i,t,e){if(i instanceof IDBTransaction){if(t==="done")return pp.get(i);if(t==="objectStoreNames")return i.objectStoreNames||nS.get(i);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Gr(i[t])},set(i,t,e){return i[t]=e,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function bC(i){gp=i(gp)}function SC(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const r=i.call(qm(this),t,...e);return nS.set(r,t.sort?t.sort():[t]),Gr(r)}:vC().includes(i)?function(...t){return i.apply(qm(this),t),Gr(eS.get(this))}:function(...t){return Gr(i.apply(qm(this),t))}}function EC(i){return typeof i=="function"?SC(i):(i instanceof IDBTransaction&&TC(i),gC(i,yC())?new Proxy(i,gp):i)}function Gr(i){if(i instanceof IDBRequest)return _C(i);if(Hm.has(i))return Hm.get(i);const t=EC(i);return t!==i&&(Hm.set(i,t),lg.set(t,i)),t}const qm=i=>lg.get(i);function AC(i,t,{blocked:e,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(i,t),m=Gr(c);return r&&c.addEventListener("upgradeneeded",p=>{r(Gr(c.result),p.oldVersion,p.newVersion,Gr(c.transaction),p)}),e&&c.addEventListener("blocked",p=>e(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const wC=["get","getKey","getAll","getAllKeys","count"],xC=["put","add","delete","clear"],Gm=new Map;function mT(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Gm.get(t))return Gm.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,o=xC.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(o||wC.includes(e)))return;const u=async function(c,...m){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(m.shift())),(await Promise.all([g[e](...m),o&&p.done]))[0]};return Gm.set(t,u),u}bC(i=>({...i,get:(t,e,r)=>mT(t,e)||i.get(t,e,r),has:(t,e)=>!!mT(t,e)||i.has(t,e)}));class RC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(CC(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function CC(i){return i.getComponent()?.type==="VERSION"}const yp="@firebase/app",pT="0.14.6";const Ws=new og("@firebase/app"),IC="@firebase/app-compat",DC="@firebase/analytics-compat",MC="@firebase/analytics",VC="@firebase/app-check-compat",OC="@firebase/app-check",NC="@firebase/auth",PC="@firebase/auth-compat",kC="@firebase/database",jC="@firebase/data-connect",LC="@firebase/database-compat",UC="@firebase/functions",zC="@firebase/functions-compat",BC="@firebase/installations",FC="@firebase/installations-compat",HC="@firebase/messaging",qC="@firebase/messaging-compat",GC="@firebase/performance",KC="@firebase/performance-compat",YC="@firebase/remote-config",QC="@firebase/remote-config-compat",XC="@firebase/storage",WC="@firebase/storage-compat",$C="@firebase/firestore",JC="@firebase/ai",ZC="@firebase/firestore-compat",t2="firebase",e2="12.6.0";const vp="[DEFAULT]",n2={[yp]:"fire-core",[IC]:"fire-core-compat",[MC]:"fire-analytics",[DC]:"fire-analytics-compat",[OC]:"fire-app-check",[VC]:"fire-app-check-compat",[NC]:"fire-auth",[PC]:"fire-auth-compat",[kC]:"fire-rtdb",[jC]:"fire-data-connect",[LC]:"fire-rtdb-compat",[UC]:"fire-fn",[zC]:"fire-fn-compat",[BC]:"fire-iid",[FC]:"fire-iid-compat",[HC]:"fire-fcm",[qC]:"fire-fcm-compat",[GC]:"fire-perf",[KC]:"fire-perf-compat",[YC]:"fire-rc",[QC]:"fire-rc-compat",[XC]:"fire-gcs",[WC]:"fire-gcs-compat",[$C]:"fire-fst",[ZC]:"fire-fst-compat",[JC]:"fire-vertex","fire-js":"fire-js",[t2]:"fire-js-all"};const $h=new Map,i2=new Map,_p=new Map;function gT(i,t){try{i.container.addComponent(t)}catch(e){Ws.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,e)}}function Wo(i){const t=i.name;if(_p.has(t))return Ws.debug(`There were multiple attempts to register component ${t}.`),!1;_p.set(t,i);for(const e of $h.values())gT(e,i);for(const e of i2.values())gT(e,i);return!0}function ug(i,t){const e=i.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),i.container.getProvider(t)}function Gi(i){return i==null?!1:i.settings!==void 0}const s2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kr=new Ku("app","Firebase",s2);class r2{constructor(t,e,r){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Kr.create("app-deleted",{appName:this._name})}}const ol=e2;function iS(i,t={}){let e=i;typeof t!="object"&&(t={name:t});const r={name:vp,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw Kr.create("bad-app-name",{appName:String(o)});if(e||(e=$1()),!e)throw Kr.create("no-options");const u=$h.get(o);if(u){if(Ba(e,u.options)&&Ba(r,u.config))return u;throw Kr.create("duplicate-app",{appName:o})}const c=new hC(o);for(const p of _p.values())c.addComponent(p);const m=new r2(e,r,c);return $h.set(o,m),m}function sS(i=vp){const t=$h.get(i);if(!t&&i===vp&&$1())return iS();if(!t)throw Kr.create("no-app",{appName:i});return t}function Yr(i,t,e){let r=n2[i]??i;e&&(r+=`-${e}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const c=[`Unable to register library "${r}" with version "${t}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ws.warn(c.join(" "));return}Wo(new Fa(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const a2="firebase-heartbeat-database",o2=1,Du="firebase-heartbeat-store";let Km=null;function rS(){return Km||(Km=AC(a2,o2,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Du)}catch(e){console.warn(e)}}}}).catch(i=>{throw Kr.create("idb-open",{originalErrorMessage:i.message})})),Km}async function l2(i){try{const e=(await rS()).transaction(Du),r=await e.objectStore(Du).get(aS(i));return await e.done,r}catch(t){if(t instanceof nr)Ws.warn(t.message);else{const e=Kr.create("idb-get",{originalErrorMessage:t?.message});Ws.warn(e.message)}}}async function yT(i,t){try{const r=(await rS()).transaction(Du,"readwrite");await r.objectStore(Du).put(t,aS(i)),await r.done}catch(e){if(e instanceof nr)Ws.warn(e.message);else{const r=Kr.create("idb-set",{originalErrorMessage:e?.message});Ws.warn(r.message)}}}function aS(i){return`${i.name}!${i.options.appId}`}const u2=1024,c2=30;class h2{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new d2(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=vT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:e}),this._heartbeatsCache.heartbeats.length>c2){const o=m2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ws.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=vT(),{heartbeatsToSend:e,unsentEntries:r}=f2(this._heartbeatsCache.heartbeats),o=Wh(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ws.warn(t),""}}}function vT(){return new Date().toISOString().substring(0,10)}function f2(i,t=u2){const e=[];let r=i.slice();for(const o of i){const u=e.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),_T(e)>t){u.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),_T(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class d2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ZR()?tC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await l2(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return yT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return yT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function _T(i){return Wh(JSON.stringify({version:2,heartbeats:i})).length}function m2(i){if(i.length===0)return-1;let t=0,e=i[0].date;for(let r=1;r<i.length;r++)i[r].date<e&&(e=i[r].date,t=r);return t}function p2(i){Wo(new Fa("platform-logger",t=>new RC(t),"PRIVATE")),Wo(new Fa("heartbeat",t=>new h2(t),"PRIVATE")),Yr(yp,pT,i),Yr(yp,pT,"esm2020"),Yr("fire-js","")}p2("");var g2="firebase",y2="12.6.0";Yr(g2,y2,"app");function oS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const v2=oS,lS=new Ku("auth","Firebase",oS());const Jh=new og("@firebase/auth");function _2(i,...t){Jh.logLevel<=Wt.WARN&&Jh.warn(`Auth (${ol}): ${i}`,...t)}function Ph(i,...t){Jh.logLevel<=Wt.ERROR&&Jh.error(`Auth (${ol}): ${i}`,...t)}function _s(i,...t){throw hg(i,...t)}function Qi(i,...t){return hg(i,...t)}function cg(i,t,e){const r={...v2(),[t]:e};return new Ku("auth","Firebase",r).create(t,{appName:i.name})}function ja(i){return cg(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function T2(i,t,e){const r=e;if(!(t instanceof r))throw r.name!==t.constructor.name&&_s(i,"argument-error"),cg(i,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function hg(i,...t){if(typeof i!="string"){const e=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(e,...r)}return lS.create(i,...t)}function Ot(i,t,...e){if(!i)throw hg(t,...e)}function Ys(i){const t="INTERNAL ASSERTION FAILED: "+i;throw Ph(t),new Error(t)}function $s(i,t){i||Ys(t)}function Tp(){return typeof self<"u"&&self.location?.href||""}function b2(){return TT()==="http:"||TT()==="https:"}function TT(){return typeof self<"u"&&self.location?.protocol||null}function S2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(b2()||XR()||"connection"in navigator)?navigator.onLine:!0}function E2(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Qu{constructor(t,e){this.shortDelay=t,this.longDelay=e,$s(e>t,"Short delay should be less than long delay!"),this.isMobile=KR()||WR()}get(){return S2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function fg(i,t){$s(i.emulator,"Emulator should always be set here");const{url:e}=i.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class uS{static initialize(t,e,r){this.fetchImpl=t,e&&(this.headersImpl=e),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ys("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ys("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ys("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const A2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const w2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],x2=new Qu(3e4,6e4);function dg(i,t){return i.tenantId&&!t.tenantId?{...t,tenantId:i.tenantId}:t}async function ll(i,t,e,r,o={}){return cS(i,o,async()=>{let u={},c={};r&&(t==="GET"?c=r:u={body:JSON.stringify(r)});const m=Yu({key:i.config.apiKey,...c}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:t,headers:p,...u};return QR()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&al(i.emulatorConfig.host)&&(g.credentials="include"),uS.fetch()(await hS(i,i.config.apiHost,e,m),g)})}async function cS(i,t,e){i._canInitEmulator=!1;const r={...A2,...t};try{const o=new C2(i),u=await Promise.race([e(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw Ah(i,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const m=u.ok?c.errorMessage:c.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ah(i,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Ah(i,"email-already-in-use",c);if(p==="USER_DISABLED")throw Ah(i,"user-disabled",c);const v=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw cg(i,v,g);_s(i,v)}}catch(o){if(o instanceof nr)throw o;_s(i,"network-request-failed",{message:String(o)})}}async function R2(i,t,e,r,o={}){const u=await ll(i,t,e,r,o);return"mfaPendingCredential"in u&&_s(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function hS(i,t,e,r){const o=`${t}${e}?${r}`,u=i,c=u.config.emulator?fg(i.config,o):`${i.config.apiScheme}://${o}`;return w2.includes(e)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}class C2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,r)=>{this.timer=setTimeout(()=>r(Qi(this.auth,"network-request-failed")),x2.get())})}}function Ah(i,t,e){const r={appName:i.name};e.email&&(r.email=e.email),e.phoneNumber&&(r.phoneNumber=e.phoneNumber);const o=Qi(i,t,r);return o.customData._tokenResponse=e,o}async function I2(i,t){return ll(i,"POST","/v1/accounts:delete",t)}async function Zh(i,t){return ll(i,"POST","/v1/accounts:lookup",t)}function _u(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function D2(i,t=!1){const e=Ci(i),r=await e.getIdToken(t),o=mg(r);Ot(o&&o.exp&&o.auth_time&&o.iat,e.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:r,authTime:_u(Ym(o.auth_time)),issuedAtTime:_u(Ym(o.iat)),expirationTime:_u(Ym(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Ym(i){return Number(i)*1e3}function mg(i){const[t,e,r]=i.split(".");if(t===void 0||e===void 0||r===void 0)return Ph("JWT malformed, contained fewer than 3 sections"),null;try{const o=X1(e);return o?JSON.parse(o):(Ph("Failed to decode base64 JWT payload"),null)}catch(o){return Ph("Caught error parsing JWT payload as JSON",o?.toString()),null}}function bT(i){const t=mg(i);return Ot(t,"internal-error"),Ot(typeof t.exp<"u","internal-error"),Ot(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Mu(i,t,e=!1){if(e)return t;try{return await t}catch(r){throw r instanceof nr&&M2(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function M2({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class V2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class bp{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=_u(this.lastLoginAt),this.creationTime=_u(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function tf(i){const t=i.auth,e=await i.getIdToken(),r=await Mu(i,Zh(t,{idToken:e}));Ot(r?.users.length,t,"internal-error");const o=r.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?fS(o.providerUserInfo):[],c=N2(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!c?.length,g=m?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new bp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,v)}async function O2(i){const t=Ci(i);await tf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function N2(i,t){return[...i.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function fS(i){return i.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function P2(i,t){const e=await cS(i,{},async()=>{const r=Yu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,c=await hS(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:r};return i.emulatorConfig&&al(i.emulatorConfig.host)&&(p.credentials="include"),uS.fetch()(c,p)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function k2(i,t){return ll(i,"POST","/v2/accounts:revokeToken",dg(i,t))}class Go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ot(t.idToken,"internal-error"),Ot(typeof t.idToken<"u","internal-error"),Ot(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):bT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Ot(t.length!==0,"internal-error");const e=bT(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Ot(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:r,refreshToken:o,expiresIn:u}=await P2(t,e);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(t,e,r){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,e){const{refreshToken:r,accessToken:o,expirationTime:u}=e,c=new Go;return r&&(Ot(typeof r=="string","internal-error",{appName:t}),c.refreshToken=r),o&&(Ot(typeof o=="string","internal-error",{appName:t}),c.accessToken=o),u&&(Ot(typeof u=="number","internal-error",{appName:t}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Go,this.toJSON())}_performRefresh(){return Ys("not implemented")}}function Ur(i,t){Ot(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class Ki{constructor({uid:t,auth:e,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new V2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new bp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const e=await Mu(this,this.stsTokenManager.getToken(this.auth,t));return Ot(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return D2(this,t)}reload(){return O2(this)}_assign(t){this!==t&&(Ot(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Ki({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){Ot(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),e&&await tf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gi(this.auth.app))return Promise.reject(ja(this.auth));const t=await this.getIdToken();return await Mu(this,I2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const r=e.displayName??void 0,o=e.email??void 0,u=e.phoneNumber??void 0,c=e.photoURL??void 0,m=e.tenantId??void 0,p=e._redirectEventId??void 0,g=e.createdAt??void 0,v=e.lastLoginAt??void 0,{uid:T,emailVerified:E,isAnonymous:I,providerData:U,stsTokenManager:D}=e;Ot(T&&D,t,"internal-error");const k=Go.fromJSON(this.name,D);Ot(typeof T=="string",t,"internal-error"),Ur(r,t.name),Ur(o,t.name),Ot(typeof E=="boolean",t,"internal-error"),Ot(typeof I=="boolean",t,"internal-error"),Ur(u,t.name),Ur(c,t.name),Ur(m,t.name),Ur(p,t.name),Ur(g,t.name),Ur(v,t.name);const W=new Ki({uid:T,auth:t,email:o,emailVerified:E,displayName:r,isAnonymous:I,photoURL:c,phoneNumber:u,tenantId:m,stsTokenManager:k,createdAt:g,lastLoginAt:v});return U&&Array.isArray(U)&&(W.providerData=U.map(nt=>({...nt}))),p&&(W._redirectEventId=p),W}static async _fromIdTokenResponse(t,e,r=!1){const o=new Go;o.updateFromServerResponse(e);const u=new Ki({uid:e.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await tf(u),u}static async _fromGetAccountInfoResponse(t,e,r){const o=e.users[0];Ot(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?fS(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,m=new Go;m.updateFromIdToken(r);const p=new Ki({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new bp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const ST=new Map;function Qs(i){$s(i instanceof Function,"Expected a class definition");let t=ST.get(i);return t?($s(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,ST.set(i,t),t)}class dS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}dS.type="NONE";const ET=dS;function kh(i,t,e){return`firebase:${i}:${t}:${e}`}class Ko{constructor(t,e,r){this.persistence=t,this.auth=e,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=kh(this.userKey,o.apiKey,u),this.fullPersistenceKey=kh("persistence",o.apiKey,u),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Zh(this.auth,{idToken:t}).catch(()=>{});return e?Ki._fromGetAccountInfoResponse(this.auth,e,t):null}return Ki._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,r="authUser"){if(!e.length)return new Ko(Qs(ET),t,r);const o=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Qs(ET);const c=kh(r,t.config.apiKey,t.name);let m=null;for(const g of e)try{const v=await g._get(c);if(v){let T;if(typeof v=="string"){const E=await Zh(t,{idToken:v}).catch(()=>{});if(!E)break;T=await Ki._fromGetAccountInfoResponse(t,E,v)}else T=Ki._fromJSON(t,v);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Ko(u,t,r):(u=p[0],m&&await u._set(c,m.toJSON()),await Promise.all(e.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new Ko(u,t,r))}}function AT(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(yS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(mS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(_S(t))return"Blackberry";if(TS(t))return"Webos";if(pS(t))return"Safari";if((t.includes("chrome/")||gS(t))&&!t.includes("edge/"))return"Chrome";if(vS(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(e);if(r?.length===2)return r[1]}return"Other"}function mS(i=Vn()){return/firefox\//i.test(i)}function pS(i=Vn()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function gS(i=Vn()){return/crios\//i.test(i)}function yS(i=Vn()){return/iemobile/i.test(i)}function vS(i=Vn()){return/android/i.test(i)}function _S(i=Vn()){return/blackberry/i.test(i)}function TS(i=Vn()){return/webos/i.test(i)}function pg(i=Vn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function j2(i=Vn()){return pg(i)&&!!window.navigator?.standalone}function L2(){return $R()&&document.documentMode===10}function bS(i=Vn()){return pg(i)||vS(i)||TS(i)||_S(i)||/windows phone/i.test(i)||yS(i)}function SS(i,t=[]){let e;switch(i){case"Browser":e=AT(Vn());break;case"Worker":e=`${AT(Vn())}-${i}`;break;default:e=i}const r=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${ol}/${r}`}class U2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const r=u=>new Promise((c,m)=>{try{const p=t(u);c(p)}catch(p){m(p)}});r.onAbort=e,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const r of this.queue)await r(t),r.onAbort&&e.push(r.onAbort)}catch(r){e.reverse();for(const o of e)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function z2(i,t={}){return ll(i,"GET","/v2/passwordPolicy",dg(i,t))}const B2=6;class F2{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??B2,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(e.meetsMinPasswordLength=t.length>=r),o&&(e.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(e,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,e,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class H2{constructor(t,e,r,o){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wT(this),this.idTokenSubscription=new wT(this),this.beforeStateQueue=new U2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Qs(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ko.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Zh(this,{idToken:t}),r=await Ki._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Gi(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let r=e,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=r?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===c)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ot(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await tf(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=E2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Gi(this.app))return Promise.reject(ja(this));const e=t?Ci(t):null;return e&&Ot(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Ot(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Gi(this.app)?Promise.reject(ja(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Gi(this.app)?Promise.reject(ja(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await z2(this),e=new F2(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ku("auth","Firebase",t())}onAuthStateChanged(t,e,r){return this.registerStateListener(this.authStateSubscription,t,e,r)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,r){return this.registerStateListener(this.idTokenSubscription,t,e,r)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(r.tenantId=this.tenantId),await k2(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const r=await this.getOrInitRedirectPersistenceManager(e);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Qs(t)||this._popupRedirectResolver;Ot(e,this,"argument-error"),this.redirectPersistenceManager=await Ko.create(this,[Qs(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,r,o){if(this._deleted)return()=>{};const u=typeof e=="function"?e:e.next.bind(e);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ot(m,this,"internal-error"),m.then(()=>{c||u(this.currentUser)}),typeof e=="function"){const p=t.addObserver(e,r,o);return()=>{c=!0,p()}}else{const p=t.addObserver(e);return()=>{c=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ot(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=SS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Gi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&_2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Af(i){return Ci(i)}class wT{constructor(t){this.auth=t,this.observer=null,this.addObserver=rC(e=>this.observer=e)}get next(){return Ot(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let gg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function q2(i){gg=i}function G2(i){return gg.loadJS(i)}function K2(){return gg.gapiScript}function Y2(i){return`__${i}${Math.floor(Math.random()*1e6)}`}function Q2(i,t){const e=ug(i,"auth");if(e.isInitialized()){const o=e.getImmediate(),u=e.getOptions();if(Ba(u,t??{}))return o;_s(o,"already-initialized")}return e.initialize({options:t})}function X2(i,t){const e=t?.persistence||[],r=(Array.isArray(e)?e:[e]).map(Qs);t?.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(r,t?.popupRedirectResolver)}function W2(i,t,e){const r=Af(i);Ot(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,u=ES(t),{host:c,port:m}=$2(t),p=m===null?"":`:${m}`,g={url:`${u}//${c}${p}/`},v=Object.freeze({host:c,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ot(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ot(Ba(g,r.config.emulator)&&Ba(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,al(c)?(Z1(`${u}//${c}${p}`),tS("Auth",!0)):J2()}function ES(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function $2(i){const t=ES(i),e=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!e)return{host:"",port:null};const r=e[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:xT(r.substr(u.length+1))}}else{const[u,c]=r.split(":");return{host:u,port:xT(c)}}}function xT(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function J2(){function i(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class AS{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Ys("not implemented")}_getIdTokenResponse(t){return Ys("not implemented")}_linkToIdToken(t,e){return Ys("not implemented")}_getReauthenticationResolver(t){return Ys("not implemented")}}async function Yo(i,t){return R2(i,"POST","/v1/accounts:signInWithIdp",dg(i,t))}const Z2="http://localhost";class Ha extends AS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Ha(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):_s("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o,...u}=e;if(!r||!o)return null;const c=new Ha(r,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return Yo(t,e)}_linkToIdToken(t,e){const r=this.buildRequest();return r.idToken=e,Yo(t,r)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Yo(t,e)}buildRequest(){const t={requestUri:Z2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Yu(e)}return t}}class yg{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Xu extends yg{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Br extends Xu{constructor(){super("facebook.com")}static credential(t){return Ha._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Br.credentialFromTaggedObject(t)}static credentialFromError(t){return Br.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Br.credential(t.oauthAccessToken)}catch{return null}}}Br.FACEBOOK_SIGN_IN_METHOD="facebook.com";Br.PROVIDER_ID="facebook.com";class Ks extends Xu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Ha._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Ks.credentialFromTaggedObject(t)}static credentialFromError(t){return Ks.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:r}=t;if(!e&&!r)return null;try{return Ks.credential(e,r)}catch{return null}}}Ks.GOOGLE_SIGN_IN_METHOD="google.com";Ks.PROVIDER_ID="google.com";class Fr extends Xu{constructor(){super("github.com")}static credential(t){return Ha._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fr.credentialFromTaggedObject(t)}static credentialFromError(t){return Fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fr.credential(t.oauthAccessToken)}catch{return null}}}Fr.GITHUB_SIGN_IN_METHOD="github.com";Fr.PROVIDER_ID="github.com";class Hr extends Xu{constructor(){super("twitter.com")}static credential(t,e){return Ha._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Hr.credentialFromTaggedObject(t)}static credentialFromError(t){return Hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:r}=t;if(!e||!r)return null;try{return Hr.credential(e,r)}catch{return null}}}Hr.TWITTER_SIGN_IN_METHOD="twitter.com";Hr.PROVIDER_ID="twitter.com";class $o{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,r,o=!1){const u=await Ki._fromIdTokenResponse(t,r,o),c=RT(r);return new $o({user:u,providerId:c,_tokenResponse:r,operationType:e})}static async _forOperation(t,e,r){await t._updateTokensIfNecessary(r,!0);const o=RT(r);return new $o({user:t,providerId:o,_tokenResponse:r,operationType:e})}}function RT(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class ef extends nr{constructor(t,e,r,o){super(e.code,e.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,ef.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,e,r,o){return new ef(t,e,r,o)}}function wS(i,t,e,r){return(t==="reauthenticate"?e._getReauthenticationResolver(i):e._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ef._fromErrorAndOperation(i,u,t,r):u})}async function tI(i,t,e=!1){const r=await Mu(i,t._linkToIdToken(i.auth,await i.getIdToken()),e);return $o._forOperation(i,"link",r)}async function eI(i,t,e=!1){const{auth:r}=i;if(Gi(r.app))return Promise.reject(ja(r));const o="reauthenticate";try{const u=await Mu(i,wS(r,o,t,i),e);Ot(u.idToken,r,"internal-error");const c=mg(u.idToken);Ot(c,r,"internal-error");const{sub:m}=c;return Ot(i.uid===m,r,"user-mismatch"),$o._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&_s(r,"user-mismatch"),u}}async function nI(i,t,e=!1){if(Gi(i.app))return Promise.reject(ja(i));const r="signIn",o=await wS(i,r,t),u=await $o._fromIdTokenResponse(i,r,o);return e||await i._updateCurrentUser(u.user),u}function iI(i,t,e,r){return Ci(i).onIdTokenChanged(t,e,r)}function sI(i,t,e){return Ci(i).beforeAuthStateChanged(t,e)}function rI(i,t,e,r){return Ci(i).onAuthStateChanged(t,e,r)}function aI(i){return Ci(i).signOut()}const nf="__sak";class xS{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(nf,"1"),this.storage.removeItem(nf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const oI=1e3,lI=10;class RS extends xS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const r=this.storage.getItem(e),o=this.localCache[e];r!==o&&t(e,o,r)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,m,p)=>{this.notifyListeners(c,p)});return}const r=t.key;e?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(r);!e&&this.localCache[r]===c||this.notifyListeners(r,c)},u=this.storage.getItem(r);L2()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,lI):o()}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:r}),!0)})},oI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}RS.type="LOCAL";const uI=RS;class CS extends xS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}CS.type="SESSION";const IS=CS;function cI(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class wf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(o=>o.isListeningto(t));if(e)return e;const r=new wf(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:r,eventType:o,data:u}=e.data,c=this.handlersMap[o];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(c).map(async g=>g(e.origin,u)),p=await cI(m);e.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wf.receivers=[];function vg(i="",t=10){let e="";for(let r=0;r<t;r++)e+=Math.floor(Math.random()*10);return i+e}class hI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((m,p)=>{const g=vg("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},r);c={messageChannel:o,onMessage(T){const E=T;if(E.data.eventId===g)switch(E.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(E.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function fs(){return window}function fI(i){fs().location.href=i}function DS(){return typeof fs().WorkerGlobalScope<"u"&&typeof fs().importScripts=="function"}async function dI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mI(){return navigator?.serviceWorker?.controller||null}function pI(){return DS()?self:null}const MS="firebaseLocalStorageDb",gI=1,sf="firebaseLocalStorage",VS="fbase_key";class Wu{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function xf(i,t){return i.transaction([sf],t?"readwrite":"readonly").objectStore(sf)}function yI(){const i=indexedDB.deleteDatabase(MS);return new Wu(i).toPromise()}function Sp(){const i=indexedDB.open(MS,gI);return new Promise((t,e)=>{i.addEventListener("error",()=>{e(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(sf,{keyPath:VS})}catch(o){e(o)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(sf)?t(r):(r.close(),await yI(),t(await Sp()))})})}async function CT(i,t,e){const r=xf(i,!0).put({[VS]:t,value:e});return new Wu(r).toPromise()}async function vI(i,t){const e=xf(i,!1).get(t),r=await new Wu(e).toPromise();return r===void 0?null:r.value}function IT(i,t){const e=xf(i,!0).delete(t);return new Wu(e).toPromise()}const _I=800,TI=3;class OS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sp(),this.db)}async _withRetries(t){let e=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(e++>TI)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return DS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wf._getInstance(pI()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await dI(),!this.activeServiceWorker)return;this.sender=new hI(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||mI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Sp();return await CT(t,nf,"1"),await IT(t,nf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(r=>CT(r,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(r=>vI(r,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>IT(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=xf(o,!1).getAll();return new Wu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),e.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),e.push(o));return e}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_I)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}OS.type="LOCAL";const bI=OS;new Qu(3e4,6e4);function NS(i,t){return t?Qs(t):(Ot(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class _g extends AS{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Yo(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Yo(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Yo(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function SI(i){return nI(i.auth,new _g(i),i.bypassAuthState)}function EI(i){const{auth:t,user:e}=i;return Ot(e,t,"internal-error"),eI(e,new _g(i),i.bypassAuthState)}async function AI(i){const{auth:t,user:e}=i;return Ot(e,t,"internal-error"),tI(e,new _g(i),i.bypassAuthState)}class PS{constructor(t,e,r,o,u=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:r,postBody:o,tenantId:u,error:c,type:m}=t;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:e,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return SI;case"linkViaPopup":case"linkViaRedirect":return AI;case"reauthViaPopup":case"reauthViaRedirect":return EI;default:_s(this.auth,"internal-error")}}resolve(t){$s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){$s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wI=new Qu(2e3,1e4);async function xI(i,t,e){if(Gi(i.app))return Promise.reject(Qi(i,"operation-not-supported-in-this-environment"));const r=Af(i);T2(i,t,yg);const o=NS(r,e);return new Oa(r,"signInViaPopup",t,o).executeNotNull()}class Oa extends PS{constructor(t,e,r,o,u){super(t,e,o,u),this.provider=r,this.authWindow=null,this.pollId=null,Oa.currentPopupAction&&Oa.currentPopupAction.cancel(),Oa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ot(t,this.auth,"internal-error"),t}async onExecution(){$s(this.filter.length===1,"Popup operations only handle one event");const t=vg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Qi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Qi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,wI.get())};t()}}Oa.currentPopupAction=null;const RI="pendingRedirect",jh=new Map;class CI extends PS{constructor(t,e,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,r),this.eventId=null}async execute(){let t=jh.get(this.auth._key());if(!t){try{const r=await II(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(e){t=()=>Promise.reject(e)}jh.set(this.auth._key(),t)}return this.bypassAuthState||jh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function II(i,t){const e=VI(t),r=MI(i);if(!await r._isAvailable())return!1;const o=await r._get(e)==="true";return await r._remove(e),o}function DI(i,t){jh.set(i._key(),t)}function MI(i){return Qs(i._redirectPersistence)}function VI(i){return kh(RI,i.config.apiKey,i.name)}async function OI(i,t,e=!1){if(Gi(i.app))return Promise.reject(ja(i));const r=Af(i),o=NS(r,t),c=await new CI(r,o,e).execute();return c&&!e&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,t)),c}const NI=600*1e3;class PI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(e=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!kI(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!kS(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";e.onError(Qi(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const r=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=NI&&this.cachedEventUids.clear(),this.cachedEventUids.has(DT(t))}saveEventToCache(t){this.cachedEventUids.add(DT(t)),this.lastProcessedEventTime=Date.now()}}function DT(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function kS({type:i,error:t}){return i==="unknown"&&t?.code==="auth/no-auth-event"}function kI(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kS(i);default:return!1}}async function jI(i,t={}){return ll(i,"GET","/v1/projects",t)}const LI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UI=/^https?/;async function zI(i){if(i.config.emulator)return;const{authorizedDomains:t}=await jI(i);for(const e of t)try{if(BI(e))return}catch{}_s(i,"unauthorized-domain")}function BI(i){const t=Tp(),{protocol:e,hostname:r}=new URL(t);if(i.startsWith("chrome-extension://")){const c=new URL(i);return c.hostname===""&&r===""?e==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===r}if(!UI.test(e))return!1;if(LI.test(i))return r===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const FI=new Qu(3e4,6e4);function MT(){const i=fs().___jsl;if(i?.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let e=0;e<i.CP.length;e++)i.CP[e]=null}}function HI(i){return new Promise((t,e)=>{function r(){MT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{MT(),e(Qi(i,"network-request-failed"))},timeout:FI.get()})}if(fs().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(fs().gapi?.load)r();else{const o=Y2("iframefcb");return fs()[o]=()=>{gapi.load?r():e(Qi(i,"network-request-failed"))},G2(`${K2()}?onload=${o}`).catch(u=>e(u))}}).catch(t=>{throw Lh=null,t})}let Lh=null;function qI(i){return Lh=Lh||HI(i),Lh}const GI=new Qu(5e3,15e3),KI="__/auth/iframe",YI="emulator/auth/iframe",QI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WI(i){const t=i.config;Ot(t.authDomain,i,"auth-domain-config-required");const e=t.emulator?fg(t,YI):`https://${i.config.authDomain}/${KI}`,r={apiKey:t.apiKey,appName:i.name,v:ol},o=XI.get(i.config.apiHost);o&&(r.eid=o);const u=i._getFrameworks();return u.length&&(r.fw=u.join(",")),`${e}?${Yu(r).slice(1)}`}async function $I(i){const t=await qI(i),e=fs().gapi;return Ot(e,i,"internal-error"),t.open({where:document.body,url:WI(i),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QI,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const c=Qi(i,"network-request-failed"),m=fs().setTimeout(()=>{u(c)},GI.get());function p(){fs().clearTimeout(m),o(r)}r.ping(p).then(p,()=>{u(c)})}))}const JI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZI=500,tD=600,eD="_blank",nD="http://localhost";class VT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function iD(i,t,e,r=ZI,o=tD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const p={...JI,width:r.toString(),height:o.toString(),top:u,left:c},g=Vn().toLowerCase();e&&(m=gS(g)?eD:e),mS(g)&&(t=t||nD,p.scrollbars="yes");const v=Object.entries(p).reduce((E,[I,U])=>`${E}${I}=${U},`,"");if(j2(g)&&m!=="_self")return sD(t||"",m),new VT(null);const T=window.open(t||"",m,v);Ot(T,i,"popup-blocked");try{T.focus()}catch{}return new VT(T)}function sD(i,t){const e=document.createElement("a");e.href=i,e.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(r)}const rD="__/auth/handler",aD="emulator/auth/handler",oD=encodeURIComponent("fac");async function OT(i,t,e,r,o,u){Ot(i.config.authDomain,i,"auth-domain-config-required"),Ot(i.config.apiKey,i,"invalid-api-key");const c={apiKey:i.config.apiKey,appName:i.name,authType:e,redirectUrl:r,v:ol,eventId:o};if(t instanceof yg){t.setDefaultLanguage(i.languageCode),c.providerId=t.providerId||"",sC(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,T]of Object.entries({}))c[v]=T}if(t instanceof Xu){const v=t.getScopes().filter(T=>T!=="");v.length>0&&(c.scopes=v.join(","))}i.tenantId&&(c.tid=i.tenantId);const m=c;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await i._getAppCheckToken(),g=p?`#${oD}=${encodeURIComponent(p)}`:"";return`${lD(i)}?${Yu(m).slice(1)}${g}`}function lD({config:i}){return i.emulator?fg(i,aD):`https://${i.authDomain}/${rD}`}const Qm="webStorageSupport";class uD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=IS,this._completeRedirectFn=OI,this._overrideRedirectResult=DI}async _openPopup(t,e,r,o){$s(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await OT(t,e,r,Tp(),o);return iD(t,u,vg())}async _openRedirect(t,e,r,o){await this._originValidation(t);const u=await OT(t,e,r,Tp(),o);return fI(u),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:o,promise:u}=this.eventManagers[e];return o?Promise.resolve(o):($s(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[e]={promise:r},r.catch(()=>{delete this.eventManagers[e]}),r}async initAndGetManager(t){const e=await $I(t),r=new PI(t);return e.register("authEvent",o=>(Ot(o?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=e,r}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Qm,{type:Qm},o=>{const u=o?.[0]?.[Qm];u!==void 0&&e(!!u),_s(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=zI(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return bS()||pS()||pg()}}const cD=uD;var NT="@firebase/auth",PT="1.11.1";class hD{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Ot(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function fD(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dD(i){Wo(new Fa("auth",(t,{options:e})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=r.options;Ot(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:c,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SS(i)},g=new H2(r,o,u,p);return X2(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,r)=>{t.getProvider("auth-internal").initialize()})),Wo(new Fa("auth-internal",t=>{const e=Af(t.getProvider("auth").getImmediate());return(r=>new hD(r))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yr(NT,PT,fD(i)),Yr(NT,PT,"esm2020")}const mD=300,pD=J1("authIdTokenMaxAge")||mD;let kT=null;const gD=i=>async t=>{const e=t&&await t.getIdTokenResult(),r=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(r&&r>pD)return;const o=e?.token;kT!==o&&(kT=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function yD(i=sS()){const t=ug(i,"auth");if(t.isInitialized())return t.getImmediate();const e=Q2(i,{popupRedirectResolver:cD,persistence:[bI,uI,IS]}),r=J1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const c=gD(u.toString());sI(e,c,()=>c(e.currentUser)),iI(e,m=>c(m))}}const o=W1("auth");return o&&W2(e,`http://${o}`),e}function vD(){return document.getElementsByTagName("head")?.[0]??document}q2({loadJS(i){return new Promise((t,e)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=t,r.onerror=o=>{const u=Qi("internal-error");u.customData=o,e(u)},r.type="text/javascript",r.charset="UTF-8",vD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dD("Browser");var jT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Qr,jS;(function(){var i;function t(R,w){function C(){}C.prototype=w.prototype,R.F=w.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(P,N,z){for(var M=Array(arguments.length-2),Ht=2;Ht<arguments.length;Ht++)M[Ht-2]=arguments[Ht];return w.prototype[N].apply(P,M)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,e),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,w,C){C||(C=0);const P=Array(16);if(typeof w=="string")for(var N=0;N<16;++N)P[N]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(N=0;N<16;++N)P[N]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=R.g[0],C=R.g[1],N=R.g[2];let z=R.g[3],M;M=w+(z^C&(N^z))+P[0]+3614090360&4294967295,w=C+(M<<7&4294967295|M>>>25),M=z+(N^w&(C^N))+P[1]+3905402710&4294967295,z=w+(M<<12&4294967295|M>>>20),M=N+(C^z&(w^C))+P[2]+606105819&4294967295,N=z+(M<<17&4294967295|M>>>15),M=C+(w^N&(z^w))+P[3]+3250441966&4294967295,C=N+(M<<22&4294967295|M>>>10),M=w+(z^C&(N^z))+P[4]+4118548399&4294967295,w=C+(M<<7&4294967295|M>>>25),M=z+(N^w&(C^N))+P[5]+1200080426&4294967295,z=w+(M<<12&4294967295|M>>>20),M=N+(C^z&(w^C))+P[6]+2821735955&4294967295,N=z+(M<<17&4294967295|M>>>15),M=C+(w^N&(z^w))+P[7]+4249261313&4294967295,C=N+(M<<22&4294967295|M>>>10),M=w+(z^C&(N^z))+P[8]+1770035416&4294967295,w=C+(M<<7&4294967295|M>>>25),M=z+(N^w&(C^N))+P[9]+2336552879&4294967295,z=w+(M<<12&4294967295|M>>>20),M=N+(C^z&(w^C))+P[10]+4294925233&4294967295,N=z+(M<<17&4294967295|M>>>15),M=C+(w^N&(z^w))+P[11]+2304563134&4294967295,C=N+(M<<22&4294967295|M>>>10),M=w+(z^C&(N^z))+P[12]+1804603682&4294967295,w=C+(M<<7&4294967295|M>>>25),M=z+(N^w&(C^N))+P[13]+4254626195&4294967295,z=w+(M<<12&4294967295|M>>>20),M=N+(C^z&(w^C))+P[14]+2792965006&4294967295,N=z+(M<<17&4294967295|M>>>15),M=C+(w^N&(z^w))+P[15]+1236535329&4294967295,C=N+(M<<22&4294967295|M>>>10),M=w+(N^z&(C^N))+P[1]+4129170786&4294967295,w=C+(M<<5&4294967295|M>>>27),M=z+(C^N&(w^C))+P[6]+3225465664&4294967295,z=w+(M<<9&4294967295|M>>>23),M=N+(w^C&(z^w))+P[11]+643717713&4294967295,N=z+(M<<14&4294967295|M>>>18),M=C+(z^w&(N^z))+P[0]+3921069994&4294967295,C=N+(M<<20&4294967295|M>>>12),M=w+(N^z&(C^N))+P[5]+3593408605&4294967295,w=C+(M<<5&4294967295|M>>>27),M=z+(C^N&(w^C))+P[10]+38016083&4294967295,z=w+(M<<9&4294967295|M>>>23),M=N+(w^C&(z^w))+P[15]+3634488961&4294967295,N=z+(M<<14&4294967295|M>>>18),M=C+(z^w&(N^z))+P[4]+3889429448&4294967295,C=N+(M<<20&4294967295|M>>>12),M=w+(N^z&(C^N))+P[9]+568446438&4294967295,w=C+(M<<5&4294967295|M>>>27),M=z+(C^N&(w^C))+P[14]+3275163606&4294967295,z=w+(M<<9&4294967295|M>>>23),M=N+(w^C&(z^w))+P[3]+4107603335&4294967295,N=z+(M<<14&4294967295|M>>>18),M=C+(z^w&(N^z))+P[8]+1163531501&4294967295,C=N+(M<<20&4294967295|M>>>12),M=w+(N^z&(C^N))+P[13]+2850285829&4294967295,w=C+(M<<5&4294967295|M>>>27),M=z+(C^N&(w^C))+P[2]+4243563512&4294967295,z=w+(M<<9&4294967295|M>>>23),M=N+(w^C&(z^w))+P[7]+1735328473&4294967295,N=z+(M<<14&4294967295|M>>>18),M=C+(z^w&(N^z))+P[12]+2368359562&4294967295,C=N+(M<<20&4294967295|M>>>12),M=w+(C^N^z)+P[5]+4294588738&4294967295,w=C+(M<<4&4294967295|M>>>28),M=z+(w^C^N)+P[8]+2272392833&4294967295,z=w+(M<<11&4294967295|M>>>21),M=N+(z^w^C)+P[11]+1839030562&4294967295,N=z+(M<<16&4294967295|M>>>16),M=C+(N^z^w)+P[14]+4259657740&4294967295,C=N+(M<<23&4294967295|M>>>9),M=w+(C^N^z)+P[1]+2763975236&4294967295,w=C+(M<<4&4294967295|M>>>28),M=z+(w^C^N)+P[4]+1272893353&4294967295,z=w+(M<<11&4294967295|M>>>21),M=N+(z^w^C)+P[7]+4139469664&4294967295,N=z+(M<<16&4294967295|M>>>16),M=C+(N^z^w)+P[10]+3200236656&4294967295,C=N+(M<<23&4294967295|M>>>9),M=w+(C^N^z)+P[13]+681279174&4294967295,w=C+(M<<4&4294967295|M>>>28),M=z+(w^C^N)+P[0]+3936430074&4294967295,z=w+(M<<11&4294967295|M>>>21),M=N+(z^w^C)+P[3]+3572445317&4294967295,N=z+(M<<16&4294967295|M>>>16),M=C+(N^z^w)+P[6]+76029189&4294967295,C=N+(M<<23&4294967295|M>>>9),M=w+(C^N^z)+P[9]+3654602809&4294967295,w=C+(M<<4&4294967295|M>>>28),M=z+(w^C^N)+P[12]+3873151461&4294967295,z=w+(M<<11&4294967295|M>>>21),M=N+(z^w^C)+P[15]+530742520&4294967295,N=z+(M<<16&4294967295|M>>>16),M=C+(N^z^w)+P[2]+3299628645&4294967295,C=N+(M<<23&4294967295|M>>>9),M=w+(N^(C|~z))+P[0]+4096336452&4294967295,w=C+(M<<6&4294967295|M>>>26),M=z+(C^(w|~N))+P[7]+1126891415&4294967295,z=w+(M<<10&4294967295|M>>>22),M=N+(w^(z|~C))+P[14]+2878612391&4294967295,N=z+(M<<15&4294967295|M>>>17),M=C+(z^(N|~w))+P[5]+4237533241&4294967295,C=N+(M<<21&4294967295|M>>>11),M=w+(N^(C|~z))+P[12]+1700485571&4294967295,w=C+(M<<6&4294967295|M>>>26),M=z+(C^(w|~N))+P[3]+2399980690&4294967295,z=w+(M<<10&4294967295|M>>>22),M=N+(w^(z|~C))+P[10]+4293915773&4294967295,N=z+(M<<15&4294967295|M>>>17),M=C+(z^(N|~w))+P[1]+2240044497&4294967295,C=N+(M<<21&4294967295|M>>>11),M=w+(N^(C|~z))+P[8]+1873313359&4294967295,w=C+(M<<6&4294967295|M>>>26),M=z+(C^(w|~N))+P[15]+4264355552&4294967295,z=w+(M<<10&4294967295|M>>>22),M=N+(w^(z|~C))+P[6]+2734768916&4294967295,N=z+(M<<15&4294967295|M>>>17),M=C+(z^(N|~w))+P[13]+1309151649&4294967295,C=N+(M<<21&4294967295|M>>>11),M=w+(N^(C|~z))+P[4]+4149444226&4294967295,w=C+(M<<6&4294967295|M>>>26),M=z+(C^(w|~N))+P[11]+3174756917&4294967295,z=w+(M<<10&4294967295|M>>>22),M=N+(w^(z|~C))+P[2]+718787259&4294967295,N=z+(M<<15&4294967295|M>>>17),M=C+(z^(N|~w))+P[9]+3951481745&4294967295,R.g[0]=R.g[0]+w&4294967295,R.g[1]=R.g[1]+(N+(M<<21&4294967295|M>>>11))&4294967295,R.g[2]=R.g[2]+N&4294967295,R.g[3]=R.g[3]+z&4294967295}r.prototype.v=function(R,w){w===void 0&&(w=R.length);const C=w-this.blockSize,P=this.C;let N=this.h,z=0;for(;z<w;){if(N==0)for(;z<=C;)o(this,R,z),z+=this.blockSize;if(typeof R=="string"){for(;z<w;)if(P[N++]=R.charCodeAt(z++),N==this.blockSize){o(this,P),N=0;break}}else for(;z<w;)if(P[N++]=R[z++],N==this.blockSize){o(this,P),N=0;break}}this.h=N,this.o+=w},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var w=1;w<R.length-8;++w)R[w]=0;w=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=w&255,w/=256;for(this.v(R),R=Array(16),w=0,C=0;C<4;++C)for(let P=0;P<32;P+=8)R[w++]=this.g[C]>>>P&255;return R};function u(R,w){var C=m;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=w(R)}function c(R,w){this.h=w;const C=[];let P=!0;for(let N=R.length-1;N>=0;N--){const z=R[N]|0;P&&z==w||(C[N]=z,P=!1)}this.g=C}var m={};function p(R){return-128<=R&&R<128?u(R,function(w){return new c([w|0],w<0?-1:0)}):new c([R|0],R<0?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return T;if(R<0)return k(g(-R));const w=[];let C=1;for(let P=0;R>=C;P++)w[P]=R/C|0,C*=4294967296;return new c(w,0)}function v(R,w){if(R.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(R.charAt(0)=="-")return k(v(R.substring(1),w));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(w,8));let P=T;for(let z=0;z<R.length;z+=8){var N=Math.min(8,R.length-z);const M=parseInt(R.substring(z,z+N),w);N<8?(N=g(Math.pow(w,N)),P=P.j(N).add(g(M))):(P=P.j(C),P=P.add(g(M)))}return P}var T=p(0),E=p(1),I=p(16777216);i=c.prototype,i.m=function(){if(D(this))return-k(this).m();let R=0,w=1;for(let C=0;C<this.g.length;C++){const P=this.i(C);R+=(P>=0?P:4294967296+P)*w,w*=4294967296}return R},i.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(U(this))return"0";if(D(this))return"-"+k(this).toString(R);const w=g(Math.pow(R,6));var C=this;let P="";for(;;){const N=ft(C,w).g;C=W(C,N.j(w));let z=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=N,U(C))return z+P;for(;z.length<6;)z="0"+z;P=z+P}},i.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function U(R){if(R.h!=0)return!1;for(let w=0;w<R.g.length;w++)if(R.g[w]!=0)return!1;return!0}function D(R){return R.h==-1}i.l=function(R){return R=W(this,R),D(R)?-1:U(R)?0:1};function k(R){const w=R.g.length,C=[];for(let P=0;P<w;P++)C[P]=~R.g[P];return new c(C,~R.h).add(E)}i.abs=function(){return D(this)?k(this):this},i.add=function(R){const w=Math.max(this.g.length,R.g.length),C=[];let P=0;for(let N=0;N<=w;N++){let z=P+(this.i(N)&65535)+(R.i(N)&65535),M=(z>>>16)+(this.i(N)>>>16)+(R.i(N)>>>16);P=M>>>16,z&=65535,M&=65535,C[N]=M<<16|z}return new c(C,C[C.length-1]&-2147483648?-1:0)};function W(R,w){return R.add(k(w))}i.j=function(R){if(U(this)||U(R))return T;if(D(this))return D(R)?k(this).j(k(R)):k(k(this).j(R));if(D(R))return k(this.j(k(R)));if(this.l(I)<0&&R.l(I)<0)return g(this.m()*R.m());const w=this.g.length+R.g.length,C=[];for(var P=0;P<2*w;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(let N=0;N<R.g.length;N++){const z=this.i(P)>>>16,M=this.i(P)&65535,Ht=R.i(N)>>>16,le=R.i(N)&65535;C[2*P+2*N]+=M*le,nt(C,2*P+2*N),C[2*P+2*N+1]+=z*le,nt(C,2*P+2*N+1),C[2*P+2*N+1]+=M*Ht,nt(C,2*P+2*N+1),C[2*P+2*N+2]+=z*Ht,nt(C,2*P+2*N+2)}for(R=0;R<w;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=w;R<2*w;R++)C[R]=0;return new c(C,0)};function nt(R,w){for(;(R[w]&65535)!=R[w];)R[w+1]+=R[w]>>>16,R[w]&=65535,w++}function it(R,w){this.g=R,this.h=w}function ft(R,w){if(U(w))throw Error("division by zero");if(U(R))return new it(T,T);if(D(R))return w=ft(k(R),w),new it(k(w.g),k(w.h));if(D(w))return w=ft(R,k(w)),new it(k(w.g),w.h);if(R.g.length>30){if(D(R)||D(w))throw Error("slowDivide_ only works with positive integers.");for(var C=E,P=w;P.l(R)<=0;)C=dt(C),P=dt(P);var N=mt(C,1),z=mt(P,1);for(P=mt(P,2),C=mt(C,2);!U(P);){var M=z.add(P);M.l(R)<=0&&(N=N.add(C),z=M),P=mt(P,1),C=mt(C,1)}return w=W(R,N.j(w)),new it(N,w)}for(N=T;R.l(w)>=0;){for(C=Math.max(1,Math.floor(R.m()/w.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),z=g(C),M=z.j(w);D(M)||M.l(R)>0;)C-=P,z=g(C),M=z.j(w);U(z)&&(z=E),N=N.add(z),R=W(R,M)}return new it(N,R)}i.B=function(R){return ft(this,R).h},i.and=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let P=0;P<w;P++)C[P]=this.i(P)&R.i(P);return new c(C,this.h&R.h)},i.or=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let P=0;P<w;P++)C[P]=this.i(P)|R.i(P);return new c(C,this.h|R.h)},i.xor=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let P=0;P<w;P++)C[P]=this.i(P)^R.i(P);return new c(C,this.h^R.h)};function dt(R){const w=R.g.length+1,C=[];for(let P=0;P<w;P++)C[P]=R.i(P)<<1|R.i(P-1)>>>31;return new c(C,R.h)}function mt(R,w){const C=w>>5;w%=32;const P=R.g.length-C,N=[];for(let z=0;z<P;z++)N[z]=w>0?R.i(z+C)>>>w|R.i(z+C+1)<<32-w:R.i(z+C);return new c(N,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,jS=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,Qr=c}).apply(typeof jT<"u"?jT:typeof self<"u"?self:typeof window<"u"?window:{});var wh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var LS,du,US,Uh,Ep,zS,BS,FS;(function(){var i,t=Object.defineProperty;function e(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof wh=="object"&&wh];for(var y=0;y<h.length;++y){var b=h[y];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=e(this);function o(h,y){if(y)t:{var b=r;h=h.split(".");for(var x=0;x<h.length-1;x++){var H=h[x];if(!(H in b))break t;b=b[H]}h=h[h.length-1],x=b[h],y=y(x),y!=x&&y!=null&&t(b,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var b=[],x;for(x in y)Object.prototype.hasOwnProperty.call(y,x)&&b.push([x,y[x]]);return b}});var u=u||{},c=this||self;function m(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,b){return h.call.apply(h.bind,arguments)}function g(h,y,b){return g=p,g.apply(null,arguments)}function v(h,y){var b=Array.prototype.slice.call(arguments,1);return function(){var x=b.slice();return x.push.apply(x,arguments),h.apply(this,x)}}function T(h,y){function b(){}b.prototype=y.prototype,h.Z=y.prototype,h.prototype=new b,h.prototype.constructor=h,h.Ob=function(x,H,X){for(var pt=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)pt[Ut-2]=arguments[Ut];return y.prototype[H].apply(x,pt)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function I(h){const y=h.length;if(y>0){const b=Array(y);for(let x=0;x<y;x++)b[x]=h[x];return b}return[]}function U(h,y){for(let x=1;x<arguments.length;x++){const H=arguments[x];var b=typeof H;if(b=b!="object"?b:H?Array.isArray(H)?"array":b:"null",b=="array"||b=="object"&&typeof H.length=="number"){b=h.length||0;const X=H.length||0;h.length=b+X;for(let pt=0;pt<X;pt++)h[b+pt]=H[pt]}else h.push(H)}}class D{constructor(y,b){this.i=y,this.j=b,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function k(h){c.setTimeout(()=>{throw h},0)}function W(){var h=R;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class nt{constructor(){this.h=this.g=null}add(y,b){const x=it.get();x.set(y,b),this.h?this.h.next=x:this.g=x,this.h=x}}var it=new D(()=>new ft,h=>h.reset());class ft{constructor(){this.next=this.g=this.h=null}set(y,b){this.h=y,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let dt,mt=!1,R=new nt,w=()=>{const h=Promise.resolve(void 0);dt=()=>{h.then(C)}};function C(){for(var h;h=W();){try{h.h.call(h.g)}catch(b){k(b)}var y=it;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}mt=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const b=()=>{};c.addEventListener("test",b,y),c.removeEventListener("test",b,y)}catch{}return h})();function M(h){return/^[\s\xa0]*$/.test(h)}function Ht(h,y){N.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}T(Ht,N),Ht.prototype.init=function(h,y){const b=this.type=h.type,x=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(b=="mouseover"?y=h.fromElement:b=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Ht.Z.h.call(this)},Ht.prototype.h=function(){Ht.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var le="closure_listenable_"+(Math.random()*1e6|0),Q=0;function ut(h,y,b,x,H){this.listener=h,this.proxy=null,this.src=y,this.type=b,this.capture=!!x,this.ha=H,this.key=++Q,this.da=this.fa=!1}function ht(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Mt(h,y,b){for(const x in h)y.call(b,h[x],x,h)}function Rt(h,y){for(const b in h)y.call(void 0,h[b],b,h)}function j(h){const y={};for(const b in h)y[b]=h[b];return y}const rt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gt(h,y){let b,x;for(let H=1;H<arguments.length;H++){x=arguments[H];for(b in x)h[b]=x[b];for(let X=0;X<rt.length;X++)b=rt[X],Object.prototype.hasOwnProperty.call(x,b)&&(h[b]=x[b])}}function vt(h){this.src=h,this.g={},this.h=0}vt.prototype.add=function(h,y,b,x,H){const X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);const pt=Nt(h,y,x,H);return pt>-1?(y=h[pt],b||(y.fa=!1)):(y=new ut(y,this.src,X,!!x,H),y.fa=b,h.push(y)),y};function Ct(h,y){const b=y.type;if(b in h.g){var x=h.g[b],H=Array.prototype.indexOf.call(x,y,void 0),X;(X=H>=0)&&Array.prototype.splice.call(x,H,1),X&&(ht(y),h.g[b].length==0&&(delete h.g[b],h.h--))}}function Nt(h,y,b,x){for(let H=0;H<h.length;++H){const X=h[H];if(!X.da&&X.listener==y&&X.capture==!!b&&X.ha==x)return H}return-1}var Bt="closure_lm_"+(Math.random()*1e6|0),De={};function pe(h,y,b,x,H){if(Array.isArray(y)){for(let X=0;X<y.length;X++)pe(h,y[X],b,x,H);return null}return b=ai(b),h&&h[le]?h.J(y,b,m(x)?!!x.capture:!1,H):Ii(h,y,b,!1,x,H)}function Ii(h,y,b,x,H,X){if(!y)throw Error("Invalid event type");const pt=m(H)?!!H.capture:!!H;let Ut=je(h);if(Ut||(h[Bt]=Ut=new vt(h)),b=Ut.add(y,b,x,pt,X),b.proxy)return b;if(x=Xi(),b.proxy=x,x.src=h,x.listener=b,h.addEventListener)z||(H=pt),H===void 0&&(H=!1),h.addEventListener(y.toString(),x,H);else if(h.attachEvent)h.attachEvent(On(y.toString()),x);else if(h.addListener&&h.removeListener)h.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Xi(){function h(b){return y.call(h.src,h.listener,b)}const y=Ji;return h}function Wi(h,y,b,x,H){if(Array.isArray(y))for(var X=0;X<y.length;X++)Wi(h,y[X],b,x,H);else x=m(x)?!!x.capture:!!x,b=ai(b),h&&h[le]?(h=h.i,X=String(y).toString(),X in h.g&&(y=h.g[X],b=Nt(y,b,x,H),b>-1&&(ht(y[b]),Array.prototype.splice.call(y,b,1),y.length==0&&(delete h.g[X],h.h--)))):h&&(h=je(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Nt(y,b,x,H)),(b=h>-1?y[h]:null)&&$i(b))}function $i(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[le])Ct(y.i,h);else{var b=h.type,x=h.proxy;y.removeEventListener?y.removeEventListener(b,x,h.capture):y.detachEvent?y.detachEvent(On(b),x):y.addListener&&y.removeListener&&y.removeListener(x),(b=je(y))?(Ct(b,h),b.h==0&&(b.src=null,y[Bt]=null)):ht(h)}}}function On(h){return h in De?De[h]:De[h]="on"+h}function Ji(h,y){if(h.da)h=!0;else{y=new Ht(y,this);const b=h.listener,x=h.ha||h.src;h.fa&&$i(h),h=b.call(x,y)}return h}function je(h){return h=h[Bt],h instanceof vt?h:null}var Di="__closure_events_fn_"+(Math.random()*1e9>>>0);function ai(h){return typeof h=="function"?h:(h[Di]||(h[Di]=function(y){return h.handleEvent(y)}),h[Di])}function xe(){P.call(this),this.i=new vt(this),this.M=this,this.G=null}T(xe,P),xe.prototype[le]=!0,xe.prototype.removeEventListener=function(h,y,b,x){Wi(this,h,y,b,x)};function Me(h,y){var b,x=h.G;if(x)for(b=[];x;x=x.G)b.push(x);if(h=h.M,x=y.type||y,typeof y=="string")y=new N(y,h);else if(y instanceof N)y.target=y.target||h;else{var H=y;y=new N(x,h),gt(y,H)}H=!0;let X,pt;if(b)for(pt=b.length-1;pt>=0;pt--)X=y.g=b[pt],H=Gt(X,x,!0,y)&&H;if(X=y.g=h,H=Gt(X,x,!0,y)&&H,H=Gt(X,x,!1,y)&&H,b)for(pt=0;pt<b.length;pt++)X=y.g=b[pt],H=Gt(X,x,!1,y)&&H}xe.prototype.N=function(){if(xe.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const b=h.g[y];for(let x=0;x<b.length;x++)ht(b[x]);delete h.g[y],h.h--}}this.G=null},xe.prototype.J=function(h,y,b,x){return this.i.add(String(h),y,!1,b,x)},xe.prototype.K=function(h,y,b,x){return this.i.add(String(h),y,!0,b,x)};function Gt(h,y,b,x){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let H=!0;for(let X=0;X<y.length;++X){const pt=y[X];if(pt&&!pt.da&&pt.capture==b){const Ut=pt.listener,Ge=pt.ha||pt.src;pt.fa&&Ct(h.i,pt),H=Ut.call(Ge,x)!==!1&&H}}return H&&!x.defaultPrevented}function An(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function ir(h){h.g=An(()=>{h.g=null,h.i&&(h.i=!1,ir(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class He extends P{constructor(y,b){super(),this.m=y,this.l=b,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ir(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mi(h){P.call(this),this.h=h,this.g={}}T(Mi,P);var Zi=[];function Ss(h){Mt(h.g,function(y,b){this.g.hasOwnProperty(b)&&$i(y)},h),h.g={}}Mi.prototype.N=function(){Mi.Z.N.call(this),Ss(this)},Mi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var oi=c.JSON.stringify,Es=c.JSON.parse,As=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function sr(){}function rr(){}var Nn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function yt(){N.call(this,"d")}T(yt,N);function qt(){N.call(this,"c")}T(qt,N);var ue={},Un=null;function te(){return Un=Un||new xe}ue.Ia="serverreachability";function Le(h){N.call(this,ue.Ia,h)}T(Le,N);function qe(h){const y=te();Me(y,new Le(y))}ue.STAT_EVENT="statevent";function ws(h,y){N.call(this,ue.STAT_EVENT,h),this.stat=y}T(ws,N);function Ue(h){const y=te();Me(y,new ws(y,h))}ue.Ja="timingevent";function li(h,y){N.call(this,ue.Ja,h),this.size=y}T(li,N);function ui(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function an(){this.g=!0}an.prototype.ua=function(){this.g=!1};function gl(h,y,b,x,H,X){h.info(function(){if(h.g)if(X){var pt="",Ut=X.split("&");for(let ae=0;ae<Ut.length;ae++){var Ge=Ut[ae].split("=");if(Ge.length>1){const Re=Ge[0];Ge=Ge[1];const di=Re.split("_");pt=di.length>=2&&di[1]=="type"?pt+(Re+"="+Ge+"&"):pt+(Re+"=redacted&")}}}else pt=null;else pt=X;return"XMLHTTP REQ ("+x+") [attempt "+H+"]: "+y+`
`+b+`
`+pt})}function Wa(h,y,b,x,H,X,pt){h.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+H+"]: "+y+`
`+b+`
`+X+" "+pt})}function Wn(h,y,b,x){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+yl(h,b)+(x?" "+x:"")})}function mn(h,y){h.info(function(){return"TIMEOUT: "+y})}an.prototype.info=function(){};function yl(h,y){if(!h.g)return y;if(!y)return null;try{const X=JSON.parse(y);if(X){for(h=0;h<X.length;h++)if(Array.isArray(X[h])){var b=X[h];if(!(b.length<2)){var x=b[1];if(Array.isArray(x)&&!(x.length<1)){var H=x[0];if(H!="noop"&&H!="stop"&&H!="close")for(let pt=1;pt<x.length;pt++)x[pt]=""}}}}return oi(X)}catch{return y}}var xs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},O={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},et;function $(){}T($,sr),$.prototype.g=function(){return new XMLHttpRequest},et=new $;function tt(h){return encodeURIComponent(String(h))}function F(h){var y=1;h=h.split(":");const b=[];for(;y>0&&h.length;)b.push(h.shift()),y--;return h.length&&b.push(h.join(":")),b}function at(h,y,b,x){this.j=h,this.i=y,this.l=b,this.S=x||1,this.V=new Mi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new bt}function bt(){this.i=null,this.g="",this.h=!1}var _t={},Pt={};function Ve(h,y,b){h.M=1,h.A=aa($e(y)),h.u=b,h.R=!0,We(h,null)}function We(h,y){h.F=Date.now(),Pn(h),h.B=$e(h.A);var b=h.B,x=h.S;Array.isArray(x)||(x=[String(x)]),Za(b.i,"t",x),h.C=0,b=h.j.L,h.h=new bt,h.g=yc(h.j,b?y:null,!h.u),h.P>0&&(h.O=new He(g(h.Y,h,h.g),h.P)),y=h.V,b=h.g,x=h.ba;var H="readystatechange";Array.isArray(H)||(H&&(Zi[0]=H.toString()),H=Zi);for(let X=0;X<H.length;X++){const pt=pe(b,H[X],x||y.handleEvent,!1,y.h||y);if(!pt)break;y.g[pt.key]=pt}y=h.J?j(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),qe(),gl(h.i,h.v,h.B,h.l,h.S,h.u)}at.prototype.ba=function(h){h=h.target;const y=this.O;y&&ji(h)==3?y.j():this.Y(h)},at.prototype.Y=function(h){try{if(h==this.g)t:{const Ut=ji(this.g),Ge=this.g.ya(),ae=this.g.ca();if(!(Ut<3)&&(Ut!=3||this.g&&(this.h.h||this.g.la()||pn(this.g)))){this.K||Ut!=4||Ge==7||(Ge==8||ae<=0?qe(3):qe(2)),ci(this);var y=this.g.ca();this.X=y;var b=ee(this);if(this.o=y==200,Wa(this.i,this.v,this.B,this.l,this.S,Ut,y),this.o){if(this.U&&!this.L){e:{if(this.g){var x,H=this.g;if((x=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(x)){var X=x;break e}}X=null}if(h=X)Wn(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,xn(this,h);else{this.o=!1,this.m=3,Ue(12),he(this),zn(this);break t}}if(this.R){h=!0;let Re;for(;!this.K&&this.C<b.length;)if(Re=wn(this,b),Re==Pt){Ut==4&&(this.m=4,Ue(14),h=!1),Wn(this.i,this.l,null,"[Incomplete Response]");break}else if(Re==_t){this.m=4,Ue(15),Wn(this.i,this.l,b,"[Invalid Chunk]"),h=!1;break}else Wn(this.i,this.l,Re,null),xn(this,Re);if(re(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ut!=4||b.length!=0||this.h.h||(this.m=1,Ue(16),h=!1),this.o=this.o&&h,!h)Wn(this.i,this.l,b,"[Invalid Chunked Response]"),he(this),zn(this);else if(b.length>0&&!this.W){this.W=!0;var pt=this.j;pt.g==this&&pt.aa&&!pt.P&&(pt.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Rl(pt),pt.P=!0,Ue(11))}}else Wn(this.i,this.l,b,null),xn(this,b);Ut==4&&he(this),this.o&&!this.K&&(Ut==4?dc(this.j,this):(this.o=!1,Pn(this)))}else Is(this.g),y==400&&b.indexOf("Unknown SID")>0?(this.m=3,Ue(12)):(this.m=0,Ue(13)),he(this),zn(this)}}}catch{}finally{}};function ee(h){if(!re(h))return h.g.la();const y=pn(h.g);if(y==="")return"";let b="";const x=y.length,H=ji(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return he(h),zn(h),"";h.h.i=new c.TextDecoder}for(let X=0;X<x;X++)h.h.h=!0,b+=h.h.i.decode(y[X],{stream:!(H&&X==x-1)});return y.length=0,h.h.g+=b,h.C=0,h.h.g}function re(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function wn(h,y){var b=h.C,x=y.indexOf(`
`,b);return x==-1?Pt:(b=Number(y.substring(b,x)),isNaN(b)?_t:(x+=1,x+b>y.length?Pt:(y=y.slice(x,x+b),h.C=x+b,y)))}at.prototype.cancel=function(){this.K=!0,he(this)};function Pn(h){h.T=Date.now()+h.H,ar(h,h.H)}function ar(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=ui(g(h.aa,h),y)}function ci(h){h.D&&(c.clearTimeout(h.D),h.D=null)}at.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(mn(this.i,this.B),this.M!=2&&(qe(),Ue(17)),he(this),this.m=2,zn(this)):ar(this,this.T-h)};function zn(h){h.j.I==0||h.K||dc(h.j,h)}function he(h){ci(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,Ss(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function xn(h,y){try{var b=h.j;if(b.I!=0&&(b.g==h||Oi(b.h,h))){if(!h.L&&Oi(b.h,h)&&b.I==3){try{var x=b.Ba.g.parse(y)}catch{x=null}if(Array.isArray(x)&&x.length==3){var H=x;if(H[0]==0){t:if(!b.v){if(b.g)if(b.g.F+3e3<h.F)so(b),pr(b);else break t;da(b),Ue(18)}}else b.xa=H[1],0<b.xa-b.K&&H[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=ui(g(b.Va,b),6e3));$n(b.h)<=1&&b.ta&&(b.ta=void 0)}else rs(b,11)}else if((h.L||b.g==h)&&so(b),!M(y))for(H=b.Ba.g.parse(y),y=0;y<H.length;y++){let ae=H[y];const Re=ae[0];if(!(Re<=b.K))if(b.K=Re,ae=ae[1],b.I==2)if(ae[0]=="c"){b.M=ae[1],b.ba=ae[2];const di=ae[3];di!=null&&(b.ka=di,b.j.info("VER="+b.ka));const as=ae[4];as!=null&&(b.za=as,b.j.info("SVER="+b.za));const Li=ae[5];Li!=null&&typeof Li=="number"&&Li>0&&(x=1.5*Li,b.O=x,b.j.info("backChannelRequestTimeoutMs_="+x)),x=b;const Ui=h.g;if(Ui){const ma=Ui.g?Ui.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ma){var X=x.h;X.g||ma.indexOf("spdy")==-1&&ma.indexOf("quic")==-1&&ma.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(ra(X,X.h),X.h=null))}if(x.G){const ro=Ui.g?Ui.g.getResponseHeader("X-HTTP-Session-Id"):null;ro&&(x.wa=ro,fe(x.J,x.G,ro))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-h.F,b.j.info("Handshake RTT: "+b.T+"ms")),x=b;var pt=h;if(x.na=gc(x,x.L?x.ba:null,x.W),pt.L){Oe(x.h,pt);var Ut=pt,Ge=x.O;Ge&&(Ut.H=Ge),Ut.D&&(ci(Ut),Pn(Ut)),x.g=pt}else hc(x);b.i.length>0&&ss(b)}else ae[0]!="stop"&&ae[0]!="close"||rs(b,7);else b.I==3&&(ae[0]=="stop"||ae[0]=="close"?ae[0]=="stop"?rs(b,7):wl(b):ae[0]!="noop"&&b.l&&b.l.qa(ae),b.A=0)}}qe(4)}catch{}}var be=class{constructor(h,y){this.g=h,this.map=y}};function Vi(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function or(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function $n(h){return h.h?1:h.g?h.g.size:0}function Oi(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function ra(h,y){h.g?h.g.add(y):h.h=y}function Oe(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Vi.prototype.cancel=function(){if(this.i=Ni(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Ni(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const b of h.g.values())y=y.concat(b.G);return y}return I(h.i)}var Rs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $a(h,y){if(h){h=h.split("&");for(let b=0;b<h.length;b++){const x=h[b].indexOf("=");let H,X=null;x>=0?(H=h[b].substring(0,x),X=h[b].substring(x+1)):H=h[b],y(H,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Jn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof Jn?(this.l=h.l,cn(this,h.j),this.o=h.o,this.g=h.g,lr(this,h.u),this.h=h.h,vl(this,uc(h.i)),this.m=h.m):h&&(y=String(h).match(Rs))?(this.l=!1,cn(this,y[1]||"",!0),this.o=ts(y[2]||""),this.g=ts(y[3]||"",!0),lr(this,y[4]),this.h=ts(y[5]||"",!0),vl(this,y[6]||"",!0),this.m=ts(y[7]||"")):(this.l=!1,this.i=new cr(null,this.l))}Jn.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(oa(y,Ja,!0),":");var b=this.g;return(b||y=="file")&&(h.push("//"),(y=this.o)&&h.push(oa(y,Ja,!0),"@"),h.push(tt(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&h.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&h.push("/"),h.push(oa(b,b.charAt(0)=="/"?_l:ac,!0))),(b=this.i.toString())&&h.push("?",b),(b=this.m)&&h.push("#",oa(b,oc)),h.join("")},Jn.prototype.resolve=function(h){const y=$e(this);let b=!!h.j;b?cn(y,h.j):b=!!h.o,b?y.o=h.o:b=!!h.g,b?y.g=h.g:b=h.u!=null;var x=h.h;if(b)lr(y,h.u);else if(b=!!h.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var H=y.h.lastIndexOf("/");H!=-1&&(x=y.h.slice(0,H+1)+x)}if(H=x,H==".."||H==".")x="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){x=H.lastIndexOf("/",0)==0,H=H.split("/");const X=[];for(let pt=0;pt<H.length;){const Ut=H[pt++];Ut=="."?x&&pt==H.length&&X.push(""):Ut==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),x&&pt==H.length&&X.push("")):(X.push(Ut),x=!0)}x=X.join("/")}else x=H}return b?y.h=x:b=h.i.toString()!=="",b?vl(y,uc(h.i)):b=!!h.m,b&&(y.m=h.m),y};function $e(h){return new Jn(h)}function cn(h,y,b){h.j=b?ts(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function lr(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function vl(h,y,b){y instanceof cr?(h.i=y,to(h.i,h.l)):(b||(y=oa(y,ur)),h.i=new cr(y,h.l))}function fe(h,y,b){h.i.set(y,b)}function aa(h){return fe(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function ts(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function oa(h,y,b){return typeof h=="string"?(h=encodeURI(h).replace(y,Bn),b&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Bn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ja=/[#\/\?@]/g,ac=/[#\?:]/g,_l=/[#\?]/g,ur=/[#\?@]/g,oc=/#/g;function cr(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function Fn(h){h.g||(h.g=new Map,h.h=0,h.i&&$a(h.i,function(y,b){h.add(decodeURIComponent(y.replace(/\+/g," ")),b)}))}i=cr.prototype,i.add=function(h,y){Fn(this),this.i=null,h=hr(this,h);let b=this.g.get(h);return b||this.g.set(h,b=[]),b.push(y),this.h+=1,this};function lc(h,y){Fn(h),y=hr(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Tl(h,y){return Fn(h),y=hr(h,y),h.g.has(y)}i.forEach=function(h,y){Fn(this),this.g.forEach(function(b,x){b.forEach(function(H){h.call(y,H,x,this)},this)},this)};function bl(h,y){Fn(h);let b=[];if(typeof y=="string")Tl(h,y)&&(b=b.concat(h.g.get(hr(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)b=b.concat(h[y]);return b}i.set=function(h,y){return Fn(this),this.i=null,h=hr(this,h),Tl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},i.get=function(h,y){return h?(h=bl(this,h),h.length>0?String(h[0]):y):y};function Za(h,y,b){lc(h,y),b.length>0&&(h.i=null,h.g.set(hr(h,y),I(b)),h.h+=b.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let x=0;x<y.length;x++){var b=y[x];const H=tt(b);b=bl(this,b);for(let X=0;X<b.length;X++){let pt=H;b[X]!==""&&(pt+="="+tt(b[X])),h.push(pt)}}return this.i=h.join("&")};function uc(h){const y=new cr;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function hr(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function to(h,y){y&&!h.j&&(Fn(h),h.i=null,h.g.forEach(function(b,x){const H=x.toLowerCase();x!=H&&(lc(this,x),Za(this,H,b))},h)),h.j=y}function Pi(h,y){const b=new an;if(c.Image){const x=new Image;x.onload=v(hi,b,"TestLoadImage: loaded",!0,y,x),x.onerror=v(hi,b,"TestLoadImage: error",!1,y,x),x.onabort=v(hi,b,"TestLoadImage: abort",!1,y,x),x.ontimeout=v(hi,b,"TestLoadImage: timeout",!1,y,x),c.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=h}else y(!1)}function Sl(h,y){const b=new an,x=new AbortController,H=setTimeout(()=>{x.abort(),hi(b,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:x.signal}).then(X=>{clearTimeout(H),X.ok?hi(b,"TestPingServer: ok",!0,y):hi(b,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),hi(b,"TestPingServer: error",!1,y)})}function hi(h,y,b,x,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),x(b)}catch{}}function fr(){this.g=new As}function es(h){this.i=h.Sb||null,this.h=h.ab||!1}T(es,sr),es.prototype.g=function(){return new la(this.i,this.h)};function la(h,y){xe.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(la,xe),i=la.prototype,i.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,ki(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,dr(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ki(this)),this.g&&(this.readyState=3,ki(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;eo(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function eo(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?dr(this):ki(this),this.readyState==3&&eo(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,dr(this))},i.Na=function(h){this.g&&(this.response=h,dr(this))},i.ga=function(){this.g&&dr(this)};function dr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ki(h)}i.setRequestHeader=function(h,y){this.A.append(h,y)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var b=y.next();!b.done;)b=b.value,h.push(b[0]+": "+b[1]),b=y.next();return h.join(`\r
`)};function ki(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(la.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function fi(h){let y="";return Mt(h,function(b,x){y+=x,y+=":",y+=b,y+=`\r
`}),y}function ua(h,y,b){t:{for(x in b){var x=!1;break t}x=!0}x||(b=fi(b),typeof h=="string"?b!=null&&tt(b):fe(h,y,b))}function ge(h){xe.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(ge,xe);var ns=/^https?$/i,El=["POST","PUT"];i=ge.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,y,b,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():et.g(),this.g.onreadystatechange=E(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(X){ca(this,X);return}if(h=b||"",b=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var H in x)b.set(H,x[H]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const X of x.keys())b.set(X,x.get(X));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(b.keys()).find(X=>X.toLowerCase()=="content-type"),H=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(El,y,void 0)>=0)||x||H||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,pt]of b)this.g.setRequestHeader(X,pt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(X){ca(this,X)}};function ca(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,Al(h),Cs(h)}function Al(h){h.A||(h.A=!0,Me(h,"complete"),Me(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Me(this,"complete"),Me(this,"abort"),Cs(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Cs(this,!0)),ge.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?ha(this):this.Xa())},i.Xa=function(){ha(this)};function ha(h){if(h.h&&typeof u<"u"){if(h.v&&ji(h)==4)setTimeout(h.Ca.bind(h),0);else if(Me(h,"readystatechange"),ji(h)==4){h.h=!1;try{const X=h.ca();t:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var b;if(!(b=y)){var x;if(x=X===0){let pt=String(h.D).match(Rs)[1]||null;!pt&&c.self&&c.self.location&&(pt=c.self.location.protocol.slice(0,-1)),x=!ns.test(pt?pt.toLowerCase():"")}b=x}if(b)Me(h,"complete"),Me(h,"success");else{h.o=6;try{var H=ji(h)>2?h.g.statusText:""}catch{H=""}h.l=H+" ["+h.ca()+"]",Al(h)}}finally{Cs(h)}}}}function Cs(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const b=h.g;h.g=null,y||Me(h,"ready");try{b.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function ji(h){return h.g?h.g.readyState:0}i.ca=function(){try{return ji(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Es(y)}};function pn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Is(h){const y={};h=(h.g&&ji(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<h.length;x++){if(M(h[x]))continue;var b=F(h[x]);const H=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const X=y[H]||[];y[H]=X,X.push(b)}Rt(y,function(x){return x.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function is(h,y,b){return b&&b.internalChannelParams&&b.internalChannelParams[h]||y}function mr(h){this.za=0,this.i=[],this.j=new an,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=is("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=is("baseRetryDelayMs",5e3,h),this.Za=is("retryDelaySeedMs",1e4,h),this.Ta=is("forwardChannelMaxRetries",2,h),this.va=is("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Vi(h&&h.concurrentRequestLimit),this.Ba=new fr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=mr.prototype,i.ka=8,i.I=1,i.connect=function(h,y,b,x){Ue(0),this.W=h,this.H=y||{},b&&x!==void 0&&(this.H.OSID=b,this.H.OAID=x),this.F=this.X,this.J=gc(this,null,this.W),ss(this)};function wl(h){if(no(h),h.I==3){var y=h.V++,b=$e(h.J);if(fe(b,"SID",h.M),fe(b,"RID",y),fe(b,"TYPE","terminate"),fa(h,b),y=new at(h,h.j,y),y.M=2,y.A=aa($e(b)),b=!1,c.navigator&&c.navigator.sendBeacon)try{b=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!b&&c.Image&&(new Image().src=y.A,b=!0),b||(y.g=yc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Pn(y)}pc(h)}function pr(h){h.g&&(Rl(h),h.g.cancel(),h.g=null)}function no(h){pr(h),h.v&&(c.clearTimeout(h.v),h.v=null),so(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function ss(h){if(!or(h.h)&&!h.m){h.m=!0;var y=h.Ea;dt||w(),mt||(dt(),mt=!0),R.add(y,h),h.D=0}}function io(h,y){return $n(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=ui(g(h.Ea,h,y),mc(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const H=new at(this,this.j,h);let X=this.o;if(this.U&&(X?(X=j(X),gt(X,this.U)):X=this.U),this.u!==null||this.R||(H.J=X,X=null),this.S)t:{for(var y=0,b=0;b<this.i.length;b++){e:{var x=this.i[b];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break e}x=void 0}if(x===void 0)break;if(y+=x,y>4096){y=b;break t}if(y===4096||b===this.i.length-1){y=b+1;break t}}y=1e3}else y=1e3;y=cc(this,H,y),b=$e(this.J),fe(b,"RID",h),fe(b,"CVER",22),this.G&&fe(b,"X-HTTP-Session-Id",this.G),fa(this,b),X&&(this.R?y="headers="+tt(fi(X))+"&"+y:this.u&&ua(b,this.u,X)),ra(this.h,H),this.Ra&&fe(b,"TYPE","init"),this.S?(fe(b,"$req",y),fe(b,"SID","null"),H.U=!0,Ve(H,b,null)):Ve(H,b,y),this.I=2}}else this.I==3&&(h?xl(this,h):this.i.length==0||or(this.h)||xl(this))};function xl(h,y){var b;y?b=y.l:b=h.V++;const x=$e(h.J);fe(x,"SID",h.M),fe(x,"RID",b),fe(x,"AID",h.K),fa(h,x),h.u&&h.o&&ua(x,h.u,h.o),b=new at(h,h.j,b,h.D+1),h.u===null&&(b.J=h.o),y&&(h.i=y.G.concat(h.i)),y=cc(h,b,1e3),b.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),ra(h.h,b),Ve(b,x,y)}function fa(h,y){h.H&&Mt(h.H,function(b,x){fe(y,x,b)}),h.l&&Mt({},function(b,x){fe(y,x,b)})}function cc(h,y,b){b=Math.min(h.i.length,b);const x=h.l?g(h.l.Ka,h.l,h):null;t:{var H=h.i;let Ut=-1;for(;;){const Ge=["count="+b];Ut==-1?b>0?(Ut=H[0].g,Ge.push("ofs="+Ut)):Ut=0:Ge.push("ofs="+Ut);let ae=!0;for(let Re=0;Re<b;Re++){var X=H[Re].g;const di=H[Re].map;if(X-=Ut,X<0)Ut=Math.max(0,H[Re].g-100),ae=!1;else try{X="req"+X+"_"||"";try{var pt=di instanceof Map?di:Object.entries(di);for(const[as,Li]of pt){let Ui=Li;m(Li)&&(Ui=oi(Li)),Ge.push(X+as+"="+encodeURIComponent(Ui))}}catch(as){throw Ge.push(X+"type="+encodeURIComponent("_badmap")),as}}catch{x&&x(di)}}if(ae){pt=Ge.join("&");break t}}pt=void 0}return h=h.i.splice(0,b),y.G=h,pt}function hc(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;dt||w(),mt||(dt(),mt=!0),R.add(y,h),h.A=0}}function da(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=ui(g(h.Da,h),mc(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,fc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=ui(g(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ue(10),pr(this),fc(this))};function Rl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function fc(h){h.g=new at(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=$e(h.na);fe(y,"RID","rpc"),fe(y,"SID",h.M),fe(y,"AID",h.K),fe(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&fe(y,"TO",h.ia),fe(y,"TYPE","xmlhttp"),fa(h,y),h.u&&h.o&&ua(y,h.u,h.o),h.O&&(h.g.H=h.O);var b=h.g;h=h.ba,b.M=1,b.A=aa($e(y)),b.u=null,b.R=!0,We(b,h)}i.Va=function(){this.C!=null&&(this.C=null,pr(this),da(this),Ue(19))};function so(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function dc(h,y){var b=null;if(h.g==y){so(h),Rl(h),h.g=null;var x=2}else if(Oi(h.h,y))b=y.G,Oe(h.h,y),x=1;else return;if(h.I!=0){if(y.o)if(x==1){b=y.u?y.u.length:0,y=Date.now()-y.F;var H=h.D;x=te(),Me(x,new li(x,b)),ss(h)}else hc(h);else if(H=y.m,H==3||H==0&&y.X>0||!(x==1&&io(h,y)||x==2&&da(h)))switch(b&&b.length>0&&(y=h.h,y.i=y.i.concat(b)),H){case 1:rs(h,5);break;case 4:rs(h,10);break;case 3:rs(h,6);break;default:rs(h,2)}}}function mc(h,y){let b=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(b*=2),b*y}function rs(h,y){if(h.j.info("Error code "+y),y==2){var b=g(h.bb,h),x=h.Ua;const H=!x;x=new Jn(x||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||cn(x,"https"),aa(x),H?Pi(x.toString(),b):Sl(x.toString(),b)}else Ue(2);h.I=0,h.l&&h.l.pa(y),pc(h),no(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ue(2)):(this.j.info("Failed to ping google.com"),Ue(1))};function pc(h){if(h.I=0,h.ja=[],h.l){const y=Ni(h.h);(y.length!=0||h.i.length!=0)&&(U(h.ja,y),U(h.ja,h.i),h.h.i.length=0,I(h.i),h.i.length=0),h.l.oa()}}function gc(h,y,b){var x=b instanceof Jn?$e(b):new Jn(b);if(x.g!="")y&&(x.g=y+"."+x.g),lr(x,x.u);else{var H=c.location;x=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;const X=new Jn(null);x&&cn(X,x),y&&(X.g=y),H&&lr(X,H),b&&(X.h=b),x=X}return b=h.G,y=h.wa,b&&y&&fe(x,b,y),fe(x,"VER",h.ka),fa(h,x),x}function yc(h,y,b){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new ge(new es({ab:b})):new ge(h.ma),y.Fa(h.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function vc(){}i=vc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function gr(){}gr.prototype.g=function(h,y){return new kn(h,y)};function kn(h,y){xe.call(this),this.g=new mr(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!M(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!M(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Ds(this)}T(kn,xe),kn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},kn.prototype.close=function(){wl(this.g)},kn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var b={};b.__data__=h,h=b}else this.v&&(b={},b.__data__=oi(h),h=b);y.i.push(new be(y.Ya++,h)),y.I==3&&ss(y)},kn.prototype.N=function(){this.g.l=null,delete this.j,wl(this.g),delete this.g,kn.Z.N.call(this)};function _c(h){yt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){t:{for(const b in y){h=b;break t}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}T(_c,yt);function Tc(){qt.call(this),this.status=1}T(Tc,qt);function Ds(h){this.g=h}T(Ds,vc),Ds.prototype.ra=function(){Me(this.g,"a")},Ds.prototype.qa=function(h){Me(this.g,new _c(h))},Ds.prototype.pa=function(h){Me(this.g,new Tc)},Ds.prototype.oa=function(){Me(this.g,"b")},gr.prototype.createWebChannel=gr.prototype.g,kn.prototype.send=kn.prototype.o,kn.prototype.open=kn.prototype.m,kn.prototype.close=kn.prototype.close,FS=function(){return new gr},BS=function(){return te()},zS=ue,Ep={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},xs.NO_ERROR=0,xs.TIMEOUT=8,xs.HTTP_ERROR=6,Uh=xs,O.COMPLETE="complete",US=O,rr.EventType=Nn,Nn.OPEN="a",Nn.CLOSE="b",Nn.ERROR="c",Nn.MESSAGE="d",xe.prototype.listen=xe.prototype.J,du=rr,ge.prototype.listenOnce=ge.prototype.K,ge.prototype.getLastError=ge.prototype.Ha,ge.prototype.getLastErrorCode=ge.prototype.ya,ge.prototype.getStatus=ge.prototype.ca,ge.prototype.getResponseJson=ge.prototype.La,ge.prototype.getResponseText=ge.prototype.la,ge.prototype.send=ge.prototype.ea,ge.prototype.setWithCredentials=ge.prototype.Fa,LS=ge}).apply(typeof wh<"u"?wh:typeof self<"u"?self:typeof window<"u"?window:{});const LT="@firebase/firestore",UT="4.9.2";class In{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}In.UNAUTHENTICATED=new In(null),In.GOOGLE_CREDENTIALS=new In("google-credentials-uid"),In.FIRST_PARTY=new In("first-party-uid"),In.MOCK_USER=new In("mock-user");let ul="12.3.0";const qa=new og("@firebase/firestore");function ko(){return qa.logLevel}function Tt(i,...t){if(qa.logLevel<=Wt.DEBUG){const e=t.map(Tg);qa.debug(`Firestore (${ul}): ${i}`,...e)}}function Js(i,...t){if(qa.logLevel<=Wt.ERROR){const e=t.map(Tg);qa.error(`Firestore (${ul}): ${i}`,...e)}}function Jo(i,...t){if(qa.logLevel<=Wt.WARN){const e=t.map(Tg);qa.warn(`Firestore (${ul}): ${i}`,...e)}}function Tg(i){if(typeof i=="string")return i;try{return(function(e){return JSON.stringify(e)})(i)}catch{return i}}function Dt(i,t,e){let r="Unexpected state";typeof t=="string"?r=t:e=t,HS(i,r,e)}function HS(i,t,e){let r=`FIRESTORE (${ul}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(e!==void 0)try{r+=" CONTEXT: "+JSON.stringify(e)}catch{r+=" CONTEXT: "+e}throw Js(r),new Error(r)}function ce(i,t,e,r){let o="Unexpected state";typeof e=="string"?o=e:r=e,i||HS(t,o,r)}function Lt(i,t){return i}const ct={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class At extends nr{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Xr{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class qS{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class _D{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(In.UNAUTHENTICATED)))}shutdown(){}}class TD{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class bD{constructor(t){this.t=t,this.currentUser=In.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){ce(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,e(p)):Promise.resolve();let u=new Xr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Xr,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{Tt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(Tt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Xr)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((r=>this.i!==t?(Tt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ce(typeof r.accessToken=="string",31837,{l:r}),new qS(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ce(t===null||typeof t=="string",2055,{h:t}),new In(t)}}class SD{constructor(t,e,r){this.P=t,this.T=e,this.I=r,this.type="FirstParty",this.user=In.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ED{constructor(t,e,r){this.P=t,this.T=e,this.I=r}getToken(){return Promise.resolve(new SD(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(In.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class zT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AD{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){ce(this.o===void 0,3512);const r=u=>{u.error!=null&&Tt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,Tt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{Tt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):Tt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new zT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(ce(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new zT(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function wD(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let r=0;r<i;r++)e[r]=Math.floor(256*Math.random());return e}class bg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=wD(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<e&&(r+=t.charAt(o[u]%62))}return r}}function $t(i,t){return i<t?-1:i>t?1:0}function Ap(i,t){const e=Math.min(i.length,t.length);for(let r=0;r<e;r++){const o=i.charAt(r),u=t.charAt(r);if(o!==u)return Xm(o)===Xm(u)?$t(o,u):Xm(o)?1:-1}return $t(i.length,t.length)}const xD=55296,RD=57343;function Xm(i){const t=i.charCodeAt(0);return t>=xD&&t<=RD}function Zo(i,t,e){return i.length===t.length&&i.every(((r,o)=>e(r,t[o])))}const BT="__name__";class hs{constructor(t,e,r){e===void 0?e=0:e>t.length&&Dt(637,{offset:e,range:t.length}),r===void 0?r=t.length-e:r>t.length-e&&Dt(1746,{length:r,range:t.length-e}),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return hs.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof hs?t.forEach((r=>{e.push(r)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let o=0;o<r;o++){const u=hs.compareSegments(t.get(o),e.get(o));if(u!==0)return u}return $t(t.length,e.length)}static compareSegments(t,e){const r=hs.isNumericId(t),o=hs.isNumericId(e);return r&&!o?-1:!r&&o?1:r&&o?hs.extractNumericId(t).compare(hs.extractNumericId(e)):Ap(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Qr.fromString(t.substring(4,t.length-2))}}class Ne extends hs{construct(t,e,r){return new Ne(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new At(ct.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter((o=>o.length>0)))}return new Ne(e)}static emptyPath(){return new Ne([])}}const CD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Sn extends hs{construct(t,e,r){return new Sn(t,e,r)}static isValidIdentifier(t){return CD.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Sn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===BT}static keyField(){return new Sn([BT])}static fromServerFormat(t){const e=[];let r="",o=0;const u=()=>{if(r.length===0)throw new At(ct.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let c=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new At(ct.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new At(ct.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(r+=m,o++):(u(),o++)}if(u(),c)throw new At(ct.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Sn(e)}static emptyPath(){return new Sn([])}}class xt{constructor(t){this.path=t}static fromPath(t){return new xt(Ne.fromString(t))}static fromName(t){return new xt(Ne.fromString(t).popFirst(5))}static empty(){return new xt(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Ne.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new xt(new Ne(t.slice()))}}function ID(i,t,e){if(!e)throw new At(ct.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function DD(i,t,e,r){if(t===!0&&r===!0)throw new At(ct.INVALID_ARGUMENT,`${i} and ${e} cannot be used together.`)}function FT(i){if(!xt.isDocumentKey(i))throw new At(ct.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function GS(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Sg(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":Dt(12329,{type:typeof i})}function Vu(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new At(ct.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Sg(i);throw new At(ct.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return i}function rn(i,t){const e={typeString:i};return t&&(e.value=t),e}function $u(i,t){if(!GS(i))throw new At(ct.INVALID_ARGUMENT,"JSON must be an object");let e;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in i)){e=`JSON missing required field: '${r}'`;break}const c=i[r];if(o&&typeof c!==o){e=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){e=`Expected '${r}' field to equal '${u.value}'`;break}}if(e)throw new At(ct.INVALID_ARGUMENT,e);return!0}const HT=-62135596800,qT=1e6;class we{static now(){return we.fromMillis(Date.now())}static fromDate(t){return we.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor((t-1e3*e)*qT);return new we(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new At(ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new At(ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<HT)throw new At(ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new At(ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qT}_compareTo(t){return this.seconds===t.seconds?$t(this.nanoseconds,t.nanoseconds):$t(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:we._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if($u(t,we._jsonSchema))return new we(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-HT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}we._jsonSchemaVersion="firestore/timestamp/1.0",we._jsonSchema={type:rn("string",we._jsonSchemaVersion),seconds:rn("number"),nanoseconds:rn("number")};class kt{static fromTimestamp(t){return new kt(t)}static min(){return new kt(new we(0,0))}static max(){return new kt(new we(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ou=-1;function MD(i,t){const e=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,o=kt.fromTimestamp(r===1e9?new we(e+1,0):new we(e,r));return new Wr(o,xt.empty(),t)}function VD(i){return new Wr(i.readTime,i.key,Ou)}class Wr{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new Wr(kt.min(),xt.empty(),Ou)}static max(){return new Wr(kt.max(),xt.empty(),Ou)}}function OD(i,t){let e=i.readTime.compareTo(t.readTime);return e!==0?e:(e=xt.comparator(i.documentKey,t.documentKey),e!==0?e:$t(i.largestBatchId,t.largestBatchId))}const ND="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function cl(i){if(i.code!==ct.FAILED_PRECONDITION||i.message!==ND)throw i;Tt("LocalStore","Unexpectedly lost primary lease")}class lt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new lt(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(e,u).next(r,o)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof lt?e:lt.resolve(e)}catch(e){return lt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):lt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):lt.reject(e)}static resolve(t){return new lt(((e,r)=>{e(t)}))}static reject(t){return new lt(((e,r)=>{r(t)}))}static waitFor(t){return new lt(((e,r)=>{let o=0,u=0,c=!1;t.forEach((m=>{++o,m.next((()=>{++u,c&&u===o&&e()}),(p=>r(p)))})),c=!0,u===o&&e()}))}static or(t){let e=lt.resolve(!1);for(const r of t)e=e.next((o=>o?lt.resolve(o):r()));return e}static forEach(t,e){const r=[];return t.forEach(((o,u)=>{r.push(e.call(this,o,u))})),this.waitFor(r)}static mapArray(t,e){return new lt(((r,o)=>{const u=t.length,c=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;e(t[g]).next((v=>{c[g]=v,++m,m===u&&r(c)}),(v=>o(v)))}}))}static doWhile(t,e){return new lt(((r,o)=>{const u=()=>{t()===!0?e().next((()=>{u()}),o):r()};u()}))}}function kD(i){const t=i.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function hl(i){return i.name==="IndexedDbTransactionError"}class Rf{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>e.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Rf.ce=-1;const Eg=-1;function Cf(i){return i==null}function rf(i){return i===0&&1/i==-1/0}function jD(i){return typeof i=="number"&&Number.isInteger(i)&&!rf(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const KS="";function LD(i){let t="";for(let e=0;e<i.length;e++)t.length>0&&(t=GT(t)),t=UD(i.get(e),t);return GT(t)}function UD(i,t){let e=t;const r=i.length;for(let o=0;o<r;o++){const u=i.charAt(o);switch(u){case"\0":e+="";break;case KS:e+="";break;default:e+=u}}return e}function GT(i){return i+KS+""}function KT(i){let t=0;for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t++;return t}function Ka(i,t){for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t(e,i[e])}function YS(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}class ke{constructor(t,e){this.comparator=t,this.root=e||bn.EMPTY}insert(t,e){return new ke(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,bn.BLACK,null,null))}remove(t){return new ke(this.comparator,this.root.remove(t,this.comparator).copy(null,null,bn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return e+r.left.size;o<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,r)=>(t(e,r),!1)))}toString(){const t=[];return this.inorderTraversal(((e,r)=>(t.push(`${e}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new xh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new xh(this.root,t,this.comparator,!1)}getReverseIterator(){return new xh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new xh(this.root,t,this.comparator,!0)}}class xh{constructor(t,e,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=e?r(t.key,e):1,e&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class bn{constructor(t,e,r,o,u){this.key=t,this.value=e,this.color=r??bn.RED,this.left=o??bn.EMPTY,this.right=u??bn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,o,u){return new bn(t??this.key,e??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,e,r),null):u===0?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return bn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),e(t,o.key)===0){if(o.right.isEmpty())return bn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,bn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,bn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Dt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Dt(27949);return t+(this.isRed()?0:1)}}bn.EMPTY=null,bn.RED=!0,bn.BLACK=!1;bn.EMPTY=new class{constructor(){this.size=0}get key(){throw Dt(57766)}get value(){throw Dt(16141)}get color(){throw Dt(16727)}get left(){throw Dt(29726)}get right(){throw Dt(36894)}copy(t,e,r,o,u){return this}insert(t,e,r){return new bn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class un{constructor(t){this.comparator=t,this.data=new ke(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,r)=>(t(e),!1)))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new YT(this.data.getIterator())}getIteratorFrom(t){return new YT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((r=>{e=e.add(r)})),e}isEqual(t){if(!(t instanceof un)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new un(this.comparator);return e.data=t,e}}class YT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Yi{constructor(t){this.fields=t,t.sort(Sn.comparator)}static empty(){return new Yi([])}unionWith(t){let e=new un(Sn.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new Yi(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Zo(this.fields,t.fields,((e,r)=>e.isEqual(r)))}}class QS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class En{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new QS("Invalid base64 string: "+u):u}})(t);return new En(e)}static fromUint8Array(t){const e=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new En(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return $t(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}En.EMPTY_BYTE_STRING=new En("");const zD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $r(i){if(ce(!!i,39018),typeof i=="string"){let t=0;const e=zD.exec(i);if(ce(!!e,46558,{timestamp:i}),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Xe(i.seconds),nanos:Xe(i.nanos)}}function Xe(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Jr(i){return typeof i=="string"?En.fromBase64String(i):En.fromUint8Array(i)}const XS="server_timestamp",WS="__type__",$S="__previous_value__",JS="__local_write_time__";function Ag(i){return(i?.mapValue?.fields||{})[WS]?.stringValue===XS}function If(i){const t=i.mapValue.fields[$S];return Ag(t)?If(t):t}function Nu(i){const t=$r(i.mapValue.fields[JS].timestampValue);return new we(t.seconds,t.nanos)}class BD{constructor(t,e,r,o,u,c,m,p,g,v){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const af="(default)";class Pu{constructor(t,e){this.projectId=t,this.database=e||af}static empty(){return new Pu("","")}get isDefaultDatabase(){return this.database===af}isEqual(t){return t instanceof Pu&&t.projectId===this.projectId&&t.database===this.database}}const ZS="__type__",FD="__max__",Rh={mapValue:{}},tE="__vector__",of="value";function Zr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ag(i)?4:qD(i)?9007199254740991:HD(i)?10:11:Dt(28295,{value:i})}function Ts(i,t){if(i===t)return!0;const e=Zr(i);if(e!==Zr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return Nu(i).isEqual(Nu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=$r(o.timestampValue),m=$r(u.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(i,t);case 5:return i.stringValue===t.stringValue;case 6:return(function(o,u){return Jr(o.bytesValue).isEqual(Jr(u.bytesValue))})(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return(function(o,u){return Xe(o.geoPointValue.latitude)===Xe(u.geoPointValue.latitude)&&Xe(o.geoPointValue.longitude)===Xe(u.geoPointValue.longitude)})(i,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Xe(o.integerValue)===Xe(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=Xe(o.doubleValue),m=Xe(u.doubleValue);return c===m?rf(c)===rf(m):isNaN(c)&&isNaN(m)}return!1})(i,t);case 9:return Zo(i.arrayValue.values||[],t.arrayValue.values||[],Ts);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},m=u.mapValue.fields||{};if(KT(c)!==KT(m))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(m[p]===void 0||!Ts(c[p],m[p])))return!1;return!0})(i,t);default:return Dt(52216,{left:i})}}function ku(i,t){return(i.values||[]).find((e=>Ts(e,t)))!==void 0}function tl(i,t){if(i===t)return 0;const e=Zr(i),r=Zr(t);if(e!==r)return $t(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return $t(i.booleanValue,t.booleanValue);case 2:return(function(u,c){const m=Xe(u.integerValue||u.doubleValue),p=Xe(c.integerValue||c.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,t);case 3:return QT(i.timestampValue,t.timestampValue);case 4:return QT(Nu(i),Nu(t));case 5:return Ap(i.stringValue,t.stringValue);case 6:return(function(u,c){const m=Jr(u),p=Jr(c);return m.compareTo(p)})(i.bytesValue,t.bytesValue);case 7:return(function(u,c){const m=u.split("/"),p=c.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=$t(m[g],p[g]);if(v!==0)return v}return $t(m.length,p.length)})(i.referenceValue,t.referenceValue);case 8:return(function(u,c){const m=$t(Xe(u.latitude),Xe(c.latitude));return m!==0?m:$t(Xe(u.longitude),Xe(c.longitude))})(i.geoPointValue,t.geoPointValue);case 9:return XT(i.arrayValue,t.arrayValue);case 10:return(function(u,c){const m=u.fields||{},p=c.fields||{},g=m[of]?.arrayValue,v=p[of]?.arrayValue,T=$t(g?.values?.length||0,v?.values?.length||0);return T!==0?T:XT(g,v)})(i.mapValue,t.mapValue);case 11:return(function(u,c){if(u===Rh.mapValue&&c===Rh.mapValue)return 0;if(u===Rh.mapValue)return 1;if(c===Rh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=c.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let T=0;T<p.length&&T<v.length;++T){const E=Ap(p[T],v[T]);if(E!==0)return E;const I=tl(m[p[T]],g[v[T]]);if(I!==0)return I}return $t(p.length,v.length)})(i.mapValue,t.mapValue);default:throw Dt(23264,{he:e})}}function QT(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return $t(i,t);const e=$r(i),r=$r(t),o=$t(e.seconds,r.seconds);return o!==0?o:$t(e.nanos,r.nanos)}function XT(i,t){const e=i.values||[],r=t.values||[];for(let o=0;o<e.length&&o<r.length;++o){const u=tl(e[o],r[o]);if(u)return u}return $t(e.length,r.length)}function el(i){return wp(i)}function wp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(e){const r=$r(e);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(e){return Jr(e).toBase64()})(i.bytesValue):"referenceValue"in i?(function(e){return xt.fromName(e).toString()})(i.referenceValue):"geoPointValue"in i?(function(e){return`geo(${e.latitude},${e.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(e){let r="[",o=!0;for(const u of e.values||[])o?o=!1:r+=",",r+=wp(u);return r+"]"})(i.arrayValue):"mapValue"in i?(function(e){const r=Object.keys(e.fields||{}).sort();let o="{",u=!0;for(const c of r)u?u=!1:o+=",",o+=`${c}:${wp(e.fields[c])}`;return o+"}"})(i.mapValue):Dt(61005,{value:i})}function zh(i){switch(Zr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=If(i);return t?16+zh(t):16;case 5:return 2*i.stringValue.length;case 6:return Jr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+zh(u)),0)})(i.arrayValue);case 10:case 11:return(function(r){let o=0;return Ka(r.fields,((u,c)=>{o+=u.length+zh(c)})),o})(i.mapValue);default:throw Dt(13486,{value:i})}}function xp(i){return!!i&&"integerValue"in i}function wg(i){return!!i&&"arrayValue"in i}function WT(i){return!!i&&"nullValue"in i}function $T(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Bh(i){return!!i&&"mapValue"in i}function HD(i){return(i?.mapValue?.fields||{})[ZS]?.stringValue===tE}function Tu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const t={mapValue:{fields:{}}};return Ka(i.mapValue.fields,((e,r)=>t.mapValue.fields[e]=Tu(r))),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(i.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Tu(i.arrayValue.values[e]);return t}return{...i}}function qD(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===FD}class Ai{constructor(t){this.value=t}static empty(){return new Ai({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!Bh(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Tu(e)}setAll(t){let e=Sn.emptyPath(),r={},o=[];t.forEach(((c,m)=>{if(!e.isImmediateParentOf(m)){const p=this.getFieldsMap(e);this.applyChanges(p,r,o),r={},o=[],e=m.popLast()}c?r[m.lastSegment()]=Tu(c):o.push(m.lastSegment())}));const u=this.getFieldsMap(e);this.applyChanges(u,r,o)}delete(t){const e=this.field(t.popLast());Bh(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ts(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=e.mapValue.fields[t.get(r)];Bh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,r){Ka(e,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new Ai(Tu(this.value))}}function eE(i){const t=[];return Ka(i.fields,((e,r)=>{const o=new Sn([e]);if(Bh(r)){const u=eE(r.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)})),new Yi(t)}class Dn{constructor(t,e,r,o,u,c,m){this.key=t,this.documentType=e,this.version=r,this.readTime=o,this.createTime=u,this.data=c,this.documentState=m}static newInvalidDocument(t){return new Dn(t,0,kt.min(),kt.min(),kt.min(),Ai.empty(),0)}static newFoundDocument(t,e,r,o){return new Dn(t,1,e,kt.min(),r,o,0)}static newNoDocument(t,e){return new Dn(t,2,e,kt.min(),kt.min(),Ai.empty(),0)}static newUnknownDocument(t,e){return new Dn(t,3,e,kt.min(),kt.min(),Ai.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(kt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ai.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ai.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=kt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Dn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class lf{constructor(t,e){this.position=t,this.inclusive=e}}function JT(i,t,e){let r=0;for(let o=0;o<i.position.length;o++){const u=t[o],c=i.position[o];if(u.field.isKeyField()?r=xt.comparator(xt.fromName(c.referenceValue),e.key):r=tl(c,e.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function ZT(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let e=0;e<i.position.length;e++)if(!Ts(i.position[e],t.position[e]))return!1;return!0}class uf{constructor(t,e="asc"){this.field=t,this.dir=e}}function GD(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}class nE{}class ln extends nE{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,r):new YD(t,e,r):e==="array-contains"?new WD(t,r):e==="in"?new $D(t,r):e==="not-in"?new JD(t,r):e==="array-contains-any"?new ZD(t,r):new ln(t,e,r)}static createKeyFieldInFilter(t,e,r){return e==="in"?new QD(t,r):new XD(t,r)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(tl(e,this.value)):e!==null&&Zr(this.value)===Zr(e)&&this.matchesComparison(tl(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bs extends nE{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new bs(t,e)}matches(t){return iE(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function iE(i){return i.op==="and"}function sE(i){return KD(i)&&iE(i)}function KD(i){for(const t of i.filters)if(t instanceof bs)return!1;return!0}function Rp(i){if(i instanceof ln)return i.field.canonicalString()+i.op.toString()+el(i.value);if(sE(i))return i.filters.map((t=>Rp(t))).join(",");{const t=i.filters.map((e=>Rp(e))).join(",");return`${i.op}(${t})`}}function rE(i,t){return i instanceof ln?(function(r,o){return o instanceof ln&&r.op===o.op&&r.field.isEqual(o.field)&&Ts(r.value,o.value)})(i,t):i instanceof bs?(function(r,o){return o instanceof bs&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,c,m)=>u&&rE(c,o.filters[m])),!0):!1})(i,t):void Dt(19439)}function aE(i){return i instanceof ln?(function(e){return`${e.field.canonicalString()} ${e.op} ${el(e.value)}`})(i):i instanceof bs?(function(e){return e.op.toString()+" {"+e.getFilters().map(aE).join(" ,")+"}"})(i):"Filter"}class YD extends ln{constructor(t,e,r){super(t,e,r),this.key=xt.fromName(r.referenceValue)}matches(t){const e=xt.comparator(t.key,this.key);return this.matchesComparison(e)}}class QD extends ln{constructor(t,e){super(t,"in",e),this.keys=oE("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class XD extends ln{constructor(t,e){super(t,"not-in",e),this.keys=oE("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function oE(i,t){return(t.arrayValue?.values||[]).map((e=>xt.fromName(e.referenceValue)))}class WD extends ln{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return wg(e)&&ku(e.arrayValue,this.value)}}class $D extends ln{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&ku(this.value.arrayValue,e)}}class JD extends ln{constructor(t,e){super(t,"not-in",e)}matches(t){if(ku(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!ku(this.value.arrayValue,e)}}class ZD extends ln{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!wg(e)||!e.arrayValue.values)&&e.arrayValue.values.some((r=>ku(this.value.arrayValue,r)))}}class tM{constructor(t,e=null,r=[],o=[],u=null,c=null,m=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=c,this.endAt=m,this.Te=null}}function tb(i,t=null,e=[],r=[],o=null,u=null,c=null){return new tM(i,t,e,r,o,u,c)}function xg(i){const t=Lt(i);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((r=>Rp(r))).join(","),e+="|ob:",e+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Cf(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((r=>el(r))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((r=>el(r))).join(",")),t.Te=e}return t.Te}function Rg(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<i.orderBy.length;e++)if(!GD(i.orderBy[e],t.orderBy[e]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let e=0;e<i.filters.length;e++)if(!rE(i.filters[e],t.filters[e]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!ZT(i.startAt,t.startAt)&&ZT(i.endAt,t.endAt)}function Cp(i){return xt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class Df{constructor(t,e=null,r=[],o=[],u=null,c="F",m=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function eM(i,t,e,r,o,u,c,m){return new Df(i,t,e,r,o,u,c,m)}function Cg(i){return new Df(i)}function eb(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function nM(i){return i.collectionGroup!==null}function bu(i){const t=Lt(i);if(t.Ie===null){t.Ie=[];const e=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),e.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new un(Sn.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(t).forEach((u=>{e.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new uf(u,r))})),e.has(Sn.keyField().canonicalString())||t.Ie.push(new uf(Sn.keyField(),r))}return t.Ie}function ds(i){const t=Lt(i);return t.Ee||(t.Ee=iM(t,bu(i))),t.Ee}function iM(i,t){if(i.limitType==="F")return tb(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new uf(o.field,u)}));const e=i.endAt?new lf(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new lf(i.startAt.position,i.startAt.inclusive):null;return tb(i.path,i.collectionGroup,t,i.filters,i.limit,e,r)}}function Ip(i,t,e){return new Df(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,e,i.startAt,i.endAt)}function Mf(i,t){return Rg(ds(i),ds(t))&&i.limitType===t.limitType}function lE(i){return`${xg(ds(i))}|lt:${i.limitType}`}function jo(i){return`Query(target=${(function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map((o=>aE(o))).join(", ")}]`),Cf(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((o=>el(o))).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((o=>el(o))).join(",")),`Target(${r})`})(ds(i))}; limitType=${i.limitType})`}function Vf(i,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):xt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(i,t)&&(function(r,o){for(const u of bu(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(i,t)&&(function(r,o){return!(r.startAt&&!(function(c,m,p){const g=JT(c,m,p);return c.inclusive?g<=0:g<0})(r.startAt,bu(r),o)||r.endAt&&!(function(c,m,p){const g=JT(c,m,p);return c.inclusive?g>=0:g>0})(r.endAt,bu(r),o))})(i,t)}function sM(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function uE(i){return(t,e)=>{let r=!1;for(const o of bu(i)){const u=rM(o,t,e);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function rM(i,t,e){const r=i.field.isKeyField()?xt.comparator(t.key,e.key):(function(u,c,m){const p=c.data.field(u),g=m.data.field(u);return p!==null&&g!==null?tl(p,g):Dt(42886)})(i.field,t,e);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return Dt(19790,{direction:i.dir})}}class Ya{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,e){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,e]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[e]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Ka(this.inner,((e,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return YS(this.inner)}size(){return this.innerSize}}const aM=new ke(xt.comparator);function Zs(){return aM}const cE=new ke(xt.comparator);function mu(...i){let t=cE;for(const e of i)t=t.insert(e.key,e);return t}function hE(i){let t=cE;return i.forEach(((e,r)=>t=t.insert(e,r.overlayedDocument))),t}function Na(){return Su()}function fE(){return Su()}function Su(){return new Ya((i=>i.toString()),((i,t)=>i.isEqual(t)))}const oM=new ke(xt.comparator),lM=new un(xt.comparator);function Jt(...i){let t=lM;for(const e of i)t=t.add(e);return t}const uM=new un($t);function cM(){return uM}function Ig(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rf(t)?"-0":t}}function dE(i){return{integerValue:""+i}}function hM(i,t){return jD(t)?dE(t):Ig(i,t)}class Of{constructor(){this._=void 0}}function fM(i,t,e){return i instanceof cf?(function(o,u){const c={fields:{[WS]:{stringValue:XS},[JS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Ag(u)&&(u=If(u)),u&&(c.fields[$S]=u),{mapValue:c}})(e,t):i instanceof ju?pE(i,t):i instanceof Lu?gE(i,t):(function(o,u){const c=mE(o,u),m=nb(c)+nb(o.Ae);return xp(c)&&xp(o.Ae)?dE(m):Ig(o.serializer,m)})(i,t)}function dM(i,t,e){return i instanceof ju?pE(i,t):i instanceof Lu?gE(i,t):e}function mE(i,t){return i instanceof hf?(function(r){return xp(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class cf extends Of{}class ju extends Of{constructor(t){super(),this.elements=t}}function pE(i,t){const e=yE(t);for(const r of i.elements)e.some((o=>Ts(o,r)))||e.push(r);return{arrayValue:{values:e}}}class Lu extends Of{constructor(t){super(),this.elements=t}}function gE(i,t){let e=yE(t);for(const r of i.elements)e=e.filter((o=>!Ts(o,r)));return{arrayValue:{values:e}}}class hf extends Of{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function nb(i){return Xe(i.integerValue||i.doubleValue)}function yE(i){return wg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function mM(i,t){return i.field.isEqual(t.field)&&(function(r,o){return r instanceof ju&&o instanceof ju||r instanceof Lu&&o instanceof Lu?Zo(r.elements,o.elements,Ts):r instanceof hf&&o instanceof hf?Ts(r.Ae,o.Ae):r instanceof cf&&o instanceof cf})(i.transform,t.transform)}class pM{constructor(t,e){this.version=t,this.transformResults=e}}class Xs{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Xs}static exists(t){return new Xs(void 0,t)}static updateTime(t){return new Xs(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Fh(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class Nf{}function vE(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new TE(i.key,Xs.none()):new Ju(i.key,i.data,Xs.none());{const e=i.data,r=Ai.empty();let o=new un(Sn.comparator);for(let u of t.fields)if(!o.has(u)){let c=e.field(u);c===null&&u.length>1&&(u=u.popLast(),c=e.field(u)),c===null?r.delete(u):r.set(u,c),o=o.add(u)}return new Qa(i.key,r,new Yi(o.toArray()),Xs.none())}}function gM(i,t,e){i instanceof Ju?(function(o,u,c){const m=o.value.clone(),p=sb(o.fieldTransforms,u,c.transformResults);m.setAll(p),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(i,t,e):i instanceof Qa?(function(o,u,c){if(!Fh(o.precondition,u))return void u.convertToUnknownDocument(c.version);const m=sb(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(_E(o)),p.setAll(m),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(i,t,e):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function Eu(i,t,e,r){return i instanceof Ju?(function(u,c,m,p){if(!Fh(u.precondition,c))return m;const g=u.value.clone(),v=rb(u.fieldTransforms,p,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(i,t,e,r):i instanceof Qa?(function(u,c,m,p){if(!Fh(u.precondition,c))return m;const g=rb(u.fieldTransforms,p,c),v=c.data;return v.setAll(_E(u)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(i,t,e,r):(function(u,c,m){return Fh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(i,t,e)}function yM(i,t){let e=null;for(const r of i.fieldTransforms){const o=t.data.field(r.field),u=mE(r.transform,o||null);u!=null&&(e===null&&(e=Ai.empty()),e.set(r.field,u))}return e||null}function ib(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Zo(r,o,((u,c)=>mM(u,c)))})(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class Ju extends Nf{constructor(t,e,r,o=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Qa extends Nf{constructor(t,e,r,o,u=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function _E(i){const t=new Map;return i.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const r=i.data.field(e);t.set(e,r)}})),t}function sb(i,t,e){const r=new Map;ce(i.length===e.length,32656,{Re:e.length,Ve:i.length});for(let o=0;o<e.length;o++){const u=i[o],c=u.transform,m=t.data.field(u.field);r.set(u.field,dM(c,m,e[o]))}return r}function rb(i,t,e){const r=new Map;for(const o of i){const u=o.transform,c=e.data.field(o.field);r.set(o.field,fM(u,c,t))}return r}class TE extends Nf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vM extends Nf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class _M{constructor(t,e,r,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&gM(u,t,r[o])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=Eu(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=Eu(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=fE();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let m=this.applyToLocalView(c,u.mutatedFields);m=e.has(o.key)?null:m;const p=vE(c,m);p!==null&&r.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(kt.min())})),r}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Jt())}isEqual(t){return this.batchId===t.batchId&&Zo(this.mutations,t.mutations,((e,r)=>ib(e,r)))&&Zo(this.baseMutations,t.baseMutations,((e,r)=>ib(e,r)))}}class Dg{constructor(t,e,r,o){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=o}static from(t,e,r){ce(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return oM})();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,r[c].version);return new Dg(t,e,r,o)}}class TM{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class bM{constructor(t,e){this.count=t,this.unchangedNames=e}}var nn,ne;function SM(i){switch(i){case ct.OK:return Dt(64938);case ct.CANCELLED:case ct.UNKNOWN:case ct.DEADLINE_EXCEEDED:case ct.RESOURCE_EXHAUSTED:case ct.INTERNAL:case ct.UNAVAILABLE:case ct.UNAUTHENTICATED:return!1;case ct.INVALID_ARGUMENT:case ct.NOT_FOUND:case ct.ALREADY_EXISTS:case ct.PERMISSION_DENIED:case ct.FAILED_PRECONDITION:case ct.ABORTED:case ct.OUT_OF_RANGE:case ct.UNIMPLEMENTED:case ct.DATA_LOSS:return!0;default:return Dt(15467,{code:i})}}function bE(i){if(i===void 0)return Js("GRPC error has no .code"),ct.UNKNOWN;switch(i){case nn.OK:return ct.OK;case nn.CANCELLED:return ct.CANCELLED;case nn.UNKNOWN:return ct.UNKNOWN;case nn.DEADLINE_EXCEEDED:return ct.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return ct.RESOURCE_EXHAUSTED;case nn.INTERNAL:return ct.INTERNAL;case nn.UNAVAILABLE:return ct.UNAVAILABLE;case nn.UNAUTHENTICATED:return ct.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return ct.INVALID_ARGUMENT;case nn.NOT_FOUND:return ct.NOT_FOUND;case nn.ALREADY_EXISTS:return ct.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return ct.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return ct.FAILED_PRECONDITION;case nn.ABORTED:return ct.ABORTED;case nn.OUT_OF_RANGE:return ct.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return ct.UNIMPLEMENTED;case nn.DATA_LOSS:return ct.DATA_LOSS;default:return Dt(39323,{code:i})}}(ne=nn||(nn={}))[ne.OK=0]="OK",ne[ne.CANCELLED=1]="CANCELLED",ne[ne.UNKNOWN=2]="UNKNOWN",ne[ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ne[ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ne[ne.NOT_FOUND=5]="NOT_FOUND",ne[ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",ne[ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",ne[ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",ne[ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ne[ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ne[ne.ABORTED=10]="ABORTED",ne[ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",ne[ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",ne[ne.INTERNAL=13]="INTERNAL",ne[ne.UNAVAILABLE=14]="UNAVAILABLE",ne[ne.DATA_LOSS=15]="DATA_LOSS";function EM(){return new TextEncoder}const AM=new Qr([4294967295,4294967295],0);function ab(i){const t=EM().encode(i),e=new jS;return e.update(t),new Uint8Array(e.digest())}function ob(i){const t=new DataView(i.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Qr([e,r],0),new Qr([o,u],0)]}class Mg{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new pu(`Invalid padding: ${e}`);if(r<0)throw new pu(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new pu(`Invalid hash count: ${r}`);if(t.length===0&&e!==0)throw new pu(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=Qr.fromNumber(this.ge)}ye(t,e,r){let o=t.add(e.multiply(Qr.fromNumber(r)));return o.compare(AM)===1&&(o=new Qr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=ab(t),[r,o]=ob(e);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);if(!this.we(c))return!1}return!0}static create(t,e,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new Mg(u,o,e);return r.forEach((m=>c.insert(m))),c}insert(t){if(this.ge===0)return;const e=ab(t),[r,o]=ob(e);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);this.Se(c)}}Se(t){const e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}}class pu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Pf{constructor(t,e,r,o,u){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const o=new Map;return o.set(t,Zu.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new Pf(kt.min(),o,new ke($t),Zs(),Jt())}}class Zu{constructor(t,e,r,o,u){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new Zu(r,e,Jt(),Jt(),Jt())}}class Hh{constructor(t,e,r,o){this.be=t,this.removedTargetIds=e,this.key=r,this.De=o}}class SE{constructor(t,e){this.targetId=t,this.Ce=e}}class EE{constructor(t,e,r=En.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=o}}class lb{constructor(){this.ve=0,this.Fe=ub(),this.Me=En.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Jt(),e=Jt(),r=Jt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:r=r.add(o);break;default:Dt(38017,{changeType:u})}})),new Zu(this.Me,this.xe,t,e,r)}qe(){this.Oe=!1,this.Fe=ub()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ce(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class wM{constructor(t){this.Ge=t,this.ze=new Map,this.je=Zs(),this.Je=Ch(),this.He=Ch(),this.Ye=new ke($t)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const r=this.nt(e);switch(t.state){case 0:this.rt(e)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),r.Le(t.resumeToken));break;default:Dt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((r,o)=>{this.rt(o)&&e(o)}))}st(t){const e=t.targetId,r=t.Ce.count,o=this.ot(e);if(o){const u=o.target;if(Cp(u))if(r===0){const c=new xt(u.path);this.et(e,c,Dn.newNoDocument(c,kt.min()))}else ce(r===1,20013,{expectedCount:r});else{const c=this._t(e);if(c!==r){const m=this.ut(t),p=m?this.ct(m,t,c):1;if(p!==0){this.it(e);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,g)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=e;let c,m;try{c=Jr(r).toUint8Array()}catch(p){if(p instanceof QS)return Jo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Mg(c,o,u)}catch(p){return Jo(p instanceof pu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(t,e,r){return e.Ce.count===r-this.Pt(t,e.targetId)?0:2}Pt(t,e){const r=this.Ge.getRemoteKeysForTarget(e);let o=0;return r.forEach((u=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(e,u,null),o++)})),o}Tt(t){const e=new Map;this.ze.forEach(((u,c)=>{const m=this.ot(c);if(m){if(u.current&&Cp(m.target)){const p=new xt(m.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,Dn.newNoDocument(p,t))}u.Be&&(e.set(c,u.ke()),u.qe())}}));let r=Jt();this.He.forEach(((u,c)=>{let m=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(t)));const o=new Pf(t,e,this.Ye,this.je,r);return this.je=Zs(),this.Je=Ch(),this.He=Ch(),this.Ye=new ke($t),o}Xe(t,e){if(!this.rt(t))return;const r=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,r),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,e)?o.Qe(e,1):o.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),r&&(this.je=this.je.insert(e,r))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new lb,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new un($t),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new un($t),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||Tt("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new lb),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Ch(){return new ke(xt.comparator)}function ub(){return new ke(xt.comparator)}const xM={asc:"ASCENDING",desc:"DESCENDING"},RM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CM={and:"AND",or:"OR"};class IM{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Dp(i,t){return i.useProto3Json||Cf(t)?t:{value:t}}function ff(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function AE(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function DM(i,t){return ff(i,t.toTimestamp())}function ms(i){return ce(!!i,49232),kt.fromTimestamp((function(e){const r=$r(e);return new we(r.seconds,r.nanos)})(i))}function Vg(i,t){return Mp(i,t).canonicalString()}function Mp(i,t){const e=(function(o){return new Ne(["projects",o.projectId,"databases",o.database])})(i).child("documents");return t===void 0?e:e.child(t)}function wE(i){const t=Ne.fromString(i);return ce(DE(t),10190,{key:t.toString()}),t}function Vp(i,t){return Vg(i.databaseId,t.path)}function Wm(i,t){const e=wE(t);if(e.get(1)!==i.databaseId.projectId)throw new At(ct.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+i.databaseId.projectId);if(e.get(3)!==i.databaseId.database)throw new At(ct.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+i.databaseId.database);return new xt(RE(e))}function xE(i,t){return Vg(i.databaseId,t)}function MM(i){const t=wE(i);return t.length===4?Ne.emptyPath():RE(t)}function Op(i){return new Ne(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function RE(i){return ce(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function cb(i,t,e){return{name:Vp(i,t),fields:e.value.mapValue.fields}}function VM(i,t){let e;if("targetChange"in t){t.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Dt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,v){return g.useProto3Json?(ce(v===void 0||typeof v=="string",58123),En.fromBase64String(v||"")):(ce(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),En.fromUint8Array(v||new Uint8Array))})(i,t.targetChange.resumeToken),c=t.targetChange.cause,m=c&&(function(g){const v=g.code===void 0?ct.UNKNOWN:bE(g.code);return new At(v,g.message||"")})(c);e=new EE(r,o,u,m||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=Wm(i,r.document.name),u=ms(r.document.updateTime),c=r.document.createTime?ms(r.document.createTime):kt.min(),m=new Ai({mapValue:{fields:r.document.fields}}),p=Dn.newFoundDocument(o,u,c,m),g=r.targetIds||[],v=r.removedTargetIds||[];e=new Hh(g,v,p.key,p)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=Wm(i,r.document),u=r.readTime?ms(r.readTime):kt.min(),c=Dn.newNoDocument(o,u),m=r.removedTargetIds||[];e=new Hh([],m,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=Wm(i,r.document),u=r.removedTargetIds||[];e=new Hh([],u,o,null)}else{if(!("filter"in t))return Dt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,c=new bM(o,u),m=r.targetId;e=new SE(m,c)}}return e}function OM(i,t){let e;if(t instanceof Ju)e={update:cb(i,t.key,t.value)};else if(t instanceof TE)e={delete:Vp(i,t.key)};else if(t instanceof Qa)e={update:cb(i,t.key,t.data),updateMask:FM(t.fieldMask)};else{if(!(t instanceof vM))return Dt(16599,{Vt:t.type});e={verify:Vp(i,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((r=>(function(u,c){const m=c.transform;if(m instanceof cf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ju)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Lu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof hf)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw Dt(20930,{transform:c.transform})})(0,r)))),t.precondition.isNone||(e.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:DM(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Dt(27497)})(i,t.precondition)),e}function NM(i,t){return i&&i.length>0?(ce(t!==void 0,14353),i.map((e=>(function(o,u){let c=o.updateTime?ms(o.updateTime):ms(u);return c.isEqual(kt.min())&&(c=ms(u)),new pM(c,o.transformResults||[])})(e,t)))):[]}function PM(i,t){return{documents:[xE(i,t.path)]}}function kM(i,t){const e={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=xE(i,o);const u=(function(g){if(g.length!==0)return IE(bs.create(g,"and"))})(t.filters);u&&(e.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((v=>(function(E){return{field:Lo(E.field),direction:UM(E.dir)}})(v)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const m=Dp(i,t.limit);return m!==null&&(e.structuredQuery.limit=m),t.startAt&&(e.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:e,parent:o}}function jM(i){let t=MM(i.parent);const e=i.structuredQuery,r=e.from?e.from.length:0;let o=null;if(r>0){ce(r===1,65062);const v=e.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let u=[];e.where&&(u=(function(T){const E=CE(T);return E instanceof bs&&sE(E)?E.getFilters():[E]})(e.where));let c=[];e.orderBy&&(c=(function(T){return T.map((E=>(function(U){return new uf(Uo(U.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(E)))})(e.orderBy));let m=null;e.limit&&(m=(function(T){let E;return E=typeof T=="object"?T.value:T,Cf(E)?null:E})(e.limit));let p=null;e.startAt&&(p=(function(T){const E=!!T.before,I=T.values||[];return new lf(I,E)})(e.startAt));let g=null;return e.endAt&&(g=(function(T){const E=!T.before,I=T.values||[];return new lf(I,E)})(e.endAt)),eM(t,o,c,u,m,"F",p,g)}function LM(i,t){const e=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Dt(28987,{purpose:o})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function CE(i){return i.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=Uo(e.unaryFilter.field);return ln.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Uo(e.unaryFilter.field);return ln.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Uo(e.unaryFilter.field);return ln.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Uo(e.unaryFilter.field);return ln.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Dt(61313);default:return Dt(60726)}})(i):i.fieldFilter!==void 0?(function(e){return ln.create(Uo(e.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Dt(58110);default:return Dt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(e){return bs.create(e.compositeFilter.filters.map((r=>CE(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Dt(1026)}})(e.compositeFilter.op))})(i):Dt(30097,{filter:i})}function UM(i){return xM[i]}function zM(i){return RM[i]}function BM(i){return CM[i]}function Lo(i){return{fieldPath:i.canonicalString()}}function Uo(i){return Sn.fromServerFormat(i.fieldPath)}function IE(i){return i instanceof ln?(function(e){if(e.op==="=="){if($T(e.value))return{unaryFilter:{field:Lo(e.field),op:"IS_NAN"}};if(WT(e.value))return{unaryFilter:{field:Lo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if($T(e.value))return{unaryFilter:{field:Lo(e.field),op:"IS_NOT_NAN"}};if(WT(e.value))return{unaryFilter:{field:Lo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lo(e.field),op:zM(e.op),value:e.value}}})(i):i instanceof bs?(function(e){const r=e.getFilters().map((o=>IE(o)));return r.length===1?r[0]:{compositeFilter:{op:BM(e.op),filters:r}}})(i):Dt(54877,{filter:i})}function FM(i){const t=[];return i.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function DE(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class qr{constructor(t,e,r,o,u=kt.min(),c=kt.min(),m=En.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new qr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class HM{constructor(t){this.yt=t}}function qM(i){const t=jM({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Ip(t,t.limit,"L"):t}class GM{constructor(){this.Cn=new KM}addToCollectionParentIndex(t,e){return this.Cn.add(e),lt.resolve()}getCollectionParents(t,e){return lt.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return lt.resolve()}deleteFieldIndex(t,e){return lt.resolve()}deleteAllFieldIndexes(t){return lt.resolve()}createTargetIndexes(t,e){return lt.resolve()}getDocumentsMatchingTarget(t,e){return lt.resolve(null)}getIndexType(t,e){return lt.resolve(0)}getFieldIndexes(t,e){return lt.resolve([])}getNextCollectionGroupToUpdate(t){return lt.resolve(null)}getMinOffset(t,e){return lt.resolve(Wr.min())}getMinOffsetFromCollectionGroup(t,e){return lt.resolve(Wr.min())}updateCollectionGroup(t,e,r){return lt.resolve()}updateIndexEntries(t,e){return lt.resolve()}}class KM{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e]||new un(Ne.comparator),u=!o.has(r);return this.index[e]=o.add(r),u}has(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e];return o&&o.has(r)}getEntries(t){return(this.index[t]||new un(Ne.comparator)).toArray()}}const hb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ME=41943040;class Qn{static withCacheSize(t){return new Qn(t,Qn.DEFAULT_COLLECTION_PERCENTILE,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}Qn.DEFAULT_COLLECTION_PERCENTILE=10,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qn.DEFAULT=new Qn(ME,Qn.DEFAULT_COLLECTION_PERCENTILE,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qn.DISABLED=new Qn(-1,0,0);class nl{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new nl(0)}static cr(){return new nl(-1)}}const fb="LruGarbageCollector",YM=1048576;function db([i,t],[e,r]){const o=$t(i,e);return o===0?$t(t,r):o}class QM{constructor(t){this.Ir=t,this.buffer=new un(db),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();db(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class XM{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){Tt(fb,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){hl(e)?Tt(fb,"Ignoring IndexedDB error during garbage collection: ",e):await cl(e)}await this.Vr(3e5)}))}}class WM{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((r=>Math.floor(e/100*r)))}nthSequenceNumber(t,e){if(e===0)return lt.resolve(Rf.ce);const r=new QM(e);return this.mr.forEachTarget(t,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(t,e,r){return this.mr.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(Tt("LruGarbageCollector","Garbage collection skipped; disabled"),lt.resolve(hb)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(Tt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hb):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let r,o,u,c,m,p,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(Tt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(t,o)))).next((T=>(r=T,m=Date.now(),this.removeTargets(t,r,e)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(t,r)))).next((T=>(g=Date.now(),ko()<=Wt.DEBUG&&Tt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),lt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function $M(i,t){return new WM(i,t)}class JM{constructor(){this.changes=new Ya((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Dn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return r!==void 0?lt.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class ZM{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class tV{constructor(t,e,r,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,e)))).next((o=>(r!==null&&Eu(r.mutation,o,Yi.empty(),we.now()),o)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.getLocalViewOfDocuments(t,r,Jt()).next((()=>r))))}getLocalViewOfDocuments(t,e,r=Jt()){const o=Na();return this.populateOverlays(t,o,e).next((()=>this.computeViews(t,e,o,r).next((u=>{let c=mu();return u.forEach(((m,p)=>{c=c.insert(m,p.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const r=Na();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,Jt())))}populateOverlays(t,e,r){const o=[];return r.forEach((u=>{e.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,m)=>{e.set(c,m)}))}))}computeViews(t,e,r,o){let u=Zs();const c=Su(),m=(function(){return Su()})();return e.forEach(((p,g)=>{const v=r.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Qa)?u=u.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),Eu(v.mutation,g,v.mutation.getFieldMask(),we.now())):c.set(g.key,Yi.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,v)=>c.set(g,v))),e.forEach(((g,v)=>m.set(g,new ZM(v,c.get(g)??null)))),m)))}recalculateAndSaveOverlays(t,e){const r=Su();let o=new ke(((c,m)=>c-m)),u=Jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const m of c)m.keys().forEach((p=>{const g=e.get(p);if(g===null)return;let v=r.get(p)||Yi.empty();v=m.applyToLocalView(g,v),r.set(p,v);const T=(o.get(m.batchId)||Jt()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,T=fE();v.forEach((E=>{if(!u.has(E)){const I=vE(e.get(E),r.get(E));I!==null&&T.set(E,I),u=u.add(E)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,T))}return lt.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,e,r,o){return(function(c){return xt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):nM(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,o):this.getDocumentsMatchingCollectionQuery(t,e,r,o)}getNextDocuments(t,e,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,o-u.size):lt.resolve(Na());let m=Ou,p=u;return c.next((g=>lt.forEach(g,((v,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(v)?lt.resolve():this.remoteDocumentCache.getEntry(t,v).next((E=>{p=p.insert(v,E)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,Jt()))).next((v=>({batchId:m,changes:hE(v)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new xt(e)).next((r=>{let o=mu();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,e,r,o){const u=e.collectionGroup;let c=mu();return this.indexManager.getCollectionParents(t,u).next((m=>lt.forEach(m,(p=>{const g=(function(T,E){return new Df(E,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(e,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,r,o).next((v=>{v.forEach(((T,E)=>{c=c.insert(T,E)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,u,o)))).next((c=>{u.forEach(((p,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,Dn.newInvalidDocument(v)))}));let m=mu();return c.forEach(((p,g)=>{const v=u.get(p);v!==void 0&&Eu(v.mutation,g,Yi.empty(),we.now()),Vf(e,g)&&(m=m.insert(p,g))})),m}))}}class eV{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return lt.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(o){return{id:o.id,version:o.version,createTime:ms(o.createTime)}})(e)),lt.resolve()}getNamedQuery(t,e){return lt.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(o){return{name:o.name,query:qM(o.bundledQuery),readTime:ms(o.readTime)}})(e)),lt.resolve()}}class nV{constructor(){this.overlays=new ke(xt.comparator),this.qr=new Map}getOverlay(t,e){return lt.resolve(this.overlays.get(e))}getOverlays(t,e){const r=Na();return lt.forEach(e,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,e,r){return r.forEach(((o,u)=>{this.St(t,e,u)})),lt.resolve()}removeOverlaysForBatchId(t,e,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),lt.resolve()}getOverlaysForCollection(t,e,r){const o=Na(),u=e.length+1,c=new xt(e.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>r&&o.set(p.getKey(),p)}return lt.resolve(o)}getOverlaysForCollectionGroup(t,e,r,o){let u=new ke(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>r){let v=u.get(g.largestBatchId);v===null&&(v=Na(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=Na(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>m.set(g,v))),!(m.size()>=o)););return lt.resolve(m)}St(t,e,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new TM(e,r));let u=this.qr.get(e);u===void 0&&(u=Jt(),this.qr.set(e,u)),this.qr.set(e,u.add(r.key))}}class iV{constructor(){this.sessionToken=En.EMPTY_BYTE_STRING}getSessionToken(t){return lt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,lt.resolve()}}class Og{constructor(){this.Qr=new un(fn.$r),this.Ur=new un(fn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const r=new fn(t,e);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,e){t.forEach((r=>this.addReference(r,e)))}removeReference(t,e){this.Gr(new fn(t,e))}zr(t,e){t.forEach((r=>this.removeReference(r,e)))}jr(t){const e=new xt(new Ne([])),r=new fn(e,t),o=new fn(e,t+1),u=[];return this.Ur.forEachInRange([r,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new xt(new Ne([])),r=new fn(e,t),o=new fn(e,t+1);let u=Jt();return this.Ur.forEachInRange([r,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const e=new fn(t,0),r=this.Qr.firstAfterOrEqual(e);return r!==null&&t.isEqual(r.key)}}class fn{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return xt.comparator(t.key,e.key)||$t(t.Yr,e.Yr)}static Kr(t,e){return $t(t.Yr,e.Yr)||xt.comparator(t.key,e.key)}}class sV{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new un(fn.$r)}checkEmpty(t){return lt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new _M(u,e,r,o);this.mutationQueue.push(c);for(const m of o)this.Zr=this.Zr.add(new fn(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return lt.resolve(c)}lookupMutationBatch(t,e){return lt.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,o=this.ei(r),u=o<0?0:o;return lt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return lt.resolve(this.mutationQueue.length===0?Eg:this.tr-1)}getAllMutationBatches(t){return lt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new fn(e,0),o=new fn(e,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(c=>{const m=this.Xr(c.Yr);u.push(m)})),lt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new un($t);return e.forEach((o=>{const u=new fn(o,0),c=new fn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(m=>{r=r.add(m.Yr)}))})),lt.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,o=r.length+1;let u=r;xt.isDocumentKey(u)||(u=u.child(""));const c=new fn(new xt(u),0);let m=new un($t);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),c),lt.resolve(this.ti(m))}ti(t){const e=[];return t.forEach((r=>{const o=this.Xr(r);o!==null&&e.push(o)})),e}removeMutationBatch(t,e){ce(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return lt.forEach(e.mutations,(o=>{const u=new fn(o.key,e.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,e){const r=new fn(e,0),o=this.Zr.firstAfterOrEqual(r);return lt.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,lt.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class rV{constructor(t){this.ri=t,this.docs=(function(){return new ke(xt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,o=this.docs.get(r),u=o?o.size:0,c=this.ri(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return lt.resolve(r?r.document.mutableCopy():Dn.newInvalidDocument(e))}getEntries(t,e){let r=Zs();return e.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Dn.newInvalidDocument(o))})),lt.resolve(r)}getDocumentsMatchingQuery(t,e,r,o){let u=Zs();const c=e.path,m=new xt(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||OD(VD(v),r)<=0||(o.has(v.key)||Vf(e,v))&&(u=u.insert(v.key,v.mutableCopy()))}return lt.resolve(u)}getAllFromCollectionGroup(t,e,r,o){Dt(9500)}ii(t,e){return lt.forEach(this.docs,(r=>e(r)))}newChangeBuffer(t){return new aV(this)}getSize(t){return lt.resolve(this.size)}}class aV extends JM{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?e.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(r)})),lt.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}class oV{constructor(t){this.persistence=t,this.si=new Ya((e=>xg(e)),Rg),this.lastRemoteSnapshotVersion=kt.min(),this.highestTargetId=0,this.oi=0,this._i=new Og,this.targetCount=0,this.ai=nl.ur()}forEachTarget(t,e){return this.si.forEach(((r,o)=>e(o))),lt.resolve()}getLastRemoteSnapshotVersion(t){return lt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return lt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),lt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.oi&&(this.oi=e),lt.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new nl(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,lt.resolve()}updateTargetData(t,e){return this.Pr(e),lt.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,lt.resolve()}removeTargets(t,e,r){let o=0;const u=[];return this.si.forEach(((c,m)=>{m.sequenceNumber<=e&&r.get(m.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),lt.waitFor(u).next((()=>o))}getTargetCount(t){return lt.resolve(this.targetCount)}getTargetData(t,e){const r=this.si.get(e)||null;return lt.resolve(r)}addMatchingKeys(t,e,r){return this._i.Wr(e,r),lt.resolve()}removeMatchingKeys(t,e,r){this._i.zr(e,r);const o=this.persistence.referenceDelegate,u=[];return o&&e.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),lt.waitFor(u)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),lt.resolve()}getMatchingKeysForTargetId(t,e){const r=this._i.Hr(e);return lt.resolve(r)}containsKey(t,e){return lt.resolve(this._i.containsKey(e))}}class VE{constructor(t,e){this.ui={},this.overlays={},this.ci=new Rf(0),this.li=!1,this.li=!0,this.hi=new iV,this.referenceDelegate=t(this),this.Pi=new oV(this),this.indexManager=new GM,this.remoteDocumentCache=(function(o){return new rV(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new HM(e),this.Ii=new eV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new nV,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.ui[t.toKey()];return r||(r=new sV(e,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,r){Tt("MemoryPersistence","Starting transaction:",t);const o=new lV(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,e){return lt.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,e))))}}class lV extends PD{constructor(t){super(),this.currentSequenceNumber=t}}class Ng{constructor(t){this.persistence=t,this.Ri=new Og,this.Vi=null}static mi(t){return new Ng(t)}get fi(){if(this.Vi)return this.Vi;throw Dt(60996)}addReference(t,e,r){return this.Ri.addReference(r,e),this.fi.delete(r.toString()),lt.resolve()}removeReference(t,e,r){return this.Ri.removeReference(r,e),this.fi.add(r.toString()),lt.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),lt.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return lt.forEach(this.fi,(r=>{const o=xt.fromPath(r);return this.gi(t,o).next((u=>{u||e.removeEntry(o,kt.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((r=>{r?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return lt.or([()=>lt.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class df{constructor(t,e){this.persistence=t,this.pi=new Ya((r=>LD(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=$M(this,e)}static mi(t,e){return new df(t,e)}Ei(){}di(t){return lt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>e.next((o=>r+o))))}wr(t){let e=0;return this.pr(t,(r=>{e++})).next((()=>e))}pr(t,e){return lt.forEach(this.pi,((r,o)=>this.br(t,r,o).next((u=>u?lt.resolve():e(o)))))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(c=>this.br(t,c,e).next((m=>{m||(r++,u.removeEntry(c,kt.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),lt.resolve()}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),lt.resolve()}removeReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),lt.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),lt.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=zh(t.data.value)),e}br(t,e,r){return lt.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const o=this.pi.get(e);return lt.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Pg{constructor(t,e,r,o){this.targetId=t,this.fromCache=e,this.Es=r,this.ds=o}static As(t,e){let r=Jt(),o=Jt();for(const u of e.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Pg(t,e.fromCache,r,o)}}class uV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class cV{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return JR()?8:kD(Vn())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,r,o){const u={result:null};return this.ys(t,e).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(t,e,o,r).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new uV;return this.Ss(t,e,c).next((m=>{if(u.result=m,this.Vs)return this.bs(t,e,c,m.size)}))})).next((()=>u.result))}bs(t,e,r,o){return r.documentReadCount<this.fs?(ko()<=Wt.DEBUG&&Tt("QueryEngine","SDK will not create cache indexes for query:",jo(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),lt.resolve()):(ko()<=Wt.DEBUG&&Tt("QueryEngine","Query:",jo(e),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(ko()<=Wt.DEBUG&&Tt("QueryEngine","The SDK decides to create cache indexes for query:",jo(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ds(e))):lt.resolve())}ys(t,e){if(eb(e))return lt.resolve(null);let r=ds(e);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(e.limit!==null&&o===1&&(e=Ip(e,null,"F"),r=ds(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const c=Jt(...u);return this.ps.getDocuments(t,c).next((m=>this.indexManager.getMinOffset(t,r).next((p=>{const g=this.Ds(e,m);return this.Cs(e,g,c,p.readTime)?this.ys(t,Ip(e,null,"F")):this.vs(t,g,e,p)}))))})))))}ws(t,e,r,o){return eb(e)||o.isEqual(kt.min())?lt.resolve(null):this.ps.getDocuments(t,r).next((u=>{const c=this.Ds(e,u);return this.Cs(e,c,r,o)?lt.resolve(null):(ko()<=Wt.DEBUG&&Tt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),jo(e)),this.vs(t,c,e,MD(o,Ou)).next((m=>m)))}))}Ds(t,e){let r=new un(uE(t));return e.forEach(((o,u)=>{Vf(t,u)&&(r=r.add(u))})),r}Cs(t,e,r,o){if(t.limit===null)return!1;if(r.size!==e.size)return!0;const u=t.limitType==="F"?e.last():e.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,e,r){return ko()<=Wt.DEBUG&&Tt("QueryEngine","Using full collection scan to execute query:",jo(e)),this.ps.getDocumentsMatchingQuery(t,e,Wr.min(),r)}vs(t,e,r,o){return this.ps.getDocumentsMatchingQuery(t,r,o).next((u=>(e.forEach((c=>{u=u.insert(c.key,c)})),u)))}}const kg="LocalStore",hV=3e8;class fV{constructor(t,e,r,o){this.persistence=t,this.Fs=e,this.serializer=o,this.Ms=new ke($t),this.xs=new Ya((u=>xg(u)),Rg),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new tV(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function dV(i,t,e,r){return new fV(i,t,e,r)}async function OE(i,t){const e=Lt(i);return await e.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return e.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,e.Bs(t),e.mutationQueue.getAllMutationBatches(r)))).next((u=>{const c=[],m=[];let p=Jt();for(const g of o){c.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return e.localDocuments.getDocuments(r,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:m})))}))}))}function mV(i,t){const e=Lt(i);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,v){const T=g.batch,E=T.keys();let I=lt.resolve();return E.forEach((U=>{I=I.next((()=>v.getEntry(p,U))).next((D=>{const k=g.docVersions.get(U);ce(k!==null,48541),D.version.compareTo(k)<0&&(T.applyToRemoteDocument(D,g),D.isValidDocument()&&(D.setReadTime(g.commitVersion),v.addEntry(D)))}))})),I.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(e,r,t,u).next((()=>u.apply(r))).next((()=>e.mutationQueue.performConsistencyCheck(r))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let p=Jt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(t)))).next((()=>e.localDocuments.getDocuments(r,o)))}))}function NE(i){const t=Lt(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function pV(i,t){const e=Lt(i),r=t.snapshotVersion;let o=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=e.Ns.newChangeBuffer({trackRemovals:!0});o=e.Ms;const m=[];t.targetChanges.forEach(((v,T)=>{const E=o.get(T);if(!E)return;m.push(e.Pi.removeMatchingKeys(u,v.removedDocuments,T).next((()=>e.Pi.addMatchingKeys(u,v.addedDocuments,T))));let I=E.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?I=I.withResumeToken(En.EMPTY_BYTE_STRING,kt.min()).withLastLimboFreeSnapshotVersion(kt.min()):v.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(v.resumeToken,r)),o=o.insert(T,I),(function(D,k,W){return D.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=hV?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0})(E,I,v)&&m.push(e.Pi.updateTargetData(u,I))}));let p=Zs(),g=Jt();if(t.documentUpdates.forEach((v=>{t.resolvedLimboDocuments.has(v)&&m.push(e.persistence.referenceDelegate.updateLimboDocument(u,v))})),m.push(gV(u,c,t.documentUpdates).next((v=>{p=v.ks,g=v.qs}))),!r.isEqual(kt.min())){const v=e.Pi.getLastRemoteSnapshotVersion(u).next((T=>e.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(v)}return lt.waitFor(m).next((()=>c.apply(u))).next((()=>e.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(e.Ms=o,u)))}function gV(i,t,e){let r=Jt(),o=Jt();return e.forEach((u=>r=r.add(u))),t.getEntries(i,r).next((u=>{let c=Zs();return e.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(kt.min())?(t.removeEntry(m,p.readTime),c=c.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),c=c.insert(m,p)):Tt(kg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function yV(i,t){const e=Lt(i);return e.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Eg),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function vV(i,t){const e=Lt(i);return e.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return e.Pi.getTargetData(r,t).next((u=>u?(o=u,lt.resolve(o)):e.Pi.allocateTargetId(r).next((c=>(o=new qr(t,c,"TargetPurposeListen",r.currentSequenceNumber),e.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=e.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(r.targetId,r),e.xs.set(t,r.targetId)),r}))}async function Np(i,t,e){const r=Lt(i),o=r.Ms.get(t),u=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",u,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!hl(c))throw c;Tt(kg,`Failed to update sequence numbers for target ${t}: ${c}`)}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function mb(i,t,e){const r=Lt(i);let o=kt.min(),u=Jt();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,v){const T=Lt(p),E=T.xs.get(v);return E!==void 0?lt.resolve(T.Ms.get(E)):T.Pi.getTargetData(g,v)})(r,c,ds(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,m.targetId).next((p=>{u=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,t,e?o:kt.min(),e?u:Jt()))).next((m=>(_V(r,sM(t),m),{documents:m,Qs:u})))))}function _V(i,t,e){let r=i.Os.get(t)||kt.min();e.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),i.Os.set(t,r)}class pb{constructor(){this.activeTargetIds=cM()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class TV{constructor(){this.Mo=new pb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,r){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new pb,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class bV{Oo(t){}shutdown(){}}const gb="ConnectivityMonitor";class yb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Tt(gb,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){Tt(gb,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ih=null;function Pp(){return Ih===null?Ih=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ih++,"0x"+Ih.toString(16)}const $m="RestConnection",SV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class EV{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===af?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(t,e,r,o,u){const c=Pp(),m=this.zo(t,e.toUriEncodedString());Tt($m,`Sending RPC '${t}' ${c}:`,m,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),v=al(g);return this.Jo(t,m,p,r,v).then((T=>(Tt($m,`Received RPC '${t}' ${c}: `,T),T)),(T=>{throw Jo($m,`RPC '${t}' ${c} failed with error: `,T,"url: ",m,"request:",r),T}))}Ho(t,e,r,o,u,c){return this.Go(t,e,r,o,u)}jo(t,e,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ul})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}zo(t,e){const r=SV[t];return`${this.Uo}/v1/${e}:${r}`}terminate(){}}class AV{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Cn="WebChannelConnection";class wV extends EV{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,r,o,u){const c=Pp();return new Promise(((m,p)=>{const g=new LS;g.setWithCredentials(!0),g.listenOnce(US.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Uh.NO_ERROR:const T=g.getResponseJson();Tt(Cn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(T)),m(T);break;case Uh.TIMEOUT:Tt(Cn,`RPC '${t}' ${c} timed out`),p(new At(ct.DEADLINE_EXCEEDED,"Request time out"));break;case Uh.HTTP_ERROR:const E=g.getStatus();if(Tt(Cn,`RPC '${t}' ${c} failed with status:`,E,"response text:",g.getResponseText()),E>0){let I=g.getResponseJson();Array.isArray(I)&&(I=I[0]);const U=I?.error;if(U&&U.status&&U.message){const D=(function(W){const nt=W.toLowerCase().replace(/_/g,"-");return Object.values(ct).indexOf(nt)>=0?nt:ct.UNKNOWN})(U.status);p(new At(D,U.message))}else p(new At(ct.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new At(ct.UNAVAILABLE,"Connection failed."));break;default:Dt(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{Tt(Cn,`RPC '${t}' ${c} completed.`)}}));const v=JSON.stringify(o);Tt(Cn,`RPC '${t}' ${c} sending request:`,o),g.send(e,"POST",v,r,15)}))}T_(t,e,r){const o=Pp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=FS(),m=BS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,e,r),p.encodeInitMessageHeaders=!0;const v=u.join("");Tt(Cn,`Creating RPC '${t}' stream ${o}: ${v}`,p);const T=c.createWebChannel(v,p);this.I_(T);let E=!1,I=!1;const U=new AV({Yo:k=>{I?Tt(Cn,`Not sending because RPC '${t}' stream ${o} is closed:`,k):(E||(Tt(Cn,`Opening RPC '${t}' stream ${o} transport.`),T.open(),E=!0),Tt(Cn,`RPC '${t}' stream ${o} sending:`,k),T.send(k))},Zo:()=>T.close()}),D=(k,W,nt)=>{k.listen(W,(it=>{try{nt(it)}catch(ft){setTimeout((()=>{throw ft}),0)}}))};return D(T,du.EventType.OPEN,(()=>{I||(Tt(Cn,`RPC '${t}' stream ${o} transport opened.`),U.o_())})),D(T,du.EventType.CLOSE,(()=>{I||(I=!0,Tt(Cn,`RPC '${t}' stream ${o} transport closed`),U.a_(),this.E_(T))})),D(T,du.EventType.ERROR,(k=>{I||(I=!0,Jo(Cn,`RPC '${t}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),U.a_(new At(ct.UNAVAILABLE,"The operation could not be completed")))})),D(T,du.EventType.MESSAGE,(k=>{if(!I){const W=k.data[0];ce(!!W,16349);const nt=W,it=nt?.error||nt[0]?.error;if(it){Tt(Cn,`RPC '${t}' stream ${o} received error:`,it);const ft=it.status;let dt=(function(w){const C=nn[w];if(C!==void 0)return bE(C)})(ft),mt=it.message;dt===void 0&&(dt=ct.INTERNAL,mt="Unknown error status: "+ft+" with message "+it.message),I=!0,U.a_(new At(dt,mt)),T.close()}else Tt(Cn,`RPC '${t}' stream ${o} received:`,W),U.u_(W)}})),D(m,zS.STAT_EVENT,(k=>{k.stat===Ep.PROXY?Tt(Cn,`RPC '${t}' stream ${o} detected buffering proxy`):k.stat===Ep.NOPROXY&&Tt(Cn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{U.__()}),0),U}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function Jm(){return typeof document<"u"?document:null}function kf(i){return new IM(i,!0)}class PE{constructor(t,e,r=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=e,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,e-r);o>0&&Tt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const vb="PersistentStream";class kE{constructor(t,e,r,o,u,c,m,p){this.Mi=t,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new PE(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===ct.RESOURCE_EXHAUSTED?(Js(e.toString()),Js("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===ct.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===e&&this.G_(r,o)}),(r=>{t((()=>{const o=new At(ct.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,e){const r=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return Tt(vb,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(Tt(vb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xV extends kE{constructor(t,e,r,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,o,c),this.serializer=u}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=VM(this.serializer,t),r=(function(u){if(!("targetChange"in u))return kt.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?kt.min():c.readTime?ms(c.readTime):kt.min()})(t);return this.listener.H_(e,r)}Y_(t){const e={};e.database=Op(this.serializer),e.addTarget=(function(u,c){let m;const p=c.target;if(m=Cp(p)?{documents:PM(u,p)}:{query:kM(u,p).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=AE(u,c.resumeToken);const g=Dp(u,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(kt.min())>0){m.readTime=ff(u,c.snapshotVersion.toTimestamp());const g=Dp(u,c.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,t);const r=LM(this.serializer,t);r&&(e.labels=r),this.q_(e)}Z_(t){const e={};e.database=Op(this.serializer),e.removeTarget=t,this.q_(e)}}class RV extends kE{constructor(t,e,r,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return ce(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ce(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ce(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=NM(t.writeResults,t.commitTime),r=ms(t.commitTime);return this.listener.na(r,e)}ra(){const t={};t.database=Op(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((r=>OM(this.serializer,r)))};this.q_(e)}}class CV{}class IV extends CV{constructor(t,e,r,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new At(ct.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(t,Mp(e,r),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new At(ct.UNKNOWN,u.toString())}))}Ho(t,e,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.Ho(t,Mp(e,r),o,c,m,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new At(ct.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class DV{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Js(e),this.aa=!1):Tt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ga="RemoteStore";class MV{constructor(t,e,r,o,u){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{Xa(this)&&(Tt(Ga,"Restarting streams for network reachability change."),await(async function(p){const g=Lt(p);g.Ea.add(4),await tc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await jf(g)})(this))}))})),this.Ra=new DV(r,o)}}async function jf(i){if(Xa(i))for(const t of i.da)await t(!0)}async function tc(i){for(const t of i.da)await t(!1)}function jE(i,t){const e=Lt(i);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),zg(e)?Ug(e):fl(e).O_()&&Lg(e,t))}function jg(i,t){const e=Lt(i),r=fl(e);e.Ia.delete(t),r.O_()&&LE(e,t),e.Ia.size===0&&(r.O_()?r.L_():Xa(e)&&e.Ra.set("Unknown"))}function Lg(i,t){if(i.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(kt.min())>0){const e=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}fl(i).Y_(t)}function LE(i,t){i.Va.Ue(t),fl(i).Z_(t)}function Ug(i){i.Va=new wM({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),At:t=>i.Ia.get(t)||null,ht:()=>i.datastore.serializer.databaseId}),fl(i).start(),i.Ra.ua()}function zg(i){return Xa(i)&&!fl(i).x_()&&i.Ia.size>0}function Xa(i){return Lt(i).Ea.size===0}function UE(i){i.Va=void 0}async function VV(i){i.Ra.set("Online")}async function OV(i){i.Ia.forEach(((t,e)=>{Lg(i,t)}))}async function NV(i,t){UE(i),zg(i)?(i.Ra.ha(t),Ug(i)):i.Ra.set("Unknown")}async function PV(i,t,e){if(i.Ra.set("Online"),t instanceof EE&&t.state===2&&t.cause)try{await(async function(o,u){const c=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.Va.removeTarget(m))})(i,t)}catch(r){Tt(Ga,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await mf(i,r)}else if(t instanceof Hh?i.Va.Ze(t):t instanceof SE?i.Va.st(t):i.Va.tt(t),!e.isEqual(kt.min()))try{const r=await NE(i.localStore);e.compareTo(r)>=0&&await(function(u,c){const m=u.Va.Tt(c);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(p.resumeToken,c))}})),m.targetMismatches.forEach(((p,g)=>{const v=u.Ia.get(p);if(!v)return;u.Ia.set(p,v.withResumeToken(En.EMPTY_BYTE_STRING,v.snapshotVersion)),LE(u,p);const T=new qr(v.target,p,g,v.sequenceNumber);Lg(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(i,e)}catch(r){Tt(Ga,"Failed to raise snapshot:",r),await mf(i,r)}}async function mf(i,t,e){if(!hl(t))throw t;i.Ea.add(1),await tc(i),i.Ra.set("Offline"),e||(e=()=>NE(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{Tt(Ga,"Retrying IndexedDB access"),await e(),i.Ea.delete(1),await jf(i)}))}function zE(i,t){return t().catch((e=>mf(i,e,t)))}async function Lf(i){const t=Lt(i),e=ta(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Eg;for(;kV(t);)try{const o=await yV(t.localStore,r);if(o===null){t.Ta.length===0&&e.L_();break}r=o.batchId,jV(t,o)}catch(o){await mf(t,o)}BE(t)&&FE(t)}function kV(i){return Xa(i)&&i.Ta.length<10}function jV(i,t){i.Ta.push(t);const e=ta(i);e.O_()&&e.X_&&e.ea(t.mutations)}function BE(i){return Xa(i)&&!ta(i).x_()&&i.Ta.length>0}function FE(i){ta(i).start()}async function LV(i){ta(i).ra()}async function UV(i){const t=ta(i);for(const e of i.Ta)t.ea(e.mutations)}async function zV(i,t,e){const r=i.Ta.shift(),o=Dg.from(r,t,e);await zE(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Lf(i)}async function BV(i,t){t&&ta(i).X_&&await(async function(r,o){if((function(c){return SM(c)&&c!==ct.ABORTED})(o.code)){const u=r.Ta.shift();ta(r).B_(),await zE(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Lf(r)}})(i,t),BE(i)&&FE(i)}async function _b(i,t){const e=Lt(i);e.asyncQueue.verifyOperationInProgress(),Tt(Ga,"RemoteStore received new credentials");const r=Xa(e);e.Ea.add(3),await tc(e),r&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await jf(e)}async function FV(i,t){const e=Lt(i);t?(e.Ea.delete(2),await jf(e)):t||(e.Ea.add(2),await tc(e),e.Ra.set("Unknown"))}function fl(i){return i.ma||(i.ma=(function(e,r,o){const u=Lt(e);return u.sa(),new xV(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:VV.bind(null,i),t_:OV.bind(null,i),r_:NV.bind(null,i),H_:PV.bind(null,i)}),i.da.push((async t=>{t?(i.ma.B_(),zg(i)?Ug(i):i.Ra.set("Unknown")):(await i.ma.stop(),UE(i))}))),i.ma}function ta(i){return i.fa||(i.fa=(function(e,r,o){const u=Lt(e);return u.sa(),new RV(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:LV.bind(null,i),r_:BV.bind(null,i),ta:UV.bind(null,i),na:zV.bind(null,i)}),i.da.push((async t=>{t?(i.fa.B_(),await Lf(i)):(await i.fa.stop(),i.Ta.length>0&&(Tt(Ga,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class Bg{constructor(t,e,r,o,u){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,o,u){const c=Date.now()+r,m=new Bg(t,e,c,o,u);return m.start(r),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new At(ct.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fg(i,t){if(Js("AsyncQueue",`${t}: ${i}`),hl(i))return new At(ct.UNAVAILABLE,`${t}: ${i}`);throw i}class Qo{static emptySet(t){return new Qo(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||xt.comparator(e.key,r.key):(e,r)=>xt.comparator(e.key,r.key),this.keyedMap=mu(),this.sortedSet=new ke(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,r)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Qo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const r=new Qo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}class Tb{constructor(){this.ga=new ke(xt.comparator)}track(t){const e=t.doc.key,r=this.ga.get(e);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(e,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(e,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(e):t.type===1&&r.type===2?this.ga=this.ga.insert(e,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Dt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,r)=>{t.push(r)})),t}}class il{constructor(t,e,r,o,u,c,m,p,g){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,e,r,o,u){const c=[];return e.forEach((m=>{c.push({type:0,doc:m})})),new il(t,e,Qo.emptySet(e),c,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Mf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==r[o].type||!e[o].doc.isEqual(r[o].doc))return!1;return!0}}class HV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class qV{constructor(){this.queries=bb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,r){const o=Lt(e),u=o.queries;o.queries=bb(),u.forEach(((c,m)=>{for(const p of m.Sa)p.onError(r)}))})(this,new At(ct.ABORTED,"Firestore shutting down"))}}function bb(){return new Ya((i=>lE(i)),Mf)}async function GV(i,t){const e=Lt(i);let r=3;const o=t.query;let u=e.queries.get(o);u?!u.ba()&&t.Da()&&(r=2):(u=new HV,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await e.onListen(o,!0);break;case 1:u.wa=await e.onListen(o,!1);break;case 2:await e.onFirstRemoteStoreListen(o)}}catch(c){const m=Fg(c,`Initialization of query '${jo(t.query)}' failed`);return void t.onError(m)}e.queries.set(o,u),u.Sa.push(t),t.va(e.onlineState),u.wa&&t.Fa(u.wa)&&Hg(e)}async function KV(i,t){const e=Lt(i),r=t.query;let o=3;const u=e.queries.get(r);if(u){const c=u.Sa.indexOf(t);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function YV(i,t){const e=Lt(i);let r=!1;for(const o of t){const u=o.query,c=e.queries.get(u);if(c){for(const m of c.Sa)m.Fa(o)&&(r=!0);c.wa=o}}r&&Hg(e)}function QV(i,t,e){const r=Lt(i),o=r.queries.get(t);if(o)for(const u of o.Sa)u.onError(e);r.queries.delete(t)}function Hg(i){i.Ca.forEach((t=>{t.next()}))}var kp,Sb;(Sb=kp||(kp={})).Ma="default",Sb.Cache="cache";class XV{constructor(t,e,r){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new il(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const r=e!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=il.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==kp.Cache}}class HE{constructor(t){this.key=t}}class qE{constructor(t){this.key=t}}class WV{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Jt(),this.mutatedKeys=Jt(),this.eu=uE(t),this.tu=new Qo(this.eu)}get nu(){return this.Ya}ru(t,e){const r=e?e.iu:new Tb,o=e?e.tu:this.tu;let u=e?e.mutatedKeys:this.mutatedKeys,c=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((v,T)=>{const E=o.get(v),I=Vf(this.query,T)?T:null,U=!!E&&this.mutatedKeys.has(E.key),D=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let k=!1;E&&I?E.data.isEqual(I.data)?U!==D&&(r.track({type:3,doc:I}),k=!0):this.su(E,I)||(r.track({type:2,doc:I}),k=!0,(p&&this.eu(I,p)>0||g&&this.eu(I,g)<0)&&(m=!0)):!E&&I?(r.track({type:0,doc:I}),k=!0):E&&!I&&(r.track({type:1,doc:E}),k=!0,(p||g)&&(m=!0)),k&&(I?(c=c.add(I),u=D?u.add(v):u.delete(v)):(c=c.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),u=u.delete(v.key),r.track({type:1,doc:v})}return{tu:c,iu:r,Cs:m,mutatedKeys:u}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((v,T)=>(function(I,U){const D=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dt(20277,{Rt:k})}};return D(I)-D(U)})(v.type,T.type)||this.eu(v.doc,T.doc))),this.ou(r),o=o??!1;const m=e&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new il(this.query,t.tu,u,c,t.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Tb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Jt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const e=[];return t.forEach((r=>{this.Xa.has(r)||e.push(new qE(r))})),this.Xa.forEach((r=>{t.has(r)||e.push(new HE(r))})),e}cu(t){this.Ya=t.Qs,this.Xa=Jt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return il.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const qg="SyncEngine";class $V{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class JV{constructor(t){this.key=t,this.hu=!1}}class ZV{constructor(t,e,r,o,u,c){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ya((m=>lE(m)),Mf),this.Iu=new Map,this.Eu=new Set,this.du=new ke(xt.comparator),this.Au=new Map,this.Ru=new Og,this.Vu={},this.mu=new Map,this.fu=nl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function tO(i,t,e=!0){const r=WE(i);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await GE(r,t,e,!0),o}async function eO(i,t){const e=WE(i);await GE(e,t,!0,!1)}async function GE(i,t,e,r){const o=await vV(i.localStore,ds(t)),u=o.targetId,c=i.sharedClientState.addLocalQueryTarget(u,e);let m;return r&&(m=await nO(i,t,u,c==="current",o.resumeToken)),i.isPrimaryClient&&e&&jE(i.remoteStore,o),m}async function nO(i,t,e,r,o){i.pu=(T,E,I)=>(async function(D,k,W,nt){let it=k.view.ru(W);it.Cs&&(it=await mb(D.localStore,k.query,!1).then((({documents:R})=>k.view.ru(R,it))));const ft=nt&&nt.targetChanges.get(k.targetId),dt=nt&&nt.targetMismatches.get(k.targetId)!=null,mt=k.view.applyChanges(it,D.isPrimaryClient,ft,dt);return Ab(D,k.targetId,mt.au),mt.snapshot})(i,T,E,I);const u=await mb(i.localStore,t,!0),c=new WV(t,u.Qs),m=c.ru(u.documents),p=Zu.createSynthesizedTargetChangeForCurrentChange(e,r&&i.onlineState!=="Offline",o),g=c.applyChanges(m,i.isPrimaryClient,p);Ab(i,e,g.au);const v=new $V(t,e,c);return i.Tu.set(t,v),i.Iu.has(e)?i.Iu.get(e).push(t):i.Iu.set(e,[t]),g.snapshot}async function iO(i,t,e){const r=Lt(i),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((c=>!Mf(c,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Np(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),e&&jg(r.remoteStore,o.targetId),jp(r,o.targetId)})).catch(cl)):(jp(r,o.targetId),await Np(r.localStore,o.targetId,!0))}async function sO(i,t){const e=Lt(i),r=e.Tu.get(t),o=e.Iu.get(r.targetId);e.isPrimaryClient&&o.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),jg(e.remoteStore,r.targetId))}async function rO(i,t,e){const r=fO(i);try{const o=await(function(c,m){const p=Lt(c),g=we.now(),v=m.reduce(((I,U)=>I.add(U.key)),Jt());let T,E;return p.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let U=Zs(),D=Jt();return p.Ns.getEntries(I,v).next((k=>{U=k,U.forEach(((W,nt)=>{nt.isValidDocument()||(D=D.add(W))}))})).next((()=>p.localDocuments.getOverlayedDocuments(I,U))).next((k=>{T=k;const W=[];for(const nt of m){const it=yM(nt,T.get(nt.key).overlayedDocument);it!=null&&W.push(new Qa(nt.key,it,eE(it.value.mapValue),Xs.exists(!0)))}return p.mutationQueue.addMutationBatch(I,g,W,m)})).next((k=>{E=k;const W=k.applyToLocalDocumentSet(T,D);return p.documentOverlayCache.saveOverlays(I,k.batchId,W)}))})).then((()=>({batchId:E.batchId,changes:hE(T)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(c,m,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new ke($t)),g=g.insert(m,p),c.Vu[c.currentUser.toKey()]=g})(r,o.batchId,e),await ec(r,o.changes),await Lf(r.remoteStore)}catch(o){const u=Fg(o,"Failed to persist write");e.reject(u)}}async function KE(i,t){const e=Lt(i);try{const r=await pV(e.localStore,t);t.targetChanges.forEach(((o,u)=>{const c=e.Au.get(u);c&&(ce(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?ce(c.hu,14607):o.removedDocuments.size>0&&(ce(c.hu,42227),c.hu=!1))})),await ec(e,r,t)}catch(r){await cl(r)}}function Eb(i,t,e){const r=Lt(i);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){const o=[];r.Tu.forEach(((u,c)=>{const m=c.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const p=Lt(c);p.onlineState=m;let g=!1;p.queries.forEach(((v,T)=>{for(const E of T.Sa)E.va(m)&&(g=!0)})),g&&Hg(p)})(r.eventManager,t),o.length&&r.Pu.H_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function aO(i,t,e){const r=Lt(i);r.sharedClientState.updateQueryState(t,"rejected",e);const o=r.Au.get(t),u=o&&o.key;if(u){let c=new ke(xt.comparator);c=c.insert(u,Dn.newNoDocument(u,kt.min()));const m=Jt().add(u),p=new Pf(kt.min(),new Map,new ke($t),c,m);await KE(r,p),r.du=r.du.remove(u),r.Au.delete(t),Gg(r)}else await Np(r.localStore,t,!1).then((()=>jp(r,t,e))).catch(cl)}async function oO(i,t){const e=Lt(i),r=t.batch.batchId;try{const o=await mV(e.localStore,t);QE(e,r,null),YE(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await ec(e,o)}catch(o){await cl(o)}}async function lO(i,t,e){const r=Lt(i);try{const o=await(function(c,m){const p=Lt(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(ce(T!==null,37113),v=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(r.localStore,t);QE(r,t,e),YE(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),await ec(r,o)}catch(o){await cl(o)}}function YE(i,t){(i.mu.get(t)||[]).forEach((e=>{e.resolve()})),i.mu.delete(t)}function QE(i,t,e){const r=Lt(i);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(e?u.reject(e):u.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function jp(i,t,e=null){i.sharedClientState.removeLocalQueryTarget(t);for(const r of i.Iu.get(t))i.Tu.delete(r),e&&i.Pu.yu(r,e);i.Iu.delete(t),i.isPrimaryClient&&i.Ru.jr(t).forEach((r=>{i.Ru.containsKey(r)||XE(i,r)}))}function XE(i,t){i.Eu.delete(t.path.canonicalString());const e=i.du.get(t);e!==null&&(jg(i.remoteStore,e),i.du=i.du.remove(t),i.Au.delete(e),Gg(i))}function Ab(i,t,e){for(const r of e)r instanceof HE?(i.Ru.addReference(r.key,t),uO(i,r)):r instanceof qE?(Tt(qg,"Document no longer in limbo: "+r.key),i.Ru.removeReference(r.key,t),i.Ru.containsKey(r.key)||XE(i,r.key)):Dt(19791,{wu:r})}function uO(i,t){const e=t.key,r=e.path.canonicalString();i.du.get(e)||i.Eu.has(r)||(Tt(qg,"New document in limbo: "+e),i.Eu.add(r),Gg(i))}function Gg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const t=i.Eu.values().next().value;i.Eu.delete(t);const e=new xt(Ne.fromString(t)),r=i.fu.next();i.Au.set(r,new JV(e)),i.du=i.du.insert(e,r),jE(i.remoteStore,new qr(ds(Cg(e.path)),r,"TargetPurposeLimboResolution",Rf.ce))}}async function ec(i,t,e){const r=Lt(i),o=[],u=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,p)=>{c.push(r.pu(p,t,e).then((g=>{if((g||e)&&r.isPrimaryClient){const v=g?!g.fromCache:e?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){o.push(g);const v=Pg.As(p.targetId,g);u.push(v)}})))})),await Promise.all(c),r.Pu.H_(o),await(async function(p,g){const v=Lt(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>lt.forEach(g,(E=>lt.forEach(E.Es,(I=>v.persistence.referenceDelegate.addReference(T,E.targetId,I))).next((()=>lt.forEach(E.ds,(I=>v.persistence.referenceDelegate.removeReference(T,E.targetId,I)))))))))}catch(T){if(!hl(T))throw T;Tt(kg,"Failed to update sequence numbers: "+T)}for(const T of g){const E=T.targetId;if(!T.fromCache){const I=v.Ms.get(E),U=I.snapshotVersion,D=I.withLastLimboFreeSnapshotVersion(U);v.Ms=v.Ms.insert(E,D)}}})(r.localStore,u))}async function cO(i,t){const e=Lt(i);if(!e.currentUser.isEqual(t)){Tt(qg,"User change. New user:",t.toKey());const r=await OE(e.localStore,t);e.currentUser=t,(function(u,c){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new At(ct.CANCELLED,c))}))})),u.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await ec(e,r.Ls)}}function hO(i,t){const e=Lt(i),r=e.Au.get(t);if(r&&r.hu)return Jt().add(r.key);{let o=Jt();const u=e.Iu.get(t);if(!u)return o;for(const c of u){const m=e.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}function WE(i){const t=Lt(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=KE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=hO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=aO.bind(null,t),t.Pu.H_=YV.bind(null,t.eventManager),t.Pu.yu=QV.bind(null,t.eventManager),t}function fO(i){const t=Lt(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=oO.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=lO.bind(null,t),t}class pf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=kf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return dV(this.persistence,new cV,t.initialUser,this.serializer)}Cu(t){return new VE(Ng.mi,this.serializer)}Du(t){return new TV}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pf.provider={build:()=>new pf};class dO extends pf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){ce(this.persistence.referenceDelegate instanceof df,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new XM(r,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Qn.withCacheSize(this.cacheSizeBytes):Qn.DEFAULT;return new VE((r=>df.mi(r,e)),this.serializer)}}class Lp{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Eb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=cO.bind(null,this.syncEngine),await FV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new qV})()}createDatastore(t){const e=kf(t.databaseInfo.databaseId),r=(function(u){return new wV(u)})(t.databaseInfo);return(function(u,c,m,p){return new IV(u,c,m,p)})(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return(function(r,o,u,c,m){return new MV(r,o,u,c,m)})(this.localStore,this.datastore,t.asyncQueue,(e=>Eb(this.syncEngine,e,0)),(function(){return yb.v()?new yb:new bV})())}createSyncEngine(t,e){return(function(o,u,c,m,p,g,v){const T=new ZV(o,u,c,m,p,g);return v&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const r=Lt(e);Tt(Ga,"RemoteStore shutting down."),r.Ea.add(5),await tc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Lp.provider={build:()=>new Lp};class mO{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Js("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const ea="FirestoreClient";class pO{constructor(t,e,r,o,u){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=o,this.user=In.UNAUTHENTICATED,this.clientId=bg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async c=>{Tt(ea,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(Tt(ea,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const r=Fg(e,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Zm(i,t){i.asyncQueue.verifyOperationInProgress(),Tt(ea,"Initializing OfflineComponentProvider");const e=i.configuration;await t.initialize(e);let r=e.initialUser;i.setCredentialChangeListener((async o=>{r.isEqual(o)||(await OE(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=t}async function wb(i,t){i.asyncQueue.verifyOperationInProgress();const e=await gO(i);Tt(ea,"Initializing OnlineComponentProvider"),await t.initialize(e,i.configuration),i.setCredentialChangeListener((r=>_b(t.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,o)=>_b(t.remoteStore,o))),i._onlineComponents=t}async function gO(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Tt(ea,"Using user provided OfflineComponentProvider");try{await Zm(i,i._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(o){return o.name==="FirebaseError"?o.code===ct.FAILED_PRECONDITION||o.code===ct.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(e))throw e;Jo("Error using user provided cache. Falling back to memory cache: "+e),await Zm(i,new pf)}}else Tt(ea,"Using default OfflineComponentProvider"),await Zm(i,new dO(void 0));return i._offlineComponents}async function $E(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Tt(ea,"Using user provided OnlineComponentProvider"),await wb(i,i._uninitializedComponentsProvider._online)):(Tt(ea,"Using default OnlineComponentProvider"),await wb(i,new Lp))),i._onlineComponents}function yO(i){return $E(i).then((t=>t.syncEngine))}async function vO(i){const t=await $E(i),e=t.eventManager;return e.onListen=tO.bind(null,t.syncEngine),e.onUnlisten=iO.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=eO.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=sO.bind(null,t.syncEngine),e}function _O(i,t,e={}){const r=new Xr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,c,m,p,g){const v=new mO({next:E=>{v.Nu(),c.enqueueAndForget((()=>KV(u,T)));const I=E.docs.has(m);!I&&E.fromCache?g.reject(new At(ct.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&E.fromCache&&p&&p.source==="server"?g.reject(new At(ct.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(E)},error:E=>g.reject(E)}),T=new XV(Cg(m.path),v,{includeMetadataChanges:!0,qa:!0});return GV(u,T)})(await vO(i),i.asyncQueue,t,e,r))),r.promise}function JE(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}const xb=new Map;const ZE="firestore.googleapis.com",Rb=!0;class Cb{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new At(ct.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ZE,this.ssl=Rb}else this.host=t.host,this.ssl=t.ssl??Rb;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=ME;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<YM)throw new At(ct.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}DD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JE(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new At(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new At(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new At(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Kg{constructor(t,e,r,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new At(ct.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new At(ct.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cb(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new _D;switch(r.type){case"firstParty":return new ED(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new At(ct.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const r=xb.get(e);r&&(Tt("ComponentProvider","Removing Datastore"),xb.delete(e),r.terminate())})(this),Promise.resolve()}}function TO(i,t,e,r={}){i=Vu(i,Kg);const o=al(t),u=i._getSettings(),c={...u,emulatorOptions:i._getEmulatorOptions()},m=`${t}:${e}`;o&&(Z1(`https://${m}`),tS("Firestore",!0)),u.host!==ZE&&u.host!==m&&Jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:r};if(!Ba(p,c)&&(i._setSettings(p),r.mockUserToken)){let g,v;if(typeof r.mockUserToken=="string")g=r.mockUserToken,v=In.MOCK_USER;else{g=HR(r.mockUserToken,i._app?.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new At(ct.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new In(T)}i._authCredentials=new TD(new qS(g,v))}}class Yg{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Yg(this.firestore,t,this._query)}}class dn{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Uu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new dn(this.firestore,t,this._key)}toJSON(){return{type:dn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,r){if($u(e,dn._jsonSchema))return new dn(t,r||null,new xt(Ne.fromString(e.referencePath)))}}dn._jsonSchemaVersion="firestore/documentReference/1.0",dn._jsonSchema={type:rn("string",dn._jsonSchemaVersion),referencePath:rn("string")};class Uu extends Yg{constructor(t,e,r){super(t,e,Cg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new dn(this.firestore,null,new xt(t))}withConverter(t){return new Uu(this.firestore,t,this._path)}}function tA(i,t,...e){if(i=Ci(i),arguments.length===1&&(t=bg.newId()),ID("doc","path",t),i instanceof Kg){const r=Ne.fromString(t,...e);return FT(r),new dn(i,null,new xt(r))}{if(!(i instanceof dn||i instanceof Uu))throw new At(ct.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(Ne.fromString(t,...e));return FT(r),new dn(i.firestore,i instanceof Uu?i.converter:null,new xt(r))}}const Ib="AsyncQueue";class Db{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new PE(this,"async_queue_retry"),this._c=()=>{const r=Jm();r&&Tt(Ib,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const e=Jm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Jm();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new Xr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!hl(t))throw t;Tt(Ib,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Js("INTERNAL UNHANDLED ERROR: ",Mb(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=e,e}enqueueAfterDelay(t,e,r){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const o=Bg.createAndSchedule(this,t,e,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Dt(47125,{Pc:Mb(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,r)=>e.targetTimeMs-r.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function Mb(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}class Qg extends Kg{constructor(t,e,r,o){super(t,e,r,o),this.type="firestore",this._queue=new Db,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Db(t),this._firestoreClient=void 0,await t}}}function bO(i,t){const e=typeof i=="object"?i:sS(),r=typeof i=="string"?i:af,o=ug(e,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=BR("firestore");u&&TO(o,...u)}return o}function eA(i){if(i._terminated)throw new At(ct.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||SO(i),i._firestoreClient}function SO(i){const t=i._freezeSettings(),e=(function(o,u,c,m){return new BD(o,u,c,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,JE(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,t);i._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),i._firestoreClient=new pO(i._authCredentials,i._appCheckCredentials,i._queue,e,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class wi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new wi(En.fromBase64String(t))}catch(e){throw new At(ct.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new wi(En.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:wi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if($u(t,wi._jsonSchema))return wi.fromBase64String(t.bytes)}}wi._jsonSchemaVersion="firestore/bytes/1.0",wi._jsonSchema={type:rn("string",wi._jsonSchemaVersion),bytes:rn("string")};class Xg{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new At(ct.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class nA{constructor(t){this._methodName=t}}class ps{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new At(ct.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new At(ct.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return $t(this._lat,t._lat)||$t(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ps._jsonSchemaVersion}}static fromJSON(t){if($u(t,ps._jsonSchema))return new ps(t.latitude,t.longitude)}}ps._jsonSchemaVersion="firestore/geoPoint/1.0",ps._jsonSchema={type:rn("string",ps._jsonSchemaVersion),latitude:rn("number"),longitude:rn("number")};class gs{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:gs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if($u(t,gs._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new gs(t.vectorValues);throw new At(ct.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}gs._jsonSchemaVersion="firestore/vectorValue/1.0",gs._jsonSchema={type:rn("string",gs._jsonSchemaVersion),vectorValues:rn("object")};const EO=/^__.*__$/;class AO{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return this.fieldMask!==null?new Qa(t,this.data,this.fieldMask,e,this.fieldTransforms):new Ju(t,this.data,e,this.fieldTransforms)}}function iA(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dt(40011,{Ac:i})}}class Wg{constructor(t,e,r,o,u,c){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Wg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),r=this.Vc({path:e,fc:!1});return r.gc(t),r}yc(t){const e=this.path?.child(t),r=this.Vc({path:e,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return gf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(iA(this.Ac)&&EO.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class wO{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||kf(t)}Cc(t,e,r,o=!1){return new Wg({Ac:t,methodName:e,Dc:r,path:Sn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xO(i){const t=i._freezeSettings(),e=kf(i._databaseId);return new wO(i._databaseId,!!t.ignoreUndefinedProperties,e)}function RO(i,t,e,r,o,u={}){const c=i.Cc(u.merge||u.mergeFields?2:0,t,e,o);oA("Data must be an object, but it was:",c,r);const m=rA(r,c);let p,g;if(u.merge)p=new Yi(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const v=[];for(const T of u.mergeFields){const E=CO(t,T,e);if(!c.contains(E))throw new At(ct.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);DO(v,E)||v.push(E)}p=new Yi(v),g=c.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=c.fieldTransforms;return new AO(new Ai(m),p,g)}function sA(i,t){if(aA(i=Ci(i)))return oA("Unsupported field value:",t,i),rA(i,t);if(i instanceof nA)return(function(r,o){if(!iA(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let c=0;for(const m of r){let p=sA(m,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(i,t)}return(function(r,o){if((r=Ci(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return hM(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=we.fromDate(r);return{timestampValue:ff(o.serializer,u)}}if(r instanceof we){const u=new we(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ff(o.serializer,u)}}if(r instanceof ps)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof wi)return{bytesValue:AE(o.serializer,r._byteString)};if(r instanceof dn){const u=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Vg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof gs)return(function(c,m){return{mapValue:{fields:{[ZS]:{stringValue:tE},[of]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Ig(m.serializer,g)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${Sg(r)}`)})(i,t)}function rA(i,t){const e={};return YS(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ka(i,((r,o)=>{const u=sA(o,t.mc(r));u!=null&&(e[r]=u)})),{mapValue:{fields:e}}}function aA(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof we||i instanceof ps||i instanceof wi||i instanceof dn||i instanceof nA||i instanceof gs)}function oA(i,t,e){if(!aA(e)||!GS(e)){const r=Sg(e);throw r==="an object"?t.Sc(i+" a custom object"):t.Sc(i+" "+r)}}function CO(i,t,e){if((t=Ci(t))instanceof Xg)return t._internalPath;if(typeof t=="string")return lA(i,t);throw gf("Field path arguments must be of type string or ",i,!1,void 0,e)}const IO=new RegExp("[~\\*/\\[\\]]");function lA(i,t,e){if(t.search(IO)>=0)throw gf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,e);try{return new Xg(...t.split("."))._internalPath}catch{throw gf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,e)}}function gf(i,t,e,r,o){const u=r&&!r.isEmpty(),c=o!==void 0;let m=`Function ${t}() called with invalid data`;e&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${r}`),c&&(p+=` in document ${o}`),p+=")"),new At(ct.INVALID_ARGUMENT,m+i+p)}function DO(i,t){return i.some((e=>e.isEqual(t)))}class uA{constructor(t,e,r,o,u){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new MO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(cA("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class MO extends uA{data(){return super.data()}}function cA(i,t){return typeof t=="string"?lA(i,t):t instanceof Xg?t._internalPath:t._delegate._internalPath}class VO{convertValue(t,e="none"){switch(Zr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Xe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Jr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Dt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return Ka(t,((o,u)=>{r[o]=this.convertValue(u,e)})),r}convertVectorValue(t){const e=t.fields?.[of].arrayValue?.values?.map((r=>Xe(r.doubleValue)));return new gs(e)}convertGeoPoint(t){return new ps(Xe(t.latitude),Xe(t.longitude))}convertArray(t,e){return(t.values||[]).map((r=>this.convertValue(r,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const r=If(t);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(Nu(t));default:return null}}convertTimestamp(t){const e=$r(t);return new we(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=Ne.fromString(t);ce(DE(r),9688,{name:t});const o=new Pu(r.get(1),r.get(3)),u=new xt(r.popFirst(5));return o.isEqual(e)||Js(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),u}}function OO(i,t,e){let r;return r=i?i.toFirestore(t):t,r}class gu{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class La extends uA{constructor(t,e,r,o,u,c){super(t,e,r,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new qh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(cA("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new At(ct.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=La._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}La._jsonSchemaVersion="firestore/documentSnapshot/1.0",La._jsonSchema={type:rn("string",La._jsonSchemaVersion),bundleSource:rn("string","DocumentSnapshot"),bundleName:rn("string"),bundle:rn("string")};class qh extends La{data(t={}){return super.data(t)}}class Au{constructor(t,e,r,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new gu(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((r=>{t.call(e,new qh(this._firestore,this._userDataWriter,r.key,r,new gu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new At(ct.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const p=new qh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new gu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new qh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new gu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),v=c.indexOf(m.doc.key)),{type:NO(m.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new At(ct.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Au._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=bg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(e.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function NO(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dt(61501,{type:i})}}function PO(i){i=Vu(i,dn);const t=Vu(i.firestore,Qg);return _O(eA(t),i._key).then((e=>UO(t,i,e)))}Au._jsonSchemaVersion="firestore/querySnapshot/1.0",Au._jsonSchema={type:rn("string",Au._jsonSchemaVersion),bundleSource:rn("string","QuerySnapshot"),bundleName:rn("string"),bundle:rn("string")};class kO extends VO{constructor(t){super(),this.firestore=t}convertBytes(t){return new wi(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new dn(this.firestore,null,e)}}function jO(i,t,e){i=Vu(i,dn);const r=Vu(i.firestore,Qg),o=OO(i.converter,t);return LO(r,[RO(xO(r),"setDoc",i._key,o,i.converter!==null,e).toMutation(i._key,Xs.none())])}function LO(i,t){return(function(r,o){const u=new Xr;return r.asyncQueue.enqueueAndForget((async()=>rO(await yO(r),o,u))),u.promise})(eA(i),t)}function UO(i,t,e){const r=e.docs.get(t._key),o=new kO(i);return new La(i,o,t._key,r,new gu(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(o){ul=o})(ol),Wo(new Fa("firestore",((r,{instanceIdentifier:o,options:u})=>{const c=r.getProvider("app").getImmediate(),m=new Qg(new bD(r.getProvider("auth-internal")),new AD(c,r.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new At(ct.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pu(g.options.projectId,v)})(c,o),c);return u={useFetchStreams:e,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Yr(LT,UT,t),Yr(LT,UT,"esm2020")})();const zO={apiKey:"AIzaSyAKvyD0SV7kUX5UciilZ0bk2F08wkf0T7g",authDomain:"planttycoon-c9dc0.firebaseapp.com",projectId:"planttycoon-c9dc0",storageBucket:"planttycoon-c9dc0.firebasestorage.app",messagingSenderId:"49910703062",appId:"1:49910703062:web:60c410e51c98714f3bfa77",measurementId:"G-NY5W0YD0SX"},hA=iS(zO),$g=yD(hA),fA=bO(hA),BO=new Ks,FO=async()=>{try{return(await xI($g,BO)).user}catch(i){throw console.error("Login failed:",i),i}},HO=async()=>{try{await aI($g)}catch(i){throw console.error("Logout failed:",i),i}},qO=async(i,t)=>{try{return await jO(tA(fA,"users",i),{savedAt:new Date().toISOString(),gameData:t}),!0}catch(e){return console.error("Save failed:",e),!1}},GO=async i=>{try{const t=tA(fA,"users",i),e=await PO(t);return e.exists()?e.data().gameData:null}catch(t){throw console.error("Load failed:",t),t}},KO=[{emoji:"",value:5,rarity:"common",weight:100,description:" ",flavorText:"      .    ,    ."},{emoji:"",value:6,rarity:"common",weight:90,description:" ",flavorText:"   .   ,   ."},{emoji:"",value:7,rarity:"common",weight:80,description:"",flavorText:"   .       ."},{emoji:"",value:8,rarity:"common",weight:70,description:"",flavorText:"   .        ."},{emoji:"",value:10,rarity:"common",weight:60,description:"",flavorText:"  .       ."},{emoji:"",value:15,rarity:"rare",weight:10,description:"",flavorText:"   .     ."},{emoji:"",value:16,rarity:"rare",weight:9,description:"",flavorText:"    .      ."},{emoji:"",value:17,rarity:"rare",weight:8,description:"",flavorText:"   .      ."},{emoji:"",value:18,rarity:"rare",weight:7,description:"",flavorText:"  .     ."},{emoji:"",value:19,rarity:"rare",weight:6,description:"",flavorText:"  .     ."},{emoji:"",value:20,rarity:"rare",weight:5,description:"",flavorText:"    .       ."},{emoji:"",value:21,rarity:"rare",weight:4,description:"",flavorText:"   .       ."},{emoji:"",value:23,rarity:"rare",weight:3,description:"",flavorText:"     .       ."},{emoji:"",value:25,rarity:"rare",weight:2,description:"",flavorText:"  .    ."},{emoji:"",value:40,rarity:"epic",weight:2,description:"",flavorText:"   .       ."},{emoji:"",value:42,rarity:"epic",weight:1.8,description:"",flavorText:"    .   ."},{emoji:"",value:44,rarity:"epic",weight:1.6,description:"",flavorText:"     .    ."},{emoji:"",value:46,rarity:"epic",weight:1.4,description:"",flavorText:"   .     ."},{emoji:"",value:48,rarity:"epic",weight:1.2,description:"",flavorText:"    .      ."},{emoji:"",value:50,rarity:"epic",weight:1,description:"",flavorText:"  , .    ."},{emoji:"",value:52,rarity:"epic",weight:.8,description:"",flavorText:"      .     ."},{emoji:"",value:55,rarity:"epic",weight:.6,description:"",flavorText:"   .    ."},{emoji:"",value:60,rarity:"epic",weight:.4,description:"",flavorText:"    .     ."},{emoji:"",value:80,rarity:"legendary",weight:.3,description:"",flavorText:"   .      ."},{emoji:"",value:82,rarity:"legendary",weight:.25,description:"",flavorText:"   .    ."},{emoji:"",value:84,rarity:"legendary",weight:.2,description:"",flavorText:"   .    ."},{emoji:"",value:86,rarity:"legendary",weight:.18,description:"",flavorText:"   .      ."},{emoji:"",value:88,rarity:"legendary",weight:.16,description:"",flavorText:"  .      ."},{emoji:"",value:90,rarity:"legendary",weight:.14,description:"",flavorText:"  .     ."},{emoji:"",value:92,rarity:"legendary",weight:.12,description:"",flavorText:"   .      ."},{emoji:"",value:95,rarity:"legendary",weight:.1,description:"",flavorText:"   .     ."},{emoji:"",value:98,rarity:"legendary",weight:.08,description:"",flavorText:"   .      ."},{emoji:"",value:100,rarity:"legendary",weight:.06,description:"",flavorText:"    .     ."},{emoji:"",value:250,rarity:"mythic",weight:.05,description:"",flavorText:"    .     ."},{emoji:"",value:260,rarity:"mythic",weight:.03,description:"",flavorText:"   .       ."},{emoji:"",value:270,rarity:"mythic",weight:.02,description:"",flavorText:"   .     ."},{emoji:"",value:280,rarity:"mythic",weight:.01,description:" ",flavorText:"   .     ."},{emoji:"",value:300,rarity:"mythic",weight:.005,description:"",flavorText:"     .    ."}],YO={totalSlots:25,baseGrowthInterval:3e3,growthProbability:.3},qi={mushrooms:KO,settings:YO},QO=[{id:"red_stew",name:" ",emoji:"",description:"    .   50% .",ingredients:["","",""],time:1e4,value:20,effect:{type:"speed",value:.5,duration:12e4}},{id:"rainbow_salad",name:" ",emoji:"",description:"  !     .",ingredients:["","",""],time:3e4,value:150,effect:{type:"fill_empty_slots",value:1,duration:0}},{id:"nut_bomb",name:" ",emoji:"",description:"  .   1 .",ingredients:["","",""],time:45e3,value:80,effect:{type:"add_consumable",value:"seedBomb",count:1,duration:0}},{id:"golden_tea",name:" ",emoji:"",description:"   .    50% .",ingredients:["","",""],time:6e4,value:130,effect:{type:"spawn_rate",value:.5,duration:12e4}},{id:"elixir_of_life",name:" ",emoji:"",description:"  . 30    10 .",ingredients:["","",""],time:12e4,value:2e3,effect:{type:"speed",value:9,duration:3e4}},{id:"mushroom_soup",name:" ",emoji:"",description:"  . 3    30% .",ingredients:["","",""],time:15e3,value:30,effect:{type:"speed",value:.3,duration:18e4}},{id:"nut_bar",name:" ",emoji:"",description:" ! 3     30% .",ingredients:["","",""],time:2e4,value:40,effect:{type:"spawn_rate",value:.3,duration:18e4}},{id:"tropical_punch",name:" ",emoji:"",description:"   . 2    100% .",ingredients:["","",""],time:4e4,value:200,effect:{type:"speed",value:1,duration:12e4}},{id:"flower_bouquet",name:"",emoji:"",description:" . 2     100% .",ingredients:["","",""],time:5e4,value:250,effect:{type:"spawn_rate",value:1,duration:12e4}},{id:"lucky_charm",name:" ",emoji:"",description:" . 5     50% .",ingredients:["","",""],time:35e3,value:100,effect:{type:"spawn_rate",value:.5,duration:3e5}},{id:"lucky_stew",name:" ",emoji:"",description:"    . 3       2 .",ingredients:["","",""],time:2e4,value:50,effect:{type:"rarity_boost",target:"all",value:2,duration:18e4}},{id:"green_smoothie",name:" ",emoji:"",description:" ! 3  '(Rare)'     3 .",ingredients:["","",""],time:25e3,value:60,effect:{type:"rarity_boost",target:"rare",value:3,duration:18e4}},{id:"purple_tart",name:" ",emoji:"",description:" . 3  '(Epic)'     3 .",ingredients:["","",""],time:4e4,value:150,effect:{type:"rarity_boost",target:"epic",value:3,duration:18e4}},{id:"royal_cake",name:" ",emoji:"",description:" . 3  '(Legendary)'     3 .",ingredients:["","",""],time:6e4,value:300,effect:{type:"rarity_boost",target:"legendary",value:3,duration:18e4}},{id:"starlight_pudding",name:" ",emoji:"",description:" . 3  '(Mythic)'     3 .",ingredients:["","",""],time:1e5,value:1e3,effect:{type:"rarity_boost",target:"mythic",value:3,duration:18e4}}],Gh={recipes:QO},XO=[{id:"harvest_10",title:" ",description:"  10 .",icon:"",condition:{type:"total_harvest",value:10},reward:{type:"gold",value:100}},{id:"harvest_100",title:" ",description:"  100 .",icon:"",condition:{type:"total_harvest",value:100},reward:{type:"gold",value:500}},{id:"harvest_1000",title:" ",description:"  1,000 .",icon:"",condition:{type:"total_harvest",value:1e3},reward:{type:"gold",value:5e3}},{id:"gold_1000",title:"",description:" 1,000  .",icon:"",condition:{type:"total_gold",value:1e3},reward:{type:"gold",value:200}},{id:"gold_10000",title:"",description:" 10,000  .",icon:"",condition:{type:"total_gold",value:1e4},reward:{type:"gold",value:1e3}},{id:"gold_100000",title:"",description:" 100,000  .",icon:"",condition:{type:"total_gold",value:1e5},reward:{type:"gold",value:1e4}},{id:"cook_1",title:" ",description:" 1 .",icon:"",condition:{type:"total_cook",value:1},reward:{type:"gold",value:50}},{id:"cook_10",title:"",description:" 10 .",icon:"",condition:{type:"total_cook",value:10},reward:{type:"gold",value:300}},{id:"cook_50",title:" ",description:" 50 .",icon:"",condition:{type:"total_cook",value:50},reward:{type:"gold",value:2e3}},{id:"collection_5",title:"",description:"  5 .",icon:"",condition:{type:"collection_count",value:5},reward:{type:"gold",value:150}},{id:"collection_10",title:" ",description:"  10 .",icon:"",condition:{type:"collection_count",value:10},reward:{type:"gold",value:500}},{id:"collection_20",title:" ",description:"  20 .",icon:"",condition:{type:"collection_count",value:20},reward:{type:"gold",value:2e3}}],yf={achievements:XO},WO=[{id:"chef",name:" ",emoji:"",dialogue:["  !","  ?","   ?","   ."]},{id:"merchant",name:" ",emoji:"",dialogue:["   ."," .","  ?","   !"]},{id:"farmer",name:" ",emoji:"",dialogue:["...   ."," .","  ?"," ..."]},{id:"wizard",name:" ",emoji:"",dialogue:["  .","  .","   ?","   ."]}],Vb={npcs:WO},Dh=25,$O=.01;function JO(){const[i,t]=G.useState(()=>{const O=localStorage.getItem("plant_game_gold");return O?parseInt(O):50}),[e,r]=G.useState(()=>{const O=localStorage.getItem("plant_game_plants");return O?JSON.parse(O):Array(Dh).fill(null)}),[o,u]=G.useState(()=>{const O=localStorage.getItem("plant_game_inventory");return O?JSON.parse(O):{}}),[c,m]=G.useState(()=>{const O=localStorage.getItem("plant_game_collection");return O?JSON.parse(O):{}}),[p,g]=G.useState(()=>{const O=localStorage.getItem("plant_game_upgradeLevel");return O?parseInt(O):0}),[v,T]=G.useState(()=>{const O=localStorage.getItem("plant_game_unlocks");return O?JSON.parse(O):{statistics:!1,harvestAll:!1}}),[E,I]=G.useState(()=>{const O=localStorage.getItem("plant_game_rarityLevel");return O?parseInt(O):1}),[U,D]=G.useState(()=>{const O=localStorage.getItem("plant_game_foodState");return O?JSON.parse(O):{active:!1,endTime:0,type:null,multiplier:1}}),[k,W]=G.useState(()=>{const O=localStorage.getItem("plant_game_activeBuffs"),et=O?JSON.parse(O):[];return Array.isArray(et)?et:[]}),[nt,it]=G.useState(()=>{const O=localStorage.getItem("plant_game_stats");return O?JSON.parse(O):{total_harvest:0,total_gold:0,total_cook:0,collection_count:0}}),[ft,dt]=G.useState(()=>{const O=localStorage.getItem("plant_game_achievements");return O?JSON.parse(O):{}}),[mt,R]=G.useState(()=>{const O=localStorage.getItem("plant_game_activeQuests");return O?JSON.parse(O):[]}),[w,C]=G.useState(()=>{const O=localStorage.getItem("plant_game_questTimer");return O?parseInt(O):Date.now()+18e5}),[P,N]=G.useState(()=>{const O=localStorage.getItem("plant_game_pityCounter");return O?parseInt(O):0}),[z,M]=G.useState(()=>{const O=localStorage.getItem("plant_game_fertilizerLevel");return O?parseInt(O):0}),[Ht,le]=G.useState(()=>{const O=localStorage.getItem("plant_game_consumables");return O?JSON.parse(O):{seedBomb:0,growthPotion:0}}),[Q,ut]=G.useState(()=>{const O=localStorage.getItem("plant_game_cookedItems");return O?JSON.parse(O):{}}),[ht,Mt]=G.useState(()=>{const O=localStorage.getItem("plant_game_cookingState");let et=O?JSON.parse(O):{active:!1,startTime:0,duration:0,ingredients:[],result:null};return et.result&&!et.result.ingredients&&(et.result.ingredients=["","",""]),et}),[Rt,j]=G.useState(()=>{const O=localStorage.getItem("plant_game_discoveredRecipes");return O?JSON.parse(O):[]}),[rt,gt]=G.useState(null),[vt,Ct]=G.useState(null),[Nt,Bt]=G.useState(!1),[De,pe]=G.useState(null);G.useEffect(()=>{const O=rI($g,et=>{Ct(et)});return()=>O()},[]);const Ii=async()=>{try{await FO()}catch(O){alert(" : "+O.message)}},Xi=async()=>{try{await HO(),Ct(null)}catch(O){alert(" : "+O.message)}},Wi=async()=>{if(!vt){alert(" .");return}Bt(!0);const O={gold:i,plants:e,inventory:o,collection:c,upgradeLevel:p,unlocks:v,rarityLevel:E,fertilizerLevel:z,consumables:Ht,cookedItems:Q,discoveredRecipes:Rt,stats:nt,achievements:ft,foodState:U,activeBuffs:k,cookingState:ht,pityCounter:P,questTimer:w,activeQuests:mt,savedAt:Date.now()},et=await qO(vt.uid,O);Bt(!1),et?(pe(new Date),alert(" ! ")):alert(" .  .")},$i=async()=>{if(!vt){alert(" .");return}if(window.confirm("    ?")){Bt(!0);try{const O=await GO(vt.uid);O?(t(O.gold||50),r(O.plants||Array(Dh).fill(null)),u(O.inventory||{}),m(O.collection||{}),g(O.upgradeLevel||0),T(O.unlocks||{statistics:!1,harvestAll:!1}),I(O.rarityLevel||1),M(O.fertilizerLevel||0),le(O.consumables||{seedBomb:0,growthPotion:0}),ut(O.cookedItems||{}),j(O.discoveredRecipes||[]),it(O.stats||{total_harvest:0,total_gold:0,total_cook:0,collection_count:0}),dt(O.achievements||{}),D(O.foodState||{active:!1,endTime:0,type:null,multiplier:1}),W(O.activeBuffs||[]),Mt(O.cookingState||{active:!1,startTime:0,duration:0,ingredients:[],result:null}),N(O.pityCounter||0),C(O.questTimer||Date.now()+18e5),R(O.activeQuests||[]),alert("  ! ")):alert("  .")}catch(O){console.error(O),alert(" .")}finally{Bt(!1)}}};G.useEffect(()=>{localStorage.setItem("plant_game_gold",i),localStorage.setItem("plant_game_plants",JSON.stringify(e)),localStorage.setItem("plant_game_inventory",JSON.stringify(o)),localStorage.setItem("plant_game_collection",JSON.stringify(c)),localStorage.setItem("plant_game_upgradeLevel",p),localStorage.setItem("plant_game_unlocks",JSON.stringify(v)),localStorage.setItem("plant_game_rarityLevel",E),localStorage.setItem("plant_game_foodState",JSON.stringify(U)),localStorage.setItem("plant_game_pityCounter",P),localStorage.setItem("plant_game_fertilizerLevel",z),localStorage.setItem("plant_game_consumables",JSON.stringify(Ht)),localStorage.setItem("plant_game_cookedItems",JSON.stringify(Q)),localStorage.setItem("plant_game_activeBuffs",JSON.stringify(k)),localStorage.setItem("plant_game_cookingState",JSON.stringify(ht)),localStorage.setItem("plant_game_discoveredRecipes",JSON.stringify(Rt)),localStorage.setItem("plant_game_stats",JSON.stringify(nt)),localStorage.setItem("plant_game_achievements",JSON.stringify(ft)),localStorage.setItem("plant_game_activeQuests",JSON.stringify(mt)),localStorage.setItem("plant_game_questTimer",w)},[i,e,o,c,p,v,E,U,P,z,Ht,Q,k,ht,Rt,nt,ft,mt,w]);const On=G.useRef({plants:e,foodState:U,upgradeLevel:p,rarityLevel:E,pityCounter:P,fertilizerLevel:z,consumables:Ht,activeBuffs:k});G.useEffect(()=>{On.current={plants:e,foodState:U,upgradeLevel:p,rarityLevel:E,pityCounter:P,fertilizerLevel:z,consumables:Ht,activeBuffs:k}},[e,U,p,E,P,z,Ht,k]),G.useEffect(()=>{const O=setInterval(()=>{const{plants:et,foodState:$,upgradeLevel:tt,rarityLevel:F,pityCounter:at,activeBuffs:bt}=On.current,_t=Date.now(),Pt=bt.filter(ee=>ee.endTime>_t);Pt.length!==bt.length&&W(Pt);let Ve=1,We=1;if(Pt.forEach(ee=>{ee.type==="speed"&&(Ve+=ee.value),ee.type==="spawn_rate"&&(We+=ee.value)}),$.active&&Date.now()>$.endTime){D({active:!1,endTime:0,type:null,multiplier:1});return}r(ee=>{let re=[...ee],wn=!1;const Pn=re.map((he,xn)=>he===null?xn:-1).filter(he=>he!==-1);if(!$.active)return ee;const ar=$O*$.multiplier*We,ci=at*.01,zn=Math.min(ar+ci,1);if(Pn.length>0&&Math.random()<zn){N(0);const he=Pn[Math.floor(Math.random()*Pn.length)],xn=bt.filter(Oe=>Oe.type==="rarity_boost"),be=qi.mushrooms.filter(Oe=>!(Oe.rarity==="epic"&&F<5||Oe.rarity==="legendary"&&F<10||Oe.rarity==="mythic"&&F<15)).map(Oe=>{let Ni=1;return xn.forEach(Rs=>{(Rs.target==="all"&&Oe.rarity!=="common"||Rs.target===Oe.rarity)&&(Ni*=Rs.value)}),{...Oe,effectiveWeight:Oe.rarity==="common"?Oe.weight/(1+F*.15):Oe.weight*(1+(F-1)*.8)*Ni}}),Vi=be.reduce((Oe,Ni)=>Oe+Ni.effectiveWeight,0);let or=Math.random()*Vi,$n=be[0];for(const Oe of be)if(or-=Oe.effectiveWeight,or<=0){$n=Oe;break}let ra=Math.max(6e4-tt*3e3,5e3);re[he]={...$n,id:Date.now()+Math.random(),stage:"baby",plantedAt:Date.now(),growthProgress:0,growthDuration:ra},wn=!0}else Pn.length>0&&N(he=>he+1);return $.active&&(re=re.map(he=>{if(he&&he.stage==="baby"){const xn=he.growthProgress||0,be=1e3*($.multiplier||1)*Ve,Vi=xn+be;return Vi>=he.growthDuration?(wn=!0,{...he,stage:"adult",growthProgress:Vi}):(wn=!0,{...he,growthProgress:Vi})}return he})),wn?re:ee})},1e3);return()=>clearInterval(O)},[]);const Ji=G.useCallback((O,et)=>{const $={};let tt=!1;const F=Object.keys(et).length;O.collection_count!==F&&(O.collection_count=F),yf.achievements.forEach(at=>{if(ft[at.id])return;const bt=at.condition;O[bt.type]>=bt.value&&($[at.id]={unlocked:!0,date:new Date().toISOString(),claimed:!1},tt=!0)}),tt&&dt(at=>({...at,...$}))},[ft]),je=G.useCallback((O,et=1)=>{it($=>({...$,[O]:($[O]||0)+et}))},[]);G.useEffect(()=>{Ji(nt,c)},[nt,c,Ji]);const Di=G.useCallback(O=>{const et=ft[O];if(!et||!et.unlocked||et.claimed)return;const $=yf.achievements.find(F=>F.id===O);if(!$)return;const tt=$.reward;tt.type==="gold"&&t(F=>F+tt.value),dt(F=>({...F,[O]:{...F[O],claimed:!0}}))},[ft]),ai=G.useCallback(()=>{const O=[],et=Vb.npcs;for(let $=0;$<3;$++){const tt=et[Math.floor(Math.random()*et.length)],F=Rt.length>0&&Math.random()<.3;let at,bt,_t;if(F){const We=Rt[Math.floor(Math.random()*Rt.length)],ee=Gh.recipes.find(re=>re.id===We);if(!ee)continue;at={type:"dish",id:ee.id,name:ee.name,emoji:ee.emoji,value:ee.value},bt=Math.floor(Math.random()*3)+1}else{const We=qi.mushrooms.filter(re=>re.rarity==="common"||re.rarity==="rare"&&E>=2||re.rarity==="epic"&&E>=5||re.rarity==="legendary"&&E>=10),ee=We[Math.floor(Math.random()*We.length)];at={type:"plant",id:ee.emoji,name:ee.name,emoji:ee.emoji,value:ee.value},bt=Math.floor(Math.random()*5)+3}const Pt=at.value*bt,Ve=1.5+Math.random()*.5;_t=Math.floor(Pt*Ve),O.push({id:Date.now()+$,npcId:tt.id,npcName:tt.name,npcEmoji:tt.emoji,dialogue:tt.dialogue[Math.floor(Math.random()*tt.dialogue.length)],request:{...at,count:bt},reward:{gold:_t}})}R(O),C(Date.now()+18e5)},[E,Rt]),xe=G.useCallback((O=0)=>{Date.now()>=w?ai():i>=O&&(t(et=>et-O),ai())},[i,ai,w]),Me=G.useCallback(O=>{if(i<100)return;t(ee=>ee-100);const $=Vb.npcs,tt=$[Math.floor(Math.random()*$.length)],F=Rt.length>0&&Math.random()<.3;let at,bt,_t;if(F){const ee=Rt[Math.floor(Math.random()*Rt.length)],re=Gh.recipes.find(wn=>wn.id===ee);if(!re)return;at={type:"dish",id:re.id,name:re.name,emoji:re.emoji,value:re.value},bt=Math.floor(Math.random()*3)+1}else{const ee=qi.mushrooms.filter(wn=>wn.rarity==="common"||wn.rarity==="rare"&&E>=2||wn.rarity==="epic"&&E>=5||wn.rarity==="legendary"&&E>=10),re=ee[Math.floor(Math.random()*ee.length)];at={type:"plant",id:re.emoji,name:re.name,emoji:re.emoji,value:re.value},bt=Math.floor(Math.random()*10)+5}const Pt=at.value*bt,Ve=1.5+Math.random()*.5;_t=Math.floor(Pt*Ve);const We={id:Date.now(),npcId:tt.id,npcName:tt.name,npcEmoji:tt.emoji,dialogue:tt.dialogue[Math.floor(Math.random()*tt.dialogue.length)],request:{...at,count:bt},reward:{gold:_t}};R(ee=>ee.map(re=>re.id===O?We:re))},[i,E,Rt]),Gt=G.useCallback(O=>{const et=mt.find(tt=>tt.id===O);if(!et)return;const $=et.request;if($.type==="plant"){if(!o[$.id]||o[$.id].count<$.count)return;u(tt=>{const F={...tt};return F[$.id]={...F[$.id]},F[$.id].count-=$.count,F[$.id].count<=0&&delete F[$.id],F})}else if($.type==="dish"){if(!Q[$.id]||Q[$.id].count<$.count)return;ut(tt=>{const F={...tt};return F[$.id]={...F[$.id]},F[$.id].count-=$.count,F[$.id].count<=0&&delete F[$.id],F})}t(tt=>tt+et.reward.gold),R(tt=>tt.filter(F=>F.id!==O))},[mt,o,Q]);G.useEffect(()=>{w||C(Date.now()+18e5)},[w]),G.useEffect(()=>{mt.length===0&&ai()},[]);const An=G.useCallback(O=>{const et=e[O];if(!et||et.stage!=="adult")return;const $=!c[et.emoji];r(tt=>{const F=[...tt];return F[O]=null,F}),u(tt=>{const F={...tt};return F[et.emoji]?F[et.emoji]={...F[et.emoji]}:F[et.emoji]={...et,count:0},F[et.emoji].count+=1,F}),m(tt=>{const F={...tt};return F[et.emoji]?F[et.emoji]={...F[et.emoji]}:F[et.emoji]={discovered:!0,count:0,firstDiscoveredAt:new Date().toISOString()},F[et.emoji].count+=1,F}),$&&gt({emoji:et.emoji,name:et.name,rarity:et.rarity}),je("total_harvest",1)},[e,c,je]),ir=G.useCallback((O,et=1)=>{const $=o[O];!$||$.count<et||(u(tt=>{const F={...tt};return F[O]&&(F[O]={...F[O]},F[O].count-=et,F[O].count<=0&&delete F[O]),F}),t(tt=>{const F=k.find(_t=>_t.type==="gold"),at=F?1+F.value:1,bt=Math.floor($.value*et*at);return je("total_gold",bt),tt+bt}))},[o,k,je]),He=G.useCallback(()=>{let O=0;Object.values(o).forEach(et=>{O+=et.value*et.count}),O>0&&(u({}),t(et=>{const $=k.find(at=>at.type==="gold"),tt=$?1+$.value:1,F=Math.floor(O*tt);return je("total_gold",F),et+F}))},[o,k,je]),Mi=G.useCallback(()=>{const O=100+p*50;return i>=O?(t(et=>et-O),g(et=>et+1),!0):!1},[i,p]),Zi=G.useCallback(O=>i>=500&&!v[O]?(t($=>$-500),T($=>({...$,[O]:!0})),!0):!1,[i,v]),Ss=G.useCallback(()=>{const O=500*E;i>=O&&(t(et=>et-O),I(et=>et+1))},[i,E]),oi=G.useCallback(()=>{const O=1e3+z*500;i>=O&&(t(et=>et-O),M(et=>et+1))},[i,z]),Es=G.useCallback((O,et)=>{i>=et&&(t($=>$-et),le($=>({...$,[O]:($[O]||0)+1})))},[i]),As=O=>{const et=k.filter(at=>at.type==="rarity_boost"),$=qi.mushrooms.filter(at=>!(at.rarity==="epic"&&O<5||at.rarity==="legendary"&&O<10||at.rarity==="mythic"&&O<15)).map(at=>{let bt=1;return et.forEach(_t=>{(_t.target==="all"&&at.rarity!=="common"||_t.target===at.rarity)&&(bt*=_t.value)}),{...at,effectiveWeight:at.rarity==="common"?at.weight:at.weight*(1+(O-1)*.1)*bt}}),tt=$.reduce((at,bt)=>at+bt.effectiveWeight,0);let F=Math.random()*tt;for(const at of $)if(F-=at.effectiveWeight,F<=0)return at;return $[0]},sr=G.useCallback(O=>{if(!Ht[O]||Ht[O]<=0)return;let et=!1;O==="seedBomb"?r($=>{const tt=[...$];let F=!1;tt.forEach((at,bt)=>{at&&at.stage==="baby"&&(tt[bt]={...at,stage:"adult",growthProgress:at.growthDuration},F=!0)});for(let at=0;at<Dh;at++)if(!tt[at]){const bt=As(E),_t=Math.max(6e4-p*3e3,5e3);tt[at]={...bt,id:Date.now()+Math.random()+at,stage:"adult",plantedAt:Date.now(),growthProgress:_t,growthDuration:_t},F=!0}return F&&(et=!0),F?tt:$}):O==="growthPotion"&&r($=>{const tt=$.map(F=>F&&F.stage==="baby"?(et=!0,{...F,stage:"adult",growthProgress:F.growthDuration}):F);return et=!0,tt}),et&&le($=>({...$,[O]:$[O]-1}))},[Ht,E,p]),rr=G.useCallback(()=>{if(i<250)return{success:!1,message:" !"};t(tt=>tt-250);const et=Math.random()*100;let $={};return et<.5?(t(F=>F+3e3),$={type:"jackpot",message:" !  !",rewardText:"+3000 Gold"}):et<5.5?(t(F=>F+500),$={type:"big_win",message:" !  ?",rewardText:"+500 Gold"}):et<45.5?(t(F=>F+50),$={type:"small_win",message:"  ...",rewardText:"+50 Gold"}):$={type:"trash",message:" !  ...",rewardText:" ..."},{success:!0,result:$}},[i]),Nn=G.useCallback(()=>{if(!v.harvestAll)return;const O=[];if(e.forEach((tt,F)=>{tt&&tt.stage==="adult"&&O.push({plant:tt,index:F})}),O.length===0)return;const et={};O.forEach(({plant:tt})=>{et[tt.emoji]||(et[tt.emoji]={...tt,count:0}),et[tt.emoji].count++});let $=null;Object.values(et).forEach(tt=>{!c[tt.emoji]&&!$&&($={emoji:tt.emoji,name:tt.name,rarity:tt.rarity})}),r(tt=>{const F=[...tt];return O.forEach(({index:at})=>{F[at]=null}),F}),u(tt=>{const F={...tt};return Object.values(et).forEach(at=>{F[at.emoji]?F[at.emoji]={...F[at.emoji]}:F[at.emoji]={...at,count:0},F[at.emoji].count+=at.count}),F}),m(tt=>{const F={...tt};return Object.values(et).forEach(at=>{F[at.emoji]?F[at.emoji]={...F[at.emoji]}:F[at.emoji]={discovered:!0,count:0,firstDiscoveredAt:new Date().toISOString()},F[at.emoji].count+=at.count}),F}),$&&setTimeout(()=>gt($),100),je("total_harvest",O.length)},[v.harvestAll,e,c,je]),yt=G.useCallback(O=>{const $={"3min-free":{duration:18e4,multiplier:.5,cost:0,name:"3min Free"},"1min":{duration:6e4,multiplier:2.5,cost:200,name:"1min Speed (2.5x)"},"5min":{duration:3e5,multiplier:1,cost:150,name:"5min Normal"},"10min":{duration:6e5,multiplier:.7,cost:350,name:"10min Slow"}}[O];if($&&i>=$.cost){t(at=>at-$.cost);const tt=1+z*.1,F=$.duration*tt;D({active:!0,endTime:Date.now()+F,type:O,multiplier:$.multiplier})}},[i,z]),qt=G.useCallback(()=>{D({active:!1,endTime:0,type:null,multiplier:1})},[]),ue=G.useCallback(O=>{if(O.length!==3)return;const et={};O.forEach(F=>{et[F]=(et[F]||0)+1});for(const[F,at]of Object.entries(et))if(!o[F]||o[F].count<at)return;u(F=>{const at={...F};return O.forEach(bt=>{at[bt]&&(at[bt]={...at[bt]},at[bt].count-=1,at[bt].count<=0&&delete at[bt])}),at});const $=[...O].sort(),tt=Gh.recipes.find(F=>{const at=[...F.ingredients].sort();return JSON.stringify(at)===JSON.stringify($)});if(tt)Mt({active:!0,startTime:Date.now(),duration:tt.time,ingredients:O,result:tt});else{const F=O.reduce((bt,_t)=>{const Pt=qi.mushrooms.find(Ve=>Ve.emoji===_t);return bt+(Pt?Pt.value:0)},0),at={id:`mixed_stew_${Date.now()}`,name:" ",emoji:"",description:"     .    .",value:Math.floor(F*1.1),count:1,effect:null};Mt({active:!0,startTime:Date.now(),duration:1e4,ingredients:O,result:{...at,ingredients:O}})}},[o]),Un=G.useCallback(()=>{if(!ht.active||Date.now()-ht.startTime<ht.duration)return;const $=ht.result;ut(tt=>{const F={...tt},at=$.id.startsWith("mixed_stew")?`mixed_stew_${$.value}`:$.id;return F[at]?F[at]={...F[at]}:F[at]={...$,id:at,count:0},F[at].count===void 0&&(F[at].count=0),F[at].count+=1,F}),$.id.startsWith("mixed_stew")||j(tt=>tt.includes($.id)?tt:[...tt,$.id]),Mt({active:!1,startTime:0,duration:0,ingredients:[],result:null}),je("total_cook",1)},[ht,je]),te=G.useCallback(O=>{if(!Q[O]||Q[O].count<=0)return;const et=Q[O],$=et.effect;$.type==="instant_growth"?r(tt=>{const F=[...tt];let at=$.value;const bt=F.map((_t,Pt)=>({p:_t,i:Pt})).filter(({p:_t})=>_t&&_t.stage==="baby");for(let _t=bt.length-1;_t>0;_t--){const Pt=Math.floor(Math.random()*(_t+1));[bt[_t],bt[Pt]]=[bt[Pt],bt[_t]]}return bt.slice(0,at).forEach(({i:_t})=>{F[_t]={...F[_t],stage:"adult",growthProgress:F[_t].growthDuration}}),F}):$.type==="fill_empty_slots"?r(tt=>{const F=[...tt];let at=!1;for(let bt=0;bt<Dh;bt++)if(!F[bt]){const _t=As(E),Pt=Math.max(6e4-p*3e3,5e3);F[bt]={..._t,id:Date.now()+Math.random()+bt,stage:"baby",plantedAt:Date.now(),growthProgress:0,growthDuration:Pt},at=!0}return at?F:tt}):W(tt=>[...tt.filter(F=>F.type!==$.type||F.target!==$.target),{type:$.type,target:$.target,value:$.value,endTime:Date.now()+$.duration,name:et.name}]),ut(tt=>{const F={...tt};return F[O]={...F[O]},F[O].count-=1,F[O].count<=0&&delete F[O],F})},[Q]),Le=G.useCallback((O,et=1)=>{const $=Q[O];!$||$.count<et||(ut(tt=>{const F={...tt};return F[O]={...F[O]},F[O].count-=et,F[O].count<=0&&delete F[O],F}),t(tt=>{const F=k.find(_t=>_t.type==="gold"),at=F?1+F.value:1,bt=Math.floor($.value*et*at);return je("total_gold",bt),tt+bt}))},[Q,k,je]),qe=G.useCallback(()=>{window.confirm(" ?   .")&&(localStorage.clear(),window.location.reload())},[]),ws=G.useCallback(()=>{t(1e5);const O=qi.mushrooms,et={};O.forEach($=>{et[$.emoji]={...$,count:99}}),u(et),alert("God Mode Activated! ")},[]),[Ue,li]=G.useState({}),ui=G.useCallback(O=>{li(et=>{const $={...et};return $[O]?(delete $[O],t(tt=>tt+50),$):et})},[]),[an,gl]=G.useState(()=>{const O=localStorage.getItem("plant_game_pets");try{return O?JSON.parse(O):{dog:!1}}catch{return{dog:!1}}});G.useEffect(()=>{localStorage.setItem("plant_game_pets",JSON.stringify(an))},[an]);const Wa=G.useCallback((O,et)=>i>=et&&!an[O]?(t($=>$-et),gl($=>({...$,[O]:!0})),!0):!1,[i,an]),Wn=G.useRef(e);G.useEffect(()=>{Wn.current=e},[e]),G.useEffect(()=>{if(!an.dog)return;const O=setInterval(()=>{const $=Wn.current.map((tt,F)=>tt&&tt.stage==="adult"?F:-1).filter(tt=>tt!==-1);if($.length>0){const tt=$[Math.floor(Math.random()*$.length)];An(tt)}},15e3);return()=>clearInterval(O)},[an.dog,An]);const[mn,yl]=G.useState(()=>{const O=localStorage.getItem("plant_game_dailyReward");return O?JSON.parse(O):{streak:0,lastClaimed:null}});G.useEffect(()=>{localStorage.setItem("plant_game_dailyReward",JSON.stringify(mn))},[mn]);const xs=G.useCallback(()=>{const O=Date.now(),et=mn.lastClaimed?new Date(mn.lastClaimed).getTime():0,$=new Date(et),tt=new Date(O);if($.getFullYear()===tt.getFullYear()&&$.getMonth()===tt.getMonth()&&$.getDate()===tt.getDate()&&mn.lastClaimed!==null)return{success:!1,message:"   ."};let at=mn.streak+1;mn.lastClaimed&&O-et>2880*60*1e3&&(at=1),at>7&&(at=1);const _t=[{day:1,type:"gold",value:500},{day:2,type:"gold",value:1e3},{day:3,type:"consumable",id:"growthPotion",count:1},{day:4,type:"gold",value:2e3},{day:5,type:"consumable",id:"seedBomb",count:1},{day:6,type:"consumable",id:"growthPotion",count:2},{day:7,type:"mixed",gold:5e3,items:[{id:"seedBomb",count:3}]}][at-1];return _t.type==="gold"?t(Pt=>Pt+_t.value):_t.type==="consumable"?le(Pt=>({...Pt,[_t.id]:(Pt[_t.id]||0)+_t.count})):_t.type==="mixed"&&(t(Pt=>Pt+_t.gold),le(Pt=>{const Ve={...Pt};return _t.items.forEach(We=>{Ve[We.id]=(Ve[We.id]||0)+We.count}),Ve})),yl({streak:at,lastClaimed:new Date().toISOString()}),{success:!0,streak:at,reward:_t}},[mn]);return{user:vt,handleLogin:Ii,handleLogout:Xi,handleSaveGame:Wi,handleLoadGame:$i,isSaving:Nt,lastSaved:De,dailyReward:mn,claimDailyReward:xs,gold:i,plants:e,inventory:o,collection:c,upgradeLevel:p,unlocks:v,rarityLevel:E,fertilizerLevel:z,consumables:Ht,foodState:U,pityCounter:P,harvest:An,sell:ir,sellAll:He,buyUpgrade:Mi,buyUnlock:Zi,buyRarityUpgrade:Ss,buyFertilizerUpgrade:oi,buyConsumable:Es,useConsumable:sr,harvestAll:Nn,activateFood:yt,cancelFood:qt,cookedItems:Q,activeBuffs:k,useCookedItem:te,cookingState:ht,discoveredRecipes:Rt,startCooking:ue,claimDish:Un,sellCookedItem:Le,resetGame:qe,activateGodMode:ws,stats:nt,achievements:ft,claimAchievement:Di,activeQuests:mt,questTimer:w,refreshQuests:xe,rerollQuest:Me,completeQuest:Gt,buyLuckyBox:rr,pests:Ue,removePest:ui,pets:an,buyPet:Wa,discoveredPlant:rt,setDiscoveredPlant:gt}}const Jg=G.createContext({});function Zg(i){const t=G.useRef(null);return t.current===null&&(t.current=i()),t.current}const ty=typeof window<"u",dA=ty?G.useLayoutEffect:G.useEffect,Uf=G.createContext(null);function ey(i,t){i.indexOf(t)===-1&&i.push(t)}function ny(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}const tr=(i,t,e)=>e>t?t:e<i?i:e;let iy=()=>{};const er={},mA=i=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(i);function pA(i){return typeof i=="object"&&i!==null}const gA=i=>/^0[^.\s]+$/u.test(i);function sy(i){let t;return()=>(t===void 0&&(t=i()),t)}const Ri=i=>i,ZO=(i,t)=>e=>t(i(e)),nc=(...i)=>i.reduce(ZO),zu=(i,t,e)=>{const r=t-i;return r===0?1:(e-i)/r};class ry{constructor(){this.subscriptions=[]}add(t){return ey(this.subscriptions,t),()=>ny(this.subscriptions,t)}notify(t,e,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,e,r);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(t,e,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ys=i=>i*1e3,xi=i=>i/1e3;function yA(i,t){return t?i*(1e3/t):0}const vA=(i,t,e)=>(((1-3*e+3*t)*i+(3*e-6*t))*i+3*t)*i,tN=1e-7,eN=12;function nN(i,t,e,r,o){let u,c,m=0;do c=t+(e-t)/2,u=vA(c,r,o)-i,u>0?e=c:t=c;while(Math.abs(u)>tN&&++m<eN);return c}function ic(i,t,e,r){if(i===t&&e===r)return Ri;const o=u=>nN(u,0,1,i,e);return u=>u===0||u===1?u:vA(o(u),t,r)}const _A=i=>t=>t<=.5?i(2*t)/2:(2-i(2*(1-t)))/2,TA=i=>t=>1-i(1-t),bA=ic(.33,1.53,.69,.99),ay=TA(bA),SA=_A(ay),EA=i=>(i*=2)<1?.5*ay(i):.5*(2-Math.pow(2,-10*(i-1))),oy=i=>1-Math.sin(Math.acos(i)),AA=TA(oy),wA=_A(oy),iN=ic(.42,0,1,1),sN=ic(0,0,.58,1),xA=ic(.42,0,.58,1),rN=i=>Array.isArray(i)&&typeof i[0]!="number",RA=i=>Array.isArray(i)&&typeof i[0]=="number",aN={linear:Ri,easeIn:iN,easeInOut:xA,easeOut:sN,circIn:oy,circInOut:wA,circOut:AA,backIn:ay,backInOut:SA,backOut:bA,anticipate:EA},oN=i=>typeof i=="string",Ob=i=>{if(RA(i)){iy(i.length===4);const[t,e,r,o]=i;return ic(t,e,r,o)}else if(oN(i))return aN[i];return i},Mh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function lN(i,t){let e=new Set,r=new Set,o=!1,u=!1;const c=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function p(v){c.has(v)&&(g.schedule(v),i()),v(m)}const g={schedule:(v,T=!1,E=!1)=>{const U=E&&o?e:r;return T&&c.add(v),U.has(v)||U.add(v),v},cancel:v=>{r.delete(v),c.delete(v)},process:v=>{if(m=v,o){u=!0;return}o=!0,[e,r]=[r,e],e.forEach(p),e.clear(),o=!1,u&&(u=!1,g.process(v))}};return g}const uN=40;function CA(i,t){let e=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>e=!0,c=Mh.reduce((it,ft)=>(it[ft]=lN(u),it),{}),{setup:m,read:p,resolveKeyframes:g,preUpdate:v,update:T,preRender:E,render:I,postRender:U}=c,D=()=>{const it=er.useManualTiming?o.timestamp:performance.now();e=!1,er.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(it-o.timestamp,uN),1)),o.timestamp=it,o.isProcessing=!0,m.process(o),p.process(o),g.process(o),v.process(o),T.process(o),E.process(o),I.process(o),U.process(o),o.isProcessing=!1,e&&t&&(r=!1,i(D))},k=()=>{e=!0,r=!0,o.isProcessing||i(D)};return{schedule:Mh.reduce((it,ft)=>{const dt=c[ft];return it[ft]=(mt,R=!1,w=!1)=>(e||k(),dt.schedule(mt,R,w)),it},{}),cancel:it=>{for(let ft=0;ft<Mh.length;ft++)c[Mh[ft]].cancel(it)},state:o,steps:c}}const{schedule:Ie,cancel:na,state:Tn,steps:tp}=CA(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ri,!0);let Kh;function cN(){Kh=void 0}const Xn={now:()=>(Kh===void 0&&Xn.set(Tn.isProcessing||er.useManualTiming?Tn.timestamp:performance.now()),Kh),set:i=>{Kh=i,queueMicrotask(cN)}},IA=i=>t=>typeof t=="string"&&t.startsWith(i),ly=IA("--"),hN=IA("var(--"),uy=i=>hN(i)?fN.test(i.split("/*")[0].trim()):!1,fN=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,dl={test:i=>typeof i=="number",parse:parseFloat,transform:i=>i},Bu={...dl,transform:i=>tr(0,1,i)},Vh={...dl,default:1},wu=i=>Math.round(i*1e5)/1e5,cy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function dN(i){return i==null}const mN=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,hy=(i,t)=>e=>!!(typeof e=="string"&&mN.test(e)&&e.startsWith(i)||t&&!dN(e)&&Object.prototype.hasOwnProperty.call(e,t)),DA=(i,t,e)=>r=>{if(typeof r!="string")return r;const[o,u,c,m]=r.match(cy);return{[i]:parseFloat(o),[t]:parseFloat(u),[e]:parseFloat(c),alpha:m!==void 0?parseFloat(m):1}},pN=i=>tr(0,255,i),ep={...dl,transform:i=>Math.round(pN(i))},Pa={test:hy("rgb","red"),parse:DA("red","green","blue"),transform:({red:i,green:t,blue:e,alpha:r=1})=>"rgba("+ep.transform(i)+", "+ep.transform(t)+", "+ep.transform(e)+", "+wu(Bu.transform(r))+")"};function gN(i){let t="",e="",r="",o="";return i.length>5?(t=i.substring(1,3),e=i.substring(3,5),r=i.substring(5,7),o=i.substring(7,9)):(t=i.substring(1,2),e=i.substring(2,3),r=i.substring(3,4),o=i.substring(4,5),t+=t,e+=e,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Up={test:hy("#"),parse:gN,transform:Pa.transform},sc=i=>({test:t=>typeof t=="string"&&t.endsWith(i)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${i}`}),zr=sc("deg"),vs=sc("%"),Vt=sc("px"),yN=sc("vh"),vN=sc("vw"),Nb={...vs,parse:i=>vs.parse(i)/100,transform:i=>vs.transform(i*100)},zo={test:hy("hsl","hue"),parse:DA("hue","saturation","lightness"),transform:({hue:i,saturation:t,lightness:e,alpha:r=1})=>"hsla("+Math.round(i)+", "+vs.transform(wu(t))+", "+vs.transform(wu(e))+", "+wu(Bu.transform(r))+")"},sn={test:i=>Pa.test(i)||Up.test(i)||zo.test(i),parse:i=>Pa.test(i)?Pa.parse(i):zo.test(i)?zo.parse(i):Up.parse(i),transform:i=>typeof i=="string"?i:i.hasOwnProperty("red")?Pa.transform(i):zo.transform(i),getAnimatableNone:i=>{const t=sn.parse(i);return t.alpha=0,sn.transform(t)}},_N=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function TN(i){return isNaN(i)&&typeof i=="string"&&(i.match(cy)?.length||0)+(i.match(_N)?.length||0)>0}const MA="number",VA="color",bN="var",SN="var(",Pb="${}",EN=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Fu(i){const t=i.toString(),e=[],r={color:[],number:[],var:[]},o=[];let u=0;const m=t.replace(EN,p=>(sn.test(p)?(r.color.push(u),o.push(VA),e.push(sn.parse(p))):p.startsWith(SN)?(r.var.push(u),o.push(bN),e.push(p)):(r.number.push(u),o.push(MA),e.push(parseFloat(p))),++u,Pb)).split(Pb);return{values:e,split:m,indexes:r,types:o}}function OA(i){return Fu(i).values}function NA(i){const{split:t,types:e}=Fu(i),r=t.length;return o=>{let u="";for(let c=0;c<r;c++)if(u+=t[c],o[c]!==void 0){const m=e[c];m===MA?u+=wu(o[c]):m===VA?u+=sn.transform(o[c]):u+=o[c]}return u}}const AN=i=>typeof i=="number"?0:sn.test(i)?sn.getAnimatableNone(i):i;function wN(i){const t=OA(i);return NA(i)(t.map(AN))}const ia={test:TN,parse:OA,createTransformer:NA,getAnimatableNone:wN};function np(i,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?i+(t-i)*6*e:e<1/2?t:e<2/3?i+(t-i)*(2/3-e)*6:i}function xN({hue:i,saturation:t,lightness:e,alpha:r}){i/=360,t/=100,e/=100;let o=0,u=0,c=0;if(!t)o=u=c=e;else{const m=e<.5?e*(1+t):e+t-e*t,p=2*e-m;o=np(p,m,i+1/3),u=np(p,m,i),c=np(p,m,i-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:r}}function vf(i,t){return e=>e>0?t:i}const Pe=(i,t,e)=>i+(t-i)*e,ip=(i,t,e)=>{const r=i*i,o=e*(t*t-r)+r;return o<0?0:Math.sqrt(o)},RN=[Up,Pa,zo],CN=i=>RN.find(t=>t.test(i));function kb(i){const t=CN(i);if(!t)return!1;let e=t.parse(i);return t===zo&&(e=xN(e)),e}const jb=(i,t)=>{const e=kb(i),r=kb(t);if(!e||!r)return vf(i,t);const o={...e};return u=>(o.red=ip(e.red,r.red,u),o.green=ip(e.green,r.green,u),o.blue=ip(e.blue,r.blue,u),o.alpha=Pe(e.alpha,r.alpha,u),Pa.transform(o))},zp=new Set(["none","hidden"]);function IN(i,t){return zp.has(i)?e=>e<=0?i:t:e=>e>=1?t:i}function DN(i,t){return e=>Pe(i,t,e)}function fy(i){return typeof i=="number"?DN:typeof i=="string"?uy(i)?vf:sn.test(i)?jb:ON:Array.isArray(i)?PA:typeof i=="object"?sn.test(i)?jb:MN:vf}function PA(i,t){const e=[...i],r=e.length,o=i.map((u,c)=>fy(u)(u,t[c]));return u=>{for(let c=0;c<r;c++)e[c]=o[c](u);return e}}function MN(i,t){const e={...i,...t},r={};for(const o in e)i[o]!==void 0&&t[o]!==void 0&&(r[o]=fy(i[o])(i[o],t[o]));return o=>{for(const u in r)e[u]=r[u](o);return e}}function VN(i,t){const e=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],c=i.indexes[u][r[u]],m=i.values[c]??0;e[o]=m,r[u]++}return e}const ON=(i,t)=>{const e=ia.createTransformer(t),r=Fu(i),o=Fu(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?zp.has(i)&&!o.values.length||zp.has(t)&&!r.values.length?IN(i,t):nc(PA(VN(r,o),o.values),e):vf(i,t)};function kA(i,t,e){return typeof i=="number"&&typeof t=="number"&&typeof e=="number"?Pe(i,t,e):fy(i)(i,t)}const NN=i=>{const t=({timestamp:e})=>i(e);return{start:(e=!0)=>Ie.update(t,e),stop:()=>na(t),now:()=>Tn.isProcessing?Tn.timestamp:Xn.now()}},jA=(i,t,e=10)=>{let r="";const o=Math.max(Math.round(t/e),2);for(let u=0;u<o;u++)r+=Math.round(i(u/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},_f=2e4;function dy(i){let t=0;const e=50;let r=i.next(t);for(;!r.done&&t<_f;)t+=e,r=i.next(t);return t>=_f?1/0:t}function PN(i,t=100,e){const r=e({...i,keyframes:[0,t]}),o=Math.min(dy(r),_f);return{type:"keyframes",ease:u=>r.next(o*u).value/t,duration:xi(o)}}const kN=5;function LA(i,t,e){const r=Math.max(t-kN,0);return yA(e-i(r),t-r)}const Fe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},sp=.001;function jN({duration:i=Fe.duration,bounce:t=Fe.bounce,velocity:e=Fe.velocity,mass:r=Fe.mass}){let o,u,c=1-t;c=tr(Fe.minDamping,Fe.maxDamping,c),i=tr(Fe.minDuration,Fe.maxDuration,xi(i)),c<1?(o=g=>{const v=g*c,T=v*i,E=v-e,I=Bp(g,c),U=Math.exp(-T);return sp-E/I*U},u=g=>{const T=g*c*i,E=T*e+e,I=Math.pow(c,2)*Math.pow(g,2)*i,U=Math.exp(-T),D=Bp(Math.pow(g,2),c);return(-o(g)+sp>0?-1:1)*((E-I)*U)/D}):(o=g=>{const v=Math.exp(-g*i),T=(g-e)*i+1;return-sp+v*T},u=g=>{const v=Math.exp(-g*i),T=(e-g)*(i*i);return v*T});const m=5/i,p=UN(o,u,m);if(i=ys(i),isNaN(p))return{stiffness:Fe.stiffness,damping:Fe.damping,duration:i};{const g=Math.pow(p,2)*r;return{stiffness:g,damping:c*2*Math.sqrt(r*g),duration:i}}}const LN=12;function UN(i,t,e){let r=e;for(let o=1;o<LN;o++)r=r-i(r)/t(r);return r}function Bp(i,t){return i*Math.sqrt(1-t*t)}const zN=["duration","bounce"],BN=["stiffness","damping","mass"];function Lb(i,t){return t.some(e=>i[e]!==void 0)}function FN(i){let t={velocity:Fe.velocity,stiffness:Fe.stiffness,damping:Fe.damping,mass:Fe.mass,isResolvedFromDuration:!1,...i};if(!Lb(i,BN)&&Lb(i,zN))if(i.visualDuration){const e=i.visualDuration,r=2*Math.PI/(e*1.2),o=r*r,u=2*tr(.05,1,1-(i.bounce||0))*Math.sqrt(o);t={...t,mass:Fe.mass,stiffness:o,damping:u}}else{const e=jN(i);t={...t,...e,mass:Fe.mass},t.isResolvedFromDuration=!0}return t}function Tf(i=Fe.visualDuration,t=Fe.bounce){const e=typeof i!="object"?{visualDuration:i,keyframes:[0,1],bounce:t}:i;let{restSpeed:r,restDelta:o}=e;const u=e.keyframes[0],c=e.keyframes[e.keyframes.length-1],m={done:!1,value:u},{stiffness:p,damping:g,mass:v,duration:T,velocity:E,isResolvedFromDuration:I}=FN({...e,velocity:-xi(e.velocity||0)}),U=E||0,D=g/(2*Math.sqrt(p*v)),k=c-u,W=xi(Math.sqrt(p/v)),nt=Math.abs(k)<5;r||(r=nt?Fe.restSpeed.granular:Fe.restSpeed.default),o||(o=nt?Fe.restDelta.granular:Fe.restDelta.default);let it;if(D<1){const dt=Bp(W,D);it=mt=>{const R=Math.exp(-D*W*mt);return c-R*((U+D*W*k)/dt*Math.sin(dt*mt)+k*Math.cos(dt*mt))}}else if(D===1)it=dt=>c-Math.exp(-W*dt)*(k+(U+W*k)*dt);else{const dt=W*Math.sqrt(D*D-1);it=mt=>{const R=Math.exp(-D*W*mt),w=Math.min(dt*mt,300);return c-R*((U+D*W*k)*Math.sinh(w)+dt*k*Math.cosh(w))/dt}}const ft={calculatedDuration:I&&T||null,next:dt=>{const mt=it(dt);if(I)m.done=dt>=T;else{let R=dt===0?U:0;D<1&&(R=dt===0?ys(U):LA(it,dt,mt));const w=Math.abs(R)<=r,C=Math.abs(c-mt)<=o;m.done=w&&C}return m.value=m.done?c:mt,m},toString:()=>{const dt=Math.min(dy(ft),_f),mt=jA(R=>ft.next(dt*R).value,dt,30);return dt+"ms "+mt},toTransition:()=>{}};return ft}Tf.applyToOptions=i=>{const t=PN(i,100,Tf);return i.ease=t.ease,i.duration=ys(t.duration),i.type="keyframes",i};function Fp({keyframes:i,velocity:t=0,power:e=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:m,max:p,restDelta:g=.5,restSpeed:v}){const T=i[0],E={done:!1,value:T},I=w=>m!==void 0&&w<m||p!==void 0&&w>p,U=w=>m===void 0?p:p===void 0||Math.abs(m-w)<Math.abs(p-w)?m:p;let D=e*t;const k=T+D,W=c===void 0?k:c(k);W!==k&&(D=W-T);const nt=w=>-D*Math.exp(-w/r),it=w=>W+nt(w),ft=w=>{const C=nt(w),P=it(w);E.done=Math.abs(C)<=g,E.value=E.done?W:P};let dt,mt;const R=w=>{I(E.value)&&(dt=w,mt=Tf({keyframes:[E.value,U(E.value)],velocity:LA(it,w,E.value),damping:o,stiffness:u,restDelta:g,restSpeed:v}))};return R(0),{calculatedDuration:null,next:w=>{let C=!1;return!mt&&dt===void 0&&(C=!0,ft(w),R(w)),dt!==void 0&&w>=dt?mt.next(w-dt):(!C&&ft(w),E)}}}function HN(i,t,e){const r=[],o=e||er.mix||kA,u=i.length-1;for(let c=0;c<u;c++){let m=o(i[c],i[c+1]);if(t){const p=Array.isArray(t)?t[c]||Ri:t;m=nc(p,m)}r.push(m)}return r}function qN(i,t,{clamp:e=!0,ease:r,mixer:o}={}){const u=i.length;if(iy(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=i[0]===i[1];i[0]>i[u-1]&&(i=[...i].reverse(),t=[...t].reverse());const m=HN(t,r,o),p=m.length,g=v=>{if(c&&v<i[0])return t[0];let T=0;if(p>1)for(;T<i.length-2&&!(v<i[T+1]);T++);const E=zu(i[T],i[T+1],v);return m[T](E)};return e?v=>g(tr(i[0],i[u-1],v)):g}function GN(i,t){const e=i[i.length-1];for(let r=1;r<=t;r++){const o=zu(0,t,r);i.push(Pe(e,1,o))}}function KN(i){const t=[0];return GN(t,i.length-1),t}function YN(i,t){return i.map(e=>e*t)}function QN(i,t){return i.map(()=>t||xA).splice(0,i.length-1)}function xu({duration:i=300,keyframes:t,times:e,ease:r="easeInOut"}){const o=rN(r)?r.map(Ob):Ob(r),u={done:!1,value:t[0]},c=YN(e&&e.length===t.length?e:KN(t),i),m=qN(c,t,{ease:Array.isArray(o)?o:QN(t,o)});return{calculatedDuration:i,next:p=>(u.value=m(p),u.done=p>=i,u)}}const XN=i=>i!==null;function my(i,{repeat:t,repeatType:e="loop"},r,o=1){const u=i.filter(XN),m=o<0||t&&e!=="loop"&&t%2===1?0:u.length-1;return!m||r===void 0?u[m]:r}const WN={decay:Fp,inertia:Fp,tween:xu,keyframes:xu,spring:Tf};function UA(i){typeof i.type=="string"&&(i.type=WN[i.type])}class py{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const $N=i=>i/100;class gy extends py{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==Xn.now()&&this.tick(Xn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;UA(t);const{type:e=xu,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=t;let{keyframes:m}=t;const p=e||xu;p!==xu&&typeof m[0]!="number"&&(this.mixKeyframes=nc($N,kA(m[0],m[1])),m=[0,100]);const g=p({...t,keyframes:m});u==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...m].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=dy(g));const{calculatedDuration:v}=g;this.calculatedDuration=v,this.resolvedDuration=v+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=g}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:m,calculatedDuration:p}=this;if(this.startTime===null)return r.next(0);const{delay:g=0,keyframes:v,repeat:T,repeatType:E,repeatDelay:I,type:U,onUpdate:D,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const W=this.currentTime-g*(this.playbackSpeed>=0?1:-1),nt=this.playbackSpeed>=0?W<0:W>o;this.currentTime=Math.max(W,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let it=this.currentTime,ft=r;if(T){const w=Math.min(this.currentTime,o)/m;let C=Math.floor(w),P=w%1;!P&&w>=1&&(P=1),P===1&&C--,C=Math.min(C,T+1),!!(C%2)&&(E==="reverse"?(P=1-P,I&&(P-=I/m)):E==="mirror"&&(ft=c)),it=tr(0,1,P)*m}const dt=nt?{done:!1,value:v[0]}:ft.next(it);u&&(dt.value=u(dt.value));let{done:mt}=dt;!nt&&p!==null&&(mt=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&mt);return R&&U!==Fp&&(dt.value=my(v,this.options,k,this.speed)),D&&D(dt.value),R&&this.finish(),dt}then(t,e){return this.finished.then(t,e)}get duration(){return xi(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+xi(t)}get time(){return xi(this.currentTime)}set time(t){t=ys(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Xn.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=xi(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=NN,startTime:e}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=e??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Xn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function JN(i){for(let t=1;t<i.length;t++)i[t]??(i[t]=i[t-1])}const ka=i=>i*180/Math.PI,Hp=i=>{const t=ka(Math.atan2(i[1],i[0]));return qp(t)},ZN={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:i=>(Math.abs(i[0])+Math.abs(i[3]))/2,rotate:Hp,rotateZ:Hp,skewX:i=>ka(Math.atan(i[1])),skewY:i=>ka(Math.atan(i[2])),skew:i=>(Math.abs(i[1])+Math.abs(i[2]))/2},qp=i=>(i=i%360,i<0&&(i+=360),i),Ub=Hp,zb=i=>Math.sqrt(i[0]*i[0]+i[1]*i[1]),Bb=i=>Math.sqrt(i[4]*i[4]+i[5]*i[5]),t3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:zb,scaleY:Bb,scale:i=>(zb(i)+Bb(i))/2,rotateX:i=>qp(ka(Math.atan2(i[6],i[5]))),rotateY:i=>qp(ka(Math.atan2(-i[2],i[0]))),rotateZ:Ub,rotate:Ub,skewX:i=>ka(Math.atan(i[4])),skewY:i=>ka(Math.atan(i[1])),skew:i=>(Math.abs(i[1])+Math.abs(i[4]))/2};function Gp(i){return i.includes("scale")?1:0}function Kp(i,t){if(!i||i==="none")return Gp(t);const e=i.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(e)r=t3,o=e;else{const m=i.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=ZN,o=m}if(!o)return Gp(t);const u=r[t],c=o[1].split(",").map(n3);return typeof u=="function"?u(c):c[u]}const e3=(i,t)=>{const{transform:e="none"}=getComputedStyle(i);return Kp(e,t)};function n3(i){return parseFloat(i.trim())}const ml=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],pl=new Set(ml),Fb=i=>i===dl||i===Vt,i3=new Set(["x","y","z"]),s3=ml.filter(i=>!i3.has(i));function r3(i){const t=[];return s3.forEach(e=>{const r=i.getValue(e);r!==void 0&&(t.push([e,r.get()]),r.set(e.startsWith("scale")?1:0))}),t}const Ua={width:({x:i},{paddingLeft:t="0",paddingRight:e="0"})=>i.max-i.min-parseFloat(t)-parseFloat(e),height:({y:i},{paddingTop:t="0",paddingBottom:e="0"})=>i.max-i.min-parseFloat(t)-parseFloat(e),top:(i,{top:t})=>parseFloat(t),left:(i,{left:t})=>parseFloat(t),bottom:({y:i},{top:t})=>parseFloat(t)+(i.max-i.min),right:({x:i},{left:t})=>parseFloat(t)+(i.max-i.min),x:(i,{transform:t})=>Kp(t,"x"),y:(i,{transform:t})=>Kp(t,"y")};Ua.translateX=Ua.x;Ua.translateY=Ua.y;const za=new Set;let Yp=!1,Qp=!1,Xp=!1;function zA(){if(Qp){const i=Array.from(za).filter(r=>r.needsMeasurement),t=new Set(i.map(r=>r.element)),e=new Map;t.forEach(r=>{const o=r3(r);o.length&&(e.set(r,o),r.render())}),i.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=e.get(r);o&&o.forEach(([u,c])=>{r.getValue(u)?.set(c)})}),i.forEach(r=>r.measureEndState()),i.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Qp=!1,Yp=!1,za.forEach(i=>i.complete(Xp)),za.clear()}function BA(){za.forEach(i=>{i.readKeyframes(),i.needsMeasurement&&(Qp=!0)})}function a3(){Xp=!0,BA(),zA(),Xp=!1}class yy{constructor(t,e,r,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=r,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(za.add(this),Yp||(Yp=!0,Ie.read(BA),Ie.resolveKeyframes(zA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:r,motionValue:o}=this;if(t[0]===null){const u=o?.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(r&&e){const m=r.readValue(e,c);m!=null&&(t[0]=m)}t[0]===void 0&&(t[0]=c),o&&u===void 0&&o.set(t[0])}JN(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),za.delete(this)}cancel(){this.state==="scheduled"&&(za.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const o3=i=>i.startsWith("--");function l3(i,t,e){o3(t)?i.style.setProperty(t,e):i.style[t]=e}const u3=sy(()=>window.ScrollTimeline!==void 0),c3={};function h3(i,t){const e=sy(i);return()=>c3[t]??e()}const FA=h3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),yu=([i,t,e,r])=>`cubic-bezier(${i}, ${t}, ${e}, ${r})`,Hb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:yu([0,.65,.55,1]),circOut:yu([.55,0,1,.45]),backIn:yu([.31,.01,.66,-.59]),backOut:yu([.33,1.53,.69,.99])};function HA(i,t){if(i)return typeof i=="function"?FA()?jA(i,t):"ease-out":RA(i)?yu(i):Array.isArray(i)?i.map(e=>HA(e,t)||Hb.easeOut):Hb[i]}function f3(i,t,e,{delay:r=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:m="easeOut",times:p}={},g=void 0){const v={[t]:e};p&&(v.offset=p);const T=HA(m,o);Array.isArray(T)&&(v.easing=T);const E={delay:r,duration:o,easing:Array.isArray(T)?"linear":T,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return g&&(E.pseudoElement=g),i.animate(v,E)}function qA(i){return typeof i=="function"&&"applyToOptions"in i}function d3({type:i,...t}){return qA(i)&&FA()?i.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class m3 extends py{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:e,name:r,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:m,onComplete:p}=t;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=t,iy(typeof t.type!="string");const g=d3(t);this.animation=f3(e,r,o,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const v=my(o,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(v):l3(e,r,v),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return xi(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+xi(t)}get time(){return xi(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=ys(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&u3()?(this.animation.timeline=t,Ri):e(this)}}const GA={anticipate:EA,backInOut:SA,circInOut:wA};function p3(i){return i in GA}function g3(i){typeof i.ease=="string"&&p3(i.ease)&&(i.ease=GA[i.ease])}const qb=10;class y3 extends m3{constructor(t){g3(t),UA(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:r,onComplete:o,element:u,...c}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const m=new gy({...c,autoplay:!1}),p=ys(this.finishedTime??this.time);e.setWithVelocity(m.sample(p-qb).value,m.sample(p).value,qb),m.stop()}}const Gb=(i,t)=>t==="zIndex"?!1:!!(typeof i=="number"||Array.isArray(i)||typeof i=="string"&&(ia.test(i)||i==="0")&&!i.startsWith("url("));function v3(i){const t=i[0];if(i.length===1)return!0;for(let e=0;e<i.length;e++)if(i[e]!==t)return!0}function _3(i,t,e,r){const o=i[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=i[i.length-1],c=Gb(o,t),m=Gb(u,t);return!c||!m?!1:v3(i)||(e==="spring"||qA(e))&&r}function Wp(i){i.duration=0,i.type="keyframes"}const T3=new Set(["opacity","clipPath","filter","transform"]),b3=sy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function S3(i){const{motionValue:t,name:e,repeatDelay:r,repeatType:o,damping:u,type:c}=i;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=t.owner.getProps();return b3()&&e&&T3.has(e)&&(e!=="transform"||!g)&&!p&&!r&&o!=="mirror"&&u!==0&&c!=="inertia"}const E3=40;class A3 extends py{constructor({autoplay:t=!0,delay:e=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:m,name:p,motionValue:g,element:v,...T}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Xn.now();const E={autoplay:t,delay:e,type:r,repeat:o,repeatDelay:u,repeatType:c,name:p,motionValue:g,element:v,...T},I=v?.KeyframeResolver||yy;this.keyframeResolver=new I(m,(U,D,k)=>this.onKeyframesResolved(U,D,E,!k),p,g,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,r,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:m,delay:p,isHandoff:g,onUpdate:v}=r;this.resolvedAt=Xn.now(),_3(t,u,c,m)||((er.instantAnimations||!p)&&v?.(my(t,r,e)),t[0]=t[t.length-1],Wp(r),r.repeat=0);const E={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>E3?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...r,keyframes:t},I=!g&&S3(E)?new y3({...E,element:E.motionValue.owner.current}):new gy(E);I.finished.then(()=>this.notifyFinished()).catch(Ri),this.pendingTimeline&&(this.stopTimeline=I.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=I}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),a3()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const w3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function x3(i){const t=w3.exec(i);if(!t)return[,];const[,e,r,o]=t;return[`--${e??r}`,o]}function KA(i,t,e=1){const[r,o]=x3(i);if(!r)return;const u=window.getComputedStyle(t).getPropertyValue(r);if(u){const c=u.trim();return mA(c)?parseFloat(c):c}return uy(o)?KA(o,t,e+1):o}function vy(i,t){return i?.[t]??i?.default??i}const YA=new Set(["width","height","top","left","right","bottom",...ml]),R3={test:i=>i==="auto",parse:i=>i},QA=i=>t=>t.test(i),XA=[dl,Vt,vs,zr,vN,yN,R3],Kb=i=>XA.find(QA(i));function C3(i){return typeof i=="number"?i===0:i!==null?i==="none"||i==="0"||gA(i):!0}const I3=new Set(["brightness","contrast","saturate","opacity"]);function D3(i){const[t,e]=i.slice(0,-1).split("(");if(t==="drop-shadow")return i;const[r]=e.match(cy)||[];if(!r)return i;const o=e.replace(r,"");let u=I3.has(t)?1:0;return r!==e&&(u*=100),t+"("+u+o+")"}const M3=/\b([a-z-]*)\(.*?\)/gu,$p={...ia,getAnimatableNone:i=>{const t=i.match(M3);return t?t.map(D3).join(" "):i}},Yb={...dl,transform:Math.round},V3={rotate:zr,rotateX:zr,rotateY:zr,rotateZ:zr,scale:Vh,scaleX:Vh,scaleY:Vh,scaleZ:Vh,skew:zr,skewX:zr,skewY:zr,distance:Vt,translateX:Vt,translateY:Vt,translateZ:Vt,x:Vt,y:Vt,z:Vt,perspective:Vt,transformPerspective:Vt,opacity:Bu,originX:Nb,originY:Nb,originZ:Vt},_y={borderWidth:Vt,borderTopWidth:Vt,borderRightWidth:Vt,borderBottomWidth:Vt,borderLeftWidth:Vt,borderRadius:Vt,radius:Vt,borderTopLeftRadius:Vt,borderTopRightRadius:Vt,borderBottomRightRadius:Vt,borderBottomLeftRadius:Vt,width:Vt,maxWidth:Vt,height:Vt,maxHeight:Vt,top:Vt,right:Vt,bottom:Vt,left:Vt,padding:Vt,paddingTop:Vt,paddingRight:Vt,paddingBottom:Vt,paddingLeft:Vt,margin:Vt,marginTop:Vt,marginRight:Vt,marginBottom:Vt,marginLeft:Vt,backgroundPositionX:Vt,backgroundPositionY:Vt,...V3,zIndex:Yb,fillOpacity:Bu,strokeOpacity:Bu,numOctaves:Yb},O3={..._y,color:sn,backgroundColor:sn,outlineColor:sn,fill:sn,stroke:sn,borderColor:sn,borderTopColor:sn,borderRightColor:sn,borderBottomColor:sn,borderLeftColor:sn,filter:$p,WebkitFilter:$p},WA=i=>O3[i];function $A(i,t){let e=WA(i);return e!==$p&&(e=ia),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const N3=new Set(["auto","none","0"]);function P3(i,t,e){let r=0,o;for(;r<i.length&&!o;){const u=i[r];typeof u=="string"&&!N3.has(u)&&Fu(u).values.length&&(o=i[r]),r++}if(o&&e)for(const u of t)i[u]=$A(e,o)}class k3 extends yy{constructor(t,e,r,o,u){super(t,e,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:r}=this;if(!e||!e.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let g=t[p];if(typeof g=="string"&&(g=g.trim(),uy(g))){const v=KA(g,e.current);v!==void 0&&(t[p]=v),p===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!YA.has(r)||t.length!==2)return;const[o,u]=t,c=Kb(o),m=Kb(u);if(c!==m)if(Fb(c)&&Fb(m))for(let p=0;p<t.length;p++){const g=t[p];typeof g=="string"&&(t[p]=parseFloat(g))}else Ua[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||C3(t[o]))&&r.push(o);r.length&&P3(t,r,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ua[r](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const o=e[e.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(e);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,c=r[u];r[u]=Ua[e](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([m,p])=>{t.getValue(m).set(p)}),this.resolveNoneKeyframes()}}function j3(i,t,e){if(i instanceof EventTarget)return[i];if(typeof i=="string"){let r=document;const o=e?.[i]??r.querySelectorAll(i);return o?Array.from(o):[]}return Array.from(i)}const JA=(i,t)=>t&&typeof i=="number"?t.transform(i):i;function ZA(i){return pA(i)&&"offsetHeight"in i}const Qb=30,L3=i=>!isNaN(parseFloat(i));class U3{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const o=Xn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=Xn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=L3(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new ry);const r=this.events[t].add(e);return t==="change"?()=>{r(),Ie.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,r){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Xn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Qb)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,Qb);return yA(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function sl(i,t){return new U3(i,t)}const{schedule:Ty}=CA(queueMicrotask,!1),Hi={x:!1,y:!1};function tw(){return Hi.x||Hi.y}function z3(i){return i==="x"||i==="y"?Hi[i]?null:(Hi[i]=!0,()=>{Hi[i]=!1}):Hi.x||Hi.y?null:(Hi.x=Hi.y=!0,()=>{Hi.x=Hi.y=!1})}function ew(i,t){const e=j3(i),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[e,o,()=>r.abort()]}function Xb(i){return!(i.pointerType==="touch"||tw())}function B3(i,t,e={}){const[r,o,u]=ew(i,e),c=m=>{if(!Xb(m))return;const{target:p}=m,g=t(p,m);if(typeof g!="function"||!p)return;const v=T=>{Xb(T)&&(g(T),p.removeEventListener("pointerleave",v))};p.addEventListener("pointerleave",v,o)};return r.forEach(m=>{m.addEventListener("pointerenter",c,o)}),u}const nw=(i,t)=>t?i===t?!0:nw(i,t.parentElement):!1,by=i=>i.pointerType==="mouse"?typeof i.button!="number"||i.button<=0:i.isPrimary!==!1,F3=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function H3(i){return F3.has(i.tagName)||i.tabIndex!==-1}const Yh=new WeakSet;function Wb(i){return t=>{t.key==="Enter"&&i(t)}}function rp(i,t){i.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const q3=(i,t)=>{const e=i.currentTarget;if(!e)return;const r=Wb(()=>{if(Yh.has(e))return;rp(e,"down");const o=Wb(()=>{rp(e,"up")}),u=()=>rp(e,"cancel");e.addEventListener("keyup",o,t),e.addEventListener("blur",u,t)});e.addEventListener("keydown",r,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",r),t)};function $b(i){return by(i)&&!tw()}function G3(i,t,e={}){const[r,o,u]=ew(i,e),c=m=>{const p=m.currentTarget;if(!$b(m))return;Yh.add(p);const g=t(p,m),v=(I,U)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",E),Yh.has(p)&&Yh.delete(p),$b(I)&&typeof g=="function"&&g(I,{success:U})},T=I=>{v(I,p===window||p===document||e.useGlobalTarget||nw(p,I.target))},E=I=>{v(I,!1)};window.addEventListener("pointerup",T,o),window.addEventListener("pointercancel",E,o)};return r.forEach(m=>{(e.useGlobalTarget?window:m).addEventListener("pointerdown",c,o),ZA(m)&&(m.addEventListener("focus",g=>q3(g,o)),!H3(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),u}function iw(i){return pA(i)&&"ownerSVGElement"in i}function K3(i){return iw(i)&&i.tagName==="svg"}const Mn=i=>!!(i&&i.getVelocity),Y3=[...XA,sn,ia],Q3=i=>Y3.find(QA(i)),Sy=G.createContext({transformPagePoint:i=>i,isStatic:!1,reducedMotion:"never"});function Jb(i,t){if(typeof i=="function")return i(t);i!=null&&(i.current=t)}function X3(...i){return t=>{let e=!1;const r=i.map(o=>{const u=Jb(o,t);return!e&&typeof u=="function"&&(e=!0),u});if(e)return()=>{for(let o=0;o<r.length;o++){const u=r[o];typeof u=="function"?u():Jb(i[o],null)}}}}function W3(...i){return G.useCallback(X3(...i),i)}class $3 extends G.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const r=e.offsetParent,o=ZA(r)&&r.offsetWidth||0,u=this.props.sizeRef.current;u.height=e.offsetHeight||0,u.width=e.offsetWidth||0,u.top=e.offsetTop,u.left=e.offsetLeft,u.right=o-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function J3({children:i,isPresent:t,anchorX:e,root:r}){const o=G.useId(),u=G.useRef(null),c=G.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:m}=G.useContext(Sy),p=W3(u,i?.ref);return G.useInsertionEffect(()=>{const{width:g,height:v,top:T,left:E,right:I}=c.current;if(t||!u.current||!g||!v)return;const U=e==="left"?`left: ${E}`:`right: ${I}`;u.current.dataset.motionPopId=o;const D=document.createElement("style");m&&(D.nonce=m);const k=r??document.head;return k.appendChild(D),D.sheet&&D.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${v}px !important;
            ${U}px !important;
            top: ${T}px !important;
          }
        `),()=>{k.contains(D)&&k.removeChild(D)}},[t]),S.jsx($3,{isPresent:t,childRef:u,sizeRef:c,children:G.cloneElement(i,{ref:p})})}const Z3=({children:i,initial:t,isPresent:e,onExitComplete:r,custom:o,presenceAffectsLayout:u,mode:c,anchorX:m,root:p})=>{const g=Zg(t5),v=G.useId();let T=!0,E=G.useMemo(()=>(T=!1,{id:v,initial:t,isPresent:e,custom:o,onExitComplete:I=>{g.set(I,!0);for(const U of g.values())if(!U)return;r&&r()},register:I=>(g.set(I,!1),()=>g.delete(I))}),[e,g,r]);return u&&T&&(E={...E}),G.useMemo(()=>{g.forEach((I,U)=>g.set(U,!1))},[e]),G.useEffect(()=>{!e&&!g.size&&r&&r()},[e]),c==="popLayout"&&(i=S.jsx(J3,{isPresent:e,anchorX:m,root:p,children:i})),S.jsx(Uf.Provider,{value:E,children:i})};function t5(){return new Map}function sw(i=!0){const t=G.useContext(Uf);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:r,register:o}=t,u=G.useId();G.useEffect(()=>{if(i)return o(u)},[i]);const c=G.useCallback(()=>i&&r&&r(u),[u,r,i]);return!e&&r?[!1,c]:[!0]}const Oh=i=>i.key||"";function Zb(i){const t=[];return G.Children.forEach(i,e=>{G.isValidElement(e)&&t.push(e)}),t}const Ey=({children:i,custom:t,initial:e=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:u="sync",propagate:c=!1,anchorX:m="left",root:p})=>{const[g,v]=sw(c),T=G.useMemo(()=>Zb(i),[i]),E=c&&!g?[]:T.map(Oh),I=G.useRef(!0),U=G.useRef(T),D=Zg(()=>new Map),[k,W]=G.useState(T),[nt,it]=G.useState(T);dA(()=>{I.current=!1,U.current=T;for(let mt=0;mt<nt.length;mt++){const R=Oh(nt[mt]);E.includes(R)?D.delete(R):D.get(R)!==!0&&D.set(R,!1)}},[nt,E.length,E.join("-")]);const ft=[];if(T!==k){let mt=[...T];for(let R=0;R<nt.length;R++){const w=nt[R],C=Oh(w);E.includes(C)||(mt.splice(R,0,w),ft.push(w))}return u==="wait"&&ft.length&&(mt=ft),it(Zb(mt)),W(T),null}const{forceRender:dt}=G.useContext(Jg);return S.jsx(S.Fragment,{children:nt.map(mt=>{const R=Oh(mt),w=c&&!g?!1:T===nt||E.includes(R),C=()=>{if(D.has(R))D.set(R,!0);else return;let P=!0;D.forEach(N=>{N||(P=!1)}),P&&(dt?.(),it(U.current),c&&v?.(),r&&r())};return S.jsx(Z3,{isPresent:w,initial:!I.current||e?void 0:!1,custom:t,presenceAffectsLayout:o,mode:u,root:p,onExitComplete:w?void 0:C,anchorX:m,children:mt},R)})})},rw=G.createContext({strict:!1}),t1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},rl={};for(const i in t1)rl[i]={isEnabled:t=>t1[i].some(e=>!!t[e])};function e5(i){for(const t in i)rl[t]={...rl[t],...i[t]}}const n5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function bf(i){return i.startsWith("while")||i.startsWith("drag")&&i!=="draggable"||i.startsWith("layout")||i.startsWith("onTap")||i.startsWith("onPan")||i.startsWith("onLayout")||n5.has(i)}let aw=i=>!bf(i);function i5(i){typeof i=="function"&&(aw=t=>t.startsWith("on")?!bf(t):i(t))}try{i5(require("@emotion/is-prop-valid").default)}catch{}function s5(i,t,e){const r={};for(const o in i)o==="values"&&typeof i.values=="object"||(aw(o)||e===!0&&bf(o)||!t&&!bf(o)||i.draggable&&o.startsWith("onDrag"))&&(r[o]=i[o]);return r}const zf=G.createContext({});function Bf(i){return i!==null&&typeof i=="object"&&typeof i.start=="function"}function Hu(i){return typeof i=="string"||Array.isArray(i)}const Ay=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],wy=["initial",...Ay];function Ff(i){return Bf(i.animate)||wy.some(t=>Hu(i[t]))}function ow(i){return!!(Ff(i)||i.variants)}function r5(i,t){if(Ff(i)){const{initial:e,animate:r}=i;return{initial:e===!1||Hu(e)?e:void 0,animate:Hu(r)?r:void 0}}return i.inherit!==!1?t:{}}function a5(i){const{initial:t,animate:e}=r5(i,G.useContext(zf));return G.useMemo(()=>({initial:t,animate:e}),[e1(t),e1(e)])}function e1(i){return Array.isArray(i)?i.join(" "):i}const qu={};function o5(i){for(const t in i)qu[t]=i[t],ly(t)&&(qu[t].isCSSVariable=!0)}function lw(i,{layout:t,layoutId:e}){return pl.has(i)||i.startsWith("origin")||(t||e!==void 0)&&(!!qu[i]||i==="opacity")}const l5={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},u5=ml.length;function c5(i,t,e){let r="",o=!0;for(let u=0;u<u5;u++){const c=ml[u],m=i[c];if(m===void 0)continue;let p=!0;if(typeof m=="number"?p=m===(c.startsWith("scale")?1:0):p=parseFloat(m)===0,!p||e){const g=JA(m,_y[c]);if(!p){o=!1;const v=l5[c]||c;r+=`${v}(${g}) `}e&&(t[c]=g)}}return r=r.trim(),e?r=e(t,o?"":r):o&&(r="none"),r}function xy(i,t,e){const{style:r,vars:o,transformOrigin:u}=i;let c=!1,m=!1;for(const p in t){const g=t[p];if(pl.has(p)){c=!0;continue}else if(ly(p)){o[p]=g;continue}else{const v=JA(g,_y[p]);p.startsWith("origin")?(m=!0,u[p]=v):r[p]=v}}if(t.transform||(c||e?r.transform=c5(t,i.transform,e):r.transform&&(r.transform="none")),m){const{originX:p="50%",originY:g="50%",originZ:v=0}=u;r.transformOrigin=`${p} ${g} ${v}`}}const Ry=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function uw(i,t,e){for(const r in t)!Mn(t[r])&&!lw(r,e)&&(i[r]=t[r])}function h5({transformTemplate:i},t){return G.useMemo(()=>{const e=Ry();return xy(e,t,i),Object.assign({},e.vars,e.style)},[t])}function f5(i,t){const e=i.style||{},r={};return uw(r,e,i),Object.assign(r,h5(i,t)),r}function d5(i,t){const e={},r=f5(i,t);return i.drag&&i.dragListener!==!1&&(e.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=i.drag===!0?"none":`pan-${i.drag==="x"?"y":"x"}`),i.tabIndex===void 0&&(i.onTap||i.onTapStart||i.whileTap)&&(e.tabIndex=0),e.style=r,e}const m5={offset:"stroke-dashoffset",array:"stroke-dasharray"},p5={offset:"strokeDashoffset",array:"strokeDasharray"};function g5(i,t,e=1,r=0,o=!0){i.pathLength=1;const u=o?m5:p5;i[u.offset]=Vt.transform(-r);const c=Vt.transform(t),m=Vt.transform(e);i[u.array]=`${c} ${m}`}function cw(i,{attrX:t,attrY:e,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...m},p,g,v){if(xy(i,m,g),p){i.style.viewBox&&(i.attrs.viewBox=i.style.viewBox);return}i.attrs=i.style,i.style={};const{attrs:T,style:E}=i;T.transform&&(E.transform=T.transform,delete T.transform),(E.transform||T.transformOrigin)&&(E.transformOrigin=T.transformOrigin??"50% 50%",delete T.transformOrigin),E.transform&&(E.transformBox=v?.transformBox??"fill-box",delete T.transformBox),t!==void 0&&(T.x=t),e!==void 0&&(T.y=e),r!==void 0&&(T.scale=r),o!==void 0&&g5(T,o,u,c,!1)}const hw=()=>({...Ry(),attrs:{}}),fw=i=>typeof i=="string"&&i.toLowerCase()==="svg";function y5(i,t,e,r){const o=G.useMemo(()=>{const u=hw();return cw(u,t,fw(r),i.transformTemplate,i.style),{...u.attrs,style:{...u.style}}},[t]);if(i.style){const u={};uw(u,i.style,i),o.style={...u,...o.style}}return o}const v5=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Cy(i){return typeof i!="string"||i.includes("-")?!1:!!(v5.indexOf(i)>-1||/[A-Z]/u.test(i))}function _5(i,t,e,{latestValues:r},o,u=!1){const m=(Cy(i)?y5:d5)(t,r,o,i),p=s5(t,typeof i=="string",u),g=i!==G.Fragment?{...p,...m,ref:e}:{},{children:v}=t,T=G.useMemo(()=>Mn(v)?v.get():v,[v]);return G.createElement(i,{...g,children:T})}function n1(i){const t=[{},{}];return i?.values.forEach((e,r)=>{t[0][r]=e.get(),t[1][r]=e.getVelocity()}),t}function Iy(i,t,e,r){if(typeof t=="function"){const[o,u]=n1(r);t=t(e!==void 0?e:i.custom,o,u)}if(typeof t=="string"&&(t=i.variants&&i.variants[t]),typeof t=="function"){const[o,u]=n1(r);t=t(e!==void 0?e:i.custom,o,u)}return t}function Qh(i){return Mn(i)?i.get():i}function T5({scrapeMotionValuesFromProps:i,createRenderState:t},e,r,o){return{latestValues:b5(e,r,o,i),renderState:t()}}function b5(i,t,e,r){const o={},u=r(i,{});for(const E in u)o[E]=Qh(u[E]);let{initial:c,animate:m}=i;const p=Ff(i),g=ow(i);t&&g&&!p&&i.inherit!==!1&&(c===void 0&&(c=t.initial),m===void 0&&(m=t.animate));let v=e?e.initial===!1:!1;v=v||c===!1;const T=v?m:c;if(T&&typeof T!="boolean"&&!Bf(T)){const E=Array.isArray(T)?T:[T];for(let I=0;I<E.length;I++){const U=Iy(i,E[I]);if(U){const{transitionEnd:D,transition:k,...W}=U;for(const nt in W){let it=W[nt];if(Array.isArray(it)){const ft=v?it.length-1:0;it=it[ft]}it!==null&&(o[nt]=it)}for(const nt in D)o[nt]=D[nt]}}}return o}const dw=i=>(t,e)=>{const r=G.useContext(zf),o=G.useContext(Uf),u=()=>T5(i,t,r,o);return e?u():Zg(u)};function Dy(i,t,e){const{style:r}=i,o={};for(const u in r)(Mn(r[u])||t.style&&Mn(t.style[u])||lw(u,i)||e?.getValue(u)?.liveStyle!==void 0)&&(o[u]=r[u]);return o}const S5=dw({scrapeMotionValuesFromProps:Dy,createRenderState:Ry});function mw(i,t,e){const r=Dy(i,t,e);for(const o in i)if(Mn(i[o])||Mn(t[o])){const u=ml.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=i[o]}return r}const E5=dw({scrapeMotionValuesFromProps:mw,createRenderState:hw}),A5=Symbol.for("motionComponentSymbol");function Bo(i){return i&&typeof i=="object"&&Object.prototype.hasOwnProperty.call(i,"current")}function w5(i,t,e){return G.useCallback(r=>{r&&i.onMount&&i.onMount(r),t&&(r?t.mount(r):t.unmount()),e&&(typeof e=="function"?e(r):Bo(e)&&(e.current=r))},[t])}const My=i=>i.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),x5="framerAppearId",pw="data-"+My(x5),gw=G.createContext({});function R5(i,t,e,r,o){const{visualElement:u}=G.useContext(zf),c=G.useContext(rw),m=G.useContext(Uf),p=G.useContext(Sy).reducedMotion,g=G.useRef(null);r=r||c.renderer,!g.current&&r&&(g.current=r(i,{visualState:t,parent:u,props:e,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:p}));const v=g.current,T=G.useContext(gw);v&&!v.projection&&o&&(v.type==="html"||v.type==="svg")&&C5(g.current,e,o,T);const E=G.useRef(!1);G.useInsertionEffect(()=>{v&&E.current&&v.update(e,m)});const I=e[pw],U=G.useRef(!!I&&!window.MotionHandoffIsComplete?.(I)&&window.MotionHasOptimisedAnimation?.(I));return dA(()=>{v&&(E.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),U.current&&v.animationState&&v.animationState.animateChanges())}),G.useEffect(()=>{v&&(!U.current&&v.animationState&&v.animationState.animateChanges(),U.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(I)}),U.current=!1),v.enteringChildren=void 0)}),v}function C5(i,t,e,r){const{layoutId:o,layout:u,drag:c,dragConstraints:m,layoutScroll:p,layoutRoot:g,layoutCrossfade:v}=t;i.projection=new e(i.latestValues,t["data-framer-portal-id"]?void 0:yw(i.parent)),i.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||m&&Bo(m),visualElement:i,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:v,layoutScroll:p,layoutRoot:g})}function yw(i){if(i)return i.options.allowProjection!==!1?i.projection:yw(i.parent)}function ap(i,{forwardMotionProps:t=!1}={},e,r){e&&e5(e);const o=Cy(i)?E5:S5;function u(m,p){let g;const v={...G.useContext(Sy),...m,layoutId:I5(m)},{isStatic:T}=v,E=a5(m),I=o(m,T);if(!T&&ty){D5();const U=M5(v);g=U.MeasureLayout,E.visualElement=R5(i,I,v,r,U.ProjectionNode)}return S.jsxs(zf.Provider,{value:E,children:[g&&E.visualElement?S.jsx(g,{visualElement:E.visualElement,...v}):null,_5(i,m,w5(I,E.visualElement,p),I,T,t)]})}u.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const c=G.forwardRef(u);return c[A5]=i,c}function I5({layoutId:i}){const t=G.useContext(Jg).id;return t&&i!==void 0?t+"-"+i:i}function D5(i,t){G.useContext(rw).strict}function M5(i){const{drag:t,layout:e}=rl;if(!t&&!e)return{};const r={...t,...e};return{MeasureLayout:t?.isEnabled(i)||e?.isEnabled(i)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function V5(i,t){if(typeof Proxy>"u")return ap;const e=new Map,r=(u,c)=>ap(u,c,i,t),o=(u,c)=>r(u,c);return new Proxy(o,{get:(u,c)=>c==="create"?r:(e.has(c)||e.set(c,ap(c,void 0,i,t)),e.get(c))})}function vw({top:i,left:t,right:e,bottom:r}){return{x:{min:t,max:e},y:{min:i,max:r}}}function O5({x:i,y:t}){return{top:t.min,right:i.max,bottom:t.max,left:i.min}}function N5(i,t){if(!t)return i;const e=t({x:i.left,y:i.top}),r=t({x:i.right,y:i.bottom});return{top:e.y,left:e.x,bottom:r.y,right:r.x}}function op(i){return i===void 0||i===1}function Jp({scale:i,scaleX:t,scaleY:e}){return!op(i)||!op(t)||!op(e)}function Va(i){return Jp(i)||_w(i)||i.z||i.rotate||i.rotateX||i.rotateY||i.skewX||i.skewY}function _w(i){return i1(i.x)||i1(i.y)}function i1(i){return i&&i!=="0%"}function Sf(i,t,e){const r=i-e,o=t*r;return e+o}function s1(i,t,e,r,o){return o!==void 0&&(i=Sf(i,o,r)),Sf(i,e,r)+t}function Zp(i,t=0,e=1,r,o){i.min=s1(i.min,t,e,r,o),i.max=s1(i.max,t,e,r,o)}function Tw(i,{x:t,y:e}){Zp(i.x,t.translate,t.scale,t.originPoint),Zp(i.y,e.translate,e.scale,e.originPoint)}const r1=.999999999999,a1=1.0000000000001;function P5(i,t,e,r=!1){const o=e.length;if(!o)return;t.x=t.y=1;let u,c;for(let m=0;m<o;m++){u=e[m],c=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Ho(i,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,Tw(i,c)),r&&Va(u.latestValues)&&Ho(i,u.latestValues))}t.x<a1&&t.x>r1&&(t.x=1),t.y<a1&&t.y>r1&&(t.y=1)}function Fo(i,t){i.min=i.min+t,i.max=i.max+t}function o1(i,t,e,r,o=.5){const u=Pe(i.min,i.max,o);Zp(i,t,e,u,r)}function Ho(i,t){o1(i.x,t.x,t.scaleX,t.scale,t.originX),o1(i.y,t.y,t.scaleY,t.scale,t.originY)}function bw(i,t){return vw(N5(i.getBoundingClientRect(),t))}function k5(i,t,e){const r=bw(i,e),{scroll:o}=t;return o&&(Fo(r.x,o.offset.x),Fo(r.y,o.offset.y)),r}const l1=()=>({translate:0,scale:1,origin:0,originPoint:0}),qo=()=>({x:l1(),y:l1()}),u1=()=>({min:0,max:0}),Qe=()=>({x:u1(),y:u1()}),tg={current:null},Sw={current:!1};function j5(){if(Sw.current=!0,!!ty)if(window.matchMedia){const i=window.matchMedia("(prefers-reduced-motion)"),t=()=>tg.current=i.matches;i.addEventListener("change",t),t()}else tg.current=!1}const L5=new WeakMap;function U5(i,t,e){for(const r in t){const o=t[r],u=e[r];if(Mn(o))i.addValue(r,o);else if(Mn(u))i.addValue(r,sl(o,{owner:i}));else if(u!==o)if(i.hasValue(r)){const c=i.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=i.getStaticValue(r);i.addValue(r,sl(c!==void 0?c:o,{owner:i}))}}for(const r in e)t[r]===void 0&&i.removeValue(r);return t}const c1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class z5{scrapeMotionValuesFromProps(t,e,r){return{}}constructor({parent:t,props:e,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=yy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=Xn.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,Ie.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=c;this.latestValues=p,this.baseTarget={...p},this.initialValues=e.initial?{...p}:{},this.renderState=g,this.parent=t,this.props=e,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=Ff(e),this.isVariantNode=ow(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,...T}=this.scrapeMotionValuesFromProps(e,{},this);for(const E in T){const I=T[E];p[E]!==void 0&&Mn(I)&&I.set(p[E])}}mount(t){this.current=t,L5.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,r)=>this.bindToMotionValue(r,e)),Sw.current||j5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:tg.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),na(this.notifyUpdate),na(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=pl.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=e.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&Ie.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{o(),u&&u(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in rl){const e=rl[t];if(!e)continue;const{isEnabled:r,Feature:o}=e;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qe()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let r=0;r<c1.length;r++){const o=c1[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=t[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=U5(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const r=this.values.get(t);e!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&e!==void 0&&(r=sl(e===null?void 0:e,{owner:this}),this.addValue(t,r)),r}readValue(t,e){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(mA(r)||gA(r))?r=parseFloat(r):!Q3(r)&&ia.test(e)&&(r=$A(t,e)),this.setBaseTarget(t,Mn(r)?r.get():r)),Mn(r)?r.get():r}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let r;if(typeof e=="string"||typeof e=="object"){const u=Iy(this.props,e,this.presenceContext?.custom);u&&(r=u[t])}if(e&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!Mn(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new ry),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){Ty.render(this.render)}}class Ew extends z5{constructor(){super(...arguments),this.KeyframeResolver=k3}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:r}){delete e[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Mn(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function Aw(i,{style:t,vars:e},r,o){const u=i.style;let c;for(c in t)u[c]=t[c];o?.applyProjectionStyles(u,r);for(c in e)u.setProperty(c,e[c])}function B5(i){return window.getComputedStyle(i)}class F5 extends Ew{constructor(){super(...arguments),this.type="html",this.renderInstance=Aw}readValueFromInstance(t,e){if(pl.has(e))return this.projection?.isProjecting?Gp(e):e3(t,e);{const r=B5(t),o=(ly(e)?r.getPropertyValue(e):r[e])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:e}){return bw(t,e)}build(t,e,r){xy(t,e,r.transformTemplate)}scrapeMotionValuesFromProps(t,e,r){return Dy(t,e,r)}}const ww=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function H5(i,t,e,r){Aw(i,t,void 0,r);for(const o in t.attrs)i.setAttribute(ww.has(o)?o:My(o),t.attrs[o])}class q5 extends Ew{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Qe}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(pl.has(e)){const r=WA(e);return r&&r.default||0}return e=ww.has(e)?e:My(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,r){return mw(t,e,r)}build(t,e,r){cw(t,e,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,e,r,o){H5(t,e,r,o)}mount(t){this.isSVGTag=fw(t.tagName),super.mount(t)}}const G5=(i,t)=>Cy(i)?new q5(t):new F5(t,{allowProjection:i!==G.Fragment});function Xo(i,t,e){const r=i.getProps();return Iy(r,t,e!==void 0?e:r.custom,i)}const eg=i=>Array.isArray(i);function K5(i,t,e){i.hasValue(t)?i.getValue(t).set(e):i.addValue(t,sl(e))}function Y5(i){return eg(i)?i[i.length-1]||0:i}function Q5(i,t){const e=Xo(i,t);let{transitionEnd:r={},transition:o={},...u}=e||{};u={...u,...r};for(const c in u){const m=Y5(u[c]);K5(i,c,m)}}function X5(i){return!!(Mn(i)&&i.add)}function ng(i,t){const e=i.getValue("willChange");if(X5(e))return e.add(t);if(!e&&er.WillChange){const r=new er.WillChange("auto");i.addValue("willChange",r),r.add(t)}}function xw(i){return i.props[pw]}const W5=i=>i!==null;function $5(i,{repeat:t,repeatType:e="loop"},r){const o=i.filter(W5),u=t&&e!=="loop"&&t%2===1?0:o.length-1;return o[u]}const J5={type:"spring",stiffness:500,damping:25,restSpeed:10},Z5=i=>({type:"spring",stiffness:550,damping:i===0?2*Math.sqrt(550):30,restSpeed:10}),t4={type:"keyframes",duration:.8},e4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},n4=(i,{keyframes:t})=>t.length>2?t4:pl.has(i)?i.startsWith("scale")?Z5(t[1]):J5:e4;function i4({when:i,delay:t,delayChildren:e,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:m,from:p,elapsed:g,...v}){return!!Object.keys(v).length}const Vy=(i,t,e,r={},o,u)=>c=>{const m=vy(r,i)||{},p=m.delay||r.delay||0;let{elapsed:g=0}=r;g=g-ys(p);const v={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...m,delay:-g,onUpdate:E=>{t.set(E),m.onUpdate&&m.onUpdate(E)},onComplete:()=>{c(),m.onComplete&&m.onComplete()},name:i,motionValue:t,element:u?void 0:o};i4(m)||Object.assign(v,n4(i,v)),v.duration&&(v.duration=ys(v.duration)),v.repeatDelay&&(v.repeatDelay=ys(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let T=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(Wp(v),v.delay===0&&(T=!0)),(er.instantAnimations||er.skipAnimations)&&(T=!0,Wp(v),v.delay=0),v.allowFlatten=!m.type&&!m.ease,T&&!u&&t.get()!==void 0){const E=$5(v.keyframes,m);if(E!==void 0){Ie.update(()=>{v.onUpdate(E),v.onComplete()});return}}return m.isSync?new gy(v):new A3(v)};function s4({protectedKeys:i,needsAnimating:t},e){const r=i.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,r}function Rw(i,t,{delay:e=0,transitionOverride:r,type:o}={}){let{transition:u=i.getDefaultTransition(),transitionEnd:c,...m}=t;r&&(u=r);const p=[],g=o&&i.animationState&&i.animationState.getState()[o];for(const v in m){const T=i.getValue(v,i.latestValues[v]??null),E=m[v];if(E===void 0||g&&s4(g,v))continue;const I={delay:e,...vy(u||{},v)},U=T.get();if(U!==void 0&&!T.isAnimating&&!Array.isArray(E)&&E===U&&!I.velocity)continue;let D=!1;if(window.MotionHandoffAnimation){const W=xw(i);if(W){const nt=window.MotionHandoffAnimation(W,v,Ie);nt!==null&&(I.startTime=nt,D=!0)}}ng(i,v),T.start(Vy(v,T,E,i.shouldReduceMotion&&YA.has(v)?{type:!1}:I,i,D));const k=T.animation;k&&p.push(k)}return c&&Promise.all(p).then(()=>{Ie.update(()=>{c&&Q5(i,c)})}),p}function Cw(i,t,e,r=0,o=1){const u=Array.from(i).sort((g,v)=>g.sortNodePosition(v)).indexOf(t),c=i.size,m=(c-1)*r;return typeof e=="function"?e(u,c):o===1?u*r:m-u*r}function ig(i,t,e={}){const r=Xo(i,t,e.type==="exit"?i.presenceContext?.custom:void 0);let{transition:o=i.getDefaultTransition()||{}}=r||{};e.transitionOverride&&(o=e.transitionOverride);const u=r?()=>Promise.all(Rw(i,r,e)):()=>Promise.resolve(),c=i.variantChildren&&i.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:T}=o;return r4(i,t,p,g,v,T,e)}:()=>Promise.resolve(),{when:m}=o;if(m){const[p,g]=m==="beforeChildren"?[u,c]:[c,u];return p().then(()=>g())}else return Promise.all([u(),c(e.delay)])}function r4(i,t,e=0,r=0,o=0,u=1,c){const m=[];for(const p of i.variantChildren)p.notify("AnimationStart",t),m.push(ig(p,t,{...c,delay:e+(typeof r=="function"?0:r)+Cw(i.variantChildren,p,r,o,u)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(m)}function a4(i,t,e={}){i.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(u=>ig(i,u,e));r=Promise.all(o)}else if(typeof t=="string")r=ig(i,t,e);else{const o=typeof t=="function"?Xo(i,t,e.custom):t;r=Promise.all(Rw(i,o,e))}return r.then(()=>{i.notify("AnimationComplete",t)})}function Iw(i,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==i.length)return!1;for(let r=0;r<e;r++)if(t[r]!==i[r])return!1;return!0}const o4=wy.length;function Dw(i){if(!i)return;if(!i.isControllingVariants){const e=i.parent?Dw(i.parent)||{}:{};return i.props.initial!==void 0&&(e.initial=i.props.initial),e}const t={};for(let e=0;e<o4;e++){const r=wy[e],o=i.props[r];(Hu(o)||o===!1)&&(t[r]=o)}return t}const l4=[...Ay].reverse(),u4=Ay.length;function c4(i){return t=>Promise.all(t.map(({animation:e,options:r})=>a4(i,e,r)))}function h4(i){let t=c4(i),e=h1(),r=!0;const o=p=>(g,v)=>{const T=Xo(i,v,p==="exit"?i.presenceContext?.custom:void 0);if(T){const{transition:E,transitionEnd:I,...U}=T;g={...g,...U,...I}}return g};function u(p){t=p(i)}function c(p){const{props:g}=i,v=Dw(i.parent)||{},T=[],E=new Set;let I={},U=1/0;for(let k=0;k<u4;k++){const W=l4[k],nt=e[W],it=g[W]!==void 0?g[W]:v[W],ft=Hu(it),dt=W===p?nt.isActive:null;dt===!1&&(U=k);let mt=it===v[W]&&it!==g[W]&&ft;if(mt&&r&&i.manuallyAnimateOnMount&&(mt=!1),nt.protectedKeys={...I},!nt.isActive&&dt===null||!it&&!nt.prevProp||Bf(it)||typeof it=="boolean")continue;const R=f4(nt.prevProp,it);let w=R||W===p&&nt.isActive&&!mt&&ft||k>U&&ft,C=!1;const P=Array.isArray(it)?it:[it];let N=P.reduce(o(W),{});dt===!1&&(N={});const{prevResolvedValues:z={}}=nt,M={...z,...N},Ht=ut=>{w=!0,E.has(ut)&&(C=!0,E.delete(ut)),nt.needsAnimating[ut]=!0;const ht=i.getValue(ut);ht&&(ht.liveStyle=!1)};for(const ut in M){const ht=N[ut],Mt=z[ut];if(I.hasOwnProperty(ut))continue;let Rt=!1;eg(ht)&&eg(Mt)?Rt=!Iw(ht,Mt):Rt=ht!==Mt,Rt?ht!=null?Ht(ut):E.add(ut):ht!==void 0&&E.has(ut)?Ht(ut):nt.protectedKeys[ut]=!0}nt.prevProp=it,nt.prevResolvedValues=N,nt.isActive&&(I={...I,...N}),r&&i.blockInitialAnimation&&(w=!1);const le=mt&&R;w&&(!le||C)&&T.push(...P.map(ut=>{const ht={type:W};if(typeof ut=="string"&&r&&!le&&i.manuallyAnimateOnMount&&i.parent){const{parent:Mt}=i,Rt=Xo(Mt,ut);if(Mt.enteringChildren&&Rt){const{delayChildren:j}=Rt.transition||{};ht.delay=Cw(Mt.enteringChildren,i,j)}}return{animation:ut,options:ht}}))}if(E.size){const k={};if(typeof g.initial!="boolean"){const W=Xo(i,Array.isArray(g.initial)?g.initial[0]:g.initial);W&&W.transition&&(k.transition=W.transition)}E.forEach(W=>{const nt=i.getBaseTarget(W),it=i.getValue(W);it&&(it.liveStyle=!0),k[W]=nt??null}),T.push({animation:k})}let D=!!T.length;return r&&(g.initial===!1||g.initial===g.animate)&&!i.manuallyAnimateOnMount&&(D=!1),r=!1,D?t(T):Promise.resolve()}function m(p,g){if(e[p].isActive===g)return Promise.resolve();i.variantChildren?.forEach(T=>T.animationState?.setActive(p,g)),e[p].isActive=g;const v=c(p);for(const T in e)e[T].protectedKeys={};return v}return{animateChanges:c,setActive:m,setAnimateFunction:u,getState:()=>e,reset:()=>{e=h1()}}}function f4(i,t){return typeof t=="string"?t!==i:Array.isArray(t)?!Iw(t,i):!1}function Da(i=!1){return{isActive:i,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function h1(){return{animate:Da(!0),whileInView:Da(),whileHover:Da(),whileTap:Da(),whileDrag:Da(),whileFocus:Da(),exit:Da()}}class sa{constructor(t){this.isMounted=!1,this.node=t}update(){}}class d4 extends sa{constructor(t){super(t),t.animationState||(t.animationState=h4(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Bf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let m4=0;class p4 extends sa{constructor(){super(...arguments),this.id=m4++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);e&&!t&&o.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const g4={animation:{Feature:d4},exit:{Feature:p4}};function Gu(i,t,e,r={passive:!0}){return i.addEventListener(t,e,r),()=>i.removeEventListener(t,e)}function rc(i){return{point:{x:i.pageX,y:i.pageY}}}const y4=i=>t=>by(t)&&i(t,rc(t));function Ru(i,t,e,r){return Gu(i,t,y4(e),r)}const Mw=1e-4,v4=1-Mw,_4=1+Mw,Vw=.01,T4=0-Vw,b4=0+Vw;function Ln(i){return i.max-i.min}function S4(i,t,e){return Math.abs(i-t)<=e}function f1(i,t,e,r=.5){i.origin=r,i.originPoint=Pe(t.min,t.max,i.origin),i.scale=Ln(e)/Ln(t),i.translate=Pe(e.min,e.max,i.origin)-i.originPoint,(i.scale>=v4&&i.scale<=_4||isNaN(i.scale))&&(i.scale=1),(i.translate>=T4&&i.translate<=b4||isNaN(i.translate))&&(i.translate=0)}function Cu(i,t,e,r){f1(i.x,t.x,e.x,r?r.originX:void 0),f1(i.y,t.y,e.y,r?r.originY:void 0)}function d1(i,t,e){i.min=e.min+t.min,i.max=i.min+Ln(t)}function E4(i,t,e){d1(i.x,t.x,e.x),d1(i.y,t.y,e.y)}function m1(i,t,e){i.min=t.min-e.min,i.max=i.min+Ln(t)}function Iu(i,t,e){m1(i.x,t.x,e.x),m1(i.y,t.y,e.y)}function Ei(i){return[i("x"),i("y")]}const Ow=({current:i})=>i?i.ownerDocument.defaultView:null,p1=(i,t)=>Math.abs(i-t);function A4(i,t){const e=p1(i.x,t.x),r=p1(i.y,t.y);return Math.sqrt(e**2+r**2)}class Nw{constructor(t,e,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=up(this.lastMoveEventInfo,this.history),I=this.startEvent!==null,U=A4(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!I&&!U)return;const{point:D}=E,{timestamp:k}=Tn;this.history.push({...D,timestamp:k});const{onStart:W,onMove:nt}=this.handlers;I||(W&&W(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),nt&&nt(this.lastMoveEvent,E)},this.handlePointerMove=(E,I)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=lp(I,this.transformPagePoint),Ie.update(this.updatePoint,!0)},this.handlePointerUp=(E,I)=>{this.end();const{onEnd:U,onSessionEnd:D,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const W=up(E.type==="pointercancel"?this.lastMoveEventInfo:lp(I,this.transformPagePoint),this.history);this.startEvent&&U&&U(E,W),D&&D(E,W)},!by(t))return;this.dragSnapToOrigin=u,this.handlers=e,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=o||window;const m=rc(t),p=lp(m,this.transformPagePoint),{point:g}=p,{timestamp:v}=Tn;this.history=[{...g,timestamp:v}];const{onSessionStart:T}=e;T&&T(t,up(p,this.history)),this.removeListeners=nc(Ru(this.contextWindow,"pointermove",this.handlePointerMove),Ru(this.contextWindow,"pointerup",this.handlePointerUp),Ru(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),na(this.updatePoint)}}function lp(i,t){return t?{point:t(i.point)}:i}function g1(i,t){return{x:i.x-t.x,y:i.y-t.y}}function up({point:i},t){return{point:i,delta:g1(i,Pw(t)),offset:g1(i,w4(t)),velocity:x4(t,.1)}}function w4(i){return i[0]}function Pw(i){return i[i.length-1]}function x4(i,t){if(i.length<2)return{x:0,y:0};let e=i.length-1,r=null;const o=Pw(i);for(;e>=0&&(r=i[e],!(o.timestamp-r.timestamp>ys(t)));)e--;if(!r)return{x:0,y:0};const u=xi(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function R4(i,{min:t,max:e},r){return t!==void 0&&i<t?i=r?Pe(t,i,r.min):Math.max(i,t):e!==void 0&&i>e&&(i=r?Pe(e,i,r.max):Math.min(i,e)),i}function y1(i,t,e){return{min:t!==void 0?i.min+t:void 0,max:e!==void 0?i.max+e-(i.max-i.min):void 0}}function C4(i,{top:t,left:e,bottom:r,right:o}){return{x:y1(i.x,e,o),y:y1(i.y,t,r)}}function v1(i,t){let e=t.min-i.min,r=t.max-i.max;return t.max-t.min<i.max-i.min&&([e,r]=[r,e]),{min:e,max:r}}function I4(i,t){return{x:v1(i.x,t.x),y:v1(i.y,t.y)}}function D4(i,t){let e=.5;const r=Ln(i),o=Ln(t);return o>r?e=zu(t.min,t.max-r,i.min):r>o&&(e=zu(i.min,i.max-o,t.min)),tr(0,1,e)}function M4(i,t){const e={};return t.min!==void 0&&(e.min=t.min-i.min),t.max!==void 0&&(e.max=t.max-i.min),e}const sg=.35;function V4(i=sg){return i===!1?i=0:i===!0&&(i=sg),{x:_1(i,"left","right"),y:_1(i,"top","bottom")}}function _1(i,t,e){return{min:T1(i,t),max:T1(i,e)}}function T1(i,t){return typeof i=="number"?i:i[t]||0}const O4=new WeakMap;class N4{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qe(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=T=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(rc(T).point)},c=(T,E)=>{const{drag:I,dragPropagation:U,onDragStart:D}=this.getProps();if(I&&!U&&(this.openDragLock&&this.openDragLock(),this.openDragLock=z3(I),!this.openDragLock))return;this.latestPointerEvent=T,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ei(W=>{let nt=this.getAxisMotionValue(W).get()||0;if(vs.test(nt)){const{projection:it}=this.visualElement;if(it&&it.layout){const ft=it.layout.layoutBox[W];ft&&(nt=Ln(ft)*(parseFloat(nt)/100))}}this.originPoint[W]=nt}),D&&Ie.postRender(()=>D(T,E)),ng(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},m=(T,E)=>{this.latestPointerEvent=T,this.latestPanInfo=E;const{dragPropagation:I,dragDirectionLock:U,onDirectionLock:D,onDrag:k}=this.getProps();if(!I&&!this.openDragLock)return;const{offset:W}=E;if(U&&this.currentDirection===null){this.currentDirection=P4(W),this.currentDirection!==null&&D&&D(this.currentDirection);return}this.updateAxis("x",E.point,W),this.updateAxis("y",E.point,W),this.visualElement.render(),k&&k(T,E)},p=(T,E)=>{this.latestPointerEvent=T,this.latestPanInfo=E,this.stop(T,E),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>Ei(T=>this.getAnimationState(T)==="paused"&&this.getAxisMotionValue(T).animation?.play()),{dragSnapToOrigin:v}=this.getProps();this.panSession=new Nw(t,{onSessionStart:u,onStart:c,onMove:m,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:r,contextWindow:Ow(this.visualElement)})}stop(t,e){const r=t||this.latestPointerEvent,o=e||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!r)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:m}=this.getProps();m&&Ie.postRender(()=>m(r,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,r){const{drag:o}=this.getProps();if(!r||!Nh(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=R4(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&Bo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=C4(r.layoutBox,t):this.constraints=!1,this.elastic=V4(e),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ei(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=M4(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!Bo(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=k5(r,o.root,this.visualElement.getTransformPagePoint());let c=I4(o.layout.layoutBox,u);if(e){const m=e(O5(c));this.hasMutatedConstraints=!!m,m&&(c=vw(m))}return c}startAnimation(t){const{drag:e,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:m}=this.getProps(),p=this.constraints||{},g=Ei(v=>{if(!Nh(v,e,this.currentDirection))return;let T=p&&p[v]||{};c&&(T={min:0,max:0});const E=o?200:1e6,I=o?40:1e7,U={type:"inertia",velocity:r?t[v]:0,bounceStiffness:E,bounceDamping:I,timeConstant:750,restDelta:1,restSpeed:10,...u,...T};return this.startAxisValueAnimation(v,U)});return Promise.all(g).then(m)}startAxisValueAnimation(t,e){const r=this.getAxisMotionValue(t);return ng(this.visualElement,t),r.start(Vy(t,r,0,e,this.visualElement,!1))}stopAnimation(){Ei(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ei(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[e];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Ei(e=>{const{drag:r}=this.getProps();if(!Nh(e,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(e);if(o&&o.layout){const{min:c,max:m}=o.layout.layoutBox[e];u.set(t[e]-Pe(c,m,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:r}=this.visualElement;if(!Bo(e)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Ei(c=>{const m=this.getAxisMotionValue(c);if(m&&this.constraints!==!1){const p=m.get();o[c]=D4({min:p,max:p},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ei(c=>{if(!Nh(c,t,null))return;const m=this.getAxisMotionValue(c),{min:p,max:g}=this.constraints[c];m.set(Pe(p,g,o[c]))})}addListeners(){if(!this.visualElement.current)return;O4.set(this.visualElement,this);const t=this.visualElement.current,e=Ru(t,"pointerdown",p=>{const{drag:g,dragListener:v=!0}=this.getProps();g&&v&&this.start(p)}),r=()=>{const{dragConstraints:p}=this.getProps();Bo(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Ie.read(r);const c=Gu(window,"resize",()=>this.scalePositionWithinConstraints()),m=o.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(Ei(v=>{const T=this.getAxisMotionValue(v);T&&(this.originPoint[v]+=p[v].translate,T.set(T.get()+p[v].translate))}),this.visualElement.render())}));return()=>{c(),e(),u(),m&&m()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=sg,dragMomentum:m=!0}=t;return{...t,drag:e,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:m}}}function Nh(i,t,e){return(t===!0||t===i)&&(e===null||e===i)}function P4(i,t=10){let e=null;return Math.abs(i.y)>t?e="y":Math.abs(i.x)>t&&(e="x"),e}class k4 extends sa{constructor(t){super(t),this.removeGroupControls=Ri,this.removeListeners=Ri,this.controls=new N4(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ri}unmount(){this.removeGroupControls(),this.removeListeners()}}const b1=i=>(t,e)=>{i&&Ie.postRender(()=>i(t,e))};class j4 extends sa{constructor(){super(...arguments),this.removePointerDownListener=Ri}onPointerDown(t){this.session=new Nw(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ow(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:b1(t),onStart:b1(e),onMove:r,onEnd:(u,c)=>{delete this.session,o&&Ie.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=Ru(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Xh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function S1(i,t){return t.max===t.min?0:i/(t.max-t.min)*100}const fu={correct:(i,t)=>{if(!t.target)return i;if(typeof i=="string")if(Vt.test(i))i=parseFloat(i);else return i;const e=S1(i,t.target.x),r=S1(i,t.target.y);return`${e}% ${r}%`}},L4={correct:(i,{treeScale:t,projectionDelta:e})=>{const r=i,o=ia.parse(i);if(o.length>5)return r;const u=ia.createTransformer(i),c=typeof o[0]!="number"?1:0,m=e.x.scale*t.x,p=e.y.scale*t.y;o[0+c]/=m,o[1+c]/=p;const g=Pe(m,p,.5);return typeof o[2+c]=="number"&&(o[2+c]/=g),typeof o[3+c]=="number"&&(o[3+c]/=g),u(o)}};let cp=!1;class U4 extends G.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=t;o5(z4),u&&(e.group&&e.group.add(u),r&&r.register&&o&&r.register(u),cp&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Xh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:r,drag:o,isPresent:u}=this.props,{projection:c}=r;return c&&(c.isPresent=u,cp=!0,o||t.layoutDependency!==e||e===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||Ie.postRender(()=>{const m=c.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Ty.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:r}=this.props,{projection:o}=t;cp=!0,o&&(o.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function kw(i){const[t,e]=sw(),r=G.useContext(Jg);return S.jsx(U4,{...i,layoutGroup:r,switchLayoutGroup:G.useContext(gw),isPresent:t,safeToRemove:e})}const z4={borderRadius:{...fu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:fu,borderTopRightRadius:fu,borderBottomLeftRadius:fu,borderBottomRightRadius:fu,boxShadow:L4};function B4(i,t,e){const r=Mn(i)?i:sl(i);return r.start(Vy("",r,t,e)),r.animation}const F4=(i,t)=>i.depth-t.depth;class H4{constructor(){this.children=[],this.isDirty=!1}add(t){ey(this.children,t),this.isDirty=!0}remove(t){ny(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(F4),this.isDirty=!1,this.children.forEach(t)}}function q4(i,t){const e=Xn.now(),r=({timestamp:o})=>{const u=o-e;u>=t&&(na(r),i(u-t))};return Ie.setup(r,!0),()=>na(r)}const jw=["TopLeft","TopRight","BottomLeft","BottomRight"],G4=jw.length,E1=i=>typeof i=="string"?parseFloat(i):i,A1=i=>typeof i=="number"||Vt.test(i);function K4(i,t,e,r,o,u){o?(i.opacity=Pe(0,e.opacity??1,Y4(r)),i.opacityExit=Pe(t.opacity??1,0,Q4(r))):u&&(i.opacity=Pe(t.opacity??1,e.opacity??1,r));for(let c=0;c<G4;c++){const m=`border${jw[c]}Radius`;let p=w1(t,m),g=w1(e,m);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||A1(p)===A1(g)?(i[m]=Math.max(Pe(E1(p),E1(g),r),0),(vs.test(g)||vs.test(p))&&(i[m]+="%")):i[m]=g}(t.rotate||e.rotate)&&(i.rotate=Pe(t.rotate||0,e.rotate||0,r))}function w1(i,t){return i[t]!==void 0?i[t]:i.borderRadius}const Y4=Lw(0,.5,AA),Q4=Lw(.5,.95,Ri);function Lw(i,t,e){return r=>r<i?0:r>t?1:e(zu(i,t,r))}function x1(i,t){i.min=t.min,i.max=t.max}function Si(i,t){x1(i.x,t.x),x1(i.y,t.y)}function R1(i,t){i.translate=t.translate,i.scale=t.scale,i.originPoint=t.originPoint,i.origin=t.origin}function C1(i,t,e,r,o){return i-=t,i=Sf(i,1/e,r),o!==void 0&&(i=Sf(i,1/o,r)),i}function X4(i,t=0,e=1,r=.5,o,u=i,c=i){if(vs.test(t)&&(t=parseFloat(t),t=Pe(c.min,c.max,t/100)-c.min),typeof t!="number")return;let m=Pe(u.min,u.max,r);i===u&&(m-=t),i.min=C1(i.min,t,e,m,o),i.max=C1(i.max,t,e,m,o)}function I1(i,t,[e,r,o],u,c){X4(i,t[e],t[r],t[o],t.scale,u,c)}const W4=["x","scaleX","originX"],$4=["y","scaleY","originY"];function D1(i,t,e,r){I1(i.x,t,W4,e?e.x:void 0,r?r.x:void 0),I1(i.y,t,$4,e?e.y:void 0,r?r.y:void 0)}function M1(i){return i.translate===0&&i.scale===1}function Uw(i){return M1(i.x)&&M1(i.y)}function V1(i,t){return i.min===t.min&&i.max===t.max}function J4(i,t){return V1(i.x,t.x)&&V1(i.y,t.y)}function O1(i,t){return Math.round(i.min)===Math.round(t.min)&&Math.round(i.max)===Math.round(t.max)}function zw(i,t){return O1(i.x,t.x)&&O1(i.y,t.y)}function N1(i){return Ln(i.x)/Ln(i.y)}function P1(i,t){return i.translate===t.translate&&i.scale===t.scale&&i.originPoint===t.originPoint}class Z4{constructor(){this.members=[]}add(t){ey(this.members,t),t.scheduleRender()}remove(t){if(ny(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(o=>t===o);if(e===0)return!1;let r;for(let o=e;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(t,e){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,e&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:r}=t;e.onExitComplete&&e.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function t6(i,t,e){let r="";const o=i.x.translate/t.x,u=i.y.translate/t.y,c=e?.z||0;if((o||u||c)&&(r=`translate3d(${o}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:g,rotate:v,rotateX:T,rotateY:E,skewX:I,skewY:U}=e;g&&(r=`perspective(${g}px) ${r}`),v&&(r+=`rotate(${v}deg) `),T&&(r+=`rotateX(${T}deg) `),E&&(r+=`rotateY(${E}deg) `),I&&(r+=`skewX(${I}deg) `),U&&(r+=`skewY(${U}deg) `)}const m=i.x.scale*t.x,p=i.y.scale*t.y;return(m!==1||p!==1)&&(r+=`scale(${m}, ${p})`),r||"none"}const hp=["","X","Y","Z"],e6=1e3;let n6=0;function fp(i,t,e,r){const{latestValues:o}=t;o[i]&&(e[i]=o[i],t.setStaticValue(i,0),r&&(r[i]=0))}function Bw(i){if(i.hasCheckedOptimisedAppear=!0,i.root===i)return;const{visualElement:t}=i.options;if(!t)return;const e=xw(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:o,layoutId:u}=i.options;window.MotionCancelOptimisedAnimation(e,"transform",Ie,!(o||u))}const{parent:r}=i;r&&!r.hasCheckedOptimisedAppear&&Bw(r)}function Fw({attachResizeListener:i,defaultParent:t,measureScroll:e,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},m=t?.()){this.id=n6++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(r6),this.nodes.forEach(u6),this.nodes.forEach(c6),this.nodes.forEach(a6)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new H4)}addEventListener(c,m){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new ry),this.eventHandlers.get(c).add(m)}notifyListeners(c,...m){const p=this.eventHandlers.get(c);p&&p.notify(...m)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=iw(c)&&!K3(c),this.instance=c;const{layoutId:m,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||m)&&(this.isLayoutDirty=!0),i){let v,T=0;const E=()=>this.root.updateBlockedByResize=!1;Ie.read(()=>{T=window.innerWidth}),i(c,()=>{const I=window.innerWidth;I!==T&&(T=I,this.root.updateBlockedByResize=!0,v&&v(),v=q4(E,250),Xh.hasAnimatedSinceResize&&(Xh.hasAnimatedSinceResize=!1,this.nodes.forEach(L1)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&g&&(m||p)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:T,hasRelativeLayoutChanged:E,layout:I})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const U=this.options.transition||g.getDefaultTransition()||p6,{onLayoutAnimationStart:D,onLayoutAnimationComplete:k}=g.getProps(),W=!this.targetLayout||!zw(this.targetLayout,I),nt=!T&&E;if(this.options.layoutRoot||this.resumeFrom||nt||T&&(W||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const it={...vy(U,"layout"),onPlay:D,onComplete:k};(g.shouldReduceMotion||this.options.layoutRoot)&&(it.delay=0,it.type=!1),this.startAnimation(it),this.setAnimationOrigin(v,nt)}else T||L1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=I})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),na(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(h6),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Bw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const T=this.path[v];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:m,layout:p}=this.options;if(m===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(k1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(j1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(l6),this.nodes.forEach(i6),this.nodes.forEach(s6)):this.nodes.forEach(j1),this.clearAllSnapshots();const m=Xn.now();Tn.delta=tr(0,1e3/60,m-Tn.timestamp),Tn.timestamp=m,Tn.isProcessing=!0,tp.update.process(Tn),tp.preRender.process(Tn),tp.render.process(Tn),Tn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ty.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(o6),this.sharedNodes.forEach(f6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ie.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ie.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ln(this.snapshot.measuredBox.x)&&!Ln(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Qe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(m=!1),m&&this.instance){const p=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!Uw(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;c&&this.instance&&(m||Va(this.latestValues)||v)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const m=this.measurePageBox();let p=this.removeElementScroll(m);return c&&(p=this.removeTransform(p)),g6(p),{animationId:this.root.animationId,measuredBox:m,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Qe();const m=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(y6))){const{scroll:g}=this.root;g&&(Fo(m.x,g.offset.x),Fo(m.y,g.offset.y))}return m}removeElementScroll(c){const m=Qe();if(Si(m,c),this.scroll?.wasRoot)return m;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:v,options:T}=g;g!==this.root&&v&&T.layoutScroll&&(v.wasRoot&&Si(m,c),Fo(m.x,v.offset.x),Fo(m.y,v.offset.y))}return m}applyTransform(c,m=!1){const p=Qe();Si(p,c);for(let g=0;g<this.path.length;g++){const v=this.path[g];!m&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Ho(p,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Va(v.latestValues)&&Ho(p,v.latestValues)}return Va(this.latestValues)&&Ho(p,this.latestValues),p}removeTransform(c){const m=Qe();Si(m,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!Va(g.latestValues))continue;Jp(g.latestValues)&&g.updateSnapshot();const v=Qe(),T=g.measurePageBox();Si(v,T),D1(m,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return Va(this.latestValues)&&D1(m,this.latestValues),m}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Tn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==m;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:T}=this.options;if(!(!this.layout||!(v||T))){if(this.resolvedRelativeTargetAt=Tn.timestamp,!this.targetDelta&&!this.relativeTarget){const E=this.getClosestProjectingParent();E&&E.layout&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qe(),this.relativeTargetOrigin=Qe(),Iu(this.relativeTargetOrigin,this.layout.layoutBox,E.layout.layoutBox),Si(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Qe(),this.targetWithTransforms=Qe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),E4(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Si(this.target,this.layout.layoutBox),Tw(this.target,this.targetDelta)):Si(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const E=this.getClosestProjectingParent();E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qe(),this.relativeTargetOrigin=Qe(),Iu(this.relativeTargetOrigin,this.target,E.target),Si(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Jp(this.parent.latestValues)||_w(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),m=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Tn.timestamp&&(p=!1),p)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;Si(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,E=this.treeScale.y;P5(this.layoutCorrected,this.treeScale,this.path,m),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Qe());const{target:I}=c;if(!I){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(R1(this.prevProjectionDelta.x,this.projectionDelta.x),R1(this.prevProjectionDelta.y,this.projectionDelta.y)),Cu(this.projectionDelta,this.layoutCorrected,I,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==E||!P1(this.projectionDelta.x,this.prevProjectionDelta.x)||!P1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",I))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=qo(),this.projectionDelta=qo(),this.projectionDeltaWithTransform=qo()}setAnimationOrigin(c,m=!1){const p=this.snapshot,g=p?p.latestValues:{},v={...this.latestValues},T=qo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const E=Qe(),I=p?p.source:void 0,U=this.layout?this.layout.source:void 0,D=I!==U,k=this.getStack(),W=!k||k.members.length<=1,nt=!!(D&&!W&&this.options.crossfade===!0&&!this.path.some(m6));this.animationProgress=0;let it;this.mixTargetDelta=ft=>{const dt=ft/1e3;U1(T.x,c.x,dt),U1(T.y,c.y,dt),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Iu(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),d6(this.relativeTarget,this.relativeTargetOrigin,E,dt),it&&J4(this.relativeTarget,it)&&(this.isProjectionDirty=!1),it||(it=Qe()),Si(it,this.relativeTarget)),D&&(this.animationValues=v,K4(v,g,this.latestValues,dt,nt,W)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=dt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(na(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ie.update(()=>{Xh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=sl(0)),this.currentAnimation=B4(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),c.onUpdate&&c.onUpdate(m)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(e6),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:m,target:p,layout:g,latestValues:v}=c;if(!(!m||!p||!g)){if(this!==c&&this.layout&&g&&Hw(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||Qe();const T=Ln(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+T;const E=Ln(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+E}Si(m,p),Ho(m,v),Cu(this.projectionDeltaWithTransform,this.layoutCorrected,m,v)}}registerSharedNode(c,m){this.sharedNodes.has(c)||this.sharedNodes.set(c,new Z4),this.sharedNodes.get(c).add(m);const g=m.options.initialPromotionConfig;m.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(m):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:m,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let m=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(m=!0),!m)return;const g={};p.z&&fp("z",c,g,this.animationValues);for(let v=0;v<hp.length;v++)fp(`rotate${hp[v]}`,c,g,this.animationValues),fp(`skew${hp[v]}`,c,g,this.animationValues);c.render();for(const v in g)c.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);c.scheduleRender()}applyProjectionStyles(c,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Qh(m?.pointerEvents)||"",c.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Qh(m?.pointerEvents)||""),this.hasProjected&&!Va(this.latestValues)&&(c.transform=p?p({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=g.animationValues||g.latestValues;this.applyTransformsToTarget();let T=t6(this.projectionDeltaWithTransform,this.treeScale,v);p&&(T=p(v,T)),c.transform=T;const{x:E,y:I}=this.projectionDelta;c.transformOrigin=`${E.origin*100}% ${I.origin*100}% 0`,g.animationValues?c.opacity=g===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const U in qu){if(v[U]===void 0)continue;const{correct:D,applyTo:k,isCSSVariable:W}=qu[U],nt=T==="none"?v[U]:D(v[U],g);if(k){const it=k.length;for(let ft=0;ft<it;ft++)c[k[ft]]=nt}else W?this.options.visualElement.renderState.vars[U]=nt:c[U]=nt}this.options.layoutId&&(c.pointerEvents=g===this?Qh(m?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(k1),this.root.sharedNodes.clear()}}}function i6(i){i.updateLayout()}function s6(i){const t=i.resumeFrom?.snapshot||i.snapshot;if(i.isLead()&&i.layout&&t&&i.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:r}=i.layout,{animationType:o}=i.options,u=t.source!==i.layout.source;o==="size"?Ei(v=>{const T=u?t.measuredBox[v]:t.layoutBox[v],E=Ln(T);T.min=e[v].min,T.max=T.min+E}):Hw(o,t.layoutBox,e)&&Ei(v=>{const T=u?t.measuredBox[v]:t.layoutBox[v],E=Ln(e[v]);T.max=T.min+E,i.relativeTarget&&!i.currentAnimation&&(i.isProjectionDirty=!0,i.relativeTarget[v].max=i.relativeTarget[v].min+E)});const c=qo();Cu(c,e,t.layoutBox);const m=qo();u?Cu(m,i.applyTransform(r,!0),t.measuredBox):Cu(m,e,t.layoutBox);const p=!Uw(c);let g=!1;if(!i.resumeFrom){const v=i.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:T,layout:E}=v;if(T&&E){const I=Qe();Iu(I,t.layoutBox,T.layoutBox);const U=Qe();Iu(U,e,E.layoutBox),zw(I,U)||(g=!0),v.options.layoutRoot&&(i.relativeTarget=U,i.relativeTargetOrigin=I,i.relativeParent=v)}}}i.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:m,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(i.isLead()){const{onExitComplete:e}=i.options;e&&e()}i.options.transition=void 0}function r6(i){i.parent&&(i.isProjecting()||(i.isProjectionDirty=i.parent.isProjectionDirty),i.isSharedProjectionDirty||(i.isSharedProjectionDirty=!!(i.isProjectionDirty||i.parent.isProjectionDirty||i.parent.isSharedProjectionDirty)),i.isTransformDirty||(i.isTransformDirty=i.parent.isTransformDirty))}function a6(i){i.isProjectionDirty=i.isSharedProjectionDirty=i.isTransformDirty=!1}function o6(i){i.clearSnapshot()}function k1(i){i.clearMeasurements()}function j1(i){i.isLayoutDirty=!1}function l6(i){const{visualElement:t}=i.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),i.resetTransform()}function L1(i){i.finishAnimation(),i.targetDelta=i.relativeTarget=i.target=void 0,i.isProjectionDirty=!0}function u6(i){i.resolveTargetDelta()}function c6(i){i.calcProjection()}function h6(i){i.resetSkewAndRotation()}function f6(i){i.removeLeadSnapshot()}function U1(i,t,e){i.translate=Pe(t.translate,0,e),i.scale=Pe(t.scale,1,e),i.origin=t.origin,i.originPoint=t.originPoint}function z1(i,t,e,r){i.min=Pe(t.min,e.min,r),i.max=Pe(t.max,e.max,r)}function d6(i,t,e,r){z1(i.x,t.x,e.x,r),z1(i.y,t.y,e.y,r)}function m6(i){return i.animationValues&&i.animationValues.opacityExit!==void 0}const p6={duration:.45,ease:[.4,0,.1,1]},B1=i=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(i),F1=B1("applewebkit/")&&!B1("chrome/")?Math.round:Ri;function H1(i){i.min=F1(i.min),i.max=F1(i.max)}function g6(i){H1(i.x),H1(i.y)}function Hw(i,t,e){return i==="position"||i==="preserve-aspect"&&!S4(N1(t),N1(e),.2)}function y6(i){return i!==i.root&&i.scroll?.wasRoot}const v6=Fw({attachResizeListener:(i,t)=>Gu(i,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),dp={current:void 0},qw=Fw({measureScroll:i=>({x:i.scrollLeft,y:i.scrollTop}),defaultParent:()=>{if(!dp.current){const i=new v6({});i.mount(window),i.setOptions({layoutScroll:!0}),dp.current=i}return dp.current},resetTransform:(i,t)=>{i.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:i=>window.getComputedStyle(i).position==="fixed"}),_6={pan:{Feature:j4},drag:{Feature:k4,ProjectionNode:qw,MeasureLayout:kw}};function q1(i,t,e){const{props:r}=i;i.animationState&&r.whileHover&&i.animationState.setActive("whileHover",e==="Start");const o="onHover"+e,u=r[o];u&&Ie.postRender(()=>u(t,rc(t)))}class T6 extends sa{mount(){const{current:t}=this.node;t&&(this.unmount=B3(t,(e,r)=>(q1(this.node,r,"Start"),o=>q1(this.node,o,"End"))))}unmount(){}}class b6 extends sa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=nc(Gu(this.node.current,"focus",()=>this.onFocus()),Gu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function G1(i,t,e){const{props:r}=i;if(i.current instanceof HTMLButtonElement&&i.current.disabled)return;i.animationState&&r.whileTap&&i.animationState.setActive("whileTap",e==="Start");const o="onTap"+(e==="End"?"":e),u=r[o];u&&Ie.postRender(()=>u(t,rc(t)))}class S6 extends sa{mount(){const{current:t}=this.node;t&&(this.unmount=G3(t,(e,r)=>(G1(this.node,r,"Start"),(o,{success:u})=>G1(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const rg=new WeakMap,mp=new WeakMap,E6=i=>{const t=rg.get(i.target);t&&t(i)},A6=i=>{i.forEach(E6)};function w6({root:i,...t}){const e=i||document;mp.has(e)||mp.set(e,{});const r=mp.get(e),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(A6,{root:i,...t})),r[o]}function x6(i,t,e){const r=w6(t);return rg.set(i,e),r.observe(i),()=>{rg.delete(i),r.unobserve(i)}}const R6={some:0,all:1};class C6 extends sa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:r,amount:o="some",once:u}=t,c={root:e?e.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:R6[o]},m=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:T}=this.node.getProps(),E=g?v:T;E&&E(p)};return x6(this.node.current,c,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(I6(t,e))&&this.startObserver()}unmount(){}}function I6({viewport:i={}},{viewport:t={}}={}){return e=>i[e]!==t[e]}const D6={inView:{Feature:C6},tap:{Feature:S6},focus:{Feature:b6},hover:{Feature:T6}},M6={layout:{ProjectionNode:qw,MeasureLayout:kw}},V6={...g4,...D6,..._6,...M6},Ae=V5(V6,G5);function O6({onClick:i}){return S.jsx(Ae.div,{onClick:t=>{t.stopPropagation(),i()},initial:{scale:0,opacity:0},animate:{scale:[1,1.2,1],rotate:[0,10,-10,0]},transition:{duration:.5,repeat:1/0,repeatType:"reverse"},style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontSize:"2em",zIndex:10,cursor:"pointer",filter:"drop-shadow(0 0 5px rgba(0,0,0,0.5))"},children:""})}function N6({plants:i,onHarvest:t,pests:e,onRemovePest:r}){return S.jsx("div",{className:"log-container",children:S.jsx("div",{className:"mushroom-field",children:i.map((o,u)=>{const c=o&&o.stage==="adult"&&(o.rarity==="rare"||o.rarity==="epic"||o.rarity==="legendary"||o.rarity==="mythic")?`rarity-${o.rarity}`:"";return S.jsx("div",{className:`mushroom-slot ${c}`,onClick:()=>o&&o.stage==="adult"&&t(u),children:S.jsxs(Ey,{mode:"wait",children:[o&&S.jsx(Ae.div,{initial:{scale:0,rotate:-10},animate:{scale:1,rotate:0},exit:{scale:0,y:-20,opacity:0},whileHover:{scale:1.1,rotate:5},whileTap:{scale:.9},className:`mushroom ${o.stage==="baby"?"mushroom-baby":""}`,children:o.stage==="baby"?"":o.emoji},o.id+o.stage),e&&e[u]&&S.jsx(O6,{onClick:()=>r(u)})]})},u)})})})}const P6=i=>({common:"#95a5a6",rare:"#3498db",epic:"#9b59b6",legendary:"#f39c12",mythic:"#e74c3c"})[i]||"#95a5a6";function k6({inventory:i,consumables:t,onSell:e,onSellAll:r,onUseConsumable:o,cookedItems:u={},useCookedItem:c,onSellCookedItem:m}){const[p,g]=G.useState({}),[v,T]=G.useState("items"),E=(D,k)=>{g(W=>({...W,[D]:parseInt(k)}))},I=()=>Object.values(i).reduce((D,k)=>D+k.value*k.count,0),U=Object.keys(i).length===0;return S.jsxs("div",{style:{padding:"20px"},children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[S.jsx("h2",{style:{color:"#2d3436",margin:0},children:" "}),v==="items"&&!U&&S.jsxs("button",{onClick:r,style:{padding:"10px 20px",background:"#00b894",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold",whiteSpace:"nowrap",cursor:"pointer"},children:["  ( ",I(),")"]})]}),S.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"20px"},children:[S.jsxs("button",{onClick:()=>T("items"),style:{flex:1,padding:"12px",borderRadius:"10px",border:"none",background:v==="items"?"#00b894":"#dfe6e9",color:v==="items"?"white":"#636e72",fontWeight:"bold",whiteSpace:"nowrap",cursor:"pointer",transition:"all 0.2s"},children:["  (",Object.values(i).reduce((D,k)=>D+k.count,0),")"]}),S.jsxs("button",{onClick:()=>T("consumables"),style:{flex:1,padding:"12px",borderRadius:"10px",border:"none",background:v==="consumables"?"#e17055":"#dfe6e9",color:v==="consumables"?"white":"#636e72",fontWeight:"bold",whiteSpace:"nowrap",cursor:"pointer",transition:"all 0.2s"},children:["  (",(t?.seedBomb||0)+(t?.growthPotion||0)+Object.values(u).reduce((D,k)=>D+k.count,0),")"]})]}),S.jsxs("div",{style:{maxHeight:"600px",overflowY:"auto",paddingRight:"10px",scrollbarWidth:"none",msOverflowStyle:"none"},children:[S.jsx("style",{children:`
          div::-webkit-scrollbar {
            display: none;
          }
        `}),v==="items"?S.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, minmax(0, 1fr))",gap:"15px"},children:S.jsx(Ey,{children:U?S.jsxs("div",{style:{gridColumn:"1 / -1",textAlign:"center",padding:"60px 20px",color:"#636e72"},children:[S.jsx("div",{style:{fontSize:"4em",marginBottom:"10px"},children:""}),S.jsx("p",{style:{fontSize:"1.1em",margin:0},children:"  "}),S.jsx("p",{style:{fontSize:"0.9em",color:"#b2bec3"},children:"  !"})]}):Object.values(i).map(D=>S.jsxs(Ae.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},layout:!0,style:{background:"white",borderRadius:"12px",padding:"20px",boxShadow:"0 2px 10px rgba(0,0,0,0.08)",border:`2px solid ${P6(qi.mushrooms.find(k=>k.emoji===D.emoji)?.rarity)}`},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",marginBottom:"15px"},children:[S.jsx("div",{style:{fontSize:"3em"},children:D.emoji}),S.jsxs("div",{style:{flex:1},children:[S.jsx("div",{style:{fontSize:"1.1em",fontWeight:"bold",whiteSpace:"nowrap",color:"#2d3436",marginBottom:"4px"},children:D.name}),S.jsxs("div",{style:{fontSize:"0.9em",color:"#636e72",display:"flex",gap:"10px",alignItems:"center"},children:[S.jsxs("span",{children:[" ",D.value]}),S.jsxs("span",{style:{background:"#00b894",color:"white",padding:"4px 10px",borderRadius:"12px",fontSize:"0.95em",fontWeight:"bold",whiteSpace:"nowrap"},children:[D.name,"  ",D.count," "]})]})]})]}),S.jsxs("div",{style:{borderTop:"1px solid #dfe6e9",paddingTop:"15px"},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"8px"},children:[S.jsxs("span",{style:{fontSize:"0.9em",color:"#636e72",minWidth:"60px",flexShrink:0},children:[p[D.emoji]||1," "]}),S.jsx("input",{type:"range",min:"1",max:D.count,value:p[D.emoji]||1,onChange:k=>E(D.emoji,k.target.value),style:{flex:1,minWidth:0,maxWidth:"100%"}})]}),S.jsxs("button",{onClick:k=>{k.stopPropagation();const W=p[D.emoji]||1;e(D.emoji,W),g(nt=>({...nt,[D.emoji]:1}))},style:{width:"100%",padding:"10px",background:"#00b894",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold",whiteSpace:"nowrap",cursor:"pointer"},children:[" ( ",D.value*(p[D.emoji]||1),")"]})]})]},D.emoji))})}):S.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, minmax(0, 1fr))",gap:"15px"},children:!t||t.seedBomb===0&&t.growthPotion===0&&Object.keys(u).length===0?S.jsxs("div",{style:{gridColumn:"1 / -1",textAlign:"center",padding:"60px 20px",color:"#636e72"},children:[S.jsx("div",{style:{fontSize:"4em",marginBottom:"10px"},children:""}),S.jsx("p",{style:{fontSize:"1.1em",margin:0},children:"  "}),S.jsx("p",{style:{fontSize:"0.9em",color:"#b2bec3"},children:" !"})]}):S.jsxs(S.Fragment,{children:[t.seedBomb>0&&S.jsxs(Ae.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},style:{background:"white",borderRadius:"12px",padding:"20px",boxShadow:"0 2px 10px rgba(0,0,0,0.08)",border:"2px solid #e17055"},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",marginBottom:"15px"},children:[S.jsx("div",{style:{fontSize:"3em"},children:""}),S.jsxs("div",{style:{flex:1},children:[S.jsx("div",{style:{fontSize:"1.1em",fontWeight:"bold",whiteSpace:"nowrap",color:"#2d3436",marginBottom:"4px"},children:" "}),S.jsxs("div",{style:{fontSize:"0.9em",color:"#636e72"},children:["x",t.seedBomb]})]})]}),S.jsxs("div",{style:{borderTop:"1px solid #dfe6e9",paddingTop:"15px"},children:[S.jsx("p",{style:{fontSize:"0.85em",color:"#636e72",margin:"0 0 10px 0"},children:"      "}),S.jsx("button",{onClick:()=>o("seedBomb"),style:{width:"100%",padding:"10px",background:"#e17055",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold",whiteSpace:"nowrap",cursor:"pointer"},children:""})]})]}),t.growthPotion>0&&S.jsxs(Ae.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},style:{background:"white",borderRadius:"12px",padding:"20px",boxShadow:"0 2px 10px rgba(0,0,0,0.08)",border:"2px solid #6c5ce7"},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",marginBottom:"15px"},children:[S.jsx("div",{style:{fontSize:"3em"},children:""}),S.jsxs("div",{style:{flex:1},children:[S.jsx("div",{style:{fontSize:"1.1em",fontWeight:"bold",whiteSpace:"nowrap",color:"#2d3436",marginBottom:"4px"},children:" "}),S.jsxs("div",{style:{fontSize:"0.9em",color:"#636e72"},children:["x",t.growthPotion]})]})]}),S.jsxs("div",{style:{borderTop:"1px solid #dfe6e9",paddingTop:"15px"},children:[S.jsx("p",{style:{fontSize:"0.85em",color:"#636e72",margin:"0 0 10px 0"},children:"   "}),S.jsx("button",{onClick:()=>o("growthPotion"),style:{width:"100%",padding:"10px",background:"#6c5ce7",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold",whiteSpace:"nowrap",cursor:"pointer"},children:""})]})]}),Object.values(u).map(D=>S.jsxs(Ae.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},style:{background:"white",borderRadius:"12px",padding:"20px",boxShadow:"0 2px 10px rgba(0,0,0,0.08)",border:"2px solid #fdcb6e"},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",marginBottom:"15px"},children:[S.jsx("div",{style:{fontSize:"3em"},children:D.emoji}),S.jsxs("div",{style:{flex:1},children:[S.jsx("div",{style:{fontSize:"1.1em",fontWeight:"bold",whiteSpace:"nowrap",color:"#2d3436",marginBottom:"4px"},children:D.name}),S.jsxs("div",{style:{fontSize:"0.9em",color:"#636e72"},children:["x",D.count]})]})]}),S.jsxs("div",{style:{borderTop:"1px solid #dfe6e9",paddingTop:"15px"},children:[S.jsx("p",{style:{fontSize:"0.85em",color:"#636e72",margin:"0 0 10px 0"},children:D.description}),S.jsxs("div",{style:{display:"flex",gap:"10px"},children:[S.jsxs("button",{onClick:()=>m(D.id),style:{flex:1,padding:"10px",background:"#00b894",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold",whiteSpace:"nowrap",cursor:"pointer"},children:[" ( ",D.value,")"]}),D.effect&&S.jsx("button",{onClick:()=>c(D.id),style:{flex:1,padding:"10px",background:"#fdcb6e",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold",whiteSpace:"nowrap",cursor:"pointer"},children:""})]})]})]},D.id))]})})]})]})}function j6({gold:i,upgradeLevel:t,unlocks:e,rarityLevel:r,fertilizerLevel:o,onBuyUpgrade:u,onBuyUnlock:c,onBuyRarityUpgrade:m,onBuyFertilizerUpgrade:p,onBuyConsumable:g,onBuyLuckyBox:v,pets:T,onBuyPet:E}){const I=100+t*50,U=500*r,D=500,k=500;return S.jsx("div",{className:"shop-container",children:S.jsxs("div",{className:"shop-items",style:{display:"flex",flexDirection:"column",gap:"20px"},children:[S.jsxs(Ae.div,{className:"shop-item",initial:{opacity:0,y:20},animate:{opacity:1,y:0},style:{background:"white",borderRadius:"16px",padding:"20px",display:"flex",alignItems:"center",gap:"20px",boxShadow:"0 4px 15px rgba(0,0,0,0.05)"},children:[S.jsx("div",{style:{fontSize:"3em"},children:""}),S.jsxs("div",{style:{flex:1},children:[S.jsx("div",{className:"text-black",style:{fontSize:"1.2em",fontWeight:"bold"},children:"  "}),S.jsx("div",{style:{color:"#636e72",fontSize:"0.9em"},children:"  10%  ()"}),S.jsxs("div",{style:{color:"#6c5ce7",fontWeight:"bold",fontSize:"0.9em"},children:[": ",t]})]}),S.jsxs("button",{className:"btn",onClick:u,disabled:i<I,style:{opacity:i<I?.5:1},children:[" ",I]})]}),S.jsxs(Ae.div,{className:"shop-item",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},style:{background:"white",borderRadius:"16px",padding:"20px",display:"flex",alignItems:"center",gap:"20px",boxShadow:"0 4px 15px rgba(0,0,0,0.05)"},children:[S.jsx("div",{style:{fontSize:"3em"},children:""}),S.jsxs("div",{style:{flex:1},children:[S.jsx("div",{className:"text-black",style:{fontSize:"1.2em",fontWeight:"bold"},children:" "}),S.jsx("div",{style:{color:"#636e72",fontSize:"0.9em"},children:"    "}),S.jsxs("div",{style:{color:"#6c5ce7",fontWeight:"bold",fontSize:"0.9em"},children:[": ",r]})]}),S.jsxs("button",{className:"btn",onClick:m,disabled:i<U,style:{opacity:i<U?.5:1},children:[" ",U]})]}),S.jsxs(Ae.div,{className:"shop-item",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},style:{background:"white",borderRadius:"16px",padding:"20px",display:"flex",alignItems:"center",gap:"20px",boxShadow:"0 4px 15px rgba(0,0,0,0.05)"},children:[S.jsx("div",{style:{fontSize:"3em"},children:""}),S.jsxs("div",{style:{flex:1},children:[S.jsx("div",{className:"text-black",style:{fontSize:"1.2em",fontWeight:"bold"},children:"  "}),S.jsx("div",{style:{color:"#636e72",fontSize:"0.9em"},children:"     "})]}),S.jsx("button",{className:"btn",onClick:()=>c("statistics"),disabled:e.statistics||i<D,style:{opacity:e.statistics||i<D?.5:1},children:e.statistics?" ":` ${D}`})]}),S.jsxs(Ae.div,{className:"shop-item",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},style:{background:"white",borderRadius:"16px",padding:"20px",display:"flex",alignItems:"center",gap:"20px",boxShadow:"0 4px 15px rgba(0,0,0,0.05)"},children:[S.jsx("div",{style:{fontSize:"3em"},children:""}),S.jsxs("div",{style:{flex:1},children:[S.jsx("div",{className:"text-black",style:{fontSize:"1.2em",fontWeight:"bold"},children:"   "}),S.jsx("div",{style:{color:"#636e72",fontSize:"0.9em"},children:"       "})]}),S.jsx("button",{className:"btn",onClick:()=>c("harvestAll"),disabled:e.harvestAll||i<k,style:{opacity:e.harvestAll||i<k?.5:1},children:e.harvestAll?" ":` ${k}`})]}),S.jsxs(Ae.div,{className:"shop-item",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},style:{background:"white",borderRadius:"16px",padding:"20px",display:"flex",alignItems:"center",gap:"20px",boxShadow:"0 4px 15px rgba(0,0,0,0.05)"},children:[S.jsx("div",{style:{fontSize:"3em"},children:""}),S.jsxs("div",{style:{flex:1},children:[S.jsx("div",{className:"text-black",style:{fontSize:"1.2em",fontWeight:"bold"},children:"  "}),S.jsx("div",{style:{color:"#636e72",fontSize:"0.9em"},children:"  10% "}),S.jsxs("div",{style:{color:"#6c5ce7",fontWeight:"bold",fontSize:"0.9em"},children:[": ",o]})]}),S.jsxs("button",{className:"btn",onClick:p,disabled:i<1e3+o*500,style:{opacity:i<1e3+o*500?.5:1},children:[" ",1e3+o*500]})]}),S.jsx("div",{style:{borderTop:"2px solid #dfe6e9",margin:"10px 0",paddingTop:"10px"},children:S.jsx("h3",{style:{color:"#2d3436",marginBottom:"15px"},children:" "})}),S.jsxs(Ae.div,{className:"shop-item",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},style:{background:"white",borderRadius:"16px",padding:"20px",display:"flex",alignItems:"center",gap:"20px",boxShadow:"0 4px 15px rgba(0,0,0,0.05)",border:"2px solid #e17055"},children:[S.jsx("div",{style:{fontSize:"3em"},children:""}),S.jsxs("div",{style:{flex:1},children:[S.jsx("div",{className:"text-black",style:{fontSize:"1.2em",fontWeight:"bold"},children:" "}),S.jsx("div",{style:{color:"#636e72",fontSize:"0.9em"},children:"      !"})]}),S.jsx("button",{className:"btn",onClick:()=>g("seedBomb",2e3),disabled:i<2e3,style:{opacity:i<2e3?.5:1,background:"#e17055"},children:" 2000"})]}),S.jsxs(Ae.div,{className:"shop-item",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},style:{background:"white",borderRadius:"16px",padding:"20px",display:"flex",alignItems:"center",gap:"20px",boxShadow:"0 4px 15px rgba(0,0,0,0.05)",border:"2px solid #a29bfe"},children:[S.jsx("div",{style:{fontSize:"3em"},children:""}),S.jsxs("div",{style:{flex:1},children:[S.jsx("div",{className:"text-black",style:{fontSize:"1.2em",fontWeight:"bold"},children:" "}),S.jsx("div",{style:{color:"#636e72",fontSize:"0.9em"},children:"  ! ( )"}),S.jsx("div",{style:{fontSize:"0.75em",color:"#b2bec3",marginTop:"5px"},children:": (0.5%), (5%), (40%), (54.5%)"})]}),S.jsx("button",{className:"btn",onClick:v,disabled:i<250,style:{opacity:i<250?.5:1,background:"#a29bfe"},children:" 250"})]}),S.jsxs(Ae.div,{className:"shop-item",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},style:{background:"white",borderRadius:"16px",padding:"20px",display:"flex",alignItems:"center",gap:"20px",boxShadow:"0 4px 15px rgba(0,0,0,0.05)",border:T&&T.dog?"2px solid #b2bec3":"2px solid #fdcb6e"},children:[S.jsx("div",{style:{fontSize:"3em"},children:""}),S.jsxs("div",{style:{flex:1},children:[S.jsx("div",{className:"text-black",style:{fontSize:"1.2em",fontWeight:"bold"},children:" "}),S.jsxs("div",{style:{color:"#636e72",fontSize:"0.9em"},children:["   ",S.jsx("br",{}),"15    !"]}),S.jsx("div",{style:{color:"#fdcb6e",fontWeight:"bold",fontSize:"0.9em",marginTop:"5px"},children:T&&T.dog?" ":""})]}),S.jsx("button",{className:"btn",onClick:()=>E("dog",3e3),disabled:i<3e3||T&&T.dog,style:{opacity:i<3e3||T&&T.dog?.5:1,background:T&&T.dog?"#b2bec3":"#fdcb6e"},children:T&&T.dog?"":" 3000"})]})]})})}function L6({collection:i,rarityLevel:t=1,activeBuffs:e=[]}){const[r,o]=G.useState("all"),[u,c]=G.useState(null),m=qi.mushrooms,p=Object.values(i).filter(D=>D.discovered).length,g=m.length,v=(p/g*100).toFixed(1),T=m.filter(D=>{const k=i[D.emoji]?.discovered;return r==="all"?!0:r==="discovered"?k:r==="undiscovered"?!k:D.rarity===r}),E=D=>({common:"#95a5a6",rare:"#3498db",epic:"#9b59b6",legendary:"#f39c12",mythic:"#e74c3c"})[D]||"#95a5a6",I=D=>({common:"",rare:"",epic:"",legendary:"",mythic:""})[D]||"  ",U=D=>{const k=e.filter(ft=>ft.type==="rarity_boost"),W=m.filter(ft=>!(ft.rarity==="epic"&&t<5||ft.rarity==="legendary"&&t<10||ft.rarity==="mythic"&&t<15)).map(ft=>{let dt=1;return k.forEach(mt=>{(mt.target==="all"&&ft.rarity!=="common"||mt.target===ft.rarity)&&(dt*=mt.value)}),{...ft,effectiveWeight:ft.rarity==="common"?ft.weight/(1+t*.15):ft.weight*(1+(t-1)*.8)*dt}}),nt=W.reduce((ft,dt)=>ft+dt.effectiveWeight,0),it=W.find(ft=>ft.emoji===D.emoji);return it?(it.effectiveWeight/nt*100).toFixed(2):"0.00"};return S.jsxs("div",{className:"collection-container",children:[S.jsxs("div",{style:{background:"white",padding:"20px",borderRadius:"16px",marginBottom:"20px",boxShadow:"0 4px 15px rgba(0,0,0,0.05)"},children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"},children:[S.jsx("span",{style:{fontWeight:"bold",color:"#2d3436"},children:" "}),S.jsxs("span",{style:{fontWeight:"bold",color:"#6c5ce7"},children:[v,"%"]})]}),S.jsx("div",{style:{height:"10px",background:"#dfe6e9",borderRadius:"5px",overflow:"hidden"},children:S.jsx("div",{style:{height:"100%",width:`${v}%`,background:"linear-gradient(90deg, #6c5ce7, #a29bfe)",transition:"width 0.5s ease-out"}})})]}),S.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",marginBottom:"20px",justifyContent:"center"},children:["all","discovered","undiscovered","common","rare","epic","legendary","mythic"].map(D=>{const k={all:"",discovered:"",undiscovered:"",common:"",rare:"",epic:"",legendary:"",mythic:""};return S.jsx("button",{onClick:()=>o(D),style:{padding:"8px 16px",borderRadius:"20px",border:"none",background:r===D?"#6c5ce7":"#dfe6e9",color:r===D?"white":"#636e72",cursor:"pointer",whiteSpace:"nowrap",fontWeight:"bold",fontSize:"0.9em"},children:k[D]},D)})}),S.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(100px, 1fr))",gap:"10px",maxHeight:"400px",overflowY:"auto",scrollbarWidth:"none",msOverflowStyle:"none"},className:"collection-grid",children:T.map(D=>{const k=i[D.emoji],W=k?.discovered;return S.jsxs(Ae.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},onClick:()=>W&&c({...D,collectionData:k}),style:{background:"white",borderRadius:"12px",padding:"15px",textAlign:"center",border:`2px solid ${E(D.rarity)}`,boxShadow:W?`0 0 15px ${E(D.rarity)}40`:"none",opacity:W?1:.5,cursor:W?"pointer":"default"},children:[S.jsxs("div",{style:{fontSize:"2.5em",marginBottom:"5px",position:"relative"},children:[W?D.emoji:"",W&&S.jsx("div",{style:{position:"absolute",top:"-10px",right:"-10px",fontSize:"0.5em"},children:k.count>=50?"":k.count>=40?"":k.count>=30?"":""})]}),S.jsx("div",{className:"text-black",style:{fontSize:"0.8em",fontWeight:"bold"},children:W?D.description:"???"}),W&&S.jsxs("div",{style:{fontSize:"0.7em",color:"#636e72",marginTop:"5px"},children:[": ",k.count,""]})]},D.emoji)})}),u&&S.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>c(null),children:S.jsxs("div",{style:{background:"white",borderRadius:"20px",padding:"30px",maxWidth:"90%",width:"400px"},onClick:D=>D.stopPropagation(),children:[S.jsx("div",{style:{fontSize:"4em",textAlign:"center",marginBottom:"15px"},children:u.emoji}),S.jsx("div",{className:"text-black",style:{fontSize:"1.5em",fontWeight:"bold",textAlign:"center",marginBottom:"10px",wordBreak:"keep-all"},children:u.description}),S.jsx("div",{style:{background:E(u.rarity),color:"white",padding:"8px 15px",borderRadius:"20px",textAlign:"center",fontWeight:"bold",marginBottom:"20px"},children:I(u.rarity)}),S.jsx("div",{className:"text-black",style:{marginBottom:"15px",lineHeight:"1.6",fontSize:"0.95em"},children:u.flavorText}),S.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"10px",marginTop:"20px",padding:"15px",background:"#f8f9fa",borderRadius:"10px"},children:[S.jsxs("div",{style:{textAlign:"center"},children:[S.jsx("div",{style:{fontSize:"0.8em",color:"#2d3436",marginBottom:"5px"},children:""}),S.jsxs("div",{style:{fontWeight:"bold",color:"#2d3436"},children:[" ",u.value]})]}),S.jsxs("div",{style:{textAlign:"center"},children:[S.jsx("div",{style:{fontSize:"0.8em",color:"#2d3436",marginBottom:"5px"},children:" "}),S.jsxs("div",{style:{fontWeight:"bold",color:"#2d3436"},children:[" ",U(u),"%"]})]}),S.jsxs("div",{style:{textAlign:"center"},children:[S.jsx("div",{style:{fontSize:"0.8em",color:"#2d3436",marginBottom:"5px"},children:" "}),S.jsxs("div",{style:{fontWeight:"bold",color:"#2d3436"},children:[" ",u.collectionData.count,""]})]})]}),S.jsx("button",{onClick:()=>c(null),style:{marginTop:"20px",width:"100%",padding:"12px",background:"#6c5ce7",color:"white",border:"none",borderRadius:"10px",fontWeight:"bold",cursor:"pointer"},children:""})]})})]})}function U6({gold:i,foodState:t,fertilizerLevel:e,onActivateFood:r,onCancelFood:o}){const[u,c]=G.useState(0);G.useEffect(()=>{if(!t.active)return;const v=setInterval(()=>{const T=Math.max(0,t.endTime-Date.now());c(T),T<=0&&clearInterval(v)},100);return()=>clearInterval(v)},[t]);const m=v=>{const T=Math.floor(v/1e3),E=Math.floor(T/60),I=T%60;return`${E}:${I.toString().padStart(2,"0")}`},p=()=>{if(!t.active)return 0;const E=({"3min-free":18e4,"1min":6e4,"5min":3e5,"10min":6e5}[t.type]||0)*(1+e*.1);return u/E*100};if(t.active)return S.jsxs("div",{className:"food-system",style:{background:"rgba(255,255,255,0.8)",padding:"15px",borderRadius:"16px",marginBottom:"20px"},children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"},children:[S.jsx("span",{style:{fontWeight:"bold",color:"#d35400"},children:"  "}),S.jsx("span",{style:{fontWeight:"bold",color:"#6c5ce7"},children:m(u)})]}),S.jsx("div",{style:{height:"20px",background:"rgba(0,0,0,0.1)",borderRadius:"10px",overflow:"hidden",marginBottom:"10px"},children:S.jsx("div",{style:{height:"100%",width:`${p()}%`,background:"linear-gradient(90deg, #10ac84, #1dd1a1)",transition:"width 0.1s linear"}})}),S.jsx("button",{className:"btn btn-secondary",onClick:o,style:{width:"100%",padding:"8px"},children:"  "})]});const g=[{id:"3min-free",name:"",baseDuration:18e4,info:" (0.5x)",cost:0,color:"linear-gradient(135deg, #a8e6cf 0%, #3dccc7 100%)"},{id:"1min",name:"",baseDuration:6e4,info:" (2.5x)",cost:200,color:"linear-gradient(135deg, #ff9a9e 0%, #ff6b6b 100%)"},{id:"5min",name:"",baseDuration:3e5,info:" (1x)",cost:150,color:"linear-gradient(135deg, #a18cd1 0%, #fbc2eb 100%)"},{id:"10min",name:"",baseDuration:6e5,info:" (0.7x)",cost:350,color:"linear-gradient(135deg, #95e1d3 0%, #38ada9 100%)"}];return S.jsx("div",{className:"food-system",style:{marginBottom:"20px"},children:S.jsx("div",{style:{display:"flex",gap:"10px",overflowX:"auto",paddingBottom:"5px"},children:g.map(v=>{const T=v.baseDuration*(1+e*.1),E=Math.floor(T/6e4),I=Math.floor(T%6e4/1e3),U=I>0?`${E} ${I}`:`${E}`;return S.jsxs(Ae.button,{whileHover:{y:-2},whileTap:{scale:.95},onClick:()=>r(v.id),disabled:i<v.cost,style:{flex:"1",minWidth:"100px",border:"none",borderRadius:"12px",padding:"10px",background:v.color,color:"white",cursor:"pointer",opacity:i<v.cost?.5:1,display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},children:[S.jsxs("div",{style:{fontWeight:"bold",fontSize:"0.9em"},children:[v.id==="3min-free"?"":v.id==="1min"?"":v.id==="5min"?"":""," ",U," ",v.name]}),S.jsx("div",{style:{fontSize:"0.7em",opacity:.9},children:v.info}),S.jsx("div",{style:{fontWeight:"bold",fontSize:"0.8em"},children:v.cost===0?"":` ${v.cost}`})]},v.id)})})})}var z6=K1();const B6=i=>({common:"#95a5a6",rare:"#3498db",epic:"#9b59b6",legendary:"#f39c12",mythic:"#e74c3c"})[i]||"#95a5a6";function F6({inventory:i,cookedItems:t,useCookedItem:e,cookingState:r,discoveredRecipes:o,startCooking:u,claimDish:c}){const[m,p]=G.useState([]),[g,v]=G.useState("ingredients"),[T,E]=G.useState(0),[I,U]=G.useState(!1),[D,k]=G.useState(null);G.useEffect(()=>{if(r.active){const R=setInterval(()=>{const C=Date.now()-r.startTime,P=Math.max(0,r.duration-C);E(P)},100);return()=>clearInterval(R)}else E(0)},[r]);const W=R=>{m.length<3&&p([...m,R])},nt=R=>{if(!r.active){const w=[...m];w.splice(R,1),p(w)}},it=()=>{m.length===3&&(u(m),p([]))},ft=()=>{r.result&&(k(r.result),U(!0),c(),setTimeout(()=>U(!1),3e3))},dt=r.active&&T>0,mt=r.active&&T===0&&Date.now()-r.startTime>=r.duration;return S.jsxs("div",{className:"kitchen-container",style:{paddingBottom:"80px",position:"relative"},children:[z6.createPortal(S.jsx(Ey,{children:I&&D&&S.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:9999,pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},children:[S.jsx(Ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.5)",pointerEvents:"auto"},onClick:()=>U(!1)}),S.jsxs(Ae.div,{initial:{scale:.8,y:50},animate:{scale:1,y:0},exit:{scale:.8,y:50},onClick:R=>R.stopPropagation(),style:{background:"white",padding:"30px",borderRadius:"20px",boxShadow:"0 10px 30px rgba(0,0,0,0.2)",textAlign:"center",minWidth:"300px",maxWidth:"90%",border:`4px solid ${D.effect?"#fdcb6e":"#b2bec3"}`,zIndex:1e4,pointerEvents:"auto",position:"relative"},children:[S.jsx("div",{style:{fontSize:"5em",marginBottom:"10px"},children:D.emoji}),S.jsxs("h2",{style:{margin:"0 0 10px 0",color:"#2d3436"},children:[D.name," ",D.isRecipeInfo?"":"!"]}),S.jsx("p",{style:{color:"#636e72",marginBottom:"20px"},children:D.description}),D.isRecipeInfo&&S.jsxs("div",{style:{background:"#f1f2f6",padding:"15px",borderRadius:"12px",marginBottom:"20px",textAlign:"left"},children:[S.jsxs("div",{style:{marginBottom:"10px"},children:[S.jsx("span",{style:{fontWeight:"bold",color:"#2d3436"},children:" :"}),S.jsx("div",{style:{display:"flex",gap:"10px",marginTop:"5px"},children:(D.ingredients||["","",""]).map((R,w)=>S.jsx("div",{style:{fontSize:"1.5em",background:"white",borderRadius:"8px",padding:"5px",boxShadow:"0 2px 5px rgba(0,0,0,0.05)"},children:R},w))})]}),D.effect&&S.jsxs("div",{style:{marginBottom:"10px"},children:[S.jsx("span",{style:{fontWeight:"bold",color:"#2d3436"},children:":"}),S.jsxs("div",{style:{color:"#0984e3"},children:[D.effect.type==="speed"&&"   ",D.effect.type==="gold"&&"   ",D.effect.type==="spawn_rate"&&"    ",D.effect.type==="add_consumable"&&"  ",D.effect.type==="instant_growth"&&"  "," ","(",D.effect.duration>0?`${D.effect.duration/6e4}`:"",")"]})]}),S.jsxs("div",{children:[S.jsx("span",{style:{fontWeight:"bold",color:"#2d3436"},children:" :"}),S.jsxs("span",{style:{fontWeight:"bold",color:"#f1c40f",marginLeft:"5px"},children:[" ",D.value]})]})]}),S.jsx("button",{onClick:()=>U(!1),style:{padding:"10px 30px",background:"#00b894",color:"white",border:"none",borderRadius:"10px",fontWeight:"bold",cursor:"pointer",fontSize:"1.1em"},children:""})]})]},"popup-overlay")}),document.body),S.jsxs("div",{style:{background:"white",borderRadius:"16px",padding:"20px",marginBottom:"20px",boxShadow:"0 4px 15px rgba(0,0,0,0.05)",textAlign:"center"},children:[S.jsx("h2",{style:{margin:"0 0 20px 0",color:"#2d3436"},children:"  "}),S.jsx("div",{style:{width:"120px",height:"100px",background:"#636e72",borderRadius:"0 0 40px 40px",margin:"0 auto 20px auto",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"3em"},children:dt?S.jsx(Ae.div,{animate:{y:[0,-10,0]},transition:{repeat:1/0,duration:1},children:""}):mt?S.jsx(Ae.div,{animate:{scale:[1,1.2,1]},transition:{repeat:1/0,duration:.5},children:""}):S.jsx("span",{children:""})}),S.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"15px",marginBottom:"20px"},children:[0,1,2].map(R=>{const w=r.active?r.ingredients[R]:m[R];return S.jsx("div",{onClick:()=>nt(R),style:{width:"60px",height:"60px",borderRadius:"12px",background:"#f1f2f6",border:"2px dashed #b2bec3",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2em",cursor:!r.active&&w?"pointer":"default"},children:w},R)})}),dt?S.jsxs("div",{children:[S.jsxs("div",{style:{marginBottom:"10px",fontWeight:"bold",color:"#e17055"},children:[" ... ",(T/1e3).toFixed(1),""]}),S.jsx("div",{style:{width:"100%",height:"10px",background:"#dfe6e9",borderRadius:"5px",overflow:"hidden"},children:S.jsx(Ae.div,{style:{height:"100%",background:"#e17055"},initial:{width:"0%"},animate:{width:`${(r.duration-T)/r.duration*100}%`}})})]}):mt?S.jsx("button",{onClick:ft,style:{padding:"12px 30px",background:"#fdcb6e",color:"white",border:"none",borderRadius:"25px",fontSize:"1.1em",fontWeight:"bold",cursor:"pointer",boxShadow:"0 4px 0 #e1b12c"},children:" ! "}):S.jsx("button",{onClick:it,disabled:m.length!==3,style:{padding:"12px 30px",background:m.length===3?"#00b894":"#b2bec3",color:"white",border:"none",borderRadius:"25px",fontSize:"1.1em",fontWeight:"bold",cursor:m.length===3?"pointer":"not-allowed",boxShadow:m.length===3?"0 4px 0 #008c70":"none"},children:"  "})]}),S.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"20px"},children:[S.jsx("button",{onClick:()=>v("ingredients"),style:{flex:1,padding:"12px",borderRadius:"10px",border:"none",background:g==="ingredients"?"#6c5ce7":"#dfe6e9",color:g==="ingredients"?"white":"#636e72",fontWeight:"bold",cursor:"pointer"},children:"  "}),S.jsx("button",{onClick:()=>v("recipes"),style:{flex:1,padding:"12px",borderRadius:"10px",border:"none",background:g==="recipes"?"#fdcb6e":"#dfe6e9",color:g==="recipes"?"white":"#636e72",fontWeight:"bold",cursor:"pointer"},children:"  "})]}),g==="ingredients"?S.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"10px",maxHeight:"400px",overflowY:"auto"},children:Object.values(i).map(R=>S.jsxs("div",{onClick:()=>W(R.emoji),style:{background:"white",borderRadius:"12px",padding:"10px",textAlign:"center",border:`2px solid ${B6(qi.mushrooms.find(w=>w.emoji===R.emoji)?.rarity)}`,cursor:"pointer",opacity:R.count>0?1:.5},children:[S.jsx("div",{style:{fontSize:"2em"},children:R.emoji}),S.jsxs("div",{style:{fontSize:"0.8em",fontWeight:"bold",color:"#2d3436"},children:["x",R.count]})]},R.emoji))}):S.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"10px",maxHeight:"400px",overflowY:"auto",padding:"5px"},children:[S.jsxs("div",{onClick:()=>{k({id:"mixed_stew",name:" ",emoji:"",description:"    .    .",ingredients:["","",""],value:"???",effect:null,isRecipeInfo:!0}),U(!0)},style:{background:"white",borderRadius:"16px",padding:"15px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"pointer",boxShadow:"0 4px 10px rgba(0,0,0,0.05)",transition:"transform 0.2s",aspectRatio:"0.8",border:"2px solid #b2bec3"},children:[S.jsx("div",{style:{fontSize:"3em",marginBottom:"10px"},children:""}),S.jsx("div",{style:{fontWeight:"bold",fontSize:"0.9em",color:"#2d3436"},children:" "})]}),Gh.recipes.map(R=>{const w=o.includes(R.id);return S.jsxs("div",{onClick:()=>{w&&(k({...R,isRecipeInfo:!0}),U(!0))},style:{background:w?"white":"#dfe6e9",borderRadius:"16px",padding:"15px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:w?"pointer":"default",boxShadow:w?"0 4px 10px rgba(0,0,0,0.05)":"none",transition:"transform 0.2s",aspectRatio:"0.8",border:w?"2px solid #fdcb6e":"2px dashed #b2bec3"},children:[S.jsx("div",{style:{fontSize:"3em",marginBottom:"10px",filter:w?"none":"grayscale(100%) opacity(0.5)"},children:w?R.emoji:""}),S.jsx("div",{style:{fontWeight:"bold",fontSize:"0.9em",color:w?"#2d3436":"#636e72"},children:w?R.name:"???"})]},R.id)})]})]})}function H6({resetGame:i,activateGodMode:t,user:e,onLogin:r,onLogout:o,onSave:u,onLoad:c,isSaving:m,lastSaved:p}){return S.jsxs("div",{className:"settings-container",style:{background:"white",padding:"20px",borderRadius:"16px",boxShadow:"0 4px 15px rgba(0,0,0,0.05)"},children:[S.jsx("h2",{style:{color:"#2d3436",marginBottom:"20px"},children:""}),S.jsxs("div",{style:{marginBottom:"30px",padding:"15px",background:"#f8f9fa",borderRadius:"12px"},children:[S.jsx("h3",{style:{margin:"0 0 15px 0",color:"#6c5ce7"},children:"  "}),e?S.jsxs("div",{children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"15px",padding:"10px",background:"white",borderRadius:"8px",border:"1px solid #dfe6e9"},children:[S.jsx("img",{src:e.photoURL,alt:"Profile",style:{width:"32px",height:"32px",borderRadius:"50%"}}),S.jsxs("div",{style:{flex:1,overflow:"hidden"},children:[S.jsx("div",{style:{fontWeight:"bold",fontSize:"0.9em"},children:e.displayName}),S.jsx("div",{style:{fontSize:"0.8em",color:"#636e72",textOverflow:"ellipsis",overflow:"hidden"},children:e.email})]}),S.jsx("button",{onClick:o,style:{padding:"5px 10px",fontSize:"0.8em",background:"#ff7675",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:""})]}),S.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:[S.jsx("button",{onClick:u,disabled:m,className:"btn",style:{fontSize:"0.9em",padding:"10px"},children:m?" ...":"  "}),S.jsx("button",{onClick:c,disabled:m,className:"btn-secondary",style:{fontSize:"0.9em",padding:"10px"},children:" "})]}),p&&S.jsxs("div",{style:{textAlign:"center",marginTop:"10px",fontSize:"0.8em",color:"#00b894"},children:["  : ",p.toLocaleTimeString()]})]}):S.jsxs("div",{style:{textAlign:"center"},children:[S.jsx("p",{style:{color:"#636e72",marginBottom:"15px"},children:"    ."}),S.jsx("button",{onClick:r,className:"btn",style:{width:"100%",background:"#4285F4"},children:"Google  "})]})]}),S.jsxs("div",{style:{marginBottom:"20px"},children:[S.jsx("h3",{style:{margin:"0 0 10px 0",color:"#d63031"},children:"  "}),S.jsx("p",{style:{fontSize:"0.9em",color:"#636e72",marginBottom:"10px"},children:"     . ( )"}),S.jsx("button",{onClick:()=>{window.confirm(" ?   !")&&i()},style:{width:"100%",padding:"12px",background:"#d63031",color:"white",border:"none",borderRadius:"10px",fontWeight:"bold",cursor:"pointer"},children:"  "})]}),S.jsx("div",{style:{height:"50px",marginTop:"30px"},onClick:g=>{g.detail===5&&t()}}),S.jsx("div",{style:{textAlign:"center",fontSize:"0.8em",color:"#b2bec3"},children:"v1.9.1 (Cloud Enabled)"})]})}function q6({stats:i,achievements:t,onClaim:e}){const r=[...yf.achievements].sort((o,u)=>{const c=t[o.id],m=t[u.id],p=g=>g?g.unlocked&&!g.claimed?1:3:2;return p(c)-p(m)});return S.jsx("div",{className:"achievements-container",children:S.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.9)",padding:"15px",borderRadius:"16px",marginBottom:"20px",boxShadow:"0 4px 15px rgba(0,0,0,0.1)"},children:[S.jsxs("h2",{style:{margin:"0 0 15px 0",color:"#2d3436",textAlign:"center"},children:["  (",Object.values(t).filter(o=>o.unlocked).length,"/",yf.achievements.length,")"]}),S.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:r.map(o=>{const u=t[o.id],c=u?.unlocked,m=u?.claimed,p=i[o.condition.type]||0,g=o.condition.value,v=Math.min(p/g*100,100);return S.jsxs(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},style:{background:m?"#f1f2f6":"white",border:c&&!m?"2px solid #f1c40f":"1px solid #dfe6e9",borderRadius:"12px",padding:"12px",display:"flex",alignItems:"center",gap:"15px",opacity:c?1:.8,position:"relative",overflow:"hidden"},children:[!c&&S.jsx("div",{style:{position:"absolute",bottom:0,left:0,height:"4px",width:`${v}%`,background:"#00b894",transition:"width 0.5s ease"}}),S.jsx("div",{style:{fontSize:"2em",filter:c?"none":"grayscale(100%)"},children:o.icon}),S.jsxs("div",{style:{flex:1},children:[S.jsxs("div",{style:{fontWeight:"bold",color:c?"#2d3436":"#636e72",marginBottom:"4px"},children:[o.title,m&&S.jsx("span",{style:{marginLeft:"5px",fontSize:"0.8em",color:"#00b894"},children:" "})]}),S.jsx("div",{style:{fontSize:"0.9em",color:"#636e72"},children:o.description}),!c&&S.jsxs("div",{style:{fontSize:"0.8em",color:"#b2bec3",marginTop:"4px"},children:[": ",p.toLocaleString()," / ",g.toLocaleString()," (",Math.floor(v),"%)"]})]}),S.jsx("div",{children:c&&!m?S.jsxs(Ae.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e(o.id),style:{background:"#f1c40f",border:"none",padding:"8px 16px",borderRadius:"20px",color:"#2d3436",fontWeight:"bold",cursor:"pointer",boxShadow:"0 2px 5px rgba(0,0,0,0.1)"},children:[" ",S.jsxs("div",{style:{fontSize:"0.8em",marginTop:"2px"},children:[" ",o.reward.value]})]}):S.jsx("div",{style:{background:"#dfe6e9",padding:"8px 12px",borderRadius:"12px",fontSize:"0.8em",color:"#636e72",textAlign:"center",minWidth:"60px"},children:m?"":` ${o.reward.value}`})})]},o.id)})})]})})}function G6({activeQuests:i,questTimer:t,onRefresh:e,onReroll:r,onComplete:o,inventory:u,cookedItems:c}){const[m,p]=G.useState(""),[g,v]=G.useState(!1);G.useEffect(()=>{const I=setInterval(()=>{const U=Date.now(),D=Math.max(0,t-U);if(D===0)v(!0),p("  !");else{v(!1);const k=Math.floor(D/6e4),W=Math.floor(D%6e4/1e3);p(`${k} ${W}`)}},1e3);return()=>clearInterval(I)},[t]);const T=500,E=100;return S.jsx("div",{className:"quests-container",children:S.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.9)",padding:"20px",borderRadius:"16px",marginBottom:"20px",boxShadow:"0 4px 15px rgba(0,0,0,0.1)"},children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[S.jsx("h2",{style:{margin:0,color:"#2d3436"},children:"  "}),S.jsxs("div",{style:{textAlign:"right"},children:[S.jsx("div",{style:{fontSize:"0.9em",color:g?"#00b894":"#636e72",fontWeight:g?"bold":"normal"},children:g?"   !":`  : ${m}`}),S.jsx("button",{onClick:()=>e(T),style:{background:g?"#00b894":"#74b9ff",border:"none",padding:"8px 16px",borderRadius:"8px",color:"white",cursor:"pointer",fontSize:"0.9em",marginTop:"5px",fontWeight:"bold",boxShadow:"0 2px 5px rgba(0,0,0,0.1)"},children:g?"   ":`   (${T}G)`})]})]}),S.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"15px"},children:i.map(I=>{const U=I.request;let D=0;U.type==="plant"?D=u[U.id]?.count||0:D=c[U.id]?.count||0;const k=D>=U.count;return S.jsxs(Ae.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},style:{background:"#fff",border:"1px solid #dfe6e9",borderRadius:"12px",padding:"15px",position:"relative",boxShadow:"0 2px 5px rgba(0,0,0,0.05)"},children:[S.jsx("div",{style:{position:"absolute",top:"10px",right:"10px"},children:S.jsx("button",{onClick:()=>r(I.id),title:`   (${E}G)`,style:{background:"none",border:"1px solid #b2bec3",borderRadius:"50%",width:"24px",height:"24px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.8em",color:"#636e72"},children:""})}),S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px",paddingRight:"30px"},children:[S.jsx("div",{style:{fontSize:"2em"},children:I.npcEmoji}),S.jsxs("div",{children:[S.jsx("div",{style:{fontWeight:"bold",color:"#2d3436"},children:I.npcName}),S.jsxs("div",{style:{fontSize:"0.8em",color:"#636e72",fontStyle:"italic"},children:['"',I.dialogue,'"']})]})]}),S.jsxs("div",{style:{background:"#f1f2f6",padding:"10px",borderRadius:"8px",marginBottom:"10px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[S.jsx("span",{style:{fontSize:"1.5em"},children:U.emoji}),S.jsxs("div",{children:[S.jsx("div",{style:{fontWeight:"bold"},children:U.name}),S.jsxs("div",{style:{fontSize:"0.8em",color:k?"#00b894":"#d63031"},children:[D," / ",U.count]})]})]}),S.jsxs("div",{style:{textAlign:"right"},children:[S.jsx("div",{style:{fontSize:"0.8em",color:"#636e72"},children:""}),S.jsxs("div",{style:{fontWeight:"bold",color:"#fdcb6e"},children:[" ",I.reward.gold]})]})]}),S.jsx("div",{style:{display:"flex",gap:"5px"},children:S.jsx("button",{onClick:()=>o(I.id),disabled:!k,style:{flex:1,padding:"10px",border:"none",borderRadius:"8px",background:k?"#00b894":"#b2bec3",color:"white",fontWeight:"bold",cursor:k?"pointer":"not-allowed",transition:"background 0.2s"},children:k?"":" "})}),S.jsxs("div",{style:{textAlign:"center",marginTop:"5px",fontSize:"0.7em",color:"#b2bec3"},children:[" : ",E,"G"]})]},I.id)})}),i.length===0&&S.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#b2bec3"},children:"   .    ."})]})})}function K6({dailyReward:i,onClaim:t,onClose:e}){const[r,o]=G.useState(!1);G.useEffect(()=>{if(i.lastClaimed){const p=new Date(i.lastClaimed),g=new Date,v=p.getFullYear()===g.getFullYear()&&p.getMonth()===g.getMonth()&&p.getDate()===g.getDate();o(v)}},[i]);const u=[{day:1,label:"500 G",icon:""},{day:2,label:"1000 G",icon:""},{day:3,label:"  x1",icon:""},{day:4,label:"2000 G",icon:""},{day:5,label:"  x1",icon:""},{day:6,label:"  x2",icon:""},{day:7,label:"5000 G +  x3",icon:""}],c=()=>{t().success&&o(!0)};i.streak%7+1;const m=i.streak;return S.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2e3},children:S.jsxs("div",{style:{background:"white",padding:"20px",borderRadius:"20px",maxWidth:"400px",width:"90%",textAlign:"center",boxShadow:"0 10px 25px rgba(0,0,0,0.2)"},children:[S.jsx("h2",{style:{color:"#6c5ce7",marginBottom:"5px"},children:"  "}),S.jsx("p",{style:{color:"#636e72",marginBottom:"20px"},children:"   !"}),S.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"10px",marginBottom:"20px"},children:u.map(p=>{let g="locked";r?p.day<=m&&(g="done"):(p.day<=m&&(g="done"),p.day===m+1&&(g="target"));const v=p.day===7;return S.jsxs("div",{style:{gridColumn:v?"span 4":"span 1",background:g==="done"?"#dfe6e9":g==="target"?"#ffeaa7":"#f1f2f6",border:g==="target"?"2px solid #fdcb6e":"1px solid #dfe6e9",borderRadius:"10px",padding:"10px",opacity:g==="done"?.6:1,position:"relative"},children:[S.jsxs("div",{style:{fontSize:"0.8em",color:"#b2bec3",marginBottom:"5px"},children:["Day ",p.day]}),S.jsx("div",{style:{fontSize:"1.5em",marginBottom:"5px"},children:p.icon}),S.jsx("div",{style:{fontSize:"0.7em",fontWeight:"bold",color:"#2d3436"},children:p.label}),g==="done"&&S.jsx("div",{style:{position:"absolute",top:5,right:5},children:""})]},p.day)})}),S.jsx("button",{onClick:c,disabled:r,className:"btn",style:{width:"100%",padding:"15px",background:r?"#b2bec3":"#00b894",fontSize:"1.1em",marginBottom:"10px"},children:r?"  !":" "}),S.jsx("button",{onClick:e,style:{background:"none",border:"none",color:"#636e72",cursor:"pointer",textDecoration:"underline"},children:""})]})})}function Y6({result:i,onClose:t}){return i?S.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},onClick:t,children:S.jsxs(Ae.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},exit:{scale:0,opacity:0},transition:{type:"spring",damping:15},style:{background:"white",padding:"30px",borderRadius:"20px",textAlign:"center",maxWidth:"300px",boxShadow:"0 10px 30px rgba(0,0,0,0.3)",border:"4px solid #a29bfe"},onClick:e=>e.stopPropagation(),children:[S.jsx("div",{style:{fontSize:"4em",marginBottom:"10px"},children:i.type==="jackpot"?"":i.type==="big_win"?"":i.type==="item"?"":i.type==="trash"?"":""}),S.jsx("h2",{style:{color:i.type==="trash"?"#636e72":"#2d3436",marginBottom:"10px"},children:i.message}),S.jsx("div",{style:{fontSize:"1.2em",fontWeight:"bold",color:i.type==="jackpot"?"#e17055":"#6c5ce7",marginBottom:"20px"},children:i.rewardText}),S.jsx("button",{className:"btn",onClick:t,style:{width:"100%"},children:""})]})}):null}function Q6({type:i}){const[t,e]=G.useState({x:50,y:80}),[r,o]=G.useState(1),[u,c]=G.useState("idle");G.useEffect(()=>{const p=setInterval(()=>{const g=Math.random();g<.6?(c("walk"),o(v=>Math.random()<.2?-v:v),e(v=>{let T=v.x+r*5;return T<10?(T=10,o(1)):T>90&&(T=90,o(-1)),{...v,x:T}})):g<.9?c("idle"):c("sleep")},2e3);return()=>clearInterval(p)},[r]);const m=()=>i==="dog"?u==="sleep"?" ":"":"";return S.jsx("div",{style:{position:"fixed",left:`${t.x}%`,bottom:`${t.y}px`,transform:`scaleX(${r})`,transition:"left 2s linear, bottom 2s linear, transform 0.2s",fontSize:"3em",zIndex:90,pointerEvents:"none",filter:"drop-shadow(0 4px 4px rgba(0,0,0,0.3))"},children:m()})}function X6({plant:i,onClose:t}){if(!i)return null;const e={common:{bg:"#95a5a6",glow:"rgba(149, 165, 166, 0.5)"},rare:{bg:"#3498db",glow:"rgba(52, 152, 219, 0.5)"},epic:{bg:"#9b59b6",glow:"rgba(155, 89, 182, 0.5)"},legendary:{bg:"#f39c12",glow:"rgba(243, 156, 18, 0.5)"},mythic:{bg:"#e74c3c",glow:"rgba(231, 76, 60, 0.5)"}},r={common:"",rare:"",epic:"",legendary:"",mythic:""},o=e[i.rarity]||e.common;return S.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,animation:"fadeIn 0.2s"},onClick:t,children:[S.jsxs("div",{style:{background:"#fff",borderRadius:"24px",padding:"0",maxWidth:"450px",width:"90%",textAlign:"center",boxShadow:`0 25px 100px ${o.glow}, 0 0 0 8px rgba(255,255,255,0.1)`,animation:"scaleUp 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275)",position:"relative",overflow:"hidden"},onClick:u=>u.stopPropagation(),children:[S.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,height:"120px",background:`linear-gradient(135deg, ${o.bg} 0%, ${o.bg}dd 100%)`,clipPath:"polygon(0 0, 100% 0, 100% 80%, 0 100%)"}}),S.jsx("div",{style:{position:"absolute",top:"20px",left:"30px",fontSize:"24px",animation:"sparkle 1.5s infinite",animationDelay:"0s"},children:""}),S.jsx("div",{style:{position:"absolute",top:"30px",right:"40px",fontSize:"20px",animation:"sparkle 1.5s infinite",animationDelay:"0.5s"},children:""}),S.jsx("div",{style:{position:"absolute",top:"70px",right:"20px",fontSize:"16px",animation:"sparkle 1.5s infinite",animationDelay:"1s"},children:""}),S.jsxs("div",{style:{position:"relative",padding:"40px 30px 35px"},children:[S.jsx("div",{style:{width:"120px",height:"120px",margin:"0 auto 20px",background:"white",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"70px",boxShadow:`0 10px 30px ${o.glow}, 0 0 0 4px ${o.bg}33`,animation:"float 3s ease-in-out infinite",position:"relative",zIndex:1},children:i.emoji}),S.jsx("h2",{style:{color:"#2c3e50",margin:"0 0 8px 0",fontSize:"26px",fontWeight:"800",letterSpacing:"-0.5px"},children:"  !"}),S.jsxs("div",{style:{background:"#f8f9fa",borderRadius:"16px",padding:"20px",margin:"20px 0"},children:[S.jsx("div",{style:{fontSize:"22px",fontWeight:"700",color:"#2c3e50",marginBottom:"12px",letterSpacing:"-0.3px"},children:i.name}),S.jsx("div",{style:{display:"inline-block",padding:"8px 20px",borderRadius:"20px",background:o.bg,color:"white",fontWeight:"700",fontSize:"15px",boxShadow:`0 4px 12px ${o.glow}`,letterSpacing:"0.5px"},children:r[i.rarity]||""})]}),S.jsx("button",{onClick:t,style:{background:`linear-gradient(135deg, ${o.bg} 0%, ${o.bg}cc 100%)`,color:"white",border:"none",padding:"14px 40px",borderRadius:"30px",fontSize:"17px",fontWeight:"700",cursor:"pointer",boxShadow:`0 6px 20px ${o.glow}`,transition:"all 0.3s",width:"100%",marginTop:"10px"},onMouseOver:u=>{u.target.style.transform="translateY(-2px)",u.target.style.boxShadow=`0 8px 25px ${o.glow}`},onMouseOut:u=>{u.target.style.transform="translateY(0)",u.target.style.boxShadow=`0 6px 20px ${o.glow}`},children:" "})]})]}),S.jsx("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        
        @keyframes scaleUp {
          0% { transform: scale(0.7); opacity: 0; }
          100% { transform: scale(1); opacity: 1; }
        }
        
        @keyframes float {
          0%, 100% { transform: translateY(0px); }
          50% { transform: translateY(-8px); }
        }

        @keyframes sparkle {
          0%, 100% { opacity: 0; transform: scale(0.5); }
          50% { opacity: 1; transform: scale(1.2); }
        }
      `})]})}function W6(){const{user:i,handleLogin:t,handleLogout:e,handleSaveGame:r,handleLoadGame:o,isSaving:u,lastSaved:c,dailyReward:m,claimDailyReward:p,gold:g,plants:v,inventory:T,collection:E,upgradeLevel:I,unlocks:U,rarityLevel:D,fertilizerLevel:k,consumables:W,foodState:nt,pityCounter:it,harvest:ft,sell:dt,sellAll:mt,buyUpgrade:R,buyUnlock:w,buyRarityUpgrade:C,buyFertilizerUpgrade:P,buyConsumable:N,useConsumable:z,harvestAll:M,activateFood:Ht,cancelFood:le,cookedItems:Q,useCookedItem:ut,activeBuffs:ht,cookingState:Mt,discoveredRecipes:Rt,startCooking:j,claimDish:rt,sellCookedItem:gt,resetGame:vt,activateGodMode:Ct,stats:Nt,achievements:Bt,claimAchievement:De,buyLuckyBox:pe,pests:Ii,removePest:Xi,activeQuests:Wi,questTimer:$i,refreshQuests:On,rerollQuest:Ji,completeQuest:je,pets:Di,buyPet:ai,discoveredPlant:xe,setDiscoveredPlant:Me}=JO(),[Gt,An]=G.useState("game"),[ir,He]=G.useState(!1),[Mi,Zi]=G.useState(null),Ss=()=>{const yt=pe();yt&&yt.success?Zi(yt.result):yt&&!yt.success&&alert(yt.message)};G.useEffect(()=>{window.scrollTo(0,0)},[Gt]),G.useEffect(()=>{if(m.lastClaimed){const yt=new Date(m.lastClaimed),qt=new Date;yt.getFullYear()===qt.getFullYear()&&yt.getMonth()===qt.getMonth()&&yt.getDate()===qt.getDate()||He(!0)}else He(!0)},[]);const oi=()=>{const yt=p();return yt.success,yt},Es=v.filter(yt=>yt&&yt.stage==="adult").length,As=Object.values(T).reduce((yt,qt)=>yt+qt.count,0),sr=()=>{const yt=ht.filter(te=>te.type==="rarity_boost"),qt=qi.mushrooms.filter(te=>!(te.rarity==="epic"&&D<5||te.rarity==="legendary"&&D<10||te.rarity==="mythic"&&D<15)).map(te=>{let Le=1;return yt.forEach(qe=>{(qe.target==="all"&&te.rarity!=="common"||qe.target===te.rarity)&&(Le*=qe.value)}),{...te,effectiveWeight:te.rarity==="common"?te.weight/(1+D*.15):te.weight*(1+(D-1)*.8)*Le}}),ue=qt.reduce((te,Le)=>te+Le.effectiveWeight,0),Un={};return qt.forEach(te=>{Un[te.rarity]||(Un[te.rarity]=0),Un[te.rarity]+=te.effectiveWeight}),Object.entries(Un).map(([te,Le])=>({rarity:te,probability:(Le/ue*100).toFixed(2)}))},rr=()=>{if(!nt.active)return"0% ()";const qt=1+ht.filter(Le=>Le.type==="spawn_rate").reduce((Le,qe)=>Le+qe.value,0),ue=.01*nt.multiplier*qt,Un=(it||0)*.01,te=Math.min(ue+Un,1);return`${(te*100).toFixed(te<.1?1:0)}%`},Nn=()=>{const yt=Math.max(6e4-I*3e3,5e3),qt=ht.filter(Le=>Le.type==="speed").reduce((Le,qe)=>Le+qe.value,0),ue=(nt.multiplier||1)*(1+qt);return`${(yt/ue/1e3).toFixed(1)}`};return S.jsxs("div",{className:"game-container",children:[ir&&S.jsx(K6,{dailyReward:m,onClaim:oi,onClose:()=>He(!1)}),S.jsx(Y6,{result:Mi,onClose:()=>Zi(null)}),S.jsx(X6,{plant:xe,onClose:()=>Me(null)}),S.jsx("div",{className:"header",children:S.jsx("h1",{children:" Plant Tycoon"})}),S.jsxs("div",{className:"controls",style:{marginBottom:"20px"},children:[S.jsx("button",{className:`btn ${Gt==="game"?"":"btn-secondary"}`,onClick:()=>An("game"),children:" "}),S.jsx("button",{className:`btn ${Gt==="inventory"?"":"btn-secondary"}`,onClick:()=>An("inventory"),children:" "}),S.jsx("button",{className:`btn ${Gt==="shop"?"":"btn-secondary"}`,onClick:()=>An("shop"),children:" "}),S.jsx("button",{className:`btn ${Gt==="collection"?"":"btn-secondary"}`,onClick:()=>An("collection"),children:" "}),S.jsx("button",{className:`btn ${Gt==="achievements"?"":"btn-secondary"}`,onClick:()=>An("achievements"),children:" "}),S.jsx("button",{className:`btn ${Gt==="quests"?"":"btn-secondary"}`,onClick:()=>An("quests"),children:" "}),S.jsx("button",{className:`btn ${Gt==="kitchen"?"":"btn-secondary"}`,onClick:()=>An("kitchen"),children:" "}),S.jsx("button",{className:`btn ${Gt==="settings"?"":"btn-secondary"}`,onClick:()=>An("settings"),children:" "})]}),S.jsxs("div",{className:"stats",children:[S.jsxs("div",{className:"stat-box",children:[S.jsx("div",{className:"stat-label",children:""}),S.jsxs("div",{className:"stat-value",children:[" ",g]})]}),S.jsxs("div",{className:"stat-box",children:[S.jsx("div",{className:"stat-label",children:""}),S.jsxs("div",{className:"stat-value",children:[" ",Es]})]}),S.jsxs("div",{className:"stat-box",children:[S.jsx("div",{className:"stat-label",children:""}),S.jsxs("div",{className:"stat-value",children:[" ",As]})]})]}),Array.isArray(ht)&&ht.length>0&&S.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px",marginBottom:"15px",justifyContent:"center"},children:ht.map((yt,qt)=>S.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.9)",padding:"8px 12px",borderRadius:"12px",boxShadow:"0 2px 5px rgba(0,0,0,0.1)",display:"flex",alignItems:"center",gap:"8px",borderLeft:"4px solid #00b894",fontSize:"0.9em"},children:[S.jsx("div",{style:{fontSize:"1.2em"},children:yt.type==="speed"?"":yt.type==="gold"?"":""}),S.jsxs("div",{children:[S.jsx("div",{style:{fontWeight:"bold",color:"#2d3436"},children:yt.name}),S.jsx("div",{style:{fontSize:"0.8em",color:"#636e72"},children:S.jsx(VR,{endTime:yt.endTime})})]})]},qt))}),Gt==="game"&&S.jsxs(S.Fragment,{children:[U.statistics&&S.jsx("div",{style:{background:"rgba(255, 255, 255, 0.9)",padding:"10px",borderRadius:"10px",marginBottom:"10px",fontSize:"0.8em",display:"flex",justifyContent:"space-around",boxShadow:"0 2px 5px rgba(0,0,0,0.1)"},children:sr().map(({rarity:yt,probability:qt})=>S.jsxs("div",{style:{textAlign:"center"},children:[S.jsx("div",{style:{fontWeight:"bold",textTransform:"capitalize",color:"#2d3436"},children:yt}),S.jsxs("div",{style:{color:"#2d3436"},children:[qt,"%"]})]},yt))}),U.statistics&&S.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.9)",padding:"10px",borderRadius:"10px",marginBottom:"10px",fontSize:"0.85em",boxShadow:"0 2px 5px rgba(0,0,0,0.1)"},children:[S.jsxs("div",{style:{marginBottom:"5px",color:"#2d3436"},children:["   : ",S.jsxs("strong",{style:{color:Array.isArray(ht)&&ht.some(yt=>yt.type==="spawn_rate")?"#2ecc71":"inherit"},children:[rr(),Array.isArray(ht)&&ht.some(yt=>yt.type==="spawn_rate")&&S.jsxs("span",{style:{fontSize:"0.8em",marginLeft:"5px"},children:["(+",(ht.filter(yt=>yt.type==="spawn_rate").reduce((yt,qt)=>yt+qt.value,0)*100).toFixed(0),"%)"]})]})]}),S.jsxs("div",{style:{color:"#2d3436"},children:["  : ",S.jsxs("strong",{style:{color:Array.isArray(ht)&&ht.some(yt=>yt.type==="speed")?"#2ecc71":"inherit"},children:[Nn(),Array.isArray(ht)&&ht.some(yt=>yt.type==="speed")&&S.jsxs("span",{style:{fontSize:"0.8em",marginLeft:"5px"},children:["(+",(ht.filter(yt=>yt.type==="speed").reduce((yt,qt)=>yt+qt.value,0)*100).toFixed(0),"%)"]})]})]}),S.jsxs("div",{style:{marginTop:"5px",color:"#636e72",fontSize:"0.9em"},children:["  : ",S.jsxs("strong",{children:[((nt.active?nt.multiplier:0)*(1+(Array.isArray(ht)?ht.filter(yt=>yt.type==="speed").reduce((yt,qt)=>yt+qt.value,0):0))).toFixed(1),"x"]})]}),Array.isArray(ht)&&ht.some(yt=>yt.type==="rarity_boost")&&S.jsxs("div",{style:{marginTop:"5px",color:"#9b59b6",fontSize:"0.9em"},children:["  :",ht.filter(yt=>yt.type==="rarity_boost").map((yt,qt)=>S.jsxs("span",{style:{marginLeft:"5px",fontWeight:"bold"},children:["[",yt.target==="all"?"":yt.target," x",yt.value,"]"]},qt))]})]}),S.jsx(U6,{gold:g,foodState:nt,fertilizerLevel:k,onActivateFood:Ht,onCancelFood:le}),U.harvestAll&&Es>0&&S.jsxs("button",{onClick:M,style:{width:"100%",padding:"10px",marginBottom:"10px",background:"#fdcb6e",border:"none",borderRadius:"10px",color:"#d35400",fontWeight:"bold",cursor:"pointer",boxShadow:"0 4px 0 #e17055"},children:["   (",Es,")"]}),S.jsx(N6,{plants:v,onHarvest:ft,pests:Ii,onRemovePest:Xi})]}),Gt==="inventory"&&S.jsx(k6,{inventory:T,consumables:W,onSell:dt,onSellAll:mt,onUseConsumable:z,cookedItems:Q,useCookedItem:ut,onSellCookedItem:gt}),Gt==="shop"&&S.jsx(j6,{gold:g,upgradeLevel:I,unlocks:U,rarityLevel:D,fertilizerLevel:k,onBuyUpgrade:R,onBuyUnlock:w,onBuyRarityUpgrade:C,onBuyFertilizerUpgrade:P,onBuyConsumable:N,onBuyLuckyBox:Ss,pets:Di,onBuyPet:ai}),Di&&Di.dog&&Gt==="game"&&S.jsx(Q6,{type:"dog"}),Gt==="collection"&&S.jsx(L6,{collection:E,mushroomData:qi}),Gt==="achievements"&&S.jsx(q6,{stats:Nt,achievements:Bt,onClaim:De}),Gt==="quests"&&S.jsx(G6,{activeQuests:Wi,questTimer:$i,onRefresh:On,onReroll:Ji,onComplete:je,inventory:T,cookedItems:Q}),Gt==="kitchen"&&S.jsx(F6,{inventory:T,cookedItems:Q,useCookedItem:ut,cookingState:Mt,discoveredRecipes:Rt,startCooking:j,claimDish:rt}),Gt==="settings"&&S.jsx(H6,{resetGame:vt,activateGodMode:Ct,user:i,onLogin:t,onLogout:e,onSave:r,onLoad:o,isSaving:u,lastSaved:c}),S.jsxs("div",{className:"info",style:{marginTop:"20px",fontSize:"0.9em",color:"#8b4513"},children:[Gt==="game"&&"    !",Gt==="inventory"&&"     !",Gt==="shop"&&"     !",Gt==="collection"&&"    !",Gt==="achievements"&&"    !",Gt==="quests"&&" NPC    !",Gt==="kitchen"&&"     !",Gt==="settings"&&"     ."]}),S.jsx("div",{style:{marginTop:"15px",fontSize:"0.7em",color:"#b2bec3",textAlign:"center"},children:"v2.1.0"})]})}class $6 extends wR.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,e){console.error("Game Crash:",t,e)}handleReset=()=>{window.confirm("   ?")&&(localStorage.clear(),window.location.reload())};render(){return this.state.hasError?S.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",background:"#ffeaa7",color:"#2d3436",textAlign:"center",padding:"20px"},children:[S.jsx("div",{style:{fontSize:"5em",marginBottom:"20px"},children:""}),S.jsx("h1",{children:"!   ."}),S.jsxs("p",{style:{marginBottom:"30px",color:"#636e72"},children:["     .",S.jsx("br",{}),"      ."]}),S.jsx("button",{onClick:this.handleReset,style:{padding:"15px 30px",fontSize:"1.2em",background:"#d63031",color:"white",border:"none",borderRadius:"12px",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 0 #c0392b"},children:"    "}),S.jsxs("div",{style:{marginTop:"20px",fontSize:"0.8em",color:"#b2bec3"},children:["Error: ",this.state.error?.toString()]})]}):this.props.children}}MR.createRoot(document.getElementById("root")).render(S.jsx(G.StrictMode,{children:S.jsx($6,{children:S.jsx(W6,{})})}));

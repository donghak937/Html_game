(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function e(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=e(o);fetch(o.href,u)}})();function TR(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Pm={exports:{}},cu={};var J_;function bR(){if(J_)return cu;J_=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:r,key:c,ref:o!==void 0?o:null,props:u}}return cu.Fragment=t,cu.jsx=e,cu.jsxs=e,cu}var Z_;function SR(){return Z_||(Z_=1,Pm.exports=bR()),Pm.exports}var S=SR(),km={exports:{}},kt={};var tT;function ER(){if(tT)return kt;tT=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),E=Symbol.iterator;function C(j){return j===null||typeof j!="object"?null:(j=E&&j[E]||j["@@iterator"],typeof j=="function"?j:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,U={};function X(j,nt,yt){this.props=j,this.context=nt,this.refs=U,this.updater=yt||k}X.prototype.isReactComponent={},X.prototype.setState=function(j,nt){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,nt,"setState")},X.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function tt(){}tt.prototype=X.prototype;function rt(j,nt,yt){this.props=j,this.context=nt,this.refs=U,this.updater=yt||k}var ft=rt.prototype=new tt;ft.constructor=rt,D(ft,X.prototype),ft.isPureReactComponent=!0;var mt=Array.isArray;function dt(){}var R={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(j,nt,yt){var vt=yt.ref;return{$$typeof:i,type:j,key:nt,ref:vt!==void 0?vt:null,props:yt}}function P(j,nt){return I(j.type,nt,j.props)}function N(j){return typeof j=="object"&&j!==null&&j.$$typeof===i}function z(j){var nt={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(yt){return nt[yt]})}var M=/\/+/g;function zt(j,nt){return typeof j=="object"&&j!==null&&j.key!=null?z(""+j.key):nt.toString(36)}function _e(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(dt,dt):(j.status="pending",j.then(function(nt){j.status==="pending"&&(j.status="fulfilled",j.value=nt)},function(nt){j.status==="pending"&&(j.status="rejected",j.reason=nt)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function $(j,nt,yt,vt,xt){var Dt=typeof j;(Dt==="undefined"||Dt==="boolean")&&(j=null);var Ht=!1;if(j===null)Ht=!0;else switch(Dt){case"bigint":case"string":case"number":Ht=!0;break;case"object":switch(j.$$typeof){case i:case t:Ht=!0;break;case y:return Ht=j._init,$(Ht(j._payload),nt,yt,vt,xt)}}if(Ht)return xt=xt(j),Ht=vt===""?"."+zt(j,0):vt,mt(xt)?(yt="",Ht!=null&&(yt=Ht.replace(M,"$&/")+"/"),$(xt,nt,yt,"",function(Mi){return Mi})):xt!=null&&(N(xt)&&(xt=P(xt,yt+(xt.key==null||j&&j.key===xt.key?"":(""+xt.key).replace(M,"$&/")+"/")+Ht)),nt.push(xt)),1;Ht=0;var Oe=vt===""?".":vt+":";if(mt(j))for(var se=0;se<j.length;se++)vt=j[se],Dt=Oe+zt(vt,se),Ht+=$(vt,nt,yt,Dt,xt);else if(se=C(j),typeof se=="function")for(j=se.call(j),se=0;!(vt=j.next()).done;)vt=vt.value,Dt=Oe+zt(vt,se++),Ht+=$(vt,nt,yt,Dt,xt);else if(Dt==="object"){if(typeof j.then=="function")return $(_e(j),nt,yt,vt,xt);throw nt=String(j),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return Ht}function ut(j,nt,yt){if(j==null)return j;var vt=[],xt=0;return $(j,vt,"","",function(Dt){return nt.call(yt,Dt,xt++)}),vt}function ct(j){if(j._status===-1){var nt=j._result;nt=nt(),nt.then(function(yt){(j._status===0||j._status===-1)&&(j._status=1,j._result=yt)},function(yt){(j._status===0||j._status===-1)&&(j._status=2,j._result=yt)}),j._status===-1&&(j._status=0,j._result=nt)}if(j._status===1)return j._result.default;throw j._result}var It=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},Vt={map:ut,forEach:function(j,nt,yt){ut(j,function(){nt.apply(this,arguments)},yt)},count:function(j){var nt=0;return ut(j,function(){nt++}),nt},toArray:function(j){return ut(j,function(nt){return nt})||[]},only:function(j){if(!N(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return kt.Activity=T,kt.Children=Vt,kt.Component=X,kt.Fragment=e,kt.Profiler=o,kt.PureComponent=rt,kt.StrictMode=r,kt.Suspense=p,kt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,kt.__COMPILER_RUNTIME={__proto__:null,c:function(j){return R.H.useMemoCache(j)}},kt.cache=function(j){return function(){return j.apply(null,arguments)}},kt.cacheSignal=function(){return null},kt.cloneElement=function(j,nt,yt){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var vt=D({},j.props),xt=j.key;if(nt!=null)for(Dt in nt.key!==void 0&&(xt=""+nt.key),nt)!w.call(nt,Dt)||Dt==="key"||Dt==="__self"||Dt==="__source"||Dt==="ref"&&nt.ref===void 0||(vt[Dt]=nt[Dt]);var Dt=arguments.length-2;if(Dt===1)vt.children=yt;else if(1<Dt){for(var Ht=Array(Dt),Oe=0;Oe<Dt;Oe++)Ht[Oe]=arguments[Oe+2];vt.children=Ht}return I(j.type,xt,vt)},kt.createContext=function(j){return j={$$typeof:c,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:u,_context:j},j},kt.createElement=function(j,nt,yt){var vt,xt={},Dt=null;if(nt!=null)for(vt in nt.key!==void 0&&(Dt=""+nt.key),nt)w.call(nt,vt)&&vt!=="key"&&vt!=="__self"&&vt!=="__source"&&(xt[vt]=nt[vt]);var Ht=arguments.length-2;if(Ht===1)xt.children=yt;else if(1<Ht){for(var Oe=Array(Ht),se=0;se<Ht;se++)Oe[se]=arguments[se+2];xt.children=Oe}if(j&&j.defaultProps)for(vt in Ht=j.defaultProps,Ht)xt[vt]===void 0&&(xt[vt]=Ht[vt]);return I(j,Dt,xt)},kt.createRef=function(){return{current:null}},kt.forwardRef=function(j){return{$$typeof:m,render:j}},kt.isValidElement=N,kt.lazy=function(j){return{$$typeof:y,_payload:{_status:-1,_result:j},_init:ct}},kt.memo=function(j,nt){return{$$typeof:g,type:j,compare:nt===void 0?null:nt}},kt.startTransition=function(j){var nt=R.T,yt={};R.T=yt;try{var vt=j(),xt=R.S;xt!==null&&xt(yt,vt),typeof vt=="object"&&vt!==null&&typeof vt.then=="function"&&vt.then(dt,It)}catch(Dt){It(Dt)}finally{nt!==null&&yt.types!==null&&(nt.types=yt.types),R.T=nt}},kt.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},kt.use=function(j){return R.H.use(j)},kt.useActionState=function(j,nt,yt){return R.H.useActionState(j,nt,yt)},kt.useCallback=function(j,nt){return R.H.useCallback(j,nt)},kt.useContext=function(j){return R.H.useContext(j)},kt.useDebugValue=function(){},kt.useDeferredValue=function(j,nt){return R.H.useDeferredValue(j,nt)},kt.useEffect=function(j,nt){return R.H.useEffect(j,nt)},kt.useEffectEvent=function(j){return R.H.useEffectEvent(j)},kt.useId=function(){return R.H.useId()},kt.useImperativeHandle=function(j,nt,yt){return R.H.useImperativeHandle(j,nt,yt)},kt.useInsertionEffect=function(j,nt){return R.H.useInsertionEffect(j,nt)},kt.useLayoutEffect=function(j,nt){return R.H.useLayoutEffect(j,nt)},kt.useMemo=function(j,nt){return R.H.useMemo(j,nt)},kt.useOptimistic=function(j,nt){return R.H.useOptimistic(j,nt)},kt.useReducer=function(j,nt,yt){return R.H.useReducer(j,nt,yt)},kt.useRef=function(j){return R.H.useRef(j)},kt.useState=function(j){return R.H.useState(j)},kt.useSyncExternalStore=function(j,nt,yt){return R.H.useSyncExternalStore(j,nt,yt)},kt.useTransition=function(){return R.H.useTransition()},kt.version="19.2.0",kt}var eT;function rg(){return eT||(eT=1,km.exports=ER()),km.exports}var q=rg();const AR=TR(q);var jm={exports:{}},hu={},Lm={exports:{}},Um={};var nT;function wR(){return nT||(nT=1,(function(i){function t($,ut){var ct=$.length;$.push(ut);t:for(;0<ct;){var It=ct-1>>>1,Vt=$[It];if(0<o(Vt,ut))$[It]=ut,$[ct]=Vt,ct=It;else break t}}function e($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var ut=$[0],ct=$.pop();if(ct!==ut){$[0]=ct;t:for(var It=0,Vt=$.length,j=Vt>>>1;It<j;){var nt=2*(It+1)-1,yt=$[nt],vt=nt+1,xt=$[vt];if(0>o(yt,ct))vt<Vt&&0>o(xt,yt)?($[It]=xt,$[vt]=ct,It=vt):($[It]=yt,$[nt]=ct,It=nt);else if(vt<Vt&&0>o(xt,ct))$[It]=xt,$[vt]=ct,It=vt;else break t}}return ut}function o($,ut){var ct=$.sortIndex-ut.sortIndex;return ct!==0?ct:$.id-ut.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();i.unstable_now=function(){return c.now()-m}}var p=[],g=[],y=1,T=null,E=3,C=!1,k=!1,D=!1,U=!1,X=typeof setTimeout=="function"?setTimeout:null,tt=typeof clearTimeout=="function"?clearTimeout:null,rt=typeof setImmediate<"u"?setImmediate:null;function ft($){for(var ut=e(g);ut!==null;){if(ut.callback===null)r(g);else if(ut.startTime<=$)r(g),ut.sortIndex=ut.expirationTime,t(p,ut);else break;ut=e(g)}}function mt($){if(D=!1,ft($),!k)if(e(p)!==null)k=!0,dt||(dt=!0,z());else{var ut=e(g);ut!==null&&_e(mt,ut.startTime-$)}}var dt=!1,R=-1,w=5,I=-1;function P(){return U?!0:!(i.unstable_now()-I<w)}function N(){if(U=!1,dt){var $=i.unstable_now();I=$;var ut=!0;try{t:{k=!1,D&&(D=!1,tt(R),R=-1),C=!0;var ct=E;try{e:{for(ft($),T=e(p);T!==null&&!(T.expirationTime>$&&P());){var It=T.callback;if(typeof It=="function"){T.callback=null,E=T.priorityLevel;var Vt=It(T.expirationTime<=$);if($=i.unstable_now(),typeof Vt=="function"){T.callback=Vt,ft($),ut=!0;break e}T===e(p)&&r(p),ft($)}else r(p);T=e(p)}if(T!==null)ut=!0;else{var j=e(g);j!==null&&_e(mt,j.startTime-$),ut=!1}}break t}finally{T=null,E=ct,C=!1}ut=void 0}}finally{ut?z():dt=!1}}}var z;if(typeof rt=="function")z=function(){rt(N)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,zt=M.port2;M.port1.onmessage=N,z=function(){zt.postMessage(null)}}else z=function(){X(N,0)};function _e($,ut){R=X(function(){$(i.unstable_now())},ut)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function($){$.callback=null},i.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<$?Math.floor(1e3/$):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_next=function($){switch(E){case 1:case 2:case 3:var ut=3;break;default:ut=E}var ct=E;E=ut;try{return $()}finally{E=ct}},i.unstable_requestPaint=function(){U=!0},i.unstable_runWithPriority=function($,ut){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ct=E;E=$;try{return ut()}finally{E=ct}},i.unstable_scheduleCallback=function($,ut,ct){var It=i.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?It+ct:It):ct=It,$){case 1:var Vt=-1;break;case 2:Vt=250;break;case 5:Vt=1073741823;break;case 4:Vt=1e4;break;default:Vt=5e3}return Vt=ct+Vt,$={id:y++,callback:ut,priorityLevel:$,startTime:ct,expirationTime:Vt,sortIndex:-1},ct>It?($.sortIndex=ct,t(g,$),e(p)===null&&$===e(g)&&(D?(tt(R),R=-1):D=!0,_e(mt,ct-It))):($.sortIndex=Vt,t(p,$),k||C||(k=!0,dt||(dt=!0,z()))),$},i.unstable_shouldYield=P,i.unstable_wrapCallback=function($){var ut=E;return function(){var ct=E;E=ut;try{return $.apply(this,arguments)}finally{E=ct}}}})(Um)),Um}var iT;function xR(){return iT||(iT=1,Lm.exports=wR()),Lm.exports}var zm={exports:{}},In={};var sT;function RR(){if(sT)return In;sT=1;var i=rg();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,y){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:y}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return In.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,In.createPortal=function(p,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,y)},In.flushSync=function(p){var g=c.T,y=r.p;try{if(c.T=null,r.p=2,p)return p()}finally{c.T=g,r.p=y,r.d.f()}},In.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},In.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},In.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var y=g.as,T=m(y,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:E,fetchPriority:C}):y==="script"&&r.d.X(p,{crossOrigin:T,integrity:E,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},In.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=m(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},In.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,T=m(y,g.crossOrigin);r.d.L(p,y,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},In.preloadModule=function(p,g){if(typeof p=="string")if(g){var y=m(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},In.requestFormReset=function(p){r.d.r(p)},In.unstable_batchedUpdates=function(p,g){return p(g)},In.useFormState=function(p,g,y){return c.H.useFormState(p,g,y)},In.useFormStatus=function(){return c.H.useHostTransitionStatus()},In.version="19.2.0",In}var rT;function G1(){if(rT)return zm.exports;rT=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),zm.exports=RR(),zm.exports}var aT;function CR(){if(aT)return hu;aT=1;var i=xR(),t=rg(),e=G1();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function m(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function p(n){if(u(n)!==n)throw Error(r(188))}function g(n){var s=n.alternate;if(!s){if(s=u(n),s===null)throw Error(r(188));return s!==n?null:n}for(var a=n,l=s;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),n;if(d===l)return p(f),s;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,A=f.child;A;){if(A===a){_=!0,a=f,l=d;break}if(A===l){_=!0,l=f,a=d;break}A=A.sibling}if(!_){for(A=d.child;A;){if(A===a){_=!0,a=d,l=f;break}if(A===l){_=!0,l=d,a=f;break}A=A.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?n:s}function y(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=y(n),s!==null)return s;n=n.sibling}return null}var T=Object.assign,E=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),tt=Symbol.for("react.consumer"),rt=Symbol.for("react.context"),ft=Symbol.for("react.forward_ref"),mt=Symbol.for("react.suspense"),dt=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function z(n){return n===null||typeof n!="object"?null:(n=N&&n[N]||n["@@iterator"],typeof n=="function"?n:null)}var M=Symbol.for("react.client.reference");function zt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===M?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case D:return"Fragment";case X:return"Profiler";case U:return"StrictMode";case mt:return"Suspense";case dt:return"SuspenseList";case I:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case k:return"Portal";case rt:return n.displayName||"Context";case tt:return(n._context.displayName||"Context")+".Consumer";case ft:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case R:return s=n.displayName||null,s!==null?s:zt(n.type)||"Memo";case w:s=n._payload,n=n._init;try{return zt(n(s))}catch{}}return null}var _e=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},It=[],Vt=-1;function j(n){return{current:n}}function nt(n){0>Vt||(n.current=It[Vt],It[Vt]=null,Vt--)}function yt(n,s){Vt++,It[Vt]=n.current,n.current=s}var vt=j(null),xt=j(null),Dt=j(null),Ht=j(null);function Oe(n,s){switch(yt(Dt,s),yt(xt,n),yt(vt,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?b_(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=b_(s),n=S_(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}nt(vt),yt(vt,n)}function se(){nt(vt),nt(xt),nt(Dt)}function Mi(n){n.memoizedState!==null&&yt(Ht,n);var s=vt.current,a=S_(s,n.type);s!==a&&(yt(xt,n),yt(vt,a))}function Xi(n){xt.current===n&&(nt(vt),nt(xt)),Ht.current===n&&(nt(Ht),au._currentValue=ct)}var Wi,$i;function Bn(n){if(Wi===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Wi=s&&s[1]||"",$i=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wi+n+$i}var Ss=!1;function li(n,s){if(!n||Ss)return"";Ss=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var ot=function(){throw Error()};if(Object.defineProperty(ot.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ot,[])}catch(J){var Q=J}Reflect.construct(n,[],ot)}else{try{ot.call()}catch(J){Q=J}n.call(ot.prototype)}}else{try{throw Error()}catch(J){Q=J}(ot=n())&&typeof ot.catch=="function"&&ot.catch(function(){})}}catch(J){if(J&&Q&&typeof J.stack=="string")return[J.stack,Q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],A=d[1];if(_&&A){var O=_.split(`
`),K=A.split(`
`);for(f=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;f<K.length&&!K[f].includes("DetermineComponentFrameRoot");)f++;if(l===O.length||f===K.length)for(l=O.length-1,f=K.length-1;1<=l&&0<=f&&O[l]!==K[f];)f--;for(;1<=l&&0<=f;l--,f--)if(O[l]!==K[f]){if(l!==1||f!==1)do if(l--,f--,0>f||O[l]!==K[f]){var it=`
`+O[l].replace(" at new "," at ");return n.displayName&&it.includes("<anonymous>")&&(it=it.replace("<anonymous>",n.displayName)),it}while(1<=l&&0<=f);break}}}finally{Ss=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Bn(a):""}function ui(n,s){switch(n.tag){case 26:case 27:case 5:return Bn(n.type);case 16:return Bn("Lazy");case 13:return n.child!==s&&s!==null?Bn("Suspense Fallback"):Bn("Suspense");case 19:return Bn("SuspenseList");case 0:case 15:return li(n.type,!1);case 11:return li(n.type.render,!1);case 1:return li(n.type,!0);case 31:return Bn("Activity");default:return""}}function Xe(n){try{var s="",a=null;do s+=ui(n,a),a=n,n=n.return;while(n);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ce=Object.prototype.hasOwnProperty,be=i.unstable_scheduleCallback,Jn=i.unstable_cancelCallback,na=i.unstable_shouldYield,te=i.unstable_requestPaint,me=i.unstable_now,Vi=i.unstable_getCurrentPriorityLevel,Oi=i.unstable_ImmediatePriority,Es=i.unstable_UserBlockingPriority,Zn=i.unstable_NormalPriority,ia=i.unstable_LowPriority,er=i.unstable_IdlePriority,Ji=i.log,nr=i.unstable_setDisableYieldValue,wn=null,Fe=null;function xn(n){if(typeof Ji=="function"&&nr(n),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(wn,n)}catch{}}var pt=Math.clz32?Math.clz32:Fn,re=Math.log,Pn=Math.LN2;function Fn(n){return n>>>=0,n===0?32:31-(re(n)/Pn|0)|0}var qt=256,Ee=262144,ae=4194304;function ci(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function hi(n,s,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,d=n.suspendedLanes,_=n.pingedLanes;n=n.warmLanes;var A=l&134217727;return A!==0?(l=A&~d,l!==0?f=ci(l):(_&=A,_!==0?f=ci(_):a||(a=A&~n,a!==0&&(f=ci(a))))):(A=l&~d,A!==0?f=ci(A):_!==0?f=ci(_):a||(a=l&~n,a!==0&&(f=ci(a)))),f===0?0:s!==0&&s!==f&&(s&d)===0&&(d=f&-f,a=s&-s,d>=a||d===32&&(a&4194048)!==0)?s:f}function ti(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function gl(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xa(){var n=ae;return ae<<=1,(ae&62914560)===0&&(ae=4194304),n}function ln(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function As(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function yl(n,s,a,l,f,d){var _=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var A=n.entanglements,O=n.expirationTimes,K=n.hiddenUpdates;for(a=_&~a;0<a;){var it=31-pt(a),ot=1<<it;A[it]=0,O[it]=-1;var Q=K[it];if(Q!==null)for(K[it]=null,it=0;it<Q.length;it++){var J=Q[it];J!==null&&(J.lane&=-536870913)}a&=~ot}l!==0&&Zi(n,l,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(_&~s))}function Zi(n,s,a){n.pendingLanes|=s,n.suspendedLanes&=~s;var l=31-pt(s);n.entangledLanes|=s,n.entanglements[l]=n.entanglements[l]|1073741824|a&261930}function kn(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var l=31-pt(a),f=1<<l;f&s|n[l]&s&&(n[l]|=s),a&=~f}}function sa(n,s){var a=s&-s;return a=(a&42)!==0?1:ws(a),(a&(n.suspendedLanes|s))!==0?0:a}function ws(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function V(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function et(){var n=ut.p;return n!==0?n:(n=window.event,n===void 0?32:G_(n.type))}function Y(n,s){var a=ut.p;try{return ut.p=n,s()}finally{ut.p=a}}var Z=Math.random().toString(36).slice(2),B="__reactFiber$"+Z,st="__reactProps$"+Z,Tt="__reactContainer$"+Z,At="__reactEvents$"+Z,ue="__reactListeners$"+Z,mn="__reactHandles$"+Z,un="__reactResources$"+Z,Bt="__reactMarker$"+Z;function ee(n){delete n[B],delete n[st],delete n[At],delete n[ue],delete n[mn]}function je(n){var s=n[B];if(s)return s;for(var a=n.parentNode;a;){if(s=a[Tt]||a[B]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=I_(n);n!==null;){if(a=n[B])return a;n=I_(n)}return s}n=a,a=n.parentNode}return null}function pn(n){if(n=n[B]||n[Tt]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function jn(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function fi(n){var s=n[un];return s||(s=n[un]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Le(n){n[Bt]=!0}var He=new Set,Ni={};function Rn(n,s){Cn(n,s),Cn(n+"Capture",s)}function Cn(n,s){for(Ni[n]=s,n=0;n<s.length;n++)He.add(s[n])}var ir=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sr={},Wa={};function $a(n){return Ce.call(Wa,n)?!0:Ce.call(sr,n)?!1:ir.test(n)?Wa[n]=!0:(sr[n]=!0,!1)}function Ie(n,s,a){if($a(s))if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+a)}}function sn(n,s,a){if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+a)}}function Ae(n,s,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(s,a,""+l)}}function cn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function rr(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function vl(n,s,a){var l=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(n,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function he(n){if(!n._valueTracker){var s=rr(n)?"checked":"value";n._valueTracker=vl(n,s,""+n[s])}}function ra(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return n&&(l=rr(n)?n.checked?"true":"false":n.value),n=l,n!==a?(s.setValue(n),!0):!1}function ts(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var aa=/[\n"\\]/g;function Hn(n){return n.replace(aa,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ja(n,s,a,l,f,d,_,A){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),s!=null?_==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+cn(s)):n.value!==""+cn(s)&&(n.value=""+cn(s)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),s!=null?_l(n,_,cn(s)):a!=null?_l(n,_,cn(a)):l!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?n.name=""+cn(A):n.removeAttribute("name")}function ac(n,s,a,l,f,d,_,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null)){he(n);return}a=a!=null?""+cn(a):"",s=s!=null?""+cn(s):a,A||s===n.value||(n.value=s),n.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=A?n.checked:!!l,n.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_),he(n)}function _l(n,s,a){s==="number"&&ts(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function ar(n,s,a,l){if(n=n.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=s.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+cn(a),s=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function oc(n,s,a){if(s!=null&&(s=""+cn(s),s!==n.value&&(n.value=s),a==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=a!=null?""+cn(a):""}function or(n,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(_e(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=cn(s),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l),he(n)}function qn(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var lc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tl(n,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":l?n.setProperty(s,a):typeof a!="number"||a===0||lc.has(s)?s==="float"?n.cssFloat=a:n[s]=(""+a).trim():n[s]=a+"px"}function bl(n,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&Tl(n,f,l)}else for(var d in s)s.hasOwnProperty(d)&&Tl(n,d,s[d])}function Za(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function to(n){return lr.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Pi(){}var Sl=null;function di(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ur=null,es=null;function oa(n){var s=pn(n);if(s&&(n=s.stateNode)){var a=n[st]||null;t:switch(n=s.stateNode,s.type){case"input":if(Ja(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Hn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==n&&l.form===n.form){var f=l[st]||null;if(!f)throw Error(r(90));Ja(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===n.form&&ra(l)}break t;case"textarea":oc(n,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&ar(n,!!a.multiple,s,!1)}}}var eo=!1;function cr(n,s,a){if(eo)return n(s,a);eo=!0;try{var l=n(s);return l}finally{if(eo=!1,(ur!==null||es!==null)&&(nh(),ur&&(s=ur,n=es,es=ur=null,oa(s),n)))for(s=0;s<n.length;s++)oa(n[s])}}function ki(n,s){var a=n.stateNode;if(a===null)return null;var l=a[st]||null;if(l===null)return null;a=l[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break t;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),la=!1;if(mi)try{var pe={};Object.defineProperty(pe,"passive",{get:function(){la=!0}}),window.addEventListener("test",pe,pe),window.removeEventListener("test",pe,pe)}catch{la=!1}var ns=null,El=null,ua=null;function Al(){if(ua)return ua;var n,s=El,a=s.length,l,f="value"in ns?ns.value:ns.textContent,d=f.length;for(n=0;n<a&&s[n]===f[n];n++);var _=a-n;for(l=1;l<=_&&s[a-l]===f[d-l];l++);return ua=f.slice(n,1<l?1-l:void 0)}function ca(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function xs(){return!0}function ji(){return!1}function gn(n){function s(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var A in n)n.hasOwnProperty(A)&&(a=n[A],this[A]=a?a(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?xs:ji,this.isPropagationStopped=ji,this}return T(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=xs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=xs)},persist:function(){},isPersistent:xs}),s}var Rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},is=gn(Rs),hr=T({},Rs,{view:0,detail:0}),wl=gn(hr),fr,no,ss,io=T({},hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dr,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ss&&(ss&&n.type==="mousemove"?(fr=n.screenX-ss.screenX,no=n.screenY-ss.screenY):no=fr=0,ss=n),fr)},movementY:function(n){return"movementY"in n?n.movementY:no}}),xl=gn(io),ha=T({},io,{dataTransfer:0}),cc=gn(ha),hc=T({},hr,{relatedTarget:0}),fa=gn(hc),Rl=T({},Rs,{animationName:0,elapsedTime:0,pseudoElement:0}),fc=gn(Rl),so=T({},Rs,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),dc=gn(so),mc=T({},Rs,{data:0}),rs=gn(mc),pc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vc(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=yc[n])?!!s[n]:!1}function dr(){return vc}var Ln=T({},hr,{key:function(n){if(n.key){var s=pc[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=ca(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?gc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dr,charCode:function(n){return n.type==="keypress"?ca(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ca(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),_c=gn(Ln),Tc=T({},io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cs=gn(Tc),h=T({},hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dr}),v=gn(h),b=T({},Rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),x=gn(b),H=T({},io,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),W=gn(H),gt=T({},Rs,{newState:0,oldState:0}),Lt=gn(gt),qe=[9,13,27,32],oe=mi&&"CompositionEvent"in window,De=null;mi&&"documentMode"in document&&(De=document.documentMode);var pi=mi&&"TextEvent"in window&&!De,as=mi&&(!oe||De&&8<De&&11>=De),Li=" ",Ui=!1;function da(n,s){switch(n){case"keyup":return qe.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ro(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ao=!1;function qw(n,s){switch(n){case"compositionend":return ro(s);case"keypress":return s.which!==32?null:(Ui=!0,Li);case"textInput":return n=s.data,n===Li&&Ui?null:n;default:return null}}function Gw(n,s){if(ao)return n==="compositionend"||!oe&&da(n,s)?(n=Al(),ua=El=ns=null,ao=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return as&&s.locale!=="ko"?null:s.data;default:return null}}var Kw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vy(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!Kw[n.type]:s==="textarea"}function Oy(n,s,a,l){ur?es?es.push(l):es=[l]:ur=l,s=uh(s,"onChange"),0<s.length&&(a=new is("onChange","change",null,a,l),n.push({event:a,listeners:s}))}var Cl=null,Il=null;function Yw(n){p_(n,0)}function bc(n){var s=jn(n);if(ra(s))return n}function Ny(n,s){if(n==="change")return s}var Py=!1;if(mi){var Ff;if(mi){var Hf="oninput"in document;if(!Hf){var ky=document.createElement("div");ky.setAttribute("oninput","return;"),Hf=typeof ky.oninput=="function"}Ff=Hf}else Ff=!1;Py=Ff&&(!document.documentMode||9<document.documentMode)}function jy(){Cl&&(Cl.detachEvent("onpropertychange",Ly),Il=Cl=null)}function Ly(n){if(n.propertyName==="value"&&bc(Il)){var s=[];Oy(s,Il,n,di(n)),cr(Yw,s)}}function Qw(n,s,a){n==="focusin"?(jy(),Cl=s,Il=a,Cl.attachEvent("onpropertychange",Ly)):n==="focusout"&&jy()}function Xw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return bc(Il)}function Ww(n,s){if(n==="click")return bc(s)}function $w(n,s){if(n==="input"||n==="change")return bc(s)}function Jw(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var ei=typeof Object.is=="function"?Object.is:Jw;function Dl(n,s){if(ei(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Ce.call(s,f)||!ei(n[f],s[f]))return!1}return!0}function Uy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function zy(n,s){var a=Uy(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=s&&l>=s)return{node:a,offset:s-n};n=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Uy(a)}}function By(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?By(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Fy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=ts(n.document);s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=ts(n.document)}return s}function qf(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var Zw=mi&&"documentMode"in document&&11>=document.documentMode,oo=null,Gf=null,Ml=null,Kf=!1;function Hy(n,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Kf||oo==null||oo!==ts(l)||(l=oo,"selectionStart"in l&&qf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ml&&Dl(Ml,l)||(Ml=l,l=uh(Gf,"onSelect"),0<l.length&&(s=new is("onSelect","select",null,s,a),n.push({event:s,listeners:l}),s.target=oo)))}function ma(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var lo={animationend:ma("Animation","AnimationEnd"),animationiteration:ma("Animation","AnimationIteration"),animationstart:ma("Animation","AnimationStart"),transitionrun:ma("Transition","TransitionRun"),transitionstart:ma("Transition","TransitionStart"),transitioncancel:ma("Transition","TransitionCancel"),transitionend:ma("Transition","TransitionEnd")},Yf={},qy={};mi&&(qy=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function pa(n){if(Yf[n])return Yf[n];if(!lo[n])return n;var s=lo[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in qy)return Yf[n]=s[a];return n}var Gy=pa("animationend"),Ky=pa("animationiteration"),Yy=pa("animationstart"),tx=pa("transitionrun"),ex=pa("transitionstart"),nx=pa("transitioncancel"),Qy=pa("transitionend"),Xy=new Map,Qf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qf.push("scrollEnd");function zi(n,s){Xy.set(n,s),Rn(s,[n])}var Sc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},gi=[],uo=0,Xf=0;function Ec(){for(var n=uo,s=Xf=uo=0;s<n;){var a=gi[s];gi[s++]=null;var l=gi[s];gi[s++]=null;var f=gi[s];gi[s++]=null;var d=gi[s];if(gi[s++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&Wy(a,f,d)}}function Ac(n,s,a,l){gi[uo++]=n,gi[uo++]=s,gi[uo++]=a,gi[uo++]=l,Xf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Wf(n,s,a,l){return Ac(n,s,a,l),wc(n)}function ga(n,s){return Ac(n,null,null,s),wc(n)}function Wy(n,s,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&s!==null&&(f=31-pt(a),n=d.hiddenUpdates,l=n[f],l===null?n[f]=[s]:l.push(s),s.lane=a|536870912),d):null}function wc(n){if(50<Zl)throw Zl=0,rm=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var co={};function ix(n,s,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ni(n,s,a,l){return new ix(n,s,a,l)}function $f(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Is(n,s){var a=n.alternate;return a===null?(a=ni(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function $y(n,s){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,s=a.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function xc(n,s,a,l,f,d){var _=0;if(l=n,typeof n=="function")$f(n)&&(_=1);else if(typeof n=="string")_=lR(n,a,vt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case I:return n=ni(31,a,s,f),n.elementType=I,n.lanes=d,n;case D:return ya(a.children,f,d,s);case U:_=8,f|=24;break;case X:return n=ni(12,a,s,f|2),n.elementType=X,n.lanes=d,n;case mt:return n=ni(13,a,s,f),n.elementType=mt,n.lanes=d,n;case dt:return n=ni(19,a,s,f),n.elementType=dt,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case rt:_=10;break t;case tt:_=9;break t;case ft:_=11;break t;case R:_=14;break t;case w:_=16,l=null;break t}_=29,a=Error(r(130,n===null?"null":typeof n,"")),l=null}return s=ni(_,a,s,f),s.elementType=n,s.type=l,s.lanes=d,s}function ya(n,s,a,l){return n=ni(7,n,l,s),n.lanes=a,n}function Jf(n,s,a){return n=ni(6,n,null,s),n.lanes=a,n}function Jy(n){var s=ni(18,null,null,0);return s.stateNode=n,s}function Zf(n,s,a){return s=ni(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var Zy=new WeakMap;function yi(n,s){if(typeof n=="object"&&n!==null){var a=Zy.get(n);return a!==void 0?a:(s={value:n,source:s,stack:Xe(s)},Zy.set(n,s),s)}return{value:n,source:s,stack:Xe(s)}}var ho=[],fo=0,Rc=null,Vl=0,vi=[],_i=0,mr=null,os=1,ls="";function Ds(n,s){ho[fo++]=Vl,ho[fo++]=Rc,Rc=n,Vl=s}function t0(n,s,a){vi[_i++]=os,vi[_i++]=ls,vi[_i++]=mr,mr=n;var l=os;n=ls;var f=32-pt(l)-1;l&=~(1<<f),a+=1;var d=32-pt(s)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,os=1<<32-pt(s)+f|a<<f|l,ls=d+n}else os=1<<d|a<<f|l,ls=n}function td(n){n.return!==null&&(Ds(n,1),t0(n,1,0))}function ed(n){for(;n===Rc;)Rc=ho[--fo],ho[fo]=null,Vl=ho[--fo],ho[fo]=null;for(;n===mr;)mr=vi[--_i],vi[_i]=null,ls=vi[--_i],vi[_i]=null,os=vi[--_i],vi[_i]=null}function e0(n,s){vi[_i++]=os,vi[_i++]=ls,vi[_i++]=mr,os=s.id,ls=s.overflow,mr=n}var yn=null,we=null,Jt=!1,pr=null,Ti=!1,nd=Error(r(519));function gr(n){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ol(yi(s,n)),nd}function n0(n){var s=n.stateNode,a=n.type,l=n.memoizedProps;switch(s[B]=n,s[st]=l,a){case"dialog":Kt("cancel",s),Kt("close",s);break;case"iframe":case"object":case"embed":Kt("load",s);break;case"video":case"audio":for(a=0;a<eu.length;a++)Kt(eu[a],s);break;case"source":Kt("error",s);break;case"img":case"image":case"link":Kt("error",s),Kt("load",s);break;case"details":Kt("toggle",s);break;case"input":Kt("invalid",s),ac(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Kt("invalid",s);break;case"textarea":Kt("invalid",s),or(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||__(s.textContent,a)?(l.popover!=null&&(Kt("beforetoggle",s),Kt("toggle",s)),l.onScroll!=null&&Kt("scroll",s),l.onScrollEnd!=null&&Kt("scrollend",s),l.onClick!=null&&(s.onclick=Pi),s=!0):s=!1,s||gr(n,!0)}function i0(n){for(yn=n.return;yn;)switch(yn.tag){case 5:case 31:case 13:Ti=!1;return;case 27:case 3:Ti=!0;return;default:yn=yn.return}}function mo(n){if(n!==yn)return!1;if(!Jt)return i0(n),Jt=!0,!1;var s=n.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Tm(n.type,n.memoizedProps)),a=!a),a&&we&&gr(n),i0(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));we=C_(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));we=C_(n)}else s===27?(s=we,Dr(n.type)?(n=wm,wm=null,we=n):we=s):we=yn?Si(n.stateNode.nextSibling):null;return!0}function va(){we=yn=null,Jt=!1}function id(){var n=pr;return n!==null&&(Qn===null?Qn=n:Qn.push.apply(Qn,n),pr=null),n}function Ol(n){pr===null?pr=[n]:pr.push(n)}var sd=j(null),_a=null,Ms=null;function yr(n,s,a){yt(sd,s._currentValue),s._currentValue=a}function Vs(n){n._currentValue=sd.current,nt(sd)}function rd(n,s,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),n===a)break;n=n.return}}function ad(n,s,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;t:for(;d!==null;){var A=d;d=f;for(var O=0;O<s.length;O++)if(A.context===s[O]){d.lanes|=a,A=d.alternate,A!==null&&(A.lanes|=a),rd(d.return,a,n),l||(_=null);break t}d=A.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),rd(_,a,n),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===n){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function po(n,s,a,l){n=null;for(var f=s,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var A=f.type;ei(f.pendingProps.value,_.value)||(n!==null?n.push(A):n=[A])}}else if(f===Ht.current){if(_=f.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(au):n=[au])}f=f.return}n!==null&&ad(s,n,a,l),s.flags|=262144}function Cc(n){for(n=n.firstContext;n!==null;){if(!ei(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ta(n){_a=n,Ms=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function vn(n){return s0(_a,n)}function Ic(n,s){return _a===null&&Ta(n),s0(n,s)}function s0(n,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Ms===null){if(n===null)throw Error(r(308));Ms=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else Ms=Ms.next=s;return a}var sx=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){s.aborted=!0,n.forEach(function(a){return a()})}},rx=i.unstable_scheduleCallback,ax=i.unstable_NormalPriority,We={$$typeof:rt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function od(){return{controller:new sx,data:new Map,refCount:0}}function Nl(n){n.refCount--,n.refCount===0&&rx(ax,function(){n.controller.abort()})}var Pl=null,ld=0,go=0,yo=null;function ox(n,s){if(Pl===null){var a=Pl=[];ld=0,go=hm(),yo={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ld++,s.then(r0,r0),s}function r0(){if(--ld===0&&Pl!==null){yo!==null&&(yo.status="fulfilled");var n=Pl;Pl=null,go=0,yo=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function lx(n,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var a0=$.S;$.S=function(n,s){Hv=me(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&ox(n,s),a0!==null&&a0(n,s)};var ba=j(null);function ud(){var n=ba.current;return n!==null?n:Te.pooledCache}function Dc(n,s){s===null?yt(ba,ba.current):yt(ba,s.pool)}function o0(){var n=ud();return n===null?null:{parent:We._currentValue,pool:n}}var vo=Error(r(460)),cd=Error(r(474)),Mc=Error(r(542)),Vc={then:function(){}};function l0(n){return n=n.status,n==="fulfilled"||n==="rejected"}function u0(n,s,a){switch(a=n[a],a===void 0?n.push(s):a!==s&&(s.then(Pi,Pi),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,h0(n),n;default:if(typeof s.status=="string")s.then(Pi,Pi);else{if(n=Te,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,h0(n),n}throw Ea=s,vo}}function Sa(n){try{var s=n._init;return s(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ea=a,vo):a}}var Ea=null;function c0(){if(Ea===null)throw Error(r(459));var n=Ea;return Ea=null,n}function h0(n){if(n===vo||n===Mc)throw Error(r(483))}var _o=null,kl=0;function Oc(n){var s=kl;return kl+=1,_o===null&&(_o=[]),u0(_o,n,s)}function jl(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Nc(n,s){throw s.$$typeof===E?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function f0(n){function s(F,L){if(n){var G=F.deletions;G===null?(F.deletions=[L],F.flags|=16):G.push(L)}}function a(F,L){if(!n)return null;for(;L!==null;)s(F,L),L=L.sibling;return null}function l(F){for(var L=new Map;F!==null;)F.key!==null?L.set(F.key,F):L.set(F.index,F),F=F.sibling;return L}function f(F,L){return F=Is(F,L),F.index=0,F.sibling=null,F}function d(F,L,G){return F.index=G,n?(G=F.alternate,G!==null?(G=G.index,G<L?(F.flags|=67108866,L):G):(F.flags|=67108866,L)):(F.flags|=1048576,L)}function _(F){return n&&F.alternate===null&&(F.flags|=67108866),F}function A(F,L,G,at){return L===null||L.tag!==6?(L=Jf(G,F.mode,at),L.return=F,L):(L=f(L,G),L.return=F,L)}function O(F,L,G,at){var wt=G.type;return wt===D?it(F,L,G.props.children,at,G.key):L!==null&&(L.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===w&&Sa(wt)===L.type)?(L=f(L,G.props),jl(L,G),L.return=F,L):(L=xc(G.type,G.key,G.props,null,F.mode,at),jl(L,G),L.return=F,L)}function K(F,L,G,at){return L===null||L.tag!==4||L.stateNode.containerInfo!==G.containerInfo||L.stateNode.implementation!==G.implementation?(L=Zf(G,F.mode,at),L.return=F,L):(L=f(L,G.children||[]),L.return=F,L)}function it(F,L,G,at,wt){return L===null||L.tag!==7?(L=ya(G,F.mode,at,wt),L.return=F,L):(L=f(L,G),L.return=F,L)}function ot(F,L,G){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Jf(""+L,F.mode,G),L.return=F,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case C:return G=xc(L.type,L.key,L.props,null,F.mode,G),jl(G,L),G.return=F,G;case k:return L=Zf(L,F.mode,G),L.return=F,L;case w:return L=Sa(L),ot(F,L,G)}if(_e(L)||z(L))return L=ya(L,F.mode,G,null),L.return=F,L;if(typeof L.then=="function")return ot(F,Oc(L),G);if(L.$$typeof===rt)return ot(F,Ic(F,L),G);Nc(F,L)}return null}function Q(F,L,G,at){var wt=L!==null?L.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return wt!==null?null:A(F,L,""+G,at);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case C:return G.key===wt?O(F,L,G,at):null;case k:return G.key===wt?K(F,L,G,at):null;case w:return G=Sa(G),Q(F,L,G,at)}if(_e(G)||z(G))return wt!==null?null:it(F,L,G,at,null);if(typeof G.then=="function")return Q(F,L,Oc(G),at);if(G.$$typeof===rt)return Q(F,L,Ic(F,G),at);Nc(F,G)}return null}function J(F,L,G,at,wt){if(typeof at=="string"&&at!==""||typeof at=="number"||typeof at=="bigint")return F=F.get(G)||null,A(L,F,""+at,wt);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case C:return F=F.get(at.key===null?G:at.key)||null,O(L,F,at,wt);case k:return F=F.get(at.key===null?G:at.key)||null,K(L,F,at,wt);case w:return at=Sa(at),J(F,L,G,at,wt)}if(_e(at)||z(at))return F=F.get(G)||null,it(L,F,at,wt,null);if(typeof at.then=="function")return J(F,L,G,Oc(at),wt);if(at.$$typeof===rt)return J(F,L,G,Ic(L,at),wt);Nc(L,at)}return null}function bt(F,L,G,at){for(var wt=null,ne=null,St=L,Ft=L=0,Qt=null;St!==null&&Ft<G.length;Ft++){St.index>Ft?(Qt=St,St=null):Qt=St.sibling;var ie=Q(F,St,G[Ft],at);if(ie===null){St===null&&(St=Qt);break}n&&St&&ie.alternate===null&&s(F,St),L=d(ie,L,Ft),ne===null?wt=ie:ne.sibling=ie,ne=ie,St=Qt}if(Ft===G.length)return a(F,St),Jt&&Ds(F,Ft),wt;if(St===null){for(;Ft<G.length;Ft++)St=ot(F,G[Ft],at),St!==null&&(L=d(St,L,Ft),ne===null?wt=St:ne.sibling=St,ne=St);return Jt&&Ds(F,Ft),wt}for(St=l(St);Ft<G.length;Ft++)Qt=J(St,F,Ft,G[Ft],at),Qt!==null&&(n&&Qt.alternate!==null&&St.delete(Qt.key===null?Ft:Qt.key),L=d(Qt,L,Ft),ne===null?wt=Qt:ne.sibling=Qt,ne=Qt);return n&&St.forEach(function(Pr){return s(F,Pr)}),Jt&&Ds(F,Ft),wt}function Ct(F,L,G,at){if(G==null)throw Error(r(151));for(var wt=null,ne=null,St=L,Ft=L=0,Qt=null,ie=G.next();St!==null&&!ie.done;Ft++,ie=G.next()){St.index>Ft?(Qt=St,St=null):Qt=St.sibling;var Pr=Q(F,St,ie.value,at);if(Pr===null){St===null&&(St=Qt);break}n&&St&&Pr.alternate===null&&s(F,St),L=d(Pr,L,Ft),ne===null?wt=Pr:ne.sibling=Pr,ne=Pr,St=Qt}if(ie.done)return a(F,St),Jt&&Ds(F,Ft),wt;if(St===null){for(;!ie.done;Ft++,ie=G.next())ie=ot(F,ie.value,at),ie!==null&&(L=d(ie,L,Ft),ne===null?wt=ie:ne.sibling=ie,ne=ie);return Jt&&Ds(F,Ft),wt}for(St=l(St);!ie.done;Ft++,ie=G.next())ie=J(St,F,Ft,ie.value,at),ie!==null&&(n&&ie.alternate!==null&&St.delete(ie.key===null?Ft:ie.key),L=d(ie,L,Ft),ne===null?wt=ie:ne.sibling=ie,ne=ie);return n&&St.forEach(function(_R){return s(F,_R)}),Jt&&Ds(F,Ft),wt}function ve(F,L,G,at){if(typeof G=="object"&&G!==null&&G.type===D&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case C:t:{for(var wt=G.key;L!==null;){if(L.key===wt){if(wt=G.type,wt===D){if(L.tag===7){a(F,L.sibling),at=f(L,G.props.children),at.return=F,F=at;break t}}else if(L.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===w&&Sa(wt)===L.type){a(F,L.sibling),at=f(L,G.props),jl(at,G),at.return=F,F=at;break t}a(F,L);break}else s(F,L);L=L.sibling}G.type===D?(at=ya(G.props.children,F.mode,at,G.key),at.return=F,F=at):(at=xc(G.type,G.key,G.props,null,F.mode,at),jl(at,G),at.return=F,F=at)}return _(F);case k:t:{for(wt=G.key;L!==null;){if(L.key===wt)if(L.tag===4&&L.stateNode.containerInfo===G.containerInfo&&L.stateNode.implementation===G.implementation){a(F,L.sibling),at=f(L,G.children||[]),at.return=F,F=at;break t}else{a(F,L);break}else s(F,L);L=L.sibling}at=Zf(G,F.mode,at),at.return=F,F=at}return _(F);case w:return G=Sa(G),ve(F,L,G,at)}if(_e(G))return bt(F,L,G,at);if(z(G)){if(wt=z(G),typeof wt!="function")throw Error(r(150));return G=wt.call(G),Ct(F,L,G,at)}if(typeof G.then=="function")return ve(F,L,Oc(G),at);if(G.$$typeof===rt)return ve(F,L,Ic(F,G),at);Nc(F,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,L!==null&&L.tag===6?(a(F,L.sibling),at=f(L,G),at.return=F,F=at):(a(F,L),at=Jf(G,F.mode,at),at.return=F,F=at),_(F)):a(F,L)}return function(F,L,G,at){try{kl=0;var wt=ve(F,L,G,at);return _o=null,wt}catch(St){if(St===vo||St===Mc)throw St;var ne=ni(29,St,null,F.mode);return ne.lanes=at,ne.return=F,ne}finally{}}}var Aa=f0(!0),d0=f0(!1),vr=!1;function hd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fd(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function _r(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Tr(n,s,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(le&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=wc(n),Wy(n,null,a),s}return Ac(n,l,s,a),wc(n)}function Ll(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,kn(n,a)}}function dd(n,s){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=s:d=d.next=s}else f=d=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}var md=!1;function Ul(){if(md){var n=yo;if(n!==null)throw n}}function zl(n,s,a,l){md=!1;var f=n.updateQueue;vr=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var O=A,K=O.next;O.next=null,_===null?d=K:_.next=K,_=O;var it=n.alternate;it!==null&&(it=it.updateQueue,A=it.lastBaseUpdate,A!==_&&(A===null?it.firstBaseUpdate=K:A.next=K,it.lastBaseUpdate=O))}if(d!==null){var ot=f.baseState;_=0,it=K=O=null,A=d;do{var Q=A.lane&-536870913,J=Q!==A.lane;if(J?(Yt&Q)===Q:(l&Q)===Q){Q!==0&&Q===go&&(md=!0),it!==null&&(it=it.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var bt=n,Ct=A;Q=s;var ve=a;switch(Ct.tag){case 1:if(bt=Ct.payload,typeof bt=="function"){ot=bt.call(ve,ot,Q);break t}ot=bt;break t;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=Ct.payload,Q=typeof bt=="function"?bt.call(ve,ot,Q):bt,Q==null)break t;ot=T({},ot,Q);break t;case 2:vr=!0}}Q=A.callback,Q!==null&&(n.flags|=64,J&&(n.flags|=8192),J=f.callbacks,J===null?f.callbacks=[Q]:J.push(Q))}else J={lane:Q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},it===null?(K=it=J,O=ot):it=it.next=J,_|=Q;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;J=A,A=J.next,J.next=null,f.lastBaseUpdate=J,f.shared.pending=null}}while(!0);it===null&&(O=ot),f.baseState=O,f.firstBaseUpdate=K,f.lastBaseUpdate=it,d===null&&(f.shared.lanes=0),wr|=_,n.lanes=_,n.memoizedState=ot}}function m0(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function p0(n,s){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)m0(a[n],s)}var To=j(null),Pc=j(0);function g0(n,s){n=Bs,yt(Pc,n),yt(To,s),Bs=n|s.baseLanes}function pd(){yt(Pc,Bs),yt(To,To.current)}function gd(){Bs=Pc.current,nt(To),nt(Pc)}var ii=j(null),bi=null;function br(n){var s=n.alternate;yt(Ge,Ge.current&1),yt(ii,n),bi===null&&(s===null||To.current!==null||s.memoizedState!==null)&&(bi=n)}function yd(n){yt(Ge,Ge.current),yt(ii,n),bi===null&&(bi=n)}function y0(n){n.tag===22?(yt(Ge,Ge.current),yt(ii,n),bi===null&&(bi=n)):Sr()}function Sr(){yt(Ge,Ge.current),yt(ii,ii.current)}function si(n){nt(ii),bi===n&&(bi=null),nt(Ge)}var Ge=j(0);function kc(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Em(a)||Am(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Os=0,Ut=null,ge=null,$e=null,jc=!1,bo=!1,wa=!1,Lc=0,Bl=0,So=null,ux=0;function Ue(){throw Error(r(321))}function vd(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!ei(n[a],s[a]))return!1;return!0}function _d(n,s,a,l,f,d){return Os=d,Ut=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,$.H=n===null||n.memoizedState===null?tv:Nd,wa=!1,d=a(l,f),wa=!1,bo&&(d=_0(s,a,l,f)),v0(n),d}function v0(n){$.H=ql;var s=ge!==null&&ge.next!==null;if(Os=0,$e=ge=Ut=null,jc=!1,Bl=0,So=null,s)throw Error(r(300));n===null||Je||(n=n.dependencies,n!==null&&Cc(n)&&(Je=!0))}function _0(n,s,a,l){Ut=n;var f=0;do{if(bo&&(So=null),Bl=0,bo=!1,25<=f)throw Error(r(301));if(f+=1,$e=ge=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=ev,d=s(a,l)}while(bo);return d}function cx(){var n=$.H,s=n.useState()[0];return s=typeof s.then=="function"?Fl(s):s,n=n.useState()[0],(ge!==null?ge.memoizedState:null)!==n&&(Ut.flags|=1024),s}function Td(){var n=Lc!==0;return Lc=0,n}function bd(n,s,a){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~a}function Sd(n){if(jc){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}jc=!1}Os=0,$e=ge=Ut=null,bo=!1,Bl=Lc=0,So=null}function Un(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?Ut.memoizedState=$e=n:$e=$e.next=n,$e}function Ke(){if(ge===null){var n=Ut.alternate;n=n!==null?n.memoizedState:null}else n=ge.next;var s=$e===null?Ut.memoizedState:$e.next;if(s!==null)$e=s,ge=n;else{if(n===null)throw Ut.alternate===null?Error(r(467)):Error(r(310));ge=n,n={memoizedState:ge.memoizedState,baseState:ge.baseState,baseQueue:ge.baseQueue,queue:ge.queue,next:null},$e===null?Ut.memoizedState=$e=n:$e=$e.next=n}return $e}function Uc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fl(n){var s=Bl;return Bl+=1,So===null&&(So=[]),n=u0(So,n,s),s=Ut,($e===null?s.memoizedState:$e.next)===null&&(s=s.alternate,$.H=s===null||s.memoizedState===null?tv:Nd),n}function zc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Fl(n);if(n.$$typeof===rt)return vn(n)}throw Error(r(438,String(n)))}function Ed(n){var s=null,a=Ut.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Ut.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Uc(),Ut.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(n),l=0;l<n;l++)a[l]=P;return s.index++,a}function Ns(n,s){return typeof s=="function"?s(n):s}function Bc(n){var s=Ke();return Ad(s,ge,n)}function Ad(n,s,a){var l=n.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=n.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}s.baseQueue=f=d,l.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{s=f.next;var A=_=null,O=null,K=s,it=!1;do{var ot=K.lane&-536870913;if(ot!==K.lane?(Yt&ot)===ot:(Os&ot)===ot){var Q=K.revertLane;if(Q===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ot===go&&(it=!0);else if((Os&Q)===Q){K=K.next,Q===go&&(it=!0);continue}else ot={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},O===null?(A=O=ot,_=d):O=O.next=ot,Ut.lanes|=Q,wr|=Q;ot=K.action,wa&&a(d,ot),d=K.hasEagerState?K.eagerState:a(d,ot)}else Q={lane:ot,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},O===null?(A=O=Q,_=d):O=O.next=Q,Ut.lanes|=ot,wr|=ot;K=K.next}while(K!==null&&K!==s);if(O===null?_=d:O.next=A,!ei(d,n.memoizedState)&&(Je=!0,it&&(a=yo,a!==null)))throw a;n.memoizedState=d,n.baseState=_,n.baseQueue=O,l.lastRenderedState=d}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function wd(n){var s=Ke(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,d=s.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=n(d,_.action),_=_.next;while(_!==f);ei(d,s.memoizedState)||(Je=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,l]}function T0(n,s,a){var l=Ut,f=Ke(),d=Jt;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=s();var _=!ei((ge||f).memoizedState,a);if(_&&(f.memoizedState=a,Je=!0),f=f.queue,Cd(E0.bind(null,l,f,n),[n]),f.getSnapshot!==s||_||$e!==null&&$e.memoizedState.tag&1){if(l.flags|=2048,Eo(9,{destroy:void 0},S0.bind(null,l,f,a,s),null),Te===null)throw Error(r(349));d||(Os&127)!==0||b0(l,s,a)}return a}function b0(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=Ut.updateQueue,s===null?(s=Uc(),Ut.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function S0(n,s,a,l){s.value=a,s.getSnapshot=l,A0(s)&&w0(n)}function E0(n,s,a){return a(function(){A0(s)&&w0(n)})}function A0(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!ei(n,a)}catch{return!0}}function w0(n){var s=ga(n,2);s!==null&&Xn(s,n,2)}function xd(n){var s=Un();if(typeof n=="function"){var a=n;if(n=a(),wa){xn(!0);try{a()}finally{xn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:n},s}function x0(n,s,a,l){return n.baseState=a,Ad(n,ge,typeof l=="function"?l:Ns)}function hx(n,s,a,l,f){if(qc(n))throw Error(r(485));if(n=s.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};$.T!==null?a(!0):d.isTransition=!1,l(d),a=s.pending,a===null?(d.next=s.pending=d,R0(s,d)):(d.next=a.next,s.pending=a.next=d)}}function R0(n,s){var a=s.action,l=s.payload,f=n.state;if(s.isTransition){var d=$.T,_={};$.T=_;try{var A=a(f,l),O=$.S;O!==null&&O(_,A),C0(n,s,A)}catch(K){Rd(n,s,K)}finally{d!==null&&_.types!==null&&(d.types=_.types),$.T=d}}else try{d=a(f,l),C0(n,s,d)}catch(K){Rd(n,s,K)}}function C0(n,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){I0(n,s,l)},function(l){return Rd(n,s,l)}):I0(n,s,a)}function I0(n,s,a){s.status="fulfilled",s.value=a,D0(s),n.state=a,s=n.pending,s!==null&&(a=s.next,a===s?n.pending=null:(a=a.next,s.next=a,R0(n,a)))}function Rd(n,s,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,D0(s),s=s.next;while(s!==l)}n.action=null}function D0(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function M0(n,s){return s}function V0(n,s){if(Jt){var a=Te.formState;if(a!==null){t:{var l=Ut;if(Jt){if(we){e:{for(var f=we,d=Ti;f.nodeType!==8;){if(!d){f=null;break e}if(f=Si(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){we=Si(f.nextSibling),l=f.data==="F!";break t}}gr(l)}l=!1}l&&(s=a[0])}}return a=Un(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:M0,lastRenderedState:s},a.queue=l,a=$0.bind(null,Ut,l),l.dispatch=a,l=xd(!1),d=Od.bind(null,Ut,!1,l.queue),l=Un(),f={state:s,dispatch:null,action:n,pending:null},l.queue=f,a=hx.bind(null,Ut,f,d,a),f.dispatch=a,l.memoizedState=n,[s,a,!1]}function O0(n){var s=Ke();return N0(s,ge,n)}function N0(n,s,a){if(s=Ad(n,s,M0)[0],n=Bc(Ns)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Fl(s)}catch(_){throw _===vo?Mc:_}else l=s;s=Ke();var f=s.queue,d=f.dispatch;return a!==s.memoizedState&&(Ut.flags|=2048,Eo(9,{destroy:void 0},fx.bind(null,f,a),null)),[l,d,n]}function fx(n,s){n.action=s}function P0(n){var s=Ke(),a=ge;if(a!==null)return N0(s,a,n);Ke(),s=s.memoizedState,a=Ke();var l=a.queue.dispatch;return a.memoizedState=n,[s,l,!1]}function Eo(n,s,a,l){return n={tag:n,create:a,deps:l,inst:s,next:null},s=Ut.updateQueue,s===null&&(s=Uc(),Ut.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,s.lastEffect=n),n}function k0(){return Ke().memoizedState}function Fc(n,s,a,l){var f=Un();Ut.flags|=n,f.memoizedState=Eo(1|s,{destroy:void 0},a,l===void 0?null:l)}function Hc(n,s,a,l){var f=Ke();l=l===void 0?null:l;var d=f.memoizedState.inst;ge!==null&&l!==null&&vd(l,ge.memoizedState.deps)?f.memoizedState=Eo(s,d,a,l):(Ut.flags|=n,f.memoizedState=Eo(1|s,d,a,l))}function j0(n,s){Fc(8390656,8,n,s)}function Cd(n,s){Hc(2048,8,n,s)}function dx(n){Ut.flags|=4;var s=Ut.updateQueue;if(s===null)s=Uc(),Ut.updateQueue=s,s.events=[n];else{var a=s.events;a===null?s.events=[n]:a.push(n)}}function L0(n){var s=Ke().memoizedState;return dx({ref:s,nextImpl:n}),function(){if((le&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function U0(n,s){return Hc(4,2,n,s)}function z0(n,s){return Hc(4,4,n,s)}function B0(n,s){if(typeof s=="function"){n=n();var a=s(n);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function F0(n,s,a){a=a!=null?a.concat([n]):null,Hc(4,4,B0.bind(null,s,n),a)}function Id(){}function H0(n,s){var a=Ke();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&vd(s,l[1])?l[0]:(a.memoizedState=[n,s],n)}function q0(n,s){var a=Ke();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&vd(s,l[1]))return l[0];if(l=n(),wa){xn(!0);try{n()}finally{xn(!1)}}return a.memoizedState=[l,s],l}function Dd(n,s,a){return a===void 0||(Os&1073741824)!==0&&(Yt&261930)===0?n.memoizedState=s:(n.memoizedState=a,n=Gv(),Ut.lanes|=n,wr|=n,a)}function G0(n,s,a,l){return ei(a,s)?a:To.current!==null?(n=Dd(n,a,l),ei(n,s)||(Je=!0),n):(Os&42)===0||(Os&1073741824)!==0&&(Yt&261930)===0?(Je=!0,n.memoizedState=a):(n=Gv(),Ut.lanes|=n,wr|=n,s)}function K0(n,s,a,l,f){var d=ut.p;ut.p=d!==0&&8>d?d:8;var _=$.T,A={};$.T=A,Od(n,!1,s,a);try{var O=f(),K=$.S;if(K!==null&&K(A,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var it=lx(O,l);Hl(n,s,it,oi(n))}else Hl(n,s,l,oi(n))}catch(ot){Hl(n,s,{then:function(){},status:"rejected",reason:ot},oi())}finally{ut.p=d,_!==null&&A.types!==null&&(_.types=A.types),$.T=_}}function mx(){}function Md(n,s,a,l){if(n.tag!==5)throw Error(r(476));var f=Y0(n).queue;K0(n,f,s,ct,a===null?mx:function(){return Q0(n),a(l)})}function Y0(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:ct},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:a},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function Q0(n){var s=Y0(n);s.next===null&&(s=n.alternate.memoizedState),Hl(n,s.next.queue,{},oi())}function Vd(){return vn(au)}function X0(){return Ke().memoizedState}function W0(){return Ke().memoizedState}function px(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var a=oi();n=_r(a);var l=Tr(s,n,a);l!==null&&(Xn(l,s,a),Ll(l,s,a)),s={cache:od()},n.payload=s;return}s=s.return}}function gx(n,s,a){var l=oi();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},qc(n)?J0(s,a):(a=Wf(n,s,a,l),a!==null&&(Xn(a,n,l),Z0(a,s,l)))}function $0(n,s,a){var l=oi();Hl(n,s,a,l)}function Hl(n,s,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(qc(n))J0(s,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var _=s.lastRenderedState,A=d(_,a);if(f.hasEagerState=!0,f.eagerState=A,ei(A,_))return Ac(n,s,f,0),Te===null&&Ec(),!1}catch{}finally{}if(a=Wf(n,s,f,l),a!==null)return Xn(a,n,l),Z0(a,s,l),!0}return!1}function Od(n,s,a,l){if(l={lane:2,revertLane:hm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},qc(n)){if(s)throw Error(r(479))}else s=Wf(n,a,l,2),s!==null&&Xn(s,n,2)}function qc(n){var s=n.alternate;return n===Ut||s!==null&&s===Ut}function J0(n,s){bo=jc=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function Z0(n,s,a){if((a&4194048)!==0){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,kn(n,a)}}var ql={readContext:vn,use:zc,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useLayoutEffect:Ue,useInsertionEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useSyncExternalStore:Ue,useId:Ue,useHostTransitionStatus:Ue,useFormState:Ue,useActionState:Ue,useOptimistic:Ue,useMemoCache:Ue,useCacheRefresh:Ue};ql.useEffectEvent=Ue;var tv={readContext:vn,use:zc,useCallback:function(n,s){return Un().memoizedState=[n,s===void 0?null:s],n},useContext:vn,useEffect:j0,useImperativeHandle:function(n,s,a){a=a!=null?a.concat([n]):null,Fc(4194308,4,B0.bind(null,s,n),a)},useLayoutEffect:function(n,s){return Fc(4194308,4,n,s)},useInsertionEffect:function(n,s){Fc(4,2,n,s)},useMemo:function(n,s){var a=Un();s=s===void 0?null:s;var l=n();if(wa){xn(!0);try{n()}finally{xn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(n,s,a){var l=Un();if(a!==void 0){var f=a(s);if(wa){xn(!0);try{a(s)}finally{xn(!1)}}}else f=s;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=gx.bind(null,Ut,n),[l.memoizedState,n]},useRef:function(n){var s=Un();return n={current:n},s.memoizedState=n},useState:function(n){n=xd(n);var s=n.queue,a=$0.bind(null,Ut,s);return s.dispatch=a,[n.memoizedState,a]},useDebugValue:Id,useDeferredValue:function(n,s){var a=Un();return Dd(a,n,s)},useTransition:function(){var n=xd(!1);return n=K0.bind(null,Ut,n.queue,!0,!1),Un().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,a){var l=Ut,f=Un();if(Jt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),Te===null)throw Error(r(349));(Yt&127)!==0||b0(l,s,a)}f.memoizedState=a;var d={value:a,getSnapshot:s};return f.queue=d,j0(E0.bind(null,l,d,n),[n]),l.flags|=2048,Eo(9,{destroy:void 0},S0.bind(null,l,d,a,s),null),a},useId:function(){var n=Un(),s=Te.identifierPrefix;if(Jt){var a=ls,l=os;a=(l&~(1<<32-pt(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Lc++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=ux++,s="_"+s+"r_"+a.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:Vd,useFormState:V0,useActionState:V0,useOptimistic:function(n){var s=Un();s.memoizedState=s.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Od.bind(null,Ut,!0,a),a.dispatch=s,[n,s]},useMemoCache:Ed,useCacheRefresh:function(){return Un().memoizedState=px.bind(null,Ut)},useEffectEvent:function(n){var s=Un(),a={impl:n};return s.memoizedState=a,function(){if((le&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Nd={readContext:vn,use:zc,useCallback:H0,useContext:vn,useEffect:Cd,useImperativeHandle:F0,useInsertionEffect:U0,useLayoutEffect:z0,useMemo:q0,useReducer:Bc,useRef:k0,useState:function(){return Bc(Ns)},useDebugValue:Id,useDeferredValue:function(n,s){var a=Ke();return G0(a,ge.memoizedState,n,s)},useTransition:function(){var n=Bc(Ns)[0],s=Ke().memoizedState;return[typeof n=="boolean"?n:Fl(n),s]},useSyncExternalStore:T0,useId:X0,useHostTransitionStatus:Vd,useFormState:O0,useActionState:O0,useOptimistic:function(n,s){var a=Ke();return x0(a,ge,n,s)},useMemoCache:Ed,useCacheRefresh:W0};Nd.useEffectEvent=L0;var ev={readContext:vn,use:zc,useCallback:H0,useContext:vn,useEffect:Cd,useImperativeHandle:F0,useInsertionEffect:U0,useLayoutEffect:z0,useMemo:q0,useReducer:wd,useRef:k0,useState:function(){return wd(Ns)},useDebugValue:Id,useDeferredValue:function(n,s){var a=Ke();return ge===null?Dd(a,n,s):G0(a,ge.memoizedState,n,s)},useTransition:function(){var n=wd(Ns)[0],s=Ke().memoizedState;return[typeof n=="boolean"?n:Fl(n),s]},useSyncExternalStore:T0,useId:X0,useHostTransitionStatus:Vd,useFormState:P0,useActionState:P0,useOptimistic:function(n,s){var a=Ke();return ge!==null?x0(a,ge,n,s):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Ed,useCacheRefresh:W0};ev.useEffectEvent=L0;function Pd(n,s,a,l){s=n.memoizedState,a=a(l,s),a=a==null?s:T({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var kd={enqueueSetState:function(n,s,a){n=n._reactInternals;var l=oi(),f=_r(l);f.payload=s,a!=null&&(f.callback=a),s=Tr(n,f,l),s!==null&&(Xn(s,n,l),Ll(s,n,l))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var l=oi(),f=_r(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=Tr(n,f,l),s!==null&&(Xn(s,n,l),Ll(s,n,l))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=oi(),l=_r(a);l.tag=2,s!=null&&(l.callback=s),s=Tr(n,l,a),s!==null&&(Xn(s,n,a),Ll(s,n,a))}};function nv(n,s,a,l,f,d,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,_):s.prototype&&s.prototype.isPureReactComponent?!Dl(a,l)||!Dl(f,d):!0}function iv(n,s,a,l){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==n&&kd.enqueueReplaceState(s,s.state,null)}function xa(n,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(n=n.defaultProps){a===s&&(a=T({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}function sv(n){Sc(n)}function rv(n){console.error(n)}function av(n){Sc(n)}function Gc(n,s){try{var a=n.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function ov(n,s,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function jd(n,s,a){return a=_r(a),a.tag=3,a.payload={element:null},a.callback=function(){Gc(n,s)},a}function lv(n){return n=_r(n),n.tag=3,n}function uv(n,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;n.payload=function(){return f(d)},n.callback=function(){ov(s,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){ov(s,a,l),typeof f!="function"&&(xr===null?xr=new Set([this]):xr.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function yx(n,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&po(s,a,f,!0),a=ii.current,a!==null){switch(a.tag){case 31:case 13:return bi===null?ih():a.alternate===null&&ze===0&&(ze=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Vc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),lm(n,l,f)),!1;case 22:return a.flags|=65536,l===Vc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),lm(n,l,f)),!1}throw Error(r(435,a.tag))}return lm(n,l,f),ih(),!1}if(Jt)return s=ii.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==nd&&(n=Error(r(422),{cause:l}),Ol(yi(n,a)))):(l!==nd&&(s=Error(r(423),{cause:l}),Ol(yi(s,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=yi(l,a),f=jd(n.stateNode,l,f),dd(n,f),ze!==4&&(ze=2)),!1;var d=Error(r(520),{cause:l});if(d=yi(d,a),Jl===null?Jl=[d]:Jl.push(d),ze!==4&&(ze=2),s===null)return!0;l=yi(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=jd(a.stateNode,l,n),dd(a,n),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(xr===null||!xr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=lv(f),uv(f,n,a,l),dd(a,f),!1}a=a.return}while(a!==null);return!1}var Ld=Error(r(461)),Je=!1;function _n(n,s,a,l){s.child=n===null?d0(s,null,a,l):Aa(s,n.child,a,l)}function cv(n,s,a,l,f){a=a.render;var d=s.ref;if("ref"in l){var _={};for(var A in l)A!=="ref"&&(_[A]=l[A])}else _=l;return Ta(s),l=_d(n,s,a,_,d,f),A=Td(),n!==null&&!Je?(bd(n,s,f),Ps(n,s,f)):(Jt&&A&&td(s),s.flags|=1,_n(n,s,l,f),s.child)}function hv(n,s,a,l,f){if(n===null){var d=a.type;return typeof d=="function"&&!$f(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,fv(n,s,d,l,f)):(n=xc(a.type,null,l,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(d=n.child,!Kd(n,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Dl,a(_,l)&&n.ref===s.ref)return Ps(n,s,f)}return s.flags|=1,n=Is(d,l),n.ref=s.ref,n.return=s,s.child=n}function fv(n,s,a,l,f){if(n!==null){var d=n.memoizedProps;if(Dl(d,l)&&n.ref===s.ref)if(Je=!1,s.pendingProps=l=d,Kd(n,f))(n.flags&131072)!==0&&(Je=!0);else return s.lanes=n.lanes,Ps(n,s,f)}return Ud(n,s,a,l,f)}function dv(n,s,a,l){var f=l.children,d=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,n!==null){for(l=s.child=n.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,s.child=null;return mv(n,s,d,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Dc(s,d!==null?d.cachePool:null),d!==null?g0(s,d):pd(),y0(s);else return l=s.lanes=536870912,mv(n,s,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Dc(s,d.cachePool),g0(s,d),Sr(),s.memoizedState=null):(n!==null&&Dc(s,null),pd(),Sr());return _n(n,s,f,a),s.child}function Gl(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function mv(n,s,a,l,f){var d=ud();return d=d===null?null:{parent:We._currentValue,pool:d},s.memoizedState={baseLanes:a,cachePool:d},n!==null&&Dc(s,null),pd(),y0(s),n!==null&&po(n,s,l,!0),s.childLanes=f,null}function Kc(n,s){return s=Qc({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function pv(n,s,a){return Aa(s,n.child,null,a),n=Kc(s,s.pendingProps),n.flags|=2,si(s),s.memoizedState=null,n}function vx(n,s,a){var l=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(Jt){if(l.mode==="hidden")return n=Kc(s,l),s.lanes=536870912,Gl(null,n);if(yd(s),(n=we)?(n=R_(n,Ti),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:mr!==null?{id:os,overflow:ls}:null,retryLane:536870912,hydrationErrors:null},a=Jy(n),a.return=s,s.child=a,yn=s,we=null)):n=null,n===null)throw gr(s);return s.lanes=536870912,null}return Kc(s,l)}var d=n.memoizedState;if(d!==null){var _=d.dehydrated;if(yd(s),f)if(s.flags&256)s.flags&=-257,s=pv(n,s,a);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(r(558));else if(Je||po(n,s,a,!1),f=(a&n.childLanes)!==0,Je||f){if(l=Te,l!==null&&(_=sa(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,ga(n,_),Xn(l,n,_),Ld;ih(),s=pv(n,s,a)}else n=d.treeContext,we=Si(_.nextSibling),yn=s,Jt=!0,pr=null,Ti=!1,n!==null&&e0(s,n),s=Kc(s,l),s.flags|=4096;return s}return n=Is(n.child,{mode:l.mode,children:l.children}),n.ref=s.ref,s.child=n,n.return=s,n}function Yc(n,s){var a=s.ref;if(a===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(n===null||n.ref!==a)&&(s.flags|=4194816)}}function Ud(n,s,a,l,f){return Ta(s),a=_d(n,s,a,l,void 0,f),l=Td(),n!==null&&!Je?(bd(n,s,f),Ps(n,s,f)):(Jt&&l&&td(s),s.flags|=1,_n(n,s,a,f),s.child)}function gv(n,s,a,l,f,d){return Ta(s),s.updateQueue=null,a=_0(s,l,a,f),v0(n),l=Td(),n!==null&&!Je?(bd(n,s,d),Ps(n,s,d)):(Jt&&l&&td(s),s.flags|=1,_n(n,s,a,d),s.child)}function yv(n,s,a,l,f){if(Ta(s),s.stateNode===null){var d=co,_=a.contextType;typeof _=="object"&&_!==null&&(d=vn(_)),d=new a(l,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=kd,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=l,d.state=s.memoizedState,d.refs={},hd(s),_=a.contextType,d.context=typeof _=="object"&&_!==null?vn(_):co,d.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Pd(s,a,_,l),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&kd.enqueueReplaceState(d,d.state,null),zl(s,l,d,f),Ul(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(n===null){d=s.stateNode;var A=s.memoizedProps,O=xa(a,A);d.props=O;var K=d.context,it=a.contextType;_=co,typeof it=="object"&&it!==null&&(_=vn(it));var ot=a.getDerivedStateFromProps;it=typeof ot=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,it||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||K!==_)&&iv(s,d,l,_),vr=!1;var Q=s.memoizedState;d.state=Q,zl(s,l,d,f),Ul(),K=s.memoizedState,A||Q!==K||vr?(typeof ot=="function"&&(Pd(s,a,ot,l),K=s.memoizedState),(O=vr||nv(s,a,O,l,Q,K,_))?(it||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=K),d.props=l,d.state=K,d.context=_,l=O):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{d=s.stateNode,fd(n,s),_=s.memoizedProps,it=xa(a,_),d.props=it,ot=s.pendingProps,Q=d.context,K=a.contextType,O=co,typeof K=="object"&&K!==null&&(O=vn(K)),A=a.getDerivedStateFromProps,(K=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ot||Q!==O)&&iv(s,d,l,O),vr=!1,Q=s.memoizedState,d.state=Q,zl(s,l,d,f),Ul();var J=s.memoizedState;_!==ot||Q!==J||vr||n!==null&&n.dependencies!==null&&Cc(n.dependencies)?(typeof A=="function"&&(Pd(s,a,A,l),J=s.memoizedState),(it=vr||nv(s,a,it,l,Q,J,O)||n!==null&&n.dependencies!==null&&Cc(n.dependencies))?(K||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,J,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,J,O)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===n.memoizedProps&&Q===n.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&Q===n.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=J),d.props=l,d.state=J,d.context=O,l=it):(typeof d.componentDidUpdate!="function"||_===n.memoizedProps&&Q===n.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&Q===n.memoizedState||(s.flags|=1024),l=!1)}return d=l,Yc(n,s),l=(s.flags&128)!==0,d||l?(d=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,n!==null&&l?(s.child=Aa(s,n.child,null,f),s.child=Aa(s,null,a,f)):_n(n,s,a,f),s.memoizedState=d.state,n=s.child):n=Ps(n,s,f),n}function vv(n,s,a,l){return va(),s.flags|=256,_n(n,s,a,l),s.child}var zd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bd(n){return{baseLanes:n,cachePool:o0()}}function Fd(n,s,a){return n=n!==null?n.childLanes&~a:0,s&&(n|=ai),n}function _v(n,s,a){var l=s.pendingProps,f=!1,d=(s.flags&128)!==0,_;if((_=d)||(_=n!==null&&n.memoizedState===null?!1:(Ge.current&2)!==0),_&&(f=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,n===null){if(Jt){if(f?br(s):Sr(),(n=we)?(n=R_(n,Ti),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:mr!==null?{id:os,overflow:ls}:null,retryLane:536870912,hydrationErrors:null},a=Jy(n),a.return=s,s.child=a,yn=s,we=null)):n=null,n===null)throw gr(s);return Am(n)?s.lanes=32:s.lanes=536870912,null}var A=l.children;return l=l.fallback,f?(Sr(),f=s.mode,A=Qc({mode:"hidden",children:A},f),l=ya(l,f,a,null),A.return=s,l.return=s,A.sibling=l,s.child=A,l=s.child,l.memoizedState=Bd(a),l.childLanes=Fd(n,_,a),s.memoizedState=zd,Gl(null,l)):(br(s),Hd(s,A))}var O=n.memoizedState;if(O!==null&&(A=O.dehydrated,A!==null)){if(d)s.flags&256?(br(s),s.flags&=-257,s=qd(n,s,a)):s.memoizedState!==null?(Sr(),s.child=n.child,s.flags|=128,s=null):(Sr(),A=l.fallback,f=s.mode,l=Qc({mode:"visible",children:l.children},f),A=ya(A,f,a,null),A.flags|=2,l.return=s,A.return=s,l.sibling=A,s.child=l,Aa(s,n.child,null,a),l=s.child,l.memoizedState=Bd(a),l.childLanes=Fd(n,_,a),s.memoizedState=zd,s=Gl(null,l));else if(br(s),Am(A)){if(_=A.nextSibling&&A.nextSibling.dataset,_)var K=_.dgst;_=K,l=Error(r(419)),l.stack="",l.digest=_,Ol({value:l,source:null,stack:null}),s=qd(n,s,a)}else if(Je||po(n,s,a,!1),_=(a&n.childLanes)!==0,Je||_){if(_=Te,_!==null&&(l=sa(_,a),l!==0&&l!==O.retryLane))throw O.retryLane=l,ga(n,l),Xn(_,n,l),Ld;Em(A)||ih(),s=qd(n,s,a)}else Em(A)?(s.flags|=192,s.child=n.child,s=null):(n=O.treeContext,we=Si(A.nextSibling),yn=s,Jt=!0,pr=null,Ti=!1,n!==null&&e0(s,n),s=Hd(s,l.children),s.flags|=4096);return s}return f?(Sr(),A=l.fallback,f=s.mode,O=n.child,K=O.sibling,l=Is(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,K!==null?A=Is(K,A):(A=ya(A,f,a,null),A.flags|=2),A.return=s,l.return=s,l.sibling=A,s.child=l,Gl(null,l),l=s.child,A=n.child.memoizedState,A===null?A=Bd(a):(f=A.cachePool,f!==null?(O=We._currentValue,f=f.parent!==O?{parent:O,pool:O}:f):f=o0(),A={baseLanes:A.baseLanes|a,cachePool:f}),l.memoizedState=A,l.childLanes=Fd(n,_,a),s.memoizedState=zd,Gl(n.child,l)):(br(s),a=n.child,n=a.sibling,a=Is(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,n!==null&&(_=s.deletions,_===null?(s.deletions=[n],s.flags|=16):_.push(n)),s.child=a,s.memoizedState=null,a)}function Hd(n,s){return s=Qc({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Qc(n,s){return n=ni(22,n,null,s),n.lanes=0,n}function qd(n,s,a){return Aa(s,n.child,null,a),n=Hd(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Tv(n,s,a){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s),rd(n.return,s,a)}function Gd(n,s,a,l,f,d){var _=n.memoizedState;_===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function bv(n,s,a){var l=s.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=Ge.current,A=(_&2)!==0;if(A?(_=_&1|2,s.flags|=128):_&=1,yt(Ge,_),_n(n,s,l,a),l=Jt?Vl:0,!A&&n!==null&&(n.flags&128)!==0)t:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Tv(n,a,s);else if(n.tag===19)Tv(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break t;for(;n.sibling===null;){if(n.return===null||n.return===s)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)n=a.alternate,n!==null&&kc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Gd(s,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&kc(n)===null){s.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Gd(s,!0,a,null,d,l);break;case"together":Gd(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function Ps(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),wr|=s.lanes,(a&s.childLanes)===0)if(n!==null){if(po(n,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,a=Is(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=Is(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function Kd(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Cc(n)))}function _x(n,s,a){switch(s.tag){case 3:Oe(s,s.stateNode.containerInfo),yr(s,We,n.memoizedState.cache),va();break;case 27:case 5:Mi(s);break;case 4:Oe(s,s.stateNode.containerInfo);break;case 10:yr(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,yd(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(br(s),s.flags|=128,null):(a&s.child.childLanes)!==0?_v(n,s,a):(br(s),n=Ps(n,s,a),n!==null?n.sibling:null);br(s);break;case 19:var f=(n.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(po(n,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return bv(n,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),yt(Ge,Ge.current),l)break;return null;case 22:return s.lanes=0,dv(n,s,a,s.pendingProps);case 24:yr(s,We,n.memoizedState.cache)}return Ps(n,s,a)}function Sv(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps)Je=!0;else{if(!Kd(n,a)&&(s.flags&128)===0)return Je=!1,_x(n,s,a);Je=(n.flags&131072)!==0}else Je=!1,Jt&&(s.flags&1048576)!==0&&t0(s,Vl,s.index);switch(s.lanes=0,s.tag){case 16:t:{var l=s.pendingProps;if(n=Sa(s.elementType),s.type=n,typeof n=="function")$f(n)?(l=xa(n,l),s.tag=1,s=yv(null,s,n,l,a)):(s.tag=0,s=Ud(null,s,n,l,a));else{if(n!=null){var f=n.$$typeof;if(f===ft){s.tag=11,s=cv(null,s,n,l,a);break t}else if(f===R){s.tag=14,s=hv(null,s,n,l,a);break t}}throw s=zt(n)||n,Error(r(306,s,""))}}return s;case 0:return Ud(n,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=xa(l,s.pendingProps),yv(n,s,l,f,a);case 3:t:{if(Oe(s,s.stateNode.containerInfo),n===null)throw Error(r(387));l=s.pendingProps;var d=s.memoizedState;f=d.element,fd(n,s),zl(s,l,null,a);var _=s.memoizedState;if(l=_.cache,yr(s,We,l),l!==d.cache&&ad(s,[We],a,!0),Ul(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=vv(n,s,l,a);break t}else if(l!==f){f=yi(Error(r(424)),s),Ol(f),s=vv(n,s,l,a);break t}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(we=Si(n.firstChild),yn=s,Jt=!0,pr=null,Ti=!0,a=d0(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(va(),l===f){s=Ps(n,s,a);break t}_n(n,s,l,a)}s=s.child}return s;case 26:return Yc(n,s),n===null?(a=O_(s.type,null,s.pendingProps,null))?s.memoizedState=a:Jt||(a=s.type,n=s.pendingProps,l=ch(Dt.current).createElement(a),l[B]=s,l[st]=n,Tn(l,a,n),Le(l),s.stateNode=l):s.memoizedState=O_(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return Mi(s),n===null&&Jt&&(l=s.stateNode=D_(s.type,s.pendingProps,Dt.current),yn=s,Ti=!0,f=we,Dr(s.type)?(wm=f,we=Si(l.firstChild)):we=f),_n(n,s,s.pendingProps.children,a),Yc(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Jt&&((f=l=we)&&(l=Xx(l,s.type,s.pendingProps,Ti),l!==null?(s.stateNode=l,yn=s,we=Si(l.firstChild),Ti=!1,f=!0):f=!1),f||gr(s)),Mi(s),f=s.type,d=s.pendingProps,_=n!==null?n.memoizedProps:null,l=d.children,Tm(f,d)?l=null:_!==null&&Tm(f,_)&&(s.flags|=32),s.memoizedState!==null&&(f=_d(n,s,cx,null,null,a),au._currentValue=f),Yc(n,s),_n(n,s,l,a),s.child;case 6:return n===null&&Jt&&((n=a=we)&&(a=Wx(a,s.pendingProps,Ti),a!==null?(s.stateNode=a,yn=s,we=null,n=!0):n=!1),n||gr(s)),null;case 13:return _v(n,s,a);case 4:return Oe(s,s.stateNode.containerInfo),l=s.pendingProps,n===null?s.child=Aa(s,null,l,a):_n(n,s,l,a),s.child;case 11:return cv(n,s,s.type,s.pendingProps,a);case 7:return _n(n,s,s.pendingProps,a),s.child;case 8:return _n(n,s,s.pendingProps.children,a),s.child;case 12:return _n(n,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,yr(s,s.type,l.value),_n(n,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,Ta(s),f=vn(f),l=l(f),s.flags|=1,_n(n,s,l,a),s.child;case 14:return hv(n,s,s.type,s.pendingProps,a);case 15:return fv(n,s,s.type,s.pendingProps,a);case 19:return bv(n,s,a);case 31:return vx(n,s,a);case 22:return dv(n,s,a,s.pendingProps);case 24:return Ta(s),l=vn(We),n===null?(f=ud(),f===null&&(f=Te,d=od(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),s.memoizedState={parent:l,cache:f},hd(s),yr(s,We,f)):((n.lanes&a)!==0&&(fd(n,s),zl(s,null,null,a),Ul()),f=n.memoizedState,d=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),yr(s,We,l)):(l=d.cache,yr(s,We,l),l!==f.cache&&ad(s,[We],a,!0))),_n(n,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ks(n){n.flags|=4}function Yd(n,s,a,l,f){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(Xv())n.flags|=8192;else throw Ea=Vc,cd}else n.flags&=-16777217}function Ev(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!L_(s))if(Xv())n.flags|=8192;else throw Ea=Vc,cd}function Xc(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?Xa():536870912,n.lanes|=s,Ro|=s)}function Kl(n,s){if(!Jt)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function xe(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(s)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,s}function Tx(n,s,a){var l=s.pendingProps;switch(ed(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xe(s),null;case 1:return xe(s),null;case 3:return a=s.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Vs(We),se(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(mo(s)?ks(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,id())),xe(s),null;case 26:var f=s.type,d=s.memoizedState;return n===null?(ks(s),d!==null?(xe(s),Ev(s,d)):(xe(s),Yd(s,f,null,l,a))):d?d!==n.memoizedState?(ks(s),xe(s),Ev(s,d)):(xe(s),s.flags&=-16777217):(n=n.memoizedProps,n!==l&&ks(s),xe(s),Yd(s,f,n,l,a)),null;case 27:if(Xi(s),a=Dt.current,f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&ks(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return xe(s),null}n=vt.current,mo(s)?n0(s):(n=D_(f,l,a),s.stateNode=n,ks(s))}return xe(s),null;case 5:if(Xi(s),f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&ks(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return xe(s),null}if(d=vt.current,mo(s))n0(s);else{var _=ch(Dt.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[B]=s,d[st]=l;t:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break t;for(;_.sibling===null;){if(_.return===null||_.return===s)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=d;t:switch(Tn(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&ks(s)}}return xe(s),Yd(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,a),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==l&&ks(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(n=Dt.current,mo(s)){if(n=s.stateNode,a=s.memoizedProps,l=null,f=yn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[B]=s,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||__(n.nodeValue,a)),n||gr(s,!0)}else n=ch(n).createTextNode(l),n[B]=s,s.stateNode=n}return xe(s),null;case 31:if(a=s.memoizedState,n===null||n.memoizedState!==null){if(l=mo(s),a!==null){if(n===null){if(!l)throw Error(r(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(557));n[B]=s}else va(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;xe(s),n=!1}else a=id(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return s.flags&256?(si(s),s):(si(s),null);if((s.flags&128)!==0)throw Error(r(558))}return xe(s),null;case 13:if(l=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=mo(s),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[B]=s}else va(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;xe(s),f=!1}else f=id(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(si(s),s):(si(s),null)}return si(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,n=n!==null&&n.memoizedState!==null,a&&(l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==n&&a&&(s.child.flags|=8192),Xc(s,s.updateQueue),xe(s),null);case 4:return se(),n===null&&pm(s.stateNode.containerInfo),xe(s),null;case 10:return Vs(s.type),xe(s),null;case 19:if(nt(Ge),l=s.memoizedState,l===null)return xe(s),null;if(f=(s.flags&128)!==0,d=l.rendering,d===null)if(f)Kl(l,!1);else{if(ze!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(d=kc(n),d!==null){for(s.flags|=128,Kl(l,!1),n=d.updateQueue,s.updateQueue=n,Xc(s,n),s.subtreeFlags=0,n=a,a=s.child;a!==null;)$y(a,n),a=a.sibling;return yt(Ge,Ge.current&1|2),Jt&&Ds(s,l.treeForkCount),s.child}n=n.sibling}l.tail!==null&&me()>th&&(s.flags|=128,f=!0,Kl(l,!1),s.lanes=4194304)}else{if(!f)if(n=kc(d),n!==null){if(s.flags|=128,f=!0,n=n.updateQueue,s.updateQueue=n,Xc(s,n),Kl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Jt)return xe(s),null}else 2*me()-l.renderingStartTime>th&&a!==536870912&&(s.flags|=128,f=!0,Kl(l,!1),s.lanes=4194304);l.isBackwards?(d.sibling=s.child,s.child=d):(n=l.last,n!==null?n.sibling=d:s.child=d,l.last=d)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=me(),n.sibling=null,a=Ge.current,yt(Ge,f?a&1|2:a&1),Jt&&Ds(s,l.treeForkCount),n):(xe(s),null);case 22:case 23:return si(s),gd(),l=s.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(xe(s),s.subtreeFlags&6&&(s.flags|=8192)):xe(s),a=s.updateQueue,a!==null&&Xc(s,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),n!==null&&nt(ba),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Vs(We),xe(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function bx(n,s){switch(ed(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Vs(We),se(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Xi(s),null;case 31:if(s.memoizedState!==null){if(si(s),s.alternate===null)throw Error(r(340));va()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(si(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));va()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return nt(Ge),null;case 4:return se(),null;case 10:return Vs(s.type),null;case 22:case 23:return si(s),gd(),n!==null&&nt(ba),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return Vs(We),null;case 25:return null;default:return null}}function Av(n,s){switch(ed(s),s.tag){case 3:Vs(We),se();break;case 26:case 27:case 5:Xi(s);break;case 4:se();break;case 31:s.memoizedState!==null&&si(s);break;case 13:si(s);break;case 19:nt(Ge);break;case 10:Vs(s.type);break;case 22:case 23:si(s),gd(),n!==null&&nt(ba);break;case 24:Vs(We)}}function Yl(n,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(A){de(s,s.return,A)}}function Er(n,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&n)===n){var _=l.inst,A=_.destroy;if(A!==void 0){_.destroy=void 0,f=s;var O=a,K=A;try{K()}catch(it){de(f,O,it)}}}l=l.next}while(l!==d)}}catch(it){de(s,s.return,it)}}function wv(n){var s=n.updateQueue;if(s!==null){var a=n.stateNode;try{p0(s,a)}catch(l){de(n,n.return,l)}}}function xv(n,s,a){a.props=xa(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){de(n,s,l)}}function Ql(n,s){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){de(n,s,f)}}function us(n,s){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){de(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){de(n,s,f)}else a.current=null}function Rv(n){var s=n.type,a=n.memoizedProps,l=n.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){de(n,n.return,f)}}function Qd(n,s,a){try{var l=n.stateNode;Hx(l,n.type,a,s),l[st]=s}catch(f){de(n,n.return,f)}}function Cv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Dr(n.type)||n.tag===4}function Xd(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||Cv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Dr(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Wd(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(n),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Pi));else if(l!==4&&(l===27&&Dr(n.type)&&(a=n.stateNode,s=null),n=n.child,n!==null))for(Wd(n,s,a),n=n.sibling;n!==null;)Wd(n,s,a),n=n.sibling}function Wc(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(l!==4&&(l===27&&Dr(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Wc(n,s,a),n=n.sibling;n!==null;)Wc(n,s,a),n=n.sibling}function Iv(n){var s=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Tn(s,l,a),s[B]=n,s[st]=a}catch(d){de(n,n.return,d)}}var js=!1,Ze=!1,$d=!1,Dv=typeof WeakSet=="function"?WeakSet:Set,hn=null;function Sx(n,s){if(n=n.containerInfo,vm=yh,n=Fy(n),qf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else t:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,A=-1,O=-1,K=0,it=0,ot=n,Q=null;e:for(;;){for(var J;ot!==a||f!==0&&ot.nodeType!==3||(A=_+f),ot!==d||l!==0&&ot.nodeType!==3||(O=_+l),ot.nodeType===3&&(_+=ot.nodeValue.length),(J=ot.firstChild)!==null;)Q=ot,ot=J;for(;;){if(ot===n)break e;if(Q===a&&++K===f&&(A=_),Q===d&&++it===l&&(O=_),(J=ot.nextSibling)!==null)break;ot=Q,Q=ot.parentNode}ot=J}a=A===-1||O===-1?null:{start:A,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(_m={focusedElem:n,selectionRange:a},yh=!1,hn=s;hn!==null;)if(s=hn,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,hn=n;else for(;hn!==null;){switch(s=hn,d=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)f=n[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=s,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var bt=xa(a.type,f);n=l.getSnapshotBeforeUpdate(bt,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(Ct){de(a,a.return,Ct)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,a=n.nodeType,a===9)Sm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Sm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,hn=n;break}hn=s.return}}function Mv(n,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Us(n,a),l&4&&Yl(5,a);break;case 1:if(Us(n,a),l&4)if(n=a.stateNode,s===null)try{n.componentDidMount()}catch(_){de(a,a.return,_)}else{var f=xa(a.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(_){de(a,a.return,_)}}l&64&&wv(a),l&512&&Ql(a,a.return);break;case 3:if(Us(n,a),l&64&&(n=a.updateQueue,n!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{p0(n,s)}catch(_){de(a,a.return,_)}}break;case 27:s===null&&l&4&&Iv(a);case 26:case 5:Us(n,a),s===null&&l&4&&Rv(a),l&512&&Ql(a,a.return);break;case 12:Us(n,a);break;case 31:Us(n,a),l&4&&Nv(n,a);break;case 13:Us(n,a),l&4&&Pv(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=Mx.bind(null,a),$x(n,a))));break;case 22:if(l=a.memoizedState!==null||js,!l){s=s!==null&&s.memoizedState!==null||Ze,f=js;var d=Ze;js=l,(Ze=s)&&!d?zs(n,a,(a.subtreeFlags&8772)!==0):Us(n,a),js=f,Ze=d}break;case 30:break;default:Us(n,a)}}function Vv(n){var s=n.alternate;s!==null&&(n.alternate=null,Vv(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&ee(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Me=null,Gn=!1;function Ls(n,s,a){for(a=a.child;a!==null;)Ov(n,s,a),a=a.sibling}function Ov(n,s,a){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(wn,a)}catch{}switch(a.tag){case 26:Ze||us(a,s),Ls(n,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ze||us(a,s);var l=Me,f=Gn;Dr(a.type)&&(Me=a.stateNode,Gn=!1),Ls(n,s,a),iu(a.stateNode),Me=l,Gn=f;break;case 5:Ze||us(a,s);case 6:if(l=Me,f=Gn,Me=null,Ls(n,s,a),Me=l,Gn=f,Me!==null)if(Gn)try{(Me.nodeType===9?Me.body:Me.nodeName==="HTML"?Me.ownerDocument.body:Me).removeChild(a.stateNode)}catch(d){de(a,s,d)}else try{Me.removeChild(a.stateNode)}catch(d){de(a,s,d)}break;case 18:Me!==null&&(Gn?(n=Me,w_(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Po(n)):w_(Me,a.stateNode));break;case 4:l=Me,f=Gn,Me=a.stateNode.containerInfo,Gn=!0,Ls(n,s,a),Me=l,Gn=f;break;case 0:case 11:case 14:case 15:Er(2,a,s),Ze||Er(4,a,s),Ls(n,s,a);break;case 1:Ze||(us(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&xv(a,s,l)),Ls(n,s,a);break;case 21:Ls(n,s,a);break;case 22:Ze=(l=Ze)||a.memoizedState!==null,Ls(n,s,a),Ze=l;break;default:Ls(n,s,a)}}function Nv(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Po(n)}catch(a){de(s,s.return,a)}}}function Pv(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Po(n)}catch(a){de(s,s.return,a)}}function Ex(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new Dv),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new Dv),s;default:throw Error(r(435,n.tag))}}function $c(n,s){var a=Ex(n);s.forEach(function(l){if(!a.has(l)){a.add(l);var f=Vx.bind(null,n,l);l.then(f,f)}})}function Kn(n,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=n,_=s,A=_;t:for(;A!==null;){switch(A.tag){case 27:if(Dr(A.type)){Me=A.stateNode,Gn=!1;break t}break;case 5:Me=A.stateNode,Gn=!1;break t;case 3:case 4:Me=A.stateNode.containerInfo,Gn=!0;break t}A=A.return}if(Me===null)throw Error(r(160));Ov(d,_,f),Me=null,Gn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)kv(s,n),s=s.sibling}var Bi=null;function kv(n,s){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Kn(s,n),Yn(n),l&4&&(Er(3,n,n.return),Yl(3,n),Er(5,n,n.return));break;case 1:Kn(s,n),Yn(n),l&512&&(Ze||a===null||us(a,a.return)),l&64&&js&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Bi;if(Kn(s,n),Yn(n),l&512&&(Ze||a===null||us(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){t:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Bt]||d[B]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Tn(d,l,a),d[B]=n,Le(d),l=d;break t;case"link":var _=k_("link","href",f).get(l+(a.href||""));if(_){for(var A=0;A<_.length;A++)if(d=_[A],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(A,1);break e}}d=f.createElement(l),Tn(d,l,a),f.head.appendChild(d);break;case"meta":if(_=k_("meta","content",f).get(l+(a.content||""))){for(A=0;A<_.length;A++)if(d=_[A],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(A,1);break e}}d=f.createElement(l),Tn(d,l,a),f.head.appendChild(d);break;default:throw Error(r(468,l))}d[B]=n,Le(d),l=d}n.stateNode=l}else j_(f,n.type,n.stateNode);else n.stateNode=P_(f,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?j_(f,n.type,n.stateNode):P_(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Qd(n,n.memoizedProps,a.memoizedProps)}break;case 27:Kn(s,n),Yn(n),l&512&&(Ze||a===null||us(a,a.return)),a!==null&&l&4&&Qd(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Kn(s,n),Yn(n),l&512&&(Ze||a===null||us(a,a.return)),n.flags&32){f=n.stateNode;try{qn(f,"")}catch(bt){de(n,n.return,bt)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,Qd(n,f,a!==null?a.memoizedProps:f)),l&1024&&($d=!0);break;case 6:if(Kn(s,n),Yn(n),l&4){if(n.stateNode===null)throw Error(r(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(bt){de(n,n.return,bt)}}break;case 3:if(dh=null,f=Bi,Bi=hh(s.containerInfo),Kn(s,n),Bi=f,Yn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Po(s.containerInfo)}catch(bt){de(n,n.return,bt)}$d&&($d=!1,jv(n));break;case 4:l=Bi,Bi=hh(n.stateNode.containerInfo),Kn(s,n),Yn(n),Bi=l;break;case 12:Kn(s,n),Yn(n);break;case 31:Kn(s,n),Yn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,$c(n,l)));break;case 13:Kn(s,n),Yn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Zc=me()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,$c(n,l)));break;case 22:f=n.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,K=js,it=Ze;if(js=K||f,Ze=it||O,Kn(s,n),Ze=it,js=K,Yn(n),l&8192)t:for(s=n.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||O||js||Ze||Ra(n)),a=null,s=n;;){if(s.tag===5||s.tag===26){if(a===null){O=a=s;try{if(d=O.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{A=O.stateNode;var ot=O.memoizedProps.style,Q=ot!=null&&ot.hasOwnProperty("display")?ot.display:null;A.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(bt){de(O,O.return,bt)}}}else if(s.tag===6){if(a===null){O=s;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(bt){de(O,O.return,bt)}}}else if(s.tag===18){if(a===null){O=s;try{var J=O.stateNode;f?x_(J,!0):x_(O.stateNode,!1)}catch(bt){de(O,O.return,bt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break t;for(;s.sibling===null;){if(s.return===null||s.return===n)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,$c(n,a))));break;case 19:Kn(s,n),Yn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,$c(n,l)));break;case 30:break;case 21:break;default:Kn(s,n),Yn(n)}}function Yn(n){var s=n.flags;if(s&2){try{for(var a,l=n.return;l!==null;){if(Cv(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,d=Xd(n);Wc(n,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(qn(_,""),a.flags&=-33);var A=Xd(n);Wc(n,A,_);break;case 3:case 4:var O=a.stateNode.containerInfo,K=Xd(n);Wd(n,K,O);break;default:throw Error(r(161))}}catch(it){de(n,n.return,it)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function jv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;jv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Us(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Mv(n,s.alternate,s),s=s.sibling}function Ra(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Er(4,s,s.return),Ra(s);break;case 1:us(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&xv(s,s.return,a),Ra(s);break;case 27:iu(s.stateNode);case 26:case 5:us(s,s.return),Ra(s);break;case 22:s.memoizedState===null&&Ra(s);break;case 30:Ra(s);break;default:Ra(s)}n=n.sibling}}function zs(n,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=n,d=s,_=d.flags;switch(d.tag){case 0:case 11:case 15:zs(f,d,a),Yl(4,d);break;case 1:if(zs(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(K){de(l,l.return,K)}if(l=d,f=l.updateQueue,f!==null){var A=l.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)m0(O[f],A)}catch(K){de(l,l.return,K)}}a&&_&64&&wv(d),Ql(d,d.return);break;case 27:Iv(d);case 26:case 5:zs(f,d,a),a&&l===null&&_&4&&Rv(d),Ql(d,d.return);break;case 12:zs(f,d,a);break;case 31:zs(f,d,a),a&&_&4&&Nv(f,d);break;case 13:zs(f,d,a),a&&_&4&&Pv(f,d);break;case 22:d.memoizedState===null&&zs(f,d,a),Ql(d,d.return);break;case 30:break;default:zs(f,d,a)}s=s.sibling}}function Jd(n,s){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Nl(a))}function Zd(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Nl(n))}function Fi(n,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Lv(n,s,a,l),s=s.sibling}function Lv(n,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Fi(n,s,a,l),f&2048&&Yl(9,s);break;case 1:Fi(n,s,a,l);break;case 3:Fi(n,s,a,l),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Nl(n)));break;case 12:if(f&2048){Fi(n,s,a,l),n=s.stateNode;try{var d=s.memoizedProps,_=d.id,A=d.onPostCommit;typeof A=="function"&&A(_,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(O){de(s,s.return,O)}}else Fi(n,s,a,l);break;case 31:Fi(n,s,a,l);break;case 13:Fi(n,s,a,l);break;case 23:break;case 22:d=s.stateNode,_=s.alternate,s.memoizedState!==null?d._visibility&2?Fi(n,s,a,l):Xl(n,s):d._visibility&2?Fi(n,s,a,l):(d._visibility|=2,Ao(n,s,a,l,(s.subtreeFlags&10256)!==0||!1)),f&2048&&Jd(_,s);break;case 24:Fi(n,s,a,l),f&2048&&Zd(s.alternate,s);break;default:Fi(n,s,a,l)}}function Ao(n,s,a,l,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var d=n,_=s,A=a,O=l,K=_.flags;switch(_.tag){case 0:case 11:case 15:Ao(d,_,A,O,f),Yl(8,_);break;case 23:break;case 22:var it=_.stateNode;_.memoizedState!==null?it._visibility&2?Ao(d,_,A,O,f):Xl(d,_):(it._visibility|=2,Ao(d,_,A,O,f)),f&&K&2048&&Jd(_.alternate,_);break;case 24:Ao(d,_,A,O,f),f&&K&2048&&Zd(_.alternate,_);break;default:Ao(d,_,A,O,f)}s=s.sibling}}function Xl(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=n,l=s,f=l.flags;switch(l.tag){case 22:Xl(a,l),f&2048&&Jd(l.alternate,l);break;case 24:Xl(a,l),f&2048&&Zd(l.alternate,l);break;default:Xl(a,l)}s=s.sibling}}var Wl=8192;function wo(n,s,a){if(n.subtreeFlags&Wl)for(n=n.child;n!==null;)Uv(n,s,a),n=n.sibling}function Uv(n,s,a){switch(n.tag){case 26:wo(n,s,a),n.flags&Wl&&n.memoizedState!==null&&uR(a,Bi,n.memoizedState,n.memoizedProps);break;case 5:wo(n,s,a);break;case 3:case 4:var l=Bi;Bi=hh(n.stateNode.containerInfo),wo(n,s,a),Bi=l;break;case 22:n.memoizedState===null&&(l=n.alternate,l!==null&&l.memoizedState!==null?(l=Wl,Wl=16777216,wo(n,s,a),Wl=l):wo(n,s,a));break;default:wo(n,s,a)}}function zv(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function $l(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];hn=l,Fv(l,n)}zv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Bv(n),n=n.sibling}function Bv(n){switch(n.tag){case 0:case 11:case 15:$l(n),n.flags&2048&&Er(9,n,n.return);break;case 3:$l(n);break;case 12:$l(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Jc(n)):$l(n);break;default:$l(n)}}function Jc(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];hn=l,Fv(l,n)}zv(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Er(8,s,s.return),Jc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Jc(s));break;default:Jc(s)}n=n.sibling}}function Fv(n,s){for(;hn!==null;){var a=hn;switch(a.tag){case 0:case 11:case 15:Er(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Nl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,hn=l;else t:for(a=n;hn!==null;){l=hn;var f=l.sibling,d=l.return;if(Vv(l),l===a){hn=null;break t}if(f!==null){f.return=d,hn=f;break t}hn=d}}}var Ax={getCacheForType:function(n){var s=vn(We),a=s.data.get(n);return a===void 0&&(a=n(),s.data.set(n,a)),a},cacheSignal:function(){return vn(We).controller.signal}},wx=typeof WeakMap=="function"?WeakMap:Map,le=0,Te=null,Gt=null,Yt=0,fe=0,ri=null,Ar=!1,xo=!1,tm=!1,Bs=0,ze=0,wr=0,Ca=0,em=0,ai=0,Ro=0,Jl=null,Qn=null,nm=!1,Zc=0,Hv=0,th=1/0,eh=null,xr=null,rn=0,Rr=null,Co=null,Fs=0,im=0,sm=null,qv=null,Zl=0,rm=null;function oi(){return(le&2)!==0&&Yt!==0?Yt&-Yt:$.T!==null?hm():et()}function Gv(){if(ai===0)if((Yt&536870912)===0||Jt){var n=Ee;Ee<<=1,(Ee&3932160)===0&&(Ee=262144),ai=n}else ai=536870912;return n=ii.current,n!==null&&(n.flags|=32),ai}function Xn(n,s,a){(n===Te&&(fe===2||fe===9)||n.cancelPendingCommit!==null)&&(Io(n,0),Cr(n,Yt,ai,!1)),As(n,a),((le&2)===0||n!==Te)&&(n===Te&&((le&2)===0&&(Ca|=a),ze===4&&Cr(n,Yt,ai,!1)),cs(n))}function Kv(n,s,a){if((le&6)!==0)throw Error(r(327));var l=!a&&(s&127)===0&&(s&n.expiredLanes)===0||ti(n,s),f=l?Cx(n,s):om(n,s,!0),d=l;do{if(f===0){xo&&!l&&Cr(n,s,0,!1);break}else{if(a=n.current.alternate,d&&!xx(a)){f=om(n,s,!1),d=!1;continue}if(f===2){if(d=s,n.errorRecoveryDisabledLanes&d)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;t:{var A=n;f=Jl;var O=A.current.memoizedState.isDehydrated;if(O&&(Io(A,_).flags|=256),_=om(A,_,!1),_!==2){if(tm&&!O){A.errorRecoveryDisabledLanes|=d,Ca|=d,f=4;break t}d=Qn,Qn=f,d!==null&&(Qn===null?Qn=d:Qn.push.apply(Qn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){Io(n,0),Cr(n,s,0,!0);break}t:{switch(l=n,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Cr(l,s,ai,!Ar);break t;case 2:Qn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=Zc+300-me(),10<f)){if(Cr(l,s,ai,!Ar),hi(l,0,!0)!==0)break t;Fs=s,l.timeoutHandle=E_(Yv.bind(null,l,a,Qn,eh,nm,s,ai,Ca,Ro,Ar,d,"Throttled",-0,0),f);break t}Yv(l,a,Qn,eh,nm,s,ai,Ca,Ro,Ar,d,null,-0,0)}}break}while(!0);cs(n)}function Yv(n,s,a,l,f,d,_,A,O,K,it,ot,Q,J){if(n.timeoutHandle=-1,ot=s.subtreeFlags,ot&8192||(ot&16785408)===16785408){ot={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pi},Uv(s,d,ot);var bt=(d&62914560)===d?Zc-me():(d&4194048)===d?Hv-me():0;if(bt=cR(ot,bt),bt!==null){Fs=d,n.cancelPendingCommit=bt(e_.bind(null,n,s,d,a,l,f,_,A,O,it,ot,null,Q,J)),Cr(n,d,_,!K);return}}e_(n,s,d,a,l,f,_,A,O)}function xx(n){for(var s=n;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!ei(d(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Cr(n,s,a,l){s&=~em,s&=~Ca,n.suspendedLanes|=s,n.pingedLanes&=~s,l&&(n.warmLanes|=s),l=n.expirationTimes;for(var f=s;0<f;){var d=31-pt(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Zi(n,a,s)}function nh(){return(le&6)===0?(tu(0),!1):!0}function am(){if(Gt!==null){if(fe===0)var n=Gt.return;else n=Gt,Ms=_a=null,Sd(n),_o=null,kl=0,n=Gt;for(;n!==null;)Av(n.alternate,n),n=n.return;Gt=null}}function Io(n,s){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,Kx(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Fs=0,am(),Te=n,Gt=a=Is(n.current,null),Yt=s,fe=0,ri=null,Ar=!1,xo=ti(n,s),tm=!1,Ro=ai=em=Ca=wr=ze=0,Qn=Jl=null,nm=!1,(s&8)!==0&&(s|=s&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=s;0<l;){var f=31-pt(l),d=1<<f;s|=n[f],l&=~d}return Bs=s,Ec(),a}function Qv(n,s){Ut=null,$.H=ql,s===vo||s===Mc?(s=c0(),fe=3):s===cd?(s=c0(),fe=4):fe=s===Ld?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,ri=s,Gt===null&&(ze=1,Gc(n,yi(s,n.current)))}function Xv(){var n=ii.current;return n===null?!0:(Yt&4194048)===Yt?bi===null:(Yt&62914560)===Yt||(Yt&536870912)!==0?n===bi:!1}function Wv(){var n=$.H;return $.H=ql,n===null?ql:n}function $v(){var n=$.A;return $.A=Ax,n}function ih(){ze=4,Ar||(Yt&4194048)!==Yt&&ii.current!==null||(xo=!0),(wr&134217727)===0&&(Ca&134217727)===0||Te===null||Cr(Te,Yt,ai,!1)}function om(n,s,a){var l=le;le|=2;var f=Wv(),d=$v();(Te!==n||Yt!==s)&&(eh=null,Io(n,s)),s=!1;var _=ze;t:do try{if(fe!==0&&Gt!==null){var A=Gt,O=ri;switch(fe){case 8:am(),_=6;break t;case 3:case 2:case 9:case 6:ii.current===null&&(s=!0);var K=fe;if(fe=0,ri=null,Do(n,A,O,K),a&&xo){_=0;break t}break;default:K=fe,fe=0,ri=null,Do(n,A,O,K)}}Rx(),_=ze;break}catch(it){Qv(n,it)}while(!0);return s&&n.shellSuspendCounter++,Ms=_a=null,le=l,$.H=f,$.A=d,Gt===null&&(Te=null,Yt=0,Ec()),_}function Rx(){for(;Gt!==null;)Jv(Gt)}function Cx(n,s){var a=le;le|=2;var l=Wv(),f=$v();Te!==n||Yt!==s?(eh=null,th=me()+500,Io(n,s)):xo=ti(n,s);t:do try{if(fe!==0&&Gt!==null){s=Gt;var d=ri;e:switch(fe){case 1:fe=0,ri=null,Do(n,s,d,1);break;case 2:case 9:if(l0(d)){fe=0,ri=null,Zv(s);break}s=function(){fe!==2&&fe!==9||Te!==n||(fe=7),cs(n)},d.then(s,s);break t;case 3:fe=7;break t;case 4:fe=5;break t;case 7:l0(d)?(fe=0,ri=null,Zv(s)):(fe=0,ri=null,Do(n,s,d,7));break;case 5:var _=null;switch(Gt.tag){case 26:_=Gt.memoizedState;case 5:case 27:var A=Gt;if(_?L_(_):A.stateNode.complete){fe=0,ri=null;var O=A.sibling;if(O!==null)Gt=O;else{var K=A.return;K!==null?(Gt=K,sh(K)):Gt=null}break e}}fe=0,ri=null,Do(n,s,d,5);break;case 6:fe=0,ri=null,Do(n,s,d,6);break;case 8:am(),ze=6;break t;default:throw Error(r(462))}}Ix();break}catch(it){Qv(n,it)}while(!0);return Ms=_a=null,$.H=l,$.A=f,le=a,Gt!==null?0:(Te=null,Yt=0,Ec(),ze)}function Ix(){for(;Gt!==null&&!na();)Jv(Gt)}function Jv(n){var s=Sv(n.alternate,n,Bs);n.memoizedProps=n.pendingProps,s===null?sh(n):Gt=s}function Zv(n){var s=n,a=s.alternate;switch(s.tag){case 15:case 0:s=gv(a,s,s.pendingProps,s.type,void 0,Yt);break;case 11:s=gv(a,s,s.pendingProps,s.type.render,s.ref,Yt);break;case 5:Sd(s);default:Av(a,s),s=Gt=$y(s,Bs),s=Sv(a,s,Bs)}n.memoizedProps=n.pendingProps,s===null?sh(n):Gt=s}function Do(n,s,a,l){Ms=_a=null,Sd(s),_o=null,kl=0;var f=s.return;try{if(yx(n,f,s,a,Yt)){ze=1,Gc(n,yi(a,n.current)),Gt=null;return}}catch(d){if(f!==null)throw Gt=f,d;ze=1,Gc(n,yi(a,n.current)),Gt=null;return}s.flags&32768?(Jt||l===1?n=!0:xo||(Yt&536870912)!==0?n=!1:(Ar=n=!0,(l===2||l===9||l===3||l===6)&&(l=ii.current,l!==null&&l.tag===13&&(l.flags|=16384))),t_(s,n)):sh(s)}function sh(n){var s=n;do{if((s.flags&32768)!==0){t_(s,Ar);return}n=s.return;var a=Tx(s.alternate,s,Bs);if(a!==null){Gt=a;return}if(s=s.sibling,s!==null){Gt=s;return}Gt=s=n}while(s!==null);ze===0&&(ze=5)}function t_(n,s){do{var a=bx(n.alternate,n);if(a!==null){a.flags&=32767,Gt=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(n=n.sibling,n!==null)){Gt=n;return}Gt=n=a}while(n!==null);ze=6,Gt=null}function e_(n,s,a,l,f,d,_,A,O){n.cancelPendingCommit=null;do rh();while(rn!==0);if((le&6)!==0)throw Error(r(327));if(s!==null){if(s===n.current)throw Error(r(177));if(d=s.lanes|s.childLanes,d|=Xf,yl(n,a,d,_,A,O),n===Te&&(Gt=Te=null,Yt=0),Co=s,Rr=n,Fs=a,im=d,sm=f,qv=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,Ox(Zn,function(){return a_(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,f=ut.p,ut.p=2,_=le,le|=4;try{Sx(n,s,a)}finally{le=_,ut.p=f,$.T=l}}rn=1,n_(),i_(),s_()}}function n_(){if(rn===1){rn=0;var n=Rr,s=Co,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=ut.p;ut.p=2;var f=le;le|=4;try{kv(s,n);var d=_m,_=Fy(n.containerInfo),A=d.focusedElem,O=d.selectionRange;if(_!==A&&A&&A.ownerDocument&&By(A.ownerDocument.documentElement,A)){if(O!==null&&qf(A)){var K=O.start,it=O.end;if(it===void 0&&(it=K),"selectionStart"in A)A.selectionStart=K,A.selectionEnd=Math.min(it,A.value.length);else{var ot=A.ownerDocument||document,Q=ot&&ot.defaultView||window;if(Q.getSelection){var J=Q.getSelection(),bt=A.textContent.length,Ct=Math.min(O.start,bt),ve=O.end===void 0?Ct:Math.min(O.end,bt);!J.extend&&Ct>ve&&(_=ve,ve=Ct,Ct=_);var F=zy(A,Ct),L=zy(A,ve);if(F&&L&&(J.rangeCount!==1||J.anchorNode!==F.node||J.anchorOffset!==F.offset||J.focusNode!==L.node||J.focusOffset!==L.offset)){var G=ot.createRange();G.setStart(F.node,F.offset),J.removeAllRanges(),Ct>ve?(J.addRange(G),J.extend(L.node,L.offset)):(G.setEnd(L.node,L.offset),J.addRange(G))}}}}for(ot=[],J=A;J=J.parentNode;)J.nodeType===1&&ot.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ot.length;A++){var at=ot[A];at.element.scrollLeft=at.left,at.element.scrollTop=at.top}}yh=!!vm,_m=vm=null}finally{le=f,ut.p=l,$.T=a}}n.current=s,rn=2}}function i_(){if(rn===2){rn=0;var n=Rr,s=Co,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=ut.p;ut.p=2;var f=le;le|=4;try{Mv(n,s.alternate,s)}finally{le=f,ut.p=l,$.T=a}}rn=3}}function s_(){if(rn===4||rn===3){rn=0,te();var n=Rr,s=Co,a=Fs,l=qv;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?rn=5:(rn=0,Co=Rr=null,r_(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(xr=null),V(a),s=s.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(wn,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=$.T,f=ut.p,ut.p=2,$.T=null;try{for(var d=n.onRecoverableError,_=0;_<l.length;_++){var A=l[_];d(A.value,{componentStack:A.stack})}}finally{$.T=s,ut.p=f}}(Fs&3)!==0&&rh(),cs(n),f=n.pendingLanes,(a&261930)!==0&&(f&42)!==0?n===rm?Zl++:(Zl=0,rm=n):Zl=0,tu(0)}}function r_(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Nl(s)))}function rh(){return n_(),i_(),s_(),a_()}function a_(){if(rn!==5)return!1;var n=Rr,s=im;im=0;var a=V(Fs),l=$.T,f=ut.p;try{ut.p=32>a?32:a,$.T=null,a=sm,sm=null;var d=Rr,_=Fs;if(rn=0,Co=Rr=null,Fs=0,(le&6)!==0)throw Error(r(331));var A=le;if(le|=4,Bv(d.current),Lv(d,d.current,_,a),le=A,tu(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(wn,d)}catch{}return!0}finally{ut.p=f,$.T=l,r_(n,s)}}function o_(n,s,a){s=yi(a,s),s=jd(n.stateNode,s,2),n=Tr(n,s,2),n!==null&&(As(n,2),cs(n))}function de(n,s,a){if(n.tag===3)o_(n,n,a);else for(;s!==null;){if(s.tag===3){o_(s,n,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(xr===null||!xr.has(l))){n=yi(a,n),a=lv(2),l=Tr(s,a,2),l!==null&&(uv(a,l,s,n),As(l,2),cs(l));break}}s=s.return}}function lm(n,s,a){var l=n.pingCache;if(l===null){l=n.pingCache=new wx;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(tm=!0,f.add(a),n=Dx.bind(null,n,s,a),s.then(n,n))}function Dx(n,s,a){var l=n.pingCache;l!==null&&l.delete(s),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,Te===n&&(Yt&a)===a&&(ze===4||ze===3&&(Yt&62914560)===Yt&&300>me()-Zc?(le&2)===0&&Io(n,0):em|=a,Ro===Yt&&(Ro=0)),cs(n)}function l_(n,s){s===0&&(s=Xa()),n=ga(n,s),n!==null&&(As(n,s),cs(n))}function Mx(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),l_(n,a)}function Vx(n,s){var a=0;switch(n.tag){case 31:case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),l_(n,a)}function Ox(n,s){return be(n,s)}var ah=null,Mo=null,um=!1,oh=!1,cm=!1,Ir=0;function cs(n){n!==Mo&&n.next===null&&(Mo===null?ah=Mo=n:Mo=Mo.next=n),oh=!0,um||(um=!0,Px())}function tu(n,s){if(!cm&&oh){cm=!0;do for(var a=!1,l=ah;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,A=l.pingedLanes;d=(1<<31-pt(42|n)+1)-1,d&=f&~(_&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,f_(l,d))}else d=Yt,d=hi(l,l===Te?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ti(l,d)||(a=!0,f_(l,d));l=l.next}while(a);cm=!1}}function Nx(){u_()}function u_(){oh=um=!1;var n=0;Ir!==0&&Gx()&&(n=Ir);for(var s=me(),a=null,l=ah;l!==null;){var f=l.next,d=c_(l,s);d===0?(l.next=null,a===null?ah=f:a.next=f,f===null&&(Mo=a)):(a=l,(n!==0||(d&3)!==0)&&(oh=!0)),l=f}rn!==0&&rn!==5||tu(n),Ir!==0&&(Ir=0)}function c_(n,s){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var _=31-pt(d),A=1<<_,O=f[_];O===-1?((A&a)===0||(A&l)!==0)&&(f[_]=gl(A,s)):O<=s&&(n.expiredLanes|=A),d&=~A}if(s=Te,a=Yt,a=hi(n,n===s?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===s&&(fe===2||fe===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Jn(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||ti(n,a)){if(s=a&-a,s===n.callbackPriority)return s;switch(l!==null&&Jn(l),V(a)){case 2:case 8:a=Es;break;case 32:a=Zn;break;case 268435456:a=er;break;default:a=Zn}return l=h_.bind(null,n),a=be(a,l),n.callbackPriority=s,n.callbackNode=a,s}return l!==null&&l!==null&&Jn(l),n.callbackPriority=2,n.callbackNode=null,2}function h_(n,s){if(rn!==0&&rn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(rh()&&n.callbackNode!==a)return null;var l=Yt;return l=hi(n,n===Te?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(Kv(n,l,s),c_(n,me()),n.callbackNode!=null&&n.callbackNode===a?h_.bind(null,n):null)}function f_(n,s){if(rh())return null;Kv(n,s,!0)}function Px(){Yx(function(){(le&6)!==0?be(Oi,Nx):u_()})}function hm(){if(Ir===0){var n=go;n===0&&(n=qt,qt<<=1,(qt&261888)===0&&(qt=256)),Ir=n}return Ir}function d_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:to(""+n)}function m_(n,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,n.id&&a.setAttribute("form",n.id),s.parentNode.insertBefore(a,s),n=new FormData(n),a.parentNode.removeChild(a),n}function kx(n,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var d=d_((f[st]||null).action),_=l.submitter;_&&(s=(s=_[st]||null)?d_(s.formAction):_.getAttribute("formAction"),s!==null&&(d=s,_=null));var A=new is("action","action",null,l,f);n.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ir!==0){var O=_?m_(f,_):new FormData(f);Md(a,{pending:!0,data:O,method:f.method,action:d},null,O)}}else typeof d=="function"&&(A.preventDefault(),O=_?m_(f,_):new FormData(f),Md(a,{pending:!0,data:O,method:f.method,action:d},d,O))},currentTarget:f}]})}}for(var fm=0;fm<Qf.length;fm++){var dm=Qf[fm],jx=dm.toLowerCase(),Lx=dm[0].toUpperCase()+dm.slice(1);zi(jx,"on"+Lx)}zi(Gy,"onAnimationEnd"),zi(Ky,"onAnimationIteration"),zi(Yy,"onAnimationStart"),zi("dblclick","onDoubleClick"),zi("focusin","onFocus"),zi("focusout","onBlur"),zi(tx,"onTransitionRun"),zi(ex,"onTransitionStart"),zi(nx,"onTransitionCancel"),zi(Qy,"onTransitionEnd"),Cn("onMouseEnter",["mouseout","mouseover"]),Cn("onMouseLeave",["mouseout","mouseover"]),Cn("onPointerEnter",["pointerout","pointerover"]),Cn("onPointerLeave",["pointerout","pointerover"]),Rn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Rn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Rn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Rn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Rn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Rn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ux=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(eu));function p_(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;t:{var d=void 0;if(s)for(var _=l.length-1;0<=_;_--){var A=l[_],O=A.instance,K=A.currentTarget;if(A=A.listener,O!==d&&f.isPropagationStopped())break t;d=A,f.currentTarget=K;try{d(f)}catch(it){Sc(it)}f.currentTarget=null,d=O}else for(_=0;_<l.length;_++){if(A=l[_],O=A.instance,K=A.currentTarget,A=A.listener,O!==d&&f.isPropagationStopped())break t;d=A,f.currentTarget=K;try{d(f)}catch(it){Sc(it)}f.currentTarget=null,d=O}}}}function Kt(n,s){var a=s[At];a===void 0&&(a=s[At]=new Set);var l=n+"__bubble";a.has(l)||(g_(s,n,2,!1),a.add(l))}function mm(n,s,a){var l=0;s&&(l|=4),g_(a,n,l,s)}var lh="_reactListening"+Math.random().toString(36).slice(2);function pm(n){if(!n[lh]){n[lh]=!0,He.forEach(function(a){a!=="selectionchange"&&(Ux.has(a)||mm(a,!1,n),mm(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[lh]||(s[lh]=!0,mm("selectionchange",!1,s))}}function g_(n,s,a,l){switch(G_(s)){case 2:var f=dR;break;case 8:f=mR;break;default:f=Dm}a=f.bind(null,s,a,n),f=void 0,!la||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(s,a,{capture:!0,passive:f}):n.addEventListener(s,a,!0):f!==void 0?n.addEventListener(s,a,{passive:f}):n.addEventListener(s,a,!1)}function gm(n,s,a,l,f){var d=l;if((s&1)===0&&(s&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var A=l.stateNode.containerInfo;if(A===f)break;if(_===4)for(_=l.return;_!==null;){var O=_.tag;if((O===3||O===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;A!==null;){if(_=je(A),_===null)return;if(O=_.tag,O===5||O===6||O===26||O===27){l=d=_;continue t}A=A.parentNode}}l=l.return}cr(function(){var K=d,it=di(a),ot=[];t:{var Q=Xy.get(n);if(Q!==void 0){var J=is,bt=n;switch(n){case"keypress":if(ca(a)===0)break t;case"keydown":case"keyup":J=_c;break;case"focusin":bt="focus",J=fa;break;case"focusout":bt="blur",J=fa;break;case"beforeblur":case"afterblur":J=fa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=xl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=cc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=v;break;case Gy:case Ky:case Yy:J=fc;break;case Qy:J=x;break;case"scroll":case"scrollend":J=wl;break;case"wheel":J=W;break;case"copy":case"cut":case"paste":J=dc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Cs;break;case"toggle":case"beforetoggle":J=Lt}var Ct=(s&4)!==0,ve=!Ct&&(n==="scroll"||n==="scrollend"),F=Ct?Q!==null?Q+"Capture":null:Q;Ct=[];for(var L=K,G;L!==null;){var at=L;if(G=at.stateNode,at=at.tag,at!==5&&at!==26&&at!==27||G===null||F===null||(at=ki(L,F),at!=null&&Ct.push(nu(L,at,G))),ve)break;L=L.return}0<Ct.length&&(Q=new J(Q,bt,null,a,it),ot.push({event:Q,listeners:Ct}))}}if((s&7)===0){t:{if(Q=n==="mouseover"||n==="pointerover",J=n==="mouseout"||n==="pointerout",Q&&a!==Sl&&(bt=a.relatedTarget||a.fromElement)&&(je(bt)||bt[Tt]))break t;if((J||Q)&&(Q=it.window===it?it:(Q=it.ownerDocument)?Q.defaultView||Q.parentWindow:window,J?(bt=a.relatedTarget||a.toElement,J=K,bt=bt?je(bt):null,bt!==null&&(ve=u(bt),Ct=bt.tag,bt!==ve||Ct!==5&&Ct!==27&&Ct!==6)&&(bt=null)):(J=null,bt=K),J!==bt)){if(Ct=xl,at="onMouseLeave",F="onMouseEnter",L="mouse",(n==="pointerout"||n==="pointerover")&&(Ct=Cs,at="onPointerLeave",F="onPointerEnter",L="pointer"),ve=J==null?Q:jn(J),G=bt==null?Q:jn(bt),Q=new Ct(at,L+"leave",J,a,it),Q.target=ve,Q.relatedTarget=G,at=null,je(it)===K&&(Ct=new Ct(F,L+"enter",bt,a,it),Ct.target=G,Ct.relatedTarget=ve,at=Ct),ve=at,J&&bt)e:{for(Ct=zx,F=J,L=bt,G=0,at=F;at;at=Ct(at))G++;at=0;for(var wt=L;wt;wt=Ct(wt))at++;for(;0<G-at;)F=Ct(F),G--;for(;0<at-G;)L=Ct(L),at--;for(;G--;){if(F===L||L!==null&&F===L.alternate){Ct=F;break e}F=Ct(F),L=Ct(L)}Ct=null}else Ct=null;J!==null&&y_(ot,Q,J,Ct,!1),bt!==null&&ve!==null&&y_(ot,ve,bt,Ct,!0)}}t:{if(Q=K?jn(K):window,J=Q.nodeName&&Q.nodeName.toLowerCase(),J==="select"||J==="input"&&Q.type==="file")var ne=Ny;else if(Vy(Q))if(Py)ne=$w;else{ne=Xw;var St=Qw}else J=Q.nodeName,!J||J.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?K&&Za(K.elementType)&&(ne=Ny):ne=Ww;if(ne&&(ne=ne(n,K))){Oy(ot,ne,a,it);break t}St&&St(n,Q,K),n==="focusout"&&K&&Q.type==="number"&&K.memoizedProps.value!=null&&_l(Q,"number",Q.value)}switch(St=K?jn(K):window,n){case"focusin":(Vy(St)||St.contentEditable==="true")&&(oo=St,Gf=K,Ml=null);break;case"focusout":Ml=Gf=oo=null;break;case"mousedown":Kf=!0;break;case"contextmenu":case"mouseup":case"dragend":Kf=!1,Hy(ot,a,it);break;case"selectionchange":if(Zw)break;case"keydown":case"keyup":Hy(ot,a,it)}var Ft;if(oe)t:{switch(n){case"compositionstart":var Qt="onCompositionStart";break t;case"compositionend":Qt="onCompositionEnd";break t;case"compositionupdate":Qt="onCompositionUpdate";break t}Qt=void 0}else ao?da(n,a)&&(Qt="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Qt="onCompositionStart");Qt&&(as&&a.locale!=="ko"&&(ao||Qt!=="onCompositionStart"?Qt==="onCompositionEnd"&&ao&&(Ft=Al()):(ns=it,El="value"in ns?ns.value:ns.textContent,ao=!0)),St=uh(K,Qt),0<St.length&&(Qt=new rs(Qt,n,null,a,it),ot.push({event:Qt,listeners:St}),Ft?Qt.data=Ft:(Ft=ro(a),Ft!==null&&(Qt.data=Ft)))),(Ft=pi?qw(n,a):Gw(n,a))&&(Qt=uh(K,"onBeforeInput"),0<Qt.length&&(St=new rs("onBeforeInput","beforeinput",null,a,it),ot.push({event:St,listeners:Qt}),St.data=Ft)),kx(ot,n,K,a,it)}p_(ot,s)})}function nu(n,s,a){return{instance:n,listener:s,currentTarget:a}}function uh(n,s){for(var a=s+"Capture",l=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ki(n,a),f!=null&&l.unshift(nu(n,f,d)),f=ki(n,s),f!=null&&l.push(nu(n,f,d))),n.tag===3)return l;n=n.return}return[]}function zx(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function y_(n,s,a,l,f){for(var d=s._reactName,_=[];a!==null&&a!==l;){var A=a,O=A.alternate,K=A.stateNode;if(A=A.tag,O!==null&&O===l)break;A!==5&&A!==26&&A!==27||K===null||(O=K,f?(K=ki(a,d),K!=null&&_.unshift(nu(a,K,O))):f||(K=ki(a,d),K!=null&&_.push(nu(a,K,O)))),a=a.return}_.length!==0&&n.push({event:s,listeners:_})}var Bx=/\r\n?/g,Fx=/\u0000|\uFFFD/g;function v_(n){return(typeof n=="string"?n:""+n).replace(Bx,`
`).replace(Fx,"")}function __(n,s){return s=v_(s),v_(n)===s}function ye(n,s,a,l,f,d){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||qn(n,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&qn(n,""+l);break;case"className":sn(n,"class",l);break;case"tabIndex":sn(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":sn(n,a,l);break;case"style":bl(n,l,d);break;case"data":if(s!=="object"){sn(n,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=to(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&ye(n,s,"name",f.name,f,null),ye(n,s,"formEncType",f.formEncType,f,null),ye(n,s,"formMethod",f.formMethod,f,null),ye(n,s,"formTarget",f.formTarget,f,null)):(ye(n,s,"encType",f.encType,f,null),ye(n,s,"method",f.method,f,null),ye(n,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=to(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Pi);break;case"onScroll":l!=null&&Kt("scroll",n);break;case"onScrollEnd":l!=null&&Kt("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=to(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Kt("beforetoggle",n),Kt("toggle",n),Ie(n,"popover",l);break;case"xlinkActuate":Ae(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ae(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ae(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ae(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ae(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ae(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ae(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ae(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ae(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ie(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=uc.get(a)||a,Ie(n,a,l))}}function ym(n,s,a,l,f,d){switch(a){case"style":bl(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"children":typeof l=="string"?qn(n,l):(typeof l=="number"||typeof l=="bigint")&&qn(n,""+l);break;case"onScroll":l!=null&&Kt("scroll",n);break;case"onScrollEnd":l!=null&&Kt("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Pi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ni.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),d=n[st]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(s,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(s,l,f);break t}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Ie(n,a,l)}}}function Tn(n,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Kt("error",n),Kt("load",n);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ye(n,s,d,_,a,null)}}f&&ye(n,s,"srcSet",a.srcSet,a,null),l&&ye(n,s,"src",a.src,a,null);return;case"input":Kt("invalid",n);var A=d=_=f=null,O=null,K=null;for(l in a)if(a.hasOwnProperty(l)){var it=a[l];if(it!=null)switch(l){case"name":f=it;break;case"type":_=it;break;case"checked":O=it;break;case"defaultChecked":K=it;break;case"value":d=it;break;case"defaultValue":A=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(r(137,s));break;default:ye(n,s,l,it,a,null)}}ac(n,d,A,O,K,_,f,!1);return;case"select":Kt("invalid",n),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(A=a[f],A!=null))switch(f){case"value":d=A;break;case"defaultValue":_=A;break;case"multiple":l=A;default:ye(n,s,f,A,a,null)}s=d,a=_,n.multiple=!!l,s!=null?ar(n,!!l,s,!1):a!=null&&ar(n,!!l,a,!0);return;case"textarea":Kt("invalid",n),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(A=a[_],A!=null))switch(_){case"value":l=A;break;case"defaultValue":f=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:ye(n,s,_,A,a,null)}or(n,l,f,d);return;case"option":for(O in a)if(a.hasOwnProperty(O)&&(l=a[O],l!=null))switch(O){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ye(n,s,O,l,a,null)}return;case"dialog":Kt("beforetoggle",n),Kt("toggle",n),Kt("cancel",n),Kt("close",n);break;case"iframe":case"object":Kt("load",n);break;case"video":case"audio":for(l=0;l<eu.length;l++)Kt(eu[l],n);break;case"image":Kt("error",n),Kt("load",n);break;case"details":Kt("toggle",n);break;case"embed":case"source":case"link":Kt("error",n),Kt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in a)if(a.hasOwnProperty(K)&&(l=a[K],l!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ye(n,s,K,l,a,null)}return;default:if(Za(s)){for(it in a)a.hasOwnProperty(it)&&(l=a[it],l!==void 0&&ym(n,s,it,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&ye(n,s,A,l,a,null))}function Hx(n,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,A=null,O=null,K=null,it=null;for(J in a){var ot=a[J];if(a.hasOwnProperty(J)&&ot!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":O=ot;default:l.hasOwnProperty(J)||ye(n,s,J,null,l,ot)}}for(var Q in l){var J=l[Q];if(ot=a[Q],l.hasOwnProperty(Q)&&(J!=null||ot!=null))switch(Q){case"type":d=J;break;case"name":f=J;break;case"checked":K=J;break;case"defaultChecked":it=J;break;case"value":_=J;break;case"defaultValue":A=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,s));break;default:J!==ot&&ye(n,s,Q,J,l,ot)}}Ja(n,_,A,O,K,it,d,f);return;case"select":J=_=A=Q=null;for(d in a)if(O=a[d],a.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":J=O;default:l.hasOwnProperty(d)||ye(n,s,d,null,l,O)}for(f in l)if(d=l[f],O=a[f],l.hasOwnProperty(f)&&(d!=null||O!=null))switch(f){case"value":Q=d;break;case"defaultValue":A=d;break;case"multiple":_=d;default:d!==O&&ye(n,s,f,d,l,O)}s=A,a=_,l=J,Q!=null?ar(n,!!a,Q,!1):!!l!=!!a&&(s!=null?ar(n,!!a,s,!0):ar(n,!!a,a?[]:"",!1));return;case"textarea":J=Q=null;for(A in a)if(f=a[A],a.hasOwnProperty(A)&&f!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ye(n,s,A,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":Q=f;break;case"defaultValue":J=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&ye(n,s,_,f,l,d)}oc(n,Q,J);return;case"option":for(var bt in a)if(Q=a[bt],a.hasOwnProperty(bt)&&Q!=null&&!l.hasOwnProperty(bt))switch(bt){case"selected":n.selected=!1;break;default:ye(n,s,bt,null,l,Q)}for(O in l)if(Q=l[O],J=a[O],l.hasOwnProperty(O)&&Q!==J&&(Q!=null||J!=null))switch(O){case"selected":n.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:ye(n,s,O,Q,l,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ct in a)Q=a[Ct],a.hasOwnProperty(Ct)&&Q!=null&&!l.hasOwnProperty(Ct)&&ye(n,s,Ct,null,l,Q);for(K in l)if(Q=l[K],J=a[K],l.hasOwnProperty(K)&&Q!==J&&(Q!=null||J!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,s));break;default:ye(n,s,K,Q,l,J)}return;default:if(Za(s)){for(var ve in a)Q=a[ve],a.hasOwnProperty(ve)&&Q!==void 0&&!l.hasOwnProperty(ve)&&ym(n,s,ve,void 0,l,Q);for(it in l)Q=l[it],J=a[it],!l.hasOwnProperty(it)||Q===J||Q===void 0&&J===void 0||ym(n,s,it,Q,l,J);return}}for(var F in a)Q=a[F],a.hasOwnProperty(F)&&Q!=null&&!l.hasOwnProperty(F)&&ye(n,s,F,null,l,Q);for(ot in l)Q=l[ot],J=a[ot],!l.hasOwnProperty(ot)||Q===J||Q==null&&J==null||ye(n,s,ot,Q,l,J)}function T_(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qx(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,A=f.duration;if(d&&A&&T_(_)){for(_=0,A=f.responseEnd,l+=1;l<a.length;l++){var O=a[l],K=O.startTime;if(K>A)break;var it=O.transferSize,ot=O.initiatorType;it&&T_(ot)&&(O=O.responseEnd,_+=it*(O<A?1:(A-K)/(O-K)))}if(--l,s+=8*(d+_)/(f.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var vm=null,_m=null;function ch(n){return n.nodeType===9?n:n.ownerDocument}function b_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function S_(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Tm(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var bm=null;function Gx(){var n=window.event;return n&&n.type==="popstate"?n===bm?!1:(bm=n,!0):(bm=null,!1)}var E_=typeof setTimeout=="function"?setTimeout:void 0,Kx=typeof clearTimeout=="function"?clearTimeout:void 0,A_=typeof Promise=="function"?Promise:void 0,Yx=typeof queueMicrotask=="function"?queueMicrotask:typeof A_<"u"?function(n){return A_.resolve(null).then(n).catch(Qx)}:E_;function Qx(n){setTimeout(function(){throw n})}function Dr(n){return n==="head"}function w_(n,s){var a=s,l=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){n.removeChild(f),Po(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")iu(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,iu(a);for(var d=a.firstChild;d;){var _=d.nextSibling,A=d.nodeName;d[Bt]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&iu(n.ownerDocument.body);a=f}while(a);Po(s)}function x_(n,s){var a=n;n=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=l}while(a)}function Sm(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Sm(a),ee(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function Xx(n,s,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Bt])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=Si(n.nextSibling),n===null)break}return null}function Wx(n,s,a){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Si(n.nextSibling),n===null))return null;return n}function R_(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=Si(n.nextSibling),n===null))return null;return n}function Em(n){return n.data==="$?"||n.data==="$~"}function Am(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function $x(n,s){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Si(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var wm=null;function C_(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(s===0)return Si(n.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}n=n.nextSibling}return null}function I_(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return n;s--}else a!=="/$"&&a!=="/&"||s++}n=n.previousSibling}return null}function D_(n,s,a){switch(s=ch(a),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function iu(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);ee(n)}var Ei=new Map,M_=new Set;function hh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Hs=ut.d;ut.d={f:Jx,r:Zx,D:tR,C:eR,L:nR,m:iR,X:rR,S:sR,M:aR};function Jx(){var n=Hs.f(),s=nh();return n||s}function Zx(n){var s=pn(n);s!==null&&s.tag===5&&s.type==="form"?Q0(s):Hs.r(n)}var Vo=typeof document>"u"?null:document;function V_(n,s,a){var l=Vo;if(l&&typeof s=="string"&&s){var f=Hn(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),M_.has(f)||(M_.add(f),n={rel:n,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),Tn(s,"link",n),Le(s),l.head.appendChild(s)))}}function tR(n){Hs.D(n),V_("dns-prefetch",n,null)}function eR(n,s){Hs.C(n,s),V_("preconnect",n,s)}function nR(n,s,a){Hs.L(n,s,a);var l=Vo;if(l&&n&&s){var f='link[rel="preload"][as="'+Hn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Hn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Hn(a.imageSizes)+'"]')):f+='[href="'+Hn(n)+'"]';var d=f;switch(s){case"style":d=Oo(n);break;case"script":d=No(n)}Ei.has(d)||(n=T({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:n,as:s},a),Ei.set(d,n),l.querySelector(f)!==null||s==="style"&&l.querySelector(su(d))||s==="script"&&l.querySelector(ru(d))||(s=l.createElement("link"),Tn(s,"link",n),Le(s),l.head.appendChild(s)))}}function iR(n,s){Hs.m(n,s);var a=Vo;if(a&&n){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+Hn(l)+'"][href="'+Hn(n)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=No(n)}if(!Ei.has(d)&&(n=T({rel:"modulepreload",href:n},s),Ei.set(d,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ru(d)))return}l=a.createElement("link"),Tn(l,"link",n),Le(l),a.head.appendChild(l)}}}function sR(n,s,a){Hs.S(n,s,a);var l=Vo;if(l&&n){var f=fi(l).hoistableStyles,d=Oo(n);s=s||"default";var _=f.get(d);if(!_){var A={loading:0,preload:null};if(_=l.querySelector(su(d)))A.loading=5;else{n=T({rel:"stylesheet",href:n,"data-precedence":s},a),(a=Ei.get(d))&&xm(n,a);var O=_=l.createElement("link");Le(O),Tn(O,"link",n),O._p=new Promise(function(K,it){O.onload=K,O.onerror=it}),O.addEventListener("load",function(){A.loading|=1}),O.addEventListener("error",function(){A.loading|=2}),A.loading|=4,fh(_,s,l)}_={type:"stylesheet",instance:_,count:1,state:A},f.set(d,_)}}}function rR(n,s){Hs.X(n,s);var a=Vo;if(a&&n){var l=fi(a).hoistableScripts,f=No(n),d=l.get(f);d||(d=a.querySelector(ru(f)),d||(n=T({src:n,async:!0},s),(s=Ei.get(f))&&Rm(n,s),d=a.createElement("script"),Le(d),Tn(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function aR(n,s){Hs.M(n,s);var a=Vo;if(a&&n){var l=fi(a).hoistableScripts,f=No(n),d=l.get(f);d||(d=a.querySelector(ru(f)),d||(n=T({src:n,async:!0,type:"module"},s),(s=Ei.get(f))&&Rm(n,s),d=a.createElement("script"),Le(d),Tn(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function O_(n,s,a,l){var f=(f=Dt.current)?hh(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Oo(a.href),a=fi(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Oo(a.href);var d=fi(f).hoistableStyles,_=d.get(n);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,_),(d=f.querySelector(su(n)))&&!d._p&&(_.instance=d,_.state.loading=5),Ei.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ei.set(n,a),d||oR(f,n,a,_.state))),s&&l===null)throw Error(r(528,""));return _}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=No(a),a=fi(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function Oo(n){return'href="'+Hn(n)+'"'}function su(n){return'link[rel="stylesheet"]['+n+"]"}function N_(n){return T({},n,{"data-precedence":n.precedence,precedence:null})}function oR(n,s,a,l){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=n.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Tn(s,"link",a),Le(s),n.head.appendChild(s))}function No(n){return'[src="'+Hn(n)+'"]'}function ru(n){return"script[async]"+n}function P_(n,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=n.querySelector('style[data-href~="'+Hn(a.href)+'"]');if(l)return s.instance=l,Le(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),Le(l),Tn(l,"style",f),fh(l,a.precedence,n),s.instance=l;case"stylesheet":f=Oo(a.href);var d=n.querySelector(su(f));if(d)return s.state.loading|=4,s.instance=d,Le(d),d;l=N_(a),(f=Ei.get(f))&&xm(l,f),d=(n.ownerDocument||n).createElement("link"),Le(d);var _=d;return _._p=new Promise(function(A,O){_.onload=A,_.onerror=O}),Tn(d,"link",l),s.state.loading|=4,fh(d,a.precedence,n),s.instance=d;case"script":return d=No(a.src),(f=n.querySelector(ru(d)))?(s.instance=f,Le(f),f):(l=a,(f=Ei.get(d))&&(l=T({},a),Rm(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),Le(f),Tn(f,"link",l),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,fh(l,a.precedence,n));return s.instance}function fh(n,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var A=l[_];if(A.dataset.precedence===s)d=A;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(n,s.firstChild))}function xm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Rm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var dh=null;function k_(n,s,a){if(dh===null){var l=new Map,f=dh=new Map;f.set(a,l)}else f=dh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[Bt]||d[B]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(s)||"";_=n+_;var A=l.get(_);A?A.push(d):l.set(_,[d])}}return l}function j_(n,s,a){n=n.ownerDocument||n,n.head.insertBefore(a,s==="title"?n.querySelector("head > title"):null)}function lR(n,s,a){if(a===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function L_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function uR(n,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Oo(l.href),d=s.querySelector(su(f));if(d){s=d._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=mh.bind(n),s.then(n,n)),a.state.loading|=4,a.instance=d,Le(d);return}d=s.ownerDocument||s,l=N_(l),(f=Ei.get(f))&&xm(l,f),d=d.createElement("link"),Le(d);var _=d;_._p=new Promise(function(A,O){_.onload=A,_.onerror=O}),Tn(d,"link",l),a.instance=d}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=mh.bind(n),s.addEventListener("load",a),s.addEventListener("error",a))}}var Cm=0;function cR(n,s){return n.stylesheets&&n.count===0&&gh(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var l=setTimeout(function(){if(n.stylesheets&&gh(n,n.stylesheets),n.unsuspend){var d=n.unsuspend;n.unsuspend=null,d()}},6e4+s);0<n.imgBytes&&Cm===0&&(Cm=62500*qx());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&gh(n,n.stylesheets),n.unsuspend)){var d=n.unsuspend;n.unsuspend=null,d()}},(n.imgBytes>Cm?50:800)+s);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function mh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var ph=null;function gh(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,ph=new Map,s.forEach(hR,n),ph=null,mh.call(n))}function hR(n,s){if(!(s.state.loading&4)){var a=ph.get(n);if(a)var l=a.get(null);else{a=new Map,ph.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=s.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=mh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var au={$$typeof:rt,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function fR(n,s,a,l,f,d,_,A,O){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ln(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ln(0),this.hiddenUpdates=ln(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function U_(n,s,a,l,f,d,_,A,O,K,it,ot){return n=new fR(n,s,a,_,O,K,it,ot,A),s=1,d===!0&&(s|=24),d=ni(3,null,null,s),n.current=d,d.stateNode=n,s=od(),s.refCount++,n.pooledCache=s,s.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:s},hd(d),n}function z_(n){return n?(n=co,n):co}function B_(n,s,a,l,f,d){f=z_(f),l.context===null?l.context=f:l.pendingContext=f,l=_r(s),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Tr(n,l,s),a!==null&&(Xn(a,n,s),Ll(a,n,s))}function F_(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function Im(n,s){F_(n,s),(n=n.alternate)&&F_(n,s)}function H_(n){if(n.tag===13||n.tag===31){var s=ga(n,67108864);s!==null&&Xn(s,n,67108864),Im(n,67108864)}}function q_(n){if(n.tag===13||n.tag===31){var s=oi();s=ws(s);var a=ga(n,s);a!==null&&Xn(a,n,s),Im(n,s)}}var yh=!0;function dR(n,s,a,l){var f=$.T;$.T=null;var d=ut.p;try{ut.p=2,Dm(n,s,a,l)}finally{ut.p=d,$.T=f}}function mR(n,s,a,l){var f=$.T;$.T=null;var d=ut.p;try{ut.p=8,Dm(n,s,a,l)}finally{ut.p=d,$.T=f}}function Dm(n,s,a,l){if(yh){var f=Mm(l);if(f===null)gm(n,s,l,vh,a),K_(n,l);else if(gR(f,n,s,a,l))l.stopPropagation();else if(K_(n,l),s&4&&-1<pR.indexOf(n)){for(;f!==null;){var d=pn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ci(d.pendingLanes);if(_!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;_;){var O=1<<31-pt(_);A.entanglements[1]|=O,_&=~O}cs(d),(le&6)===0&&(th=me()+500,tu(0))}}break;case 31:case 13:A=ga(d,2),A!==null&&Xn(A,d,2),nh(),Im(d,2)}if(d=Mm(l),d===null&&gm(n,s,l,vh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else gm(n,s,l,null,a)}}function Mm(n){return n=di(n),Vm(n)}var vh=null;function Vm(n){if(vh=null,n=je(n),n!==null){var s=u(n);if(s===null)n=null;else{var a=s.tag;if(a===13){if(n=c(s),n!==null)return n;n=null}else if(a===31){if(n=m(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return vh=n,null}function G_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vi()){case Oi:return 2;case Es:return 8;case Zn:case ia:return 32;case er:return 268435456;default:return 32}default:return 32}}var Om=!1,Mr=null,Vr=null,Or=null,ou=new Map,lu=new Map,Nr=[],pR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function K_(n,s){switch(n){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":ou.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":lu.delete(s.pointerId)}}function uu(n,s,a,l,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},s!==null&&(s=pn(s),s!==null&&H_(s)),n):(n.eventSystemFlags|=l,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function gR(n,s,a,l,f){switch(s){case"focusin":return Mr=uu(Mr,n,s,a,l,f),!0;case"dragenter":return Vr=uu(Vr,n,s,a,l,f),!0;case"mouseover":return Or=uu(Or,n,s,a,l,f),!0;case"pointerover":var d=f.pointerId;return ou.set(d,uu(ou.get(d)||null,n,s,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,lu.set(d,uu(lu.get(d)||null,n,s,a,l,f)),!0}return!1}function Y_(n){var s=je(n.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){n.blockedOn=s,Y(n.priority,function(){q_(a)});return}}else if(s===31){if(s=m(a),s!==null){n.blockedOn=s,Y(n.priority,function(){q_(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function _h(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=Mm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Sl=l,a.target.dispatchEvent(l),Sl=null}else return s=pn(a),s!==null&&H_(s),n.blockedOn=a,!1;s.shift()}return!0}function Q_(n,s,a){_h(n)&&a.delete(s)}function yR(){Om=!1,Mr!==null&&_h(Mr)&&(Mr=null),Vr!==null&&_h(Vr)&&(Vr=null),Or!==null&&_h(Or)&&(Or=null),ou.forEach(Q_),lu.forEach(Q_)}function Th(n,s){n.blockedOn===s&&(n.blockedOn=null,Om||(Om=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,yR)))}var bh=null;function X_(n){bh!==n&&(bh=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){bh===n&&(bh=null);for(var s=0;s<n.length;s+=3){var a=n[s],l=n[s+1],f=n[s+2];if(typeof l!="function"){if(Vm(l||a)===null)continue;break}var d=pn(a);d!==null&&(n.splice(s,3),s-=3,Md(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Po(n){function s(O){return Th(O,n)}Mr!==null&&Th(Mr,n),Vr!==null&&Th(Vr,n),Or!==null&&Th(Or,n),ou.forEach(s),lu.forEach(s);for(var a=0;a<Nr.length;a++){var l=Nr[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Nr.length&&(a=Nr[0],a.blockedOn===null);)Y_(a),a.blockedOn===null&&Nr.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[st]||null;if(typeof d=="function")_||X_(a);else if(_){var A=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[st]||null)A=_.formAction;else if(Vm(f)!==null)continue}else A=_.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),X_(a)}}}function W_(){function n(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function Nm(n){this._internalRoot=n}Sh.prototype.render=Nm.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=oi();B_(a,l,n,s,null,null)},Sh.prototype.unmount=Nm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;B_(n.current,2,null,n,null,null),nh(),s[Tt]=null}};function Sh(n){this._internalRoot=n}Sh.prototype.unstable_scheduleHydration=function(n){if(n){var s=et();n={blockedOn:null,target:n,priority:s};for(var a=0;a<Nr.length&&s!==0&&s<Nr[a].priority;a++);Nr.splice(a,0,n),a===0&&Y_(n)}};var $_=t.version;if($_!=="19.2.0")throw Error(r(527,$_,"19.2.0"));ut.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=g(s),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var vR={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eh.isDisabled&&Eh.supportsFiber)try{wn=Eh.inject(vR),Fe=Eh}catch{}}return hu.createRoot=function(n,s){if(!o(n))throw Error(r(299));var a=!1,l="",f=sv,d=rv,_=av;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=U_(n,1,!1,null,null,a,l,null,f,d,_,W_),n[Tt]=s.current,pm(n),new Nm(s)},hu.hydrateRoot=function(n,s,a){if(!o(n))throw Error(r(299));var l=!1,f="",d=sv,_=rv,A=av,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),s=U_(n,1,!0,s,a??null,l,f,O,d,_,A,W_),s.context=z_(null),a=s.current,l=oi(),l=ws(l),f=_r(l),f.callback=null,Tr(a,f,l),a=l,s.current.lanes=a,As(s,a),cs(s),n[Tt]=s.current,pm(n),new Sh(s)},hu.version="19.2.0",hu}var oT;function IR(){if(oT)return jm.exports;oT=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),jm.exports=CR(),jm.exports}var DR=IR();function MR({endTime:i}){const[t,e]=q.useState(Math.max(0,Math.ceil((i-Date.now())/1e3)));return q.useEffect(()=>{const r=setInterval(()=>{const o=Math.max(0,Math.ceil((i-Date.now())/1e3));e(o),o<=0&&clearInterval(r)},1e3);return()=>clearInterval(r)},[i]),S.jsxs("span",{children:[t,"s"]})}const VR=()=>{};var lT={};const K1=function(i){const t=[];let e=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},OR=function(i){const t=[];let e=0,r=0;for(;e<i.length;){const o=i[e++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[e++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[e++],c=i[e++],m=i[e++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|m&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const u=i[e++],c=i[e++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},Y1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const u=i[o],c=o+1<i.length,m=c?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,y=u>>2,T=(u&3)<<4|m>>4;let E=(m&15)<<2|g>>6,C=g&63;p||(C=64,c||(E=64)),r.push(e[y],e[T],e[E],e[C])}return r.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(K1(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):OR(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const u=e[i.charAt(o++)],m=o<i.length?e[i.charAt(o)]:0;++o;const g=o<i.length?e[i.charAt(o)]:64;++o;const T=o<i.length?e[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new NR;const E=u<<2|m>>4;if(r.push(E),g!==64){const C=m<<4&240|g>>2;if(r.push(C),T!==64){const k=g<<6&192|T;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class NR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PR=function(i){const t=K1(i);return Y1.encodeByteArray(t,!0)},Xh=function(i){return PR(i).replace(/\./g,"")},Q1=function(i){try{return Y1.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function kR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const jR=()=>kR().__FIREBASE_DEFAULTS__,LR=()=>{if(typeof process>"u"||typeof lT>"u")return;const i=lT.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},UR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&Q1(i[1]);return t&&JSON.parse(t)},Sf=()=>{try{return VR()||jR()||LR()||UR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},X1=i=>Sf()?.emulatorHosts?.[i],zR=i=>{const t=X1(i);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),r]:[t.substring(0,e),r]},W1=()=>Sf()?.config,$1=i=>Sf()?.[`_${i}`];class BR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}}function al(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function J1(i){return(await fetch(i,{credentials:"include"})).ok}function FR(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},r=t||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Xh(JSON.stringify(e)),Xh(JSON.stringify(c)),""].join(".")}const vu={};function HR(){const i={prod:[],emulator:[]};for(const t of Object.keys(vu))vu[t]?i.emulator.push(t):i.prod.push(t);return i}function qR(i){let t=document.getElementById(i),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),e=!0),{created:e,element:t}}let uT=!1;function Z1(i,t){if(typeof window>"u"||typeof document>"u"||!al(window.location.host)||vu[i]===t||vu[i]||uT)return;vu[i]=t;function e(E){return`__firebase__banner__${E}`}const r="__firebase__banner",u=HR().prod.length>0;function c(){const E=document.getElementById(r);E&&E.remove()}function m(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function p(E,C){E.setAttribute("width","24"),E.setAttribute("id",C),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function g(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{uT=!0,c()},E}function y(E,C){E.setAttribute("id",C),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function T(){const E=qR(r),C=e("text"),k=document.getElementById(C)||document.createElement("span"),D=e("learnmore"),U=document.getElementById(D)||document.createElement("a"),X=e("preprendIcon"),tt=document.getElementById(X)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const rt=E.element;m(rt),y(U,D);const ft=g();p(tt,X),rt.append(tt,k,U,ft),document.body.appendChild(rt)}u?(k.innerText="Preview backend disconnected.",tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function Nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nn())}function KR(){const i=Sf()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QR(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function XR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WR(){const i=Nn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function $R(){return!KR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JR(){try{return typeof indexedDB=="object"}catch{return!1}}function ZR(){return new Promise((i,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(e){t(e)}})}const tC="FirebaseError";class tr extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=tC,Object.setPrototypeOf(this,tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ku.prototype.create)}}class Ku{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?eC(u,r):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new tr(o,m,r)}}function eC(i,t){return i.replace(nC,(e,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const nC=/\{\$([^}]+)}/g;function iC(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function za(i,t){if(i===t)return!0;const e=Object.keys(i),r=Object.keys(t);for(const o of e){if(!r.includes(o))return!1;const u=i[o],c=t[o];if(cT(u)&&cT(c)){if(!za(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!e.includes(o))return!1;return!0}function cT(i){return i!==null&&typeof i=="object"}function Yu(i){const t=[];for(const[e,r]of Object.entries(i))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function sC(i,t){const e=new rC(i,t);return e.subscribe.bind(e)}class rC{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let o;if(t===void 0&&e===void 0&&r===void 0)throw new Error("Missing Observer.");aC(t,["next","error","complete"])?o=t:o={next:t,error:e,complete:r},o.next===void 0&&(o.next=Bm),o.error===void 0&&(o.error=Bm),o.complete===void 0&&(o.complete=Bm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aC(i,t){if(typeof i!="object"||i===null)return!1;for(const e of t)if(e in i&&typeof i[e]=="function")return!0;return!1}function Bm(){}function Di(i){return i&&i._delegate?i._delegate:i}class Ba{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Da="[DEFAULT]";class oC{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new BR;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(uC(t))try{this.getOrInitializeService({instanceIdentifier:Da})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=Da){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Da){return this.instances.has(t)}getOptions(t=Da){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[u,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&c.resolve(o)}return o}onInit(t,e){const r=this.normalizeInstanceIdentifier(e),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const o of r)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lC(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Da){return this.component?this.component.multipleInstances?t:Da:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lC(i){return i===Da?void 0:i}function uC(i){return i.instantiationMode==="EAGER"}class cC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new oC(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var Xt;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Xt||(Xt={}));const hC={debug:Xt.DEBUG,verbose:Xt.VERBOSE,info:Xt.INFO,warn:Xt.WARN,error:Xt.ERROR,silent:Xt.SILENT},fC=Xt.INFO,dC={[Xt.DEBUG]:"log",[Xt.VERBOSE]:"log",[Xt.INFO]:"info",[Xt.WARN]:"warn",[Xt.ERROR]:"error"},mC=(i,t,...e)=>{if(t<i.logLevel)return;const r=new Date().toISOString(),o=dC[t];if(o)console[o](`[${r}]  ${i.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ag{constructor(t){this.name=t,this._logLevel=fC,this._logHandler=mC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Xt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?hC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Xt.DEBUG,...t),this._logHandler(this,Xt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Xt.VERBOSE,...t),this._logHandler(this,Xt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Xt.INFO,...t),this._logHandler(this,Xt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Xt.WARN,...t),this._logHandler(this,Xt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Xt.ERROR,...t),this._logHandler(this,Xt.ERROR,...t)}}const pC=(i,t)=>t.some(e=>i instanceof e);let hT,fT;function gC(){return hT||(hT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yC(){return fT||(fT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tS=new WeakMap,mp=new WeakMap,eS=new WeakMap,Fm=new WeakMap,og=new WeakMap;function vC(i){const t=new Promise((e,r)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",c)},u=()=>{e(Fr(i.result)),o()},c=()=>{r(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&tS.set(e,i)}).catch(()=>{}),og.set(t,i),t}function _C(i){if(mp.has(i))return;const t=new Promise((e,r)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",c),i.removeEventListener("abort",c)},u=()=>{e(),o()},c=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",c),i.addEventListener("abort",c)});mp.set(i,t)}let pp={get(i,t,e){if(i instanceof IDBTransaction){if(t==="done")return mp.get(i);if(t==="objectStoreNames")return i.objectStoreNames||eS.get(i);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Fr(i[t])},set(i,t,e){return i[t]=e,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function TC(i){pp=i(pp)}function bC(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const r=i.call(Hm(this),t,...e);return eS.set(r,t.sort?t.sort():[t]),Fr(r)}:yC().includes(i)?function(...t){return i.apply(Hm(this),t),Fr(tS.get(this))}:function(...t){return Fr(i.apply(Hm(this),t))}}function SC(i){return typeof i=="function"?bC(i):(i instanceof IDBTransaction&&_C(i),pC(i,gC())?new Proxy(i,pp):i)}function Fr(i){if(i instanceof IDBRequest)return vC(i);if(Fm.has(i))return Fm.get(i);const t=SC(i);return t!==i&&(Fm.set(i,t),og.set(t,i)),t}const Hm=i=>og.get(i);function EC(i,t,{blocked:e,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(i,t),m=Fr(c);return r&&c.addEventListener("upgradeneeded",p=>{r(Fr(c.result),p.oldVersion,p.newVersion,Fr(c.transaction),p)}),e&&c.addEventListener("blocked",p=>e(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const AC=["get","getKey","getAll","getAllKeys","count"],wC=["put","add","delete","clear"],qm=new Map;function dT(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(qm.get(t))return qm.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,o=wC.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(o||AC.includes(e)))return;const u=async function(c,...m){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(m.shift())),(await Promise.all([g[e](...m),o&&p.done]))[0]};return qm.set(t,u),u}TC(i=>({...i,get:(t,e,r)=>dT(t,e)||i.get(t,e,r),has:(t,e)=>!!dT(t,e)||i.has(t,e)}));class xC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(RC(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function RC(i){return i.getComponent()?.type==="VERSION"}const gp="@firebase/app",mT="0.14.6";const Qs=new ag("@firebase/app"),CC="@firebase/app-compat",IC="@firebase/analytics-compat",DC="@firebase/analytics",MC="@firebase/app-check-compat",VC="@firebase/app-check",OC="@firebase/auth",NC="@firebase/auth-compat",PC="@firebase/database",kC="@firebase/data-connect",jC="@firebase/database-compat",LC="@firebase/functions",UC="@firebase/functions-compat",zC="@firebase/installations",BC="@firebase/installations-compat",FC="@firebase/messaging",HC="@firebase/messaging-compat",qC="@firebase/performance",GC="@firebase/performance-compat",KC="@firebase/remote-config",YC="@firebase/remote-config-compat",QC="@firebase/storage",XC="@firebase/storage-compat",WC="@firebase/firestore",$C="@firebase/ai",JC="@firebase/firestore-compat",ZC="firebase",t2="12.6.0";const yp="[DEFAULT]",e2={[gp]:"fire-core",[CC]:"fire-core-compat",[DC]:"fire-analytics",[IC]:"fire-analytics-compat",[VC]:"fire-app-check",[MC]:"fire-app-check-compat",[OC]:"fire-auth",[NC]:"fire-auth-compat",[PC]:"fire-rtdb",[kC]:"fire-data-connect",[jC]:"fire-rtdb-compat",[LC]:"fire-fn",[UC]:"fire-fn-compat",[zC]:"fire-iid",[BC]:"fire-iid-compat",[FC]:"fire-fcm",[HC]:"fire-fcm-compat",[qC]:"fire-perf",[GC]:"fire-perf-compat",[KC]:"fire-rc",[YC]:"fire-rc-compat",[QC]:"fire-gcs",[XC]:"fire-gcs-compat",[WC]:"fire-fst",[JC]:"fire-fst-compat",[$C]:"fire-vertex","fire-js":"fire-js",[ZC]:"fire-js-all"};const Wh=new Map,n2=new Map,vp=new Map;function pT(i,t){try{i.container.addComponent(t)}catch(e){Qs.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,e)}}function Wo(i){const t=i.name;if(vp.has(t))return Qs.debug(`There were multiple attempts to register component ${t}.`),!1;vp.set(t,i);for(const e of Wh.values())pT(e,i);for(const e of n2.values())pT(e,i);return!0}function lg(i,t){const e=i.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),i.container.getProvider(t)}function Gi(i){return i==null?!1:i.settings!==void 0}const i2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hr=new Ku("app","Firebase",i2);class s2{constructor(t,e,r){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ba("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Hr.create("app-deleted",{appName:this._name})}}const ol=t2;function nS(i,t={}){let e=i;typeof t!="object"&&(t={name:t});const r={name:yp,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw Hr.create("bad-app-name",{appName:String(o)});if(e||(e=W1()),!e)throw Hr.create("no-options");const u=Wh.get(o);if(u){if(za(e,u.options)&&za(r,u.config))return u;throw Hr.create("duplicate-app",{appName:o})}const c=new cC(o);for(const p of vp.values())c.addComponent(p);const m=new s2(e,r,c);return Wh.set(o,m),m}function iS(i=yp){const t=Wh.get(i);if(!t&&i===yp&&W1())return nS();if(!t)throw Hr.create("no-app",{appName:i});return t}function qr(i,t,e){let r=e2[i]??i;e&&(r+=`-${e}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const c=[`Unable to register library "${r}" with version "${t}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Qs.warn(c.join(" "));return}Wo(new Ba(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const r2="firebase-heartbeat-database",a2=1,Du="firebase-heartbeat-store";let Gm=null;function sS(){return Gm||(Gm=EC(r2,a2,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Du)}catch(e){console.warn(e)}}}}).catch(i=>{throw Hr.create("idb-open",{originalErrorMessage:i.message})})),Gm}async function o2(i){try{const e=(await sS()).transaction(Du),r=await e.objectStore(Du).get(rS(i));return await e.done,r}catch(t){if(t instanceof tr)Qs.warn(t.message);else{const e=Hr.create("idb-get",{originalErrorMessage:t?.message});Qs.warn(e.message)}}}async function gT(i,t){try{const r=(await sS()).transaction(Du,"readwrite");await r.objectStore(Du).put(t,rS(i)),await r.done}catch(e){if(e instanceof tr)Qs.warn(e.message);else{const r=Hr.create("idb-set",{originalErrorMessage:e?.message});Qs.warn(r.message)}}}function rS(i){return`${i.name}!${i.options.appId}`}const l2=1024,u2=30;class c2{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new f2(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=yT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:e}),this._heartbeatsCache.heartbeats.length>u2){const o=d2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Qs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=yT(),{heartbeatsToSend:e,unsentEntries:r}=h2(this._heartbeatsCache.heartbeats),o=Xh(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Qs.warn(t),""}}}function yT(){return new Date().toISOString().substring(0,10)}function h2(i,t=l2){const e=[];let r=i.slice();for(const o of i){const u=e.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),vT(e)>t){u.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),vT(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class f2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JR()?ZR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await o2(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return gT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return gT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function vT(i){return Xh(JSON.stringify({version:2,heartbeats:i})).length}function d2(i){if(i.length===0)return-1;let t=0,e=i[0].date;for(let r=1;r<i.length;r++)i[r].date<e&&(e=i[r].date,t=r);return t}function m2(i){Wo(new Ba("platform-logger",t=>new xC(t),"PRIVATE")),Wo(new Ba("heartbeat",t=>new c2(t),"PRIVATE")),qr(gp,mT,i),qr(gp,mT,"esm2020"),qr("fire-js","")}m2("");var p2="firebase",g2="12.6.0";qr(p2,g2,"app");function aS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const y2=aS,oS=new Ku("auth","Firebase",aS());const $h=new ag("@firebase/auth");function v2(i,...t){$h.logLevel<=Xt.WARN&&$h.warn(`Auth (${ol}): ${i}`,...t)}function Nh(i,...t){$h.logLevel<=Xt.ERROR&&$h.error(`Auth (${ol}): ${i}`,...t)}function _s(i,...t){throw cg(i,...t)}function Qi(i,...t){return cg(i,...t)}function ug(i,t,e){const r={...y2(),[t]:e};return new Ku("auth","Firebase",r).create(t,{appName:i.name})}function ka(i){return ug(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _2(i,t,e){const r=e;if(!(t instanceof r))throw r.name!==t.constructor.name&&_s(i,"argument-error"),ug(i,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function cg(i,...t){if(typeof i!="string"){const e=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(e,...r)}return oS.create(i,...t)}function Nt(i,t,...e){if(!i)throw cg(t,...e)}function Gs(i){const t="INTERNAL ASSERTION FAILED: "+i;throw Nh(t),new Error(t)}function Xs(i,t){i||Gs(t)}function _p(){return typeof self<"u"&&self.location?.href||""}function T2(){return _T()==="http:"||_T()==="https:"}function _T(){return typeof self<"u"&&self.location?.protocol||null}function b2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(T2()||QR()||"connection"in navigator)?navigator.onLine:!0}function S2(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Qu{constructor(t,e){this.shortDelay=t,this.longDelay=e,Xs(e>t,"Short delay should be less than long delay!"),this.isMobile=GR()||XR()}get(){return b2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function hg(i,t){Xs(i.emulator,"Emulator should always be set here");const{url:e}=i.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class lS{static initialize(t,e,r){this.fetchImpl=t,e&&(this.headersImpl=e),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const E2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const A2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],w2=new Qu(3e4,6e4);function fg(i,t){return i.tenantId&&!t.tenantId?{...t,tenantId:i.tenantId}:t}async function ll(i,t,e,r,o={}){return uS(i,o,async()=>{let u={},c={};r&&(t==="GET"?c=r:u={body:JSON.stringify(r)});const m=Yu({key:i.config.apiKey,...c}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:t,headers:p,...u};return YR()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&al(i.emulatorConfig.host)&&(g.credentials="include"),lS.fetch()(await cS(i,i.config.apiHost,e,m),g)})}async function uS(i,t,e){i._canInitEmulator=!1;const r={...E2,...t};try{const o=new R2(i),u=await Promise.race([e(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw Ah(i,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const m=u.ok?c.errorMessage:c.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ah(i,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Ah(i,"email-already-in-use",c);if(p==="USER_DISABLED")throw Ah(i,"user-disabled",c);const y=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw ug(i,y,g);_s(i,y)}}catch(o){if(o instanceof tr)throw o;_s(i,"network-request-failed",{message:String(o)})}}async function x2(i,t,e,r,o={}){const u=await ll(i,t,e,r,o);return"mfaPendingCredential"in u&&_s(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function cS(i,t,e,r){const o=`${t}${e}?${r}`,u=i,c=u.config.emulator?hg(i.config,o):`${i.config.apiScheme}://${o}`;return A2.includes(e)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}class R2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,r)=>{this.timer=setTimeout(()=>r(Qi(this.auth,"network-request-failed")),w2.get())})}}function Ah(i,t,e){const r={appName:i.name};e.email&&(r.email=e.email),e.phoneNumber&&(r.phoneNumber=e.phoneNumber);const o=Qi(i,t,r);return o.customData._tokenResponse=e,o}async function C2(i,t){return ll(i,"POST","/v1/accounts:delete",t)}async function Jh(i,t){return ll(i,"POST","/v1/accounts:lookup",t)}function _u(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function I2(i,t=!1){const e=Di(i),r=await e.getIdToken(t),o=dg(r);Nt(o&&o.exp&&o.auth_time&&o.iat,e.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:r,authTime:_u(Km(o.auth_time)),issuedAtTime:_u(Km(o.iat)),expirationTime:_u(Km(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Km(i){return Number(i)*1e3}function dg(i){const[t,e,r]=i.split(".");if(t===void 0||e===void 0||r===void 0)return Nh("JWT malformed, contained fewer than 3 sections"),null;try{const o=Q1(e);return o?JSON.parse(o):(Nh("Failed to decode base64 JWT payload"),null)}catch(o){return Nh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function TT(i){const t=dg(i);return Nt(t,"internal-error"),Nt(typeof t.exp<"u","internal-error"),Nt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Mu(i,t,e=!1){if(e)return t;try{return await t}catch(r){throw r instanceof tr&&D2(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function D2({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class M2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Tp{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=_u(this.lastLoginAt),this.creationTime=_u(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Zh(i){const t=i.auth,e=await i.getIdToken(),r=await Mu(i,Jh(t,{idToken:e}));Nt(r?.users.length,t,"internal-error");const o=r.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?hS(o.providerUserInfo):[],c=O2(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!c?.length,g=m?p:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Tp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,y)}async function V2(i){const t=Di(i);await Zh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function O2(i,t){return[...i.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function hS(i){return i.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function N2(i,t){const e=await uS(i,{},async()=>{const r=Yu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,c=await cS(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:r};return i.emulatorConfig&&al(i.emulatorConfig.host)&&(p.credentials="include"),lS.fetch()(c,p)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function P2(i,t){return ll(i,"POST","/v2/accounts:revokeToken",fg(i,t))}class Go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Nt(t.idToken,"internal-error"),Nt(typeof t.idToken<"u","internal-error"),Nt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):TT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Nt(t.length!==0,"internal-error");const e=TT(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Nt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:r,refreshToken:o,expiresIn:u}=await N2(t,e);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(t,e,r){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,e){const{refreshToken:r,accessToken:o,expirationTime:u}=e,c=new Go;return r&&(Nt(typeof r=="string","internal-error",{appName:t}),c.refreshToken=r),o&&(Nt(typeof o=="string","internal-error",{appName:t}),c.accessToken=o),u&&(Nt(typeof u=="number","internal-error",{appName:t}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Go,this.toJSON())}_performRefresh(){return Gs("not implemented")}}function kr(i,t){Nt(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class Ki{constructor({uid:t,auth:e,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new M2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Tp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const e=await Mu(this,this.stsTokenManager.getToken(this.auth,t));return Nt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return I2(this,t)}reload(){return V2(this)}_assign(t){this!==t&&(Nt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Ki({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){Nt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),e&&await Zh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gi(this.auth.app))return Promise.reject(ka(this.auth));const t=await this.getIdToken();return await Mu(this,C2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const r=e.displayName??void 0,o=e.email??void 0,u=e.phoneNumber??void 0,c=e.photoURL??void 0,m=e.tenantId??void 0,p=e._redirectEventId??void 0,g=e.createdAt??void 0,y=e.lastLoginAt??void 0,{uid:T,emailVerified:E,isAnonymous:C,providerData:k,stsTokenManager:D}=e;Nt(T&&D,t,"internal-error");const U=Go.fromJSON(this.name,D);Nt(typeof T=="string",t,"internal-error"),kr(r,t.name),kr(o,t.name),Nt(typeof E=="boolean",t,"internal-error"),Nt(typeof C=="boolean",t,"internal-error"),kr(u,t.name),kr(c,t.name),kr(m,t.name),kr(p,t.name),kr(g,t.name),kr(y,t.name);const X=new Ki({uid:T,auth:t,email:o,emailVerified:E,displayName:r,isAnonymous:C,photoURL:c,phoneNumber:u,tenantId:m,stsTokenManager:U,createdAt:g,lastLoginAt:y});return k&&Array.isArray(k)&&(X.providerData=k.map(tt=>({...tt}))),p&&(X._redirectEventId=p),X}static async _fromIdTokenResponse(t,e,r=!1){const o=new Go;o.updateFromServerResponse(e);const u=new Ki({uid:e.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await Zh(u),u}static async _fromGetAccountInfoResponse(t,e,r){const o=e.users[0];Nt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?hS(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,m=new Go;m.updateFromIdToken(r);const p=new Ki({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Tp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const bT=new Map;function Ks(i){Xs(i instanceof Function,"Expected a class definition");let t=bT.get(i);return t?(Xs(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,bT.set(i,t),t)}class fS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}fS.type="NONE";const ST=fS;function Ph(i,t,e){return`firebase:${i}:${t}:${e}`}class Ko{constructor(t,e,r){this.persistence=t,this.auth=e,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Ph(this.userKey,o.apiKey,u),this.fullPersistenceKey=Ph("persistence",o.apiKey,u),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Jh(this.auth,{idToken:t}).catch(()=>{});return e?Ki._fromGetAccountInfoResponse(this.auth,e,t):null}return Ki._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,r="authUser"){if(!e.length)return new Ko(Ks(ST),t,r);const o=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Ks(ST);const c=Ph(r,t.config.apiKey,t.name);let m=null;for(const g of e)try{const y=await g._get(c);if(y){let T;if(typeof y=="string"){const E=await Jh(t,{idToken:y}).catch(()=>{});if(!E)break;T=await Ki._fromGetAccountInfoResponse(t,E,y)}else T=Ki._fromJSON(t,y);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Ko(u,t,r):(u=p[0],m&&await u._set(c,m.toJSON()),await Promise.all(e.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new Ko(u,t,r))}}function ET(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(gS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(dS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(vS(t))return"Blackberry";if(_S(t))return"Webos";if(mS(t))return"Safari";if((t.includes("chrome/")||pS(t))&&!t.includes("edge/"))return"Chrome";if(yS(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(e);if(r?.length===2)return r[1]}return"Other"}function dS(i=Nn()){return/firefox\//i.test(i)}function mS(i=Nn()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function pS(i=Nn()){return/crios\//i.test(i)}function gS(i=Nn()){return/iemobile/i.test(i)}function yS(i=Nn()){return/android/i.test(i)}function vS(i=Nn()){return/blackberry/i.test(i)}function _S(i=Nn()){return/webos/i.test(i)}function mg(i=Nn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function k2(i=Nn()){return mg(i)&&!!window.navigator?.standalone}function j2(){return WR()&&document.documentMode===10}function TS(i=Nn()){return mg(i)||yS(i)||_S(i)||vS(i)||/windows phone/i.test(i)||gS(i)}function bS(i,t=[]){let e;switch(i){case"Browser":e=ET(Nn());break;case"Worker":e=`${ET(Nn())}-${i}`;break;default:e=i}const r=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${ol}/${r}`}class L2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const r=u=>new Promise((c,m)=>{try{const p=t(u);c(p)}catch(p){m(p)}});r.onAbort=e,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const r of this.queue)await r(t),r.onAbort&&e.push(r.onAbort)}catch(r){e.reverse();for(const o of e)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function U2(i,t={}){return ll(i,"GET","/v2/passwordPolicy",fg(i,t))}const z2=6;class B2{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??z2,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(e.meetsMinPasswordLength=t.length>=r),o&&(e.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(e,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,e,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class F2{constructor(t,e,r,o){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new AT(this),this.idTokenSubscription=new AT(this),this.beforeStateQueue=new L2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Ks(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ko.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Jh(this,{idToken:t}),r=await Ki._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Gi(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let r=e,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=r?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===c)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Nt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Zh(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=S2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Gi(this.app))return Promise.reject(ka(this));const e=t?Di(t):null;return e&&Nt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Nt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Gi(this.app)?Promise.reject(ka(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Gi(this.app)?Promise.reject(ka(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ks(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await U2(this),e=new B2(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ku("auth","Firebase",t())}onAuthStateChanged(t,e,r){return this.registerStateListener(this.authStateSubscription,t,e,r)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,r){return this.registerStateListener(this.idTokenSubscription,t,e,r)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(r.tenantId=this.tenantId),await P2(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const r=await this.getOrInitRedirectPersistenceManager(e);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Ks(t)||this._popupRedirectResolver;Nt(e,this,"argument-error"),this.redirectPersistenceManager=await Ko.create(this,[Ks(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,r,o){if(this._deleted)return()=>{};const u=typeof e=="function"?e:e.next.bind(e);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Nt(m,this,"internal-error"),m.then(()=>{c||u(this.currentUser)}),typeof e=="function"){const p=t.addObserver(e,r,o);return()=>{c=!0,p()}}else{const p=t.addObserver(e);return()=>{c=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Nt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=bS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Gi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&v2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Ef(i){return Di(i)}class AT{constructor(t){this.auth=t,this.observer=null,this.addObserver=sC(e=>this.observer=e)}get next(){return Nt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let pg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function H2(i){pg=i}function q2(i){return pg.loadJS(i)}function G2(){return pg.gapiScript}function K2(i){return`__${i}${Math.floor(Math.random()*1e6)}`}function Y2(i,t){const e=lg(i,"auth");if(e.isInitialized()){const o=e.getImmediate(),u=e.getOptions();if(za(u,t??{}))return o;_s(o,"already-initialized")}return e.initialize({options:t})}function Q2(i,t){const e=t?.persistence||[],r=(Array.isArray(e)?e:[e]).map(Ks);t?.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(r,t?.popupRedirectResolver)}function X2(i,t,e){const r=Ef(i);Nt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,u=SS(t),{host:c,port:m}=W2(t),p=m===null?"":`:${m}`,g={url:`${u}//${c}${p}/`},y=Object.freeze({host:c,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Nt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Nt(za(g,r.config.emulator)&&za(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,al(c)?(J1(`${u}//${c}${p}`),Z1("Auth",!0)):$2()}function SS(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function W2(i){const t=SS(i),e=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!e)return{host:"",port:null};const r=e[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:wT(r.substr(u.length+1))}}else{const[u,c]=r.split(":");return{host:u,port:wT(c)}}}function wT(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function $2(){function i(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class ES{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Gs("not implemented")}_getIdTokenResponse(t){return Gs("not implemented")}_linkToIdToken(t,e){return Gs("not implemented")}_getReauthenticationResolver(t){return Gs("not implemented")}}async function Yo(i,t){return x2(i,"POST","/v1/accounts:signInWithIdp",fg(i,t))}const J2="http://localhost";class Fa extends ES{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Fa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):_s("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o,...u}=e;if(!r||!o)return null;const c=new Fa(r,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return Yo(t,e)}_linkToIdToken(t,e){const r=this.buildRequest();return r.idToken=e,Yo(t,r)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Yo(t,e)}buildRequest(){const t={requestUri:J2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Yu(e)}return t}}class gg{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Xu extends gg{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Lr extends Xu{constructor(){super("facebook.com")}static credential(t){return Fa._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Lr.credentialFromTaggedObject(t)}static credentialFromError(t){return Lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Lr.credential(t.oauthAccessToken)}catch{return null}}}Lr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Lr.PROVIDER_ID="facebook.com";class qs extends Xu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Fa._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return qs.credentialFromTaggedObject(t)}static credentialFromError(t){return qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:r}=t;if(!e&&!r)return null;try{return qs.credential(e,r)}catch{return null}}}qs.GOOGLE_SIGN_IN_METHOD="google.com";qs.PROVIDER_ID="google.com";class Ur extends Xu{constructor(){super("github.com")}static credential(t){return Fa._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ur.credentialFromTaggedObject(t)}static credentialFromError(t){return Ur.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ur.credential(t.oauthAccessToken)}catch{return null}}}Ur.GITHUB_SIGN_IN_METHOD="github.com";Ur.PROVIDER_ID="github.com";class zr extends Xu{constructor(){super("twitter.com")}static credential(t,e){return Fa._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return zr.credentialFromTaggedObject(t)}static credentialFromError(t){return zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:r}=t;if(!e||!r)return null;try{return zr.credential(e,r)}catch{return null}}}zr.TWITTER_SIGN_IN_METHOD="twitter.com";zr.PROVIDER_ID="twitter.com";class $o{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,r,o=!1){const u=await Ki._fromIdTokenResponse(t,r,o),c=xT(r);return new $o({user:u,providerId:c,_tokenResponse:r,operationType:e})}static async _forOperation(t,e,r){await t._updateTokensIfNecessary(r,!0);const o=xT(r);return new $o({user:t,providerId:o,_tokenResponse:r,operationType:e})}}function xT(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class tf extends tr{constructor(t,e,r,o){super(e.code,e.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,tf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,e,r,o){return new tf(t,e,r,o)}}function AS(i,t,e,r){return(t==="reauthenticate"?e._getReauthenticationResolver(i):e._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?tf._fromErrorAndOperation(i,u,t,r):u})}async function Z2(i,t,e=!1){const r=await Mu(i,t._linkToIdToken(i.auth,await i.getIdToken()),e);return $o._forOperation(i,"link",r)}async function tI(i,t,e=!1){const{auth:r}=i;if(Gi(r.app))return Promise.reject(ka(r));const o="reauthenticate";try{const u=await Mu(i,AS(r,o,t,i),e);Nt(u.idToken,r,"internal-error");const c=dg(u.idToken);Nt(c,r,"internal-error");const{sub:m}=c;return Nt(i.uid===m,r,"user-mismatch"),$o._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&_s(r,"user-mismatch"),u}}async function eI(i,t,e=!1){if(Gi(i.app))return Promise.reject(ka(i));const r="signIn",o=await AS(i,r,t),u=await $o._fromIdTokenResponse(i,r,o);return e||await i._updateCurrentUser(u.user),u}function nI(i,t,e,r){return Di(i).onIdTokenChanged(t,e,r)}function iI(i,t,e){return Di(i).beforeAuthStateChanged(t,e)}function sI(i,t,e,r){return Di(i).onAuthStateChanged(t,e,r)}function rI(i){return Di(i).signOut()}const ef="__sak";class wS{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(ef,"1"),this.storage.removeItem(ef),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const aI=1e3,oI=10;class xS extends wS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=TS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const r=this.storage.getItem(e),o=this.localCache[e];r!==o&&t(e,o,r)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,m,p)=>{this.notifyListeners(c,p)});return}const r=t.key;e?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(r);!e&&this.localCache[r]===c||this.notifyListeners(r,c)},u=this.storage.getItem(r);j2()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,oI):o()}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:r}),!0)})},aI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}xS.type="LOCAL";const lI=xS;class RS extends wS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}RS.type="SESSION";const CS=RS;function uI(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class Af{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(o=>o.isListeningto(t));if(e)return e;const r=new Af(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:r,eventType:o,data:u}=e.data,c=this.handlersMap[o];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(c).map(async g=>g(e.origin,u)),p=await uI(m);e.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Af.receivers=[];function yg(i="",t=10){let e="";for(let r=0;r<t;r++)e+=Math.floor(Math.random()*10);return i+e}class cI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((m,p)=>{const g=yg("",20);o.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},r);c={messageChannel:o,onMessage(T){const E=T;if(E.data.eventId===g)switch(E.data.status){case"ack":clearTimeout(y),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(E.data.response);break;default:clearTimeout(y),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function fs(){return window}function hI(i){fs().location.href=i}function IS(){return typeof fs().WorkerGlobalScope<"u"&&typeof fs().importScripts=="function"}async function fI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dI(){return navigator?.serviceWorker?.controller||null}function mI(){return IS()?self:null}const DS="firebaseLocalStorageDb",pI=1,nf="firebaseLocalStorage",MS="fbase_key";class Wu{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function wf(i,t){return i.transaction([nf],t?"readwrite":"readonly").objectStore(nf)}function gI(){const i=indexedDB.deleteDatabase(DS);return new Wu(i).toPromise()}function bp(){const i=indexedDB.open(DS,pI);return new Promise((t,e)=>{i.addEventListener("error",()=>{e(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(nf,{keyPath:MS})}catch(o){e(o)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(nf)?t(r):(r.close(),await gI(),t(await bp()))})})}async function RT(i,t,e){const r=wf(i,!0).put({[MS]:t,value:e});return new Wu(r).toPromise()}async function yI(i,t){const e=wf(i,!1).get(t),r=await new Wu(e).toPromise();return r===void 0?null:r.value}function CT(i,t){const e=wf(i,!0).delete(t);return new Wu(e).toPromise()}const vI=800,_I=3;class VS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bp(),this.db)}async _withRetries(t){let e=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(e++>_I)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return IS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Af._getInstance(mI()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await fI(),!this.activeServiceWorker)return;this.sender=new cI(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||dI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await bp();return await RT(t,ef,"1"),await CT(t,ef),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(r=>RT(r,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(r=>yI(r,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>CT(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=wf(o,!1).getAll();return new Wu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),e.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),e.push(o));return e}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}VS.type="LOCAL";const TI=VS;new Qu(3e4,6e4);function OS(i,t){return t?Ks(t):(Nt(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class vg extends ES{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Yo(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Yo(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Yo(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function bI(i){return eI(i.auth,new vg(i),i.bypassAuthState)}function SI(i){const{auth:t,user:e}=i;return Nt(e,t,"internal-error"),tI(e,new vg(i),i.bypassAuthState)}async function EI(i){const{auth:t,user:e}=i;return Nt(e,t,"internal-error"),Z2(e,new vg(i),i.bypassAuthState)}class NS{constructor(t,e,r,o,u=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:r,postBody:o,tenantId:u,error:c,type:m}=t;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:e,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return bI;case"linkViaPopup":case"linkViaRedirect":return EI;case"reauthViaPopup":case"reauthViaRedirect":return SI;default:_s(this.auth,"internal-error")}}resolve(t){Xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const AI=new Qu(2e3,1e4);async function wI(i,t,e){if(Gi(i.app))return Promise.reject(Qi(i,"operation-not-supported-in-this-environment"));const r=Ef(i);_2(i,t,gg);const o=OS(r,e);return new Va(r,"signInViaPopup",t,o).executeNotNull()}class Va extends NS{constructor(t,e,r,o,u){super(t,e,o,u),this.provider=r,this.authWindow=null,this.pollId=null,Va.currentPopupAction&&Va.currentPopupAction.cancel(),Va.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Nt(t,this.auth,"internal-error"),t}async onExecution(){Xs(this.filter.length===1,"Popup operations only handle one event");const t=yg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Qi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Qi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Va.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,AI.get())};t()}}Va.currentPopupAction=null;const xI="pendingRedirect",kh=new Map;class RI extends NS{constructor(t,e,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,r),this.eventId=null}async execute(){let t=kh.get(this.auth._key());if(!t){try{const r=await CI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(e){t=()=>Promise.reject(e)}kh.set(this.auth._key(),t)}return this.bypassAuthState||kh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function CI(i,t){const e=MI(t),r=DI(i);if(!await r._isAvailable())return!1;const o=await r._get(e)==="true";return await r._remove(e),o}function II(i,t){kh.set(i._key(),t)}function DI(i){return Ks(i._redirectPersistence)}function MI(i){return Ph(xI,i.config.apiKey,i.name)}async function VI(i,t,e=!1){if(Gi(i.app))return Promise.reject(ka(i));const r=Ef(i),o=OS(r,t),c=await new RI(r,o,e).execute();return c&&!e&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,t)),c}const OI=600*1e3;class NI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(e=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!PI(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!PS(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";e.onError(Qi(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const r=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=OI&&this.cachedEventUids.clear(),this.cachedEventUids.has(IT(t))}saveEventToCache(t){this.cachedEventUids.add(IT(t)),this.lastProcessedEventTime=Date.now()}}function IT(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function PS({type:i,error:t}){return i==="unknown"&&t?.code==="auth/no-auth-event"}function PI(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return PS(i);default:return!1}}async function kI(i,t={}){return ll(i,"GET","/v1/projects",t)}const jI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LI=/^https?/;async function UI(i){if(i.config.emulator)return;const{authorizedDomains:t}=await kI(i);for(const e of t)try{if(zI(e))return}catch{}_s(i,"unauthorized-domain")}function zI(i){const t=_p(),{protocol:e,hostname:r}=new URL(t);if(i.startsWith("chrome-extension://")){const c=new URL(i);return c.hostname===""&&r===""?e==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===r}if(!LI.test(e))return!1;if(jI.test(i))return r===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const BI=new Qu(3e4,6e4);function DT(){const i=fs().___jsl;if(i?.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let e=0;e<i.CP.length;e++)i.CP[e]=null}}function FI(i){return new Promise((t,e)=>{function r(){DT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{DT(),e(Qi(i,"network-request-failed"))},timeout:BI.get()})}if(fs().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(fs().gapi?.load)r();else{const o=K2("iframefcb");return fs()[o]=()=>{gapi.load?r():e(Qi(i,"network-request-failed"))},q2(`${G2()}?onload=${o}`).catch(u=>e(u))}}).catch(t=>{throw jh=null,t})}let jh=null;function HI(i){return jh=jh||FI(i),jh}const qI=new Qu(5e3,15e3),GI="__/auth/iframe",KI="emulator/auth/iframe",YI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XI(i){const t=i.config;Nt(t.authDomain,i,"auth-domain-config-required");const e=t.emulator?hg(t,KI):`https://${i.config.authDomain}/${GI}`,r={apiKey:t.apiKey,appName:i.name,v:ol},o=QI.get(i.config.apiHost);o&&(r.eid=o);const u=i._getFrameworks();return u.length&&(r.fw=u.join(",")),`${e}?${Yu(r).slice(1)}`}async function WI(i){const t=await HI(i),e=fs().gapi;return Nt(e,i,"internal-error"),t.open({where:document.body,url:XI(i),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:YI,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const c=Qi(i,"network-request-failed"),m=fs().setTimeout(()=>{u(c)},qI.get());function p(){fs().clearTimeout(m),o(r)}r.ping(p).then(p,()=>{u(c)})}))}const $I={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},JI=500,ZI=600,tD="_blank",eD="http://localhost";class MT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nD(i,t,e,r=JI,o=ZI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const p={...$I,width:r.toString(),height:o.toString(),top:u,left:c},g=Nn().toLowerCase();e&&(m=pS(g)?tD:e),dS(g)&&(t=t||eD,p.scrollbars="yes");const y=Object.entries(p).reduce((E,[C,k])=>`${E}${C}=${k},`,"");if(k2(g)&&m!=="_self")return iD(t||"",m),new MT(null);const T=window.open(t||"",m,y);Nt(T,i,"popup-blocked");try{T.focus()}catch{}return new MT(T)}function iD(i,t){const e=document.createElement("a");e.href=i,e.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(r)}const sD="__/auth/handler",rD="emulator/auth/handler",aD=encodeURIComponent("fac");async function VT(i,t,e,r,o,u){Nt(i.config.authDomain,i,"auth-domain-config-required"),Nt(i.config.apiKey,i,"invalid-api-key");const c={apiKey:i.config.apiKey,appName:i.name,authType:e,redirectUrl:r,v:ol,eventId:o};if(t instanceof gg){t.setDefaultLanguage(i.languageCode),c.providerId=t.providerId||"",iC(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,T]of Object.entries({}))c[y]=T}if(t instanceof Xu){const y=t.getScopes().filter(T=>T!=="");y.length>0&&(c.scopes=y.join(","))}i.tenantId&&(c.tid=i.tenantId);const m=c;for(const y of Object.keys(m))m[y]===void 0&&delete m[y];const p=await i._getAppCheckToken(),g=p?`#${aD}=${encodeURIComponent(p)}`:"";return`${oD(i)}?${Yu(m).slice(1)}${g}`}function oD({config:i}){return i.emulator?hg(i,rD):`https://${i.authDomain}/${sD}`}const Ym="webStorageSupport";class lD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CS,this._completeRedirectFn=VI,this._overrideRedirectResult=II}async _openPopup(t,e,r,o){Xs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await VT(t,e,r,_p(),o);return nD(t,u,yg())}async _openRedirect(t,e,r,o){await this._originValidation(t);const u=await VT(t,e,r,_p(),o);return hI(u),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:o,promise:u}=this.eventManagers[e];return o?Promise.resolve(o):(Xs(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[e]={promise:r},r.catch(()=>{delete this.eventManagers[e]}),r}async initAndGetManager(t){const e=await WI(t),r=new NI(t);return e.register("authEvent",o=>(Nt(o?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=e,r}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Ym,{type:Ym},o=>{const u=o?.[0]?.[Ym];u!==void 0&&e(!!u),_s(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=UI(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return TS()||mS()||mg()}}const uD=lD;var OT="@firebase/auth",NT="1.11.1";class cD{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Nt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function hD(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fD(i){Wo(new Ba("auth",(t,{options:e})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=r.options;Nt(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:c,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bS(i)},g=new F2(r,o,u,p);return Q2(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,r)=>{t.getProvider("auth-internal").initialize()})),Wo(new Ba("auth-internal",t=>{const e=Ef(t.getProvider("auth").getImmediate());return(r=>new cD(r))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),qr(OT,NT,hD(i)),qr(OT,NT,"esm2020")}const dD=300,mD=$1("authIdTokenMaxAge")||dD;let PT=null;const pD=i=>async t=>{const e=t&&await t.getIdTokenResult(),r=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(r&&r>mD)return;const o=e?.token;PT!==o&&(PT=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function gD(i=iS()){const t=lg(i,"auth");if(t.isInitialized())return t.getImmediate();const e=Y2(i,{popupRedirectResolver:uD,persistence:[TI,lI,CS]}),r=$1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const c=pD(u.toString());iI(e,c,()=>c(e.currentUser)),nI(e,m=>c(m))}}const o=X1("auth");return o&&X2(e,`http://${o}`),e}function yD(){return document.getElementsByTagName("head")?.[0]??document}H2({loadJS(i){return new Promise((t,e)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=t,r.onerror=o=>{const u=Qi("internal-error");u.customData=o,e(u)},r.type="text/javascript",r.charset="UTF-8",yD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fD("Browser");var kT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Gr,kS;(function(){var i;function t(R,w){function I(){}I.prototype=w.prototype,R.F=w.prototype,R.prototype=new I,R.prototype.constructor=R,R.D=function(P,N,z){for(var M=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)M[zt-2]=arguments[zt];return w.prototype[N].apply(P,M)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,e),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,w,I){I||(I=0);const P=Array(16);if(typeof w=="string")for(var N=0;N<16;++N)P[N]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(N=0;N<16;++N)P[N]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=R.g[0],I=R.g[1],N=R.g[2];let z=R.g[3],M;M=w+(z^I&(N^z))+P[0]+3614090360&4294967295,w=I+(M<<7&4294967295|M>>>25),M=z+(N^w&(I^N))+P[1]+3905402710&4294967295,z=w+(M<<12&4294967295|M>>>20),M=N+(I^z&(w^I))+P[2]+606105819&4294967295,N=z+(M<<17&4294967295|M>>>15),M=I+(w^N&(z^w))+P[3]+3250441966&4294967295,I=N+(M<<22&4294967295|M>>>10),M=w+(z^I&(N^z))+P[4]+4118548399&4294967295,w=I+(M<<7&4294967295|M>>>25),M=z+(N^w&(I^N))+P[5]+1200080426&4294967295,z=w+(M<<12&4294967295|M>>>20),M=N+(I^z&(w^I))+P[6]+2821735955&4294967295,N=z+(M<<17&4294967295|M>>>15),M=I+(w^N&(z^w))+P[7]+4249261313&4294967295,I=N+(M<<22&4294967295|M>>>10),M=w+(z^I&(N^z))+P[8]+1770035416&4294967295,w=I+(M<<7&4294967295|M>>>25),M=z+(N^w&(I^N))+P[9]+2336552879&4294967295,z=w+(M<<12&4294967295|M>>>20),M=N+(I^z&(w^I))+P[10]+4294925233&4294967295,N=z+(M<<17&4294967295|M>>>15),M=I+(w^N&(z^w))+P[11]+2304563134&4294967295,I=N+(M<<22&4294967295|M>>>10),M=w+(z^I&(N^z))+P[12]+1804603682&4294967295,w=I+(M<<7&4294967295|M>>>25),M=z+(N^w&(I^N))+P[13]+4254626195&4294967295,z=w+(M<<12&4294967295|M>>>20),M=N+(I^z&(w^I))+P[14]+2792965006&4294967295,N=z+(M<<17&4294967295|M>>>15),M=I+(w^N&(z^w))+P[15]+1236535329&4294967295,I=N+(M<<22&4294967295|M>>>10),M=w+(N^z&(I^N))+P[1]+4129170786&4294967295,w=I+(M<<5&4294967295|M>>>27),M=z+(I^N&(w^I))+P[6]+3225465664&4294967295,z=w+(M<<9&4294967295|M>>>23),M=N+(w^I&(z^w))+P[11]+643717713&4294967295,N=z+(M<<14&4294967295|M>>>18),M=I+(z^w&(N^z))+P[0]+3921069994&4294967295,I=N+(M<<20&4294967295|M>>>12),M=w+(N^z&(I^N))+P[5]+3593408605&4294967295,w=I+(M<<5&4294967295|M>>>27),M=z+(I^N&(w^I))+P[10]+38016083&4294967295,z=w+(M<<9&4294967295|M>>>23),M=N+(w^I&(z^w))+P[15]+3634488961&4294967295,N=z+(M<<14&4294967295|M>>>18),M=I+(z^w&(N^z))+P[4]+3889429448&4294967295,I=N+(M<<20&4294967295|M>>>12),M=w+(N^z&(I^N))+P[9]+568446438&4294967295,w=I+(M<<5&4294967295|M>>>27),M=z+(I^N&(w^I))+P[14]+3275163606&4294967295,z=w+(M<<9&4294967295|M>>>23),M=N+(w^I&(z^w))+P[3]+4107603335&4294967295,N=z+(M<<14&4294967295|M>>>18),M=I+(z^w&(N^z))+P[8]+1163531501&4294967295,I=N+(M<<20&4294967295|M>>>12),M=w+(N^z&(I^N))+P[13]+2850285829&4294967295,w=I+(M<<5&4294967295|M>>>27),M=z+(I^N&(w^I))+P[2]+4243563512&4294967295,z=w+(M<<9&4294967295|M>>>23),M=N+(w^I&(z^w))+P[7]+1735328473&4294967295,N=z+(M<<14&4294967295|M>>>18),M=I+(z^w&(N^z))+P[12]+2368359562&4294967295,I=N+(M<<20&4294967295|M>>>12),M=w+(I^N^z)+P[5]+4294588738&4294967295,w=I+(M<<4&4294967295|M>>>28),M=z+(w^I^N)+P[8]+2272392833&4294967295,z=w+(M<<11&4294967295|M>>>21),M=N+(z^w^I)+P[11]+1839030562&4294967295,N=z+(M<<16&4294967295|M>>>16),M=I+(N^z^w)+P[14]+4259657740&4294967295,I=N+(M<<23&4294967295|M>>>9),M=w+(I^N^z)+P[1]+2763975236&4294967295,w=I+(M<<4&4294967295|M>>>28),M=z+(w^I^N)+P[4]+1272893353&4294967295,z=w+(M<<11&4294967295|M>>>21),M=N+(z^w^I)+P[7]+4139469664&4294967295,N=z+(M<<16&4294967295|M>>>16),M=I+(N^z^w)+P[10]+3200236656&4294967295,I=N+(M<<23&4294967295|M>>>9),M=w+(I^N^z)+P[13]+681279174&4294967295,w=I+(M<<4&4294967295|M>>>28),M=z+(w^I^N)+P[0]+3936430074&4294967295,z=w+(M<<11&4294967295|M>>>21),M=N+(z^w^I)+P[3]+3572445317&4294967295,N=z+(M<<16&4294967295|M>>>16),M=I+(N^z^w)+P[6]+76029189&4294967295,I=N+(M<<23&4294967295|M>>>9),M=w+(I^N^z)+P[9]+3654602809&4294967295,w=I+(M<<4&4294967295|M>>>28),M=z+(w^I^N)+P[12]+3873151461&4294967295,z=w+(M<<11&4294967295|M>>>21),M=N+(z^w^I)+P[15]+530742520&4294967295,N=z+(M<<16&4294967295|M>>>16),M=I+(N^z^w)+P[2]+3299628645&4294967295,I=N+(M<<23&4294967295|M>>>9),M=w+(N^(I|~z))+P[0]+4096336452&4294967295,w=I+(M<<6&4294967295|M>>>26),M=z+(I^(w|~N))+P[7]+1126891415&4294967295,z=w+(M<<10&4294967295|M>>>22),M=N+(w^(z|~I))+P[14]+2878612391&4294967295,N=z+(M<<15&4294967295|M>>>17),M=I+(z^(N|~w))+P[5]+4237533241&4294967295,I=N+(M<<21&4294967295|M>>>11),M=w+(N^(I|~z))+P[12]+1700485571&4294967295,w=I+(M<<6&4294967295|M>>>26),M=z+(I^(w|~N))+P[3]+2399980690&4294967295,z=w+(M<<10&4294967295|M>>>22),M=N+(w^(z|~I))+P[10]+4293915773&4294967295,N=z+(M<<15&4294967295|M>>>17),M=I+(z^(N|~w))+P[1]+2240044497&4294967295,I=N+(M<<21&4294967295|M>>>11),M=w+(N^(I|~z))+P[8]+1873313359&4294967295,w=I+(M<<6&4294967295|M>>>26),M=z+(I^(w|~N))+P[15]+4264355552&4294967295,z=w+(M<<10&4294967295|M>>>22),M=N+(w^(z|~I))+P[6]+2734768916&4294967295,N=z+(M<<15&4294967295|M>>>17),M=I+(z^(N|~w))+P[13]+1309151649&4294967295,I=N+(M<<21&4294967295|M>>>11),M=w+(N^(I|~z))+P[4]+4149444226&4294967295,w=I+(M<<6&4294967295|M>>>26),M=z+(I^(w|~N))+P[11]+3174756917&4294967295,z=w+(M<<10&4294967295|M>>>22),M=N+(w^(z|~I))+P[2]+718787259&4294967295,N=z+(M<<15&4294967295|M>>>17),M=I+(z^(N|~w))+P[9]+3951481745&4294967295,R.g[0]=R.g[0]+w&4294967295,R.g[1]=R.g[1]+(N+(M<<21&4294967295|M>>>11))&4294967295,R.g[2]=R.g[2]+N&4294967295,R.g[3]=R.g[3]+z&4294967295}r.prototype.v=function(R,w){w===void 0&&(w=R.length);const I=w-this.blockSize,P=this.C;let N=this.h,z=0;for(;z<w;){if(N==0)for(;z<=I;)o(this,R,z),z+=this.blockSize;if(typeof R=="string"){for(;z<w;)if(P[N++]=R.charCodeAt(z++),N==this.blockSize){o(this,P),N=0;break}}else for(;z<w;)if(P[N++]=R[z++],N==this.blockSize){o(this,P),N=0;break}}this.h=N,this.o+=w},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var w=1;w<R.length-8;++w)R[w]=0;w=this.o*8;for(var I=R.length-8;I<R.length;++I)R[I]=w&255,w/=256;for(this.v(R),R=Array(16),w=0,I=0;I<4;++I)for(let P=0;P<32;P+=8)R[w++]=this.g[I]>>>P&255;return R};function u(R,w){var I=m;return Object.prototype.hasOwnProperty.call(I,R)?I[R]:I[R]=w(R)}function c(R,w){this.h=w;const I=[];let P=!0;for(let N=R.length-1;N>=0;N--){const z=R[N]|0;P&&z==w||(I[N]=z,P=!1)}this.g=I}var m={};function p(R){return-128<=R&&R<128?u(R,function(w){return new c([w|0],w<0?-1:0)}):new c([R|0],R<0?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return T;if(R<0)return U(g(-R));const w=[];let I=1;for(let P=0;R>=I;P++)w[P]=R/I|0,I*=4294967296;return new c(w,0)}function y(R,w){if(R.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(R.charAt(0)=="-")return U(y(R.substring(1),w));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(w,8));let P=T;for(let z=0;z<R.length;z+=8){var N=Math.min(8,R.length-z);const M=parseInt(R.substring(z,z+N),w);N<8?(N=g(Math.pow(w,N)),P=P.j(N).add(g(M))):(P=P.j(I),P=P.add(g(M)))}return P}var T=p(0),E=p(1),C=p(16777216);i=c.prototype,i.m=function(){if(D(this))return-U(this).m();let R=0,w=1;for(let I=0;I<this.g.length;I++){const P=this.i(I);R+=(P>=0?P:4294967296+P)*w,w*=4294967296}return R},i.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(k(this))return"0";if(D(this))return"-"+U(this).toString(R);const w=g(Math.pow(R,6));var I=this;let P="";for(;;){const N=ft(I,w).g;I=X(I,N.j(w));let z=((I.g.length>0?I.g[0]:I.h)>>>0).toString(R);if(I=N,k(I))return z+P;for(;z.length<6;)z="0"+z;P=z+P}},i.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function k(R){if(R.h!=0)return!1;for(let w=0;w<R.g.length;w++)if(R.g[w]!=0)return!1;return!0}function D(R){return R.h==-1}i.l=function(R){return R=X(this,R),D(R)?-1:k(R)?0:1};function U(R){const w=R.g.length,I=[];for(let P=0;P<w;P++)I[P]=~R.g[P];return new c(I,~R.h).add(E)}i.abs=function(){return D(this)?U(this):this},i.add=function(R){const w=Math.max(this.g.length,R.g.length),I=[];let P=0;for(let N=0;N<=w;N++){let z=P+(this.i(N)&65535)+(R.i(N)&65535),M=(z>>>16)+(this.i(N)>>>16)+(R.i(N)>>>16);P=M>>>16,z&=65535,M&=65535,I[N]=M<<16|z}return new c(I,I[I.length-1]&-2147483648?-1:0)};function X(R,w){return R.add(U(w))}i.j=function(R){if(k(this)||k(R))return T;if(D(this))return D(R)?U(this).j(U(R)):U(U(this).j(R));if(D(R))return U(this.j(U(R)));if(this.l(C)<0&&R.l(C)<0)return g(this.m()*R.m());const w=this.g.length+R.g.length,I=[];for(var P=0;P<2*w;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(let N=0;N<R.g.length;N++){const z=this.i(P)>>>16,M=this.i(P)&65535,zt=R.i(N)>>>16,_e=R.i(N)&65535;I[2*P+2*N]+=M*_e,tt(I,2*P+2*N),I[2*P+2*N+1]+=z*_e,tt(I,2*P+2*N+1),I[2*P+2*N+1]+=M*zt,tt(I,2*P+2*N+1),I[2*P+2*N+2]+=z*zt,tt(I,2*P+2*N+2)}for(R=0;R<w;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=w;R<2*w;R++)I[R]=0;return new c(I,0)};function tt(R,w){for(;(R[w]&65535)!=R[w];)R[w+1]+=R[w]>>>16,R[w]&=65535,w++}function rt(R,w){this.g=R,this.h=w}function ft(R,w){if(k(w))throw Error("division by zero");if(k(R))return new rt(T,T);if(D(R))return w=ft(U(R),w),new rt(U(w.g),U(w.h));if(D(w))return w=ft(R,U(w)),new rt(U(w.g),w.h);if(R.g.length>30){if(D(R)||D(w))throw Error("slowDivide_ only works with positive integers.");for(var I=E,P=w;P.l(R)<=0;)I=mt(I),P=mt(P);var N=dt(I,1),z=dt(P,1);for(P=dt(P,2),I=dt(I,2);!k(P);){var M=z.add(P);M.l(R)<=0&&(N=N.add(I),z=M),P=dt(P,1),I=dt(I,1)}return w=X(R,N.j(w)),new rt(N,w)}for(N=T;R.l(w)>=0;){for(I=Math.max(1,Math.floor(R.m()/w.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),z=g(I),M=z.j(w);D(M)||M.l(R)>0;)I-=P,z=g(I),M=z.j(w);k(z)&&(z=E),N=N.add(z),R=X(R,M)}return new rt(N,R)}i.B=function(R){return ft(this,R).h},i.and=function(R){const w=Math.max(this.g.length,R.g.length),I=[];for(let P=0;P<w;P++)I[P]=this.i(P)&R.i(P);return new c(I,this.h&R.h)},i.or=function(R){const w=Math.max(this.g.length,R.g.length),I=[];for(let P=0;P<w;P++)I[P]=this.i(P)|R.i(P);return new c(I,this.h|R.h)},i.xor=function(R){const w=Math.max(this.g.length,R.g.length),I=[];for(let P=0;P<w;P++)I[P]=this.i(P)^R.i(P);return new c(I,this.h^R.h)};function mt(R){const w=R.g.length+1,I=[];for(let P=0;P<w;P++)I[P]=R.i(P)<<1|R.i(P-1)>>>31;return new c(I,R.h)}function dt(R,w){const I=w>>5;w%=32;const P=R.g.length-I,N=[];for(let z=0;z<P;z++)N[z]=w>0?R.i(z+I)>>>w|R.i(z+I+1)<<32-w:R.i(z+I);return new c(N,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,kS=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=y,Gr=c}).apply(typeof kT<"u"?kT:typeof self<"u"?self:typeof window<"u"?window:{});var wh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var jS,du,LS,Lh,Sp,US,zS,BS;(function(){var i,t=Object.defineProperty;function e(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof wh=="object"&&wh];for(var v=0;v<h.length;++v){var b=h[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=e(this);function o(h,v){if(v)t:{var b=r;h=h.split(".");for(var x=0;x<h.length-1;x++){var H=h[x];if(!(H in b))break t;b=b[H]}h=h[h.length-1],x=b[h],v=v(x),v!=x&&v!=null&&t(b,h,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(v){var b=[],x;for(x in v)Object.prototype.hasOwnProperty.call(v,x)&&b.push([x,v[x]]);return b}});var u=u||{},c=this||self;function m(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function p(h,v,b){return h.call.apply(h.bind,arguments)}function g(h,v,b){return g=p,g.apply(null,arguments)}function y(h,v){var b=Array.prototype.slice.call(arguments,1);return function(){var x=b.slice();return x.push.apply(x,arguments),h.apply(this,x)}}function T(h,v){function b(){}b.prototype=v.prototype,h.Z=v.prototype,h.prototype=new b,h.prototype.constructor=h,h.Ob=function(x,H,W){for(var gt=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)gt[Lt-2]=arguments[Lt];return v.prototype[H].apply(x,gt)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function C(h){const v=h.length;if(v>0){const b=Array(v);for(let x=0;x<v;x++)b[x]=h[x];return b}return[]}function k(h,v){for(let x=1;x<arguments.length;x++){const H=arguments[x];var b=typeof H;if(b=b!="object"?b:H?Array.isArray(H)?"array":b:"null",b=="array"||b=="object"&&typeof H.length=="number"){b=h.length||0;const W=H.length||0;h.length=b+W;for(let gt=0;gt<W;gt++)h[b+gt]=H[gt]}else h.push(H)}}class D{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function U(h){c.setTimeout(()=>{throw h},0)}function X(){var h=R;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class tt{constructor(){this.h=this.g=null}add(v,b){const x=rt.get();x.set(v,b),this.h?this.h.next=x:this.g=x,this.h=x}}var rt=new D(()=>new ft,h=>h.reset());class ft{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let mt,dt=!1,R=new tt,w=()=>{const h=Promise.resolve(void 0);mt=()=>{h.then(I)}};function I(){for(var h;h=X();){try{h.h.call(h.g)}catch(b){U(b)}var v=rt;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}dt=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const b=()=>{};c.addEventListener("test",b,v),c.removeEventListener("test",b,v)}catch{}return h})();function M(h){return/^[\s\xa0]*$/.test(h)}function zt(h,v){N.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}T(zt,N),zt.prototype.init=function(h,v){const b=this.type=h.type,x=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(b=="mouseover"?v=h.fromElement:b=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&zt.Z.h.call(this)},zt.prototype.h=function(){zt.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var _e="closure_listenable_"+(Math.random()*1e6|0),$=0;function ut(h,v,b,x,H){this.listener=h,this.proxy=null,this.src=v,this.type=b,this.capture=!!x,this.ha=H,this.key=++$,this.da=this.fa=!1}function ct(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function It(h,v,b){for(const x in h)v.call(b,h[x],x,h)}function Vt(h,v){for(const b in h)v.call(void 0,h[b],b,h)}function j(h){const v={};for(const b in h)v[b]=h[b];return v}const nt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yt(h,v){let b,x;for(let H=1;H<arguments.length;H++){x=arguments[H];for(b in x)h[b]=x[b];for(let W=0;W<nt.length;W++)b=nt[W],Object.prototype.hasOwnProperty.call(x,b)&&(h[b]=x[b])}}function vt(h){this.src=h,this.g={},this.h=0}vt.prototype.add=function(h,v,b,x,H){const W=h.toString();h=this.g[W],h||(h=this.g[W]=[],this.h++);const gt=Dt(h,v,x,H);return gt>-1?(v=h[gt],b||(v.fa=!1)):(v=new ut(v,this.src,W,!!x,H),v.fa=b,h.push(v)),v};function xt(h,v){const b=v.type;if(b in h.g){var x=h.g[b],H=Array.prototype.indexOf.call(x,v,void 0),W;(W=H>=0)&&Array.prototype.splice.call(x,H,1),W&&(ct(v),h.g[b].length==0&&(delete h.g[b],h.h--))}}function Dt(h,v,b,x){for(let H=0;H<h.length;++H){const W=h[H];if(!W.da&&W.listener==v&&W.capture==!!b&&W.ha==x)return H}return-1}var Ht="closure_lm_"+(Math.random()*1e6|0),Oe={};function se(h,v,b,x,H){if(Array.isArray(v)){for(let W=0;W<v.length;W++)se(h,v[W],b,x,H);return null}return b=Xe(b),h&&h[_e]?h.J(v,b,m(x)?!!x.capture:!1,H):Mi(h,v,b,!1,x,H)}function Mi(h,v,b,x,H,W){if(!v)throw Error("Invalid event type");const gt=m(H)?!!H.capture:!!H;let Lt=li(h);if(Lt||(h[Ht]=Lt=new vt(h)),b=Lt.add(v,b,x,gt,W),b.proxy)return b;if(x=Xi(),b.proxy=x,x.src=h,x.listener=b,h.addEventListener)z||(H=gt),H===void 0&&(H=!1),h.addEventListener(v.toString(),x,H);else if(h.attachEvent)h.attachEvent(Bn(v.toString()),x);else if(h.addListener&&h.removeListener)h.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Xi(){function h(b){return v.call(h.src,h.listener,b)}const v=Ss;return h}function Wi(h,v,b,x,H){if(Array.isArray(v))for(var W=0;W<v.length;W++)Wi(h,v[W],b,x,H);else x=m(x)?!!x.capture:!!x,b=Xe(b),h&&h[_e]?(h=h.i,W=String(v).toString(),W in h.g&&(v=h.g[W],b=Dt(v,b,x,H),b>-1&&(ct(v[b]),Array.prototype.splice.call(v,b,1),v.length==0&&(delete h.g[W],h.h--)))):h&&(h=li(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Dt(v,b,x,H)),(b=h>-1?v[h]:null)&&$i(b))}function $i(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[_e])xt(v.i,h);else{var b=h.type,x=h.proxy;v.removeEventListener?v.removeEventListener(b,x,h.capture):v.detachEvent?v.detachEvent(Bn(b),x):v.addListener&&v.removeListener&&v.removeListener(x),(b=li(v))?(xt(b,h),b.h==0&&(b.src=null,v[Ht]=null)):ct(h)}}}function Bn(h){return h in Oe?Oe[h]:Oe[h]="on"+h}function Ss(h,v){if(h.da)h=!0;else{v=new zt(v,this);const b=h.listener,x=h.ha||h.src;h.fa&&$i(h),h=b.call(x,v)}return h}function li(h){return h=h[Ht],h instanceof vt?h:null}var ui="__closure_events_fn_"+(Math.random()*1e9>>>0);function Xe(h){return typeof h=="function"?h:(h[ui]||(h[ui]=function(v){return h.handleEvent(v)}),h[ui])}function Ce(){P.call(this),this.i=new vt(this),this.M=this,this.G=null}T(Ce,P),Ce.prototype[_e]=!0,Ce.prototype.removeEventListener=function(h,v,b,x){Wi(this,h,v,b,x)};function be(h,v){var b,x=h.G;if(x)for(b=[];x;x=x.G)b.push(x);if(h=h.M,x=v.type||v,typeof v=="string")v=new N(v,h);else if(v instanceof N)v.target=v.target||h;else{var H=v;v=new N(x,h),yt(v,H)}H=!0;let W,gt;if(b)for(gt=b.length-1;gt>=0;gt--)W=v.g=b[gt],H=Jn(W,x,!0,v)&&H;if(W=v.g=h,H=Jn(W,x,!0,v)&&H,H=Jn(W,x,!1,v)&&H,b)for(gt=0;gt<b.length;gt++)W=v.g=b[gt],H=Jn(W,x,!1,v)&&H}Ce.prototype.N=function(){if(Ce.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const b=h.g[v];for(let x=0;x<b.length;x++)ct(b[x]);delete h.g[v],h.h--}}this.G=null},Ce.prototype.J=function(h,v,b,x){return this.i.add(String(h),v,!1,b,x)},Ce.prototype.K=function(h,v,b,x){return this.i.add(String(h),v,!0,b,x)};function Jn(h,v,b,x){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let H=!0;for(let W=0;W<v.length;++W){const gt=v[W];if(gt&&!gt.da&&gt.capture==b){const Lt=gt.listener,qe=gt.ha||gt.src;gt.fa&&xt(h.i,gt),H=Lt.call(qe,x)!==!1&&H}}return H&&!x.defaultPrevented}function na(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:c.setTimeout(h,v||0)}function te(h){h.g=na(()=>{h.g=null,h.i&&(h.i=!1,te(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class me extends P{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:te(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vi(h){P.call(this),this.h=h,this.g={}}T(Vi,P);var Oi=[];function Es(h){It(h.g,function(v,b){this.g.hasOwnProperty(b)&&$i(v)},h),h.g={}}Vi.prototype.N=function(){Vi.Z.N.call(this),Es(this)},Vi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zn=c.JSON.stringify,ia=c.JSON.parse,er=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Ji(){}function nr(){}var wn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Fe(){N.call(this,"d")}T(Fe,N);function xn(){N.call(this,"c")}T(xn,N);var pt={},re=null;function Pn(){return re=re||new Ce}pt.Ia="serverreachability";function Fn(h){N.call(this,pt.Ia,h)}T(Fn,N);function qt(h){const v=Pn();be(v,new Fn(v))}pt.STAT_EVENT="statevent";function Ee(h,v){N.call(this,pt.STAT_EVENT,h),this.stat=v}T(Ee,N);function ae(h){const v=Pn();be(v,new Ee(v,h))}pt.Ja="timingevent";function ci(h,v){N.call(this,pt.Ja,h),this.size=v}T(ci,N);function hi(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},v)}function ti(){this.g=!0}ti.prototype.ua=function(){this.g=!1};function gl(h,v,b,x,H,W){h.info(function(){if(h.g)if(W){var gt="",Lt=W.split("&");for(let oe=0;oe<Lt.length;oe++){var qe=Lt[oe].split("=");if(qe.length>1){const De=qe[0];qe=qe[1];const pi=De.split("_");gt=pi.length>=2&&pi[1]=="type"?gt+(De+"="+qe+"&"):gt+(De+"=redacted&")}}}else gt=null;else gt=W;return"XMLHTTP REQ ("+x+") [attempt "+H+"]: "+v+`
`+b+`
`+gt})}function Xa(h,v,b,x,H,W,gt){h.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+H+"]: "+v+`
`+b+`
`+W+" "+gt})}function ln(h,v,b,x){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+yl(h,b)+(x?" "+x:"")})}function As(h,v){h.info(function(){return"TIMEOUT: "+v})}ti.prototype.info=function(){};function yl(h,v){if(!h.g)return v;if(!v)return null;try{const W=JSON.parse(v);if(W){for(h=0;h<W.length;h++)if(Array.isArray(W[h])){var b=W[h];if(!(b.length<2)){var x=b[1];if(Array.isArray(x)&&!(x.length<1)){var H=x[0];if(H!="noop"&&H!="stop"&&H!="close")for(let gt=1;gt<x.length;gt++)x[gt]=""}}}}return Zn(W)}catch{return v}}var Zi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},kn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},sa;function ws(){}T(ws,Ji),ws.prototype.g=function(){return new XMLHttpRequest},sa=new ws;function V(h){return encodeURIComponent(String(h))}function et(h){var v=1;h=h.split(":");const b=[];for(;v>0&&h.length;)b.push(h.shift()),v--;return h.length&&b.push(h.join(":")),b}function Y(h,v,b,x){this.j=h,this.i=v,this.l=b,this.S=x||1,this.V=new Vi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Z}function Z(){this.i=null,this.g="",this.h=!1}var B={},st={};function Tt(h,v,b){h.M=1,h.A=ra(Ae(v)),h.u=b,h.R=!0,At(h,null)}function At(h,v){h.F=Date.now(),Bt(h),h.B=Ae(h.A);var b=h.B,x=h.S;Array.isArray(x)||(x=[String(x)]),Za(b.i,"t",x),h.C=0,b=h.j.L,h.h=new Z,h.g=yc(h.j,b?v:null,!h.u),h.P>0&&(h.O=new me(g(h.Y,h,h.g),h.P)),v=h.V,b=h.g,x=h.ba;var H="readystatechange";Array.isArray(H)||(H&&(Oi[0]=H.toString()),H=Oi);for(let W=0;W<H.length;W++){const gt=se(b,H[W],x||v.handleEvent,!1,v.h||v);if(!gt)break;v.g[gt.key]=gt}v=h.J?j(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),qt(),gl(h.i,h.v,h.B,h.l,h.S,h.u)}Y.prototype.ba=function(h){h=h.target;const v=this.O;v&&ji(h)==3?v.j():this.Y(h)},Y.prototype.Y=function(h){try{if(h==this.g)t:{const Lt=ji(this.g),qe=this.g.ya(),oe=this.g.ca();if(!(Lt<3)&&(Lt!=3||this.g&&(this.h.h||this.g.la()||gn(this.g)))){this.K||Lt!=4||qe==7||(qe==8||oe<=0?qt(3):qt(2)),je(this);var v=this.g.ca();this.X=v;var b=ue(this);if(this.o=v==200,Xa(this.i,this.v,this.B,this.l,this.S,Lt,v),this.o){if(this.U&&!this.L){e:{if(this.g){var x,H=this.g;if((x=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(x)){var W=x;break e}}W=null}if(h=W)ln(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,fi(this,h);else{this.o=!1,this.m=3,ae(12),jn(this),pn(this);break t}}if(this.R){h=!0;let De;for(;!this.K&&this.C<b.length;)if(De=un(this,b),De==st){Lt==4&&(this.m=4,ae(14),h=!1),ln(this.i,this.l,null,"[Incomplete Response]");break}else if(De==B){this.m=4,ae(15),ln(this.i,this.l,b,"[Invalid Chunk]"),h=!1;break}else ln(this.i,this.l,De,null),fi(this,De);if(mn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Lt!=4||b.length!=0||this.h.h||(this.m=1,ae(16),h=!1),this.o=this.o&&h,!h)ln(this.i,this.l,b,"[Invalid Chunked Response]"),jn(this),pn(this);else if(b.length>0&&!this.W){this.W=!0;var gt=this.j;gt.g==this&&gt.aa&&!gt.P&&(gt.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Rl(gt),gt.P=!0,ae(11))}}else ln(this.i,this.l,b,null),fi(this,b);Lt==4&&jn(this),this.o&&!this.K&&(Lt==4?dc(this.j,this):(this.o=!1,Bt(this)))}else Rs(this.g),v==400&&b.indexOf("Unknown SID")>0?(this.m=3,ae(12)):(this.m=0,ae(13)),jn(this),pn(this)}}}catch{}finally{}};function ue(h){if(!mn(h))return h.g.la();const v=gn(h.g);if(v==="")return"";let b="";const x=v.length,H=ji(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return jn(h),pn(h),"";h.h.i=new c.TextDecoder}for(let W=0;W<x;W++)h.h.h=!0,b+=h.h.i.decode(v[W],{stream:!(H&&W==x-1)});return v.length=0,h.h.g+=b,h.C=0,h.h.g}function mn(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function un(h,v){var b=h.C,x=v.indexOf(`
`,b);return x==-1?st:(b=Number(v.substring(b,x)),isNaN(b)?B:(x+=1,x+b>v.length?st:(v=v.slice(x,x+b),h.C=x+b,v)))}Y.prototype.cancel=function(){this.K=!0,jn(this)};function Bt(h){h.T=Date.now()+h.H,ee(h,h.H)}function ee(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=hi(g(h.aa,h),v)}function je(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Y.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(As(this.i,this.B),this.M!=2&&(qt(),ae(17)),jn(this),this.m=2,pn(this)):ee(this,this.T-h)};function pn(h){h.j.I==0||h.K||dc(h.j,h)}function jn(h){je(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,Es(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function fi(h,v){try{var b=h.j;if(b.I!=0&&(b.g==h||Cn(b.h,h))){if(!h.L&&Cn(b.h,h)&&b.I==3){try{var x=b.Ba.g.parse(v)}catch{x=null}if(Array.isArray(x)&&x.length==3){var H=x;if(H[0]==0){t:if(!b.v){if(b.g)if(b.g.F+3e3<h.F)so(b),fr(b);else break t;fa(b),ae(18)}}else b.xa=H[1],0<b.xa-b.K&&H[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=hi(g(b.Va,b),6e3));Rn(b.h)<=1&&b.ta&&(b.ta=void 0)}else rs(b,11)}else if((h.L||b.g==h)&&so(b),!M(v))for(H=b.Ba.g.parse(v),v=0;v<H.length;v++){let oe=H[v];const De=oe[0];if(!(De<=b.K))if(b.K=De,oe=oe[1],b.I==2)if(oe[0]=="c"){b.M=oe[1],b.ba=oe[2];const pi=oe[3];pi!=null&&(b.ka=pi,b.j.info("VER="+b.ka));const as=oe[4];as!=null&&(b.za=as,b.j.info("SVER="+b.za));const Li=oe[5];Li!=null&&typeof Li=="number"&&Li>0&&(x=1.5*Li,b.O=x,b.j.info("backChannelRequestTimeoutMs_="+x)),x=b;const Ui=h.g;if(Ui){const da=Ui.g?Ui.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(da){var W=x.h;W.g||da.indexOf("spdy")==-1&&da.indexOf("quic")==-1&&da.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(ir(W,W.h),W.h=null))}if(x.G){const ro=Ui.g?Ui.g.getResponseHeader("X-HTTP-Session-Id"):null;ro&&(x.wa=ro,he(x.J,x.G,ro))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-h.F,b.j.info("Handshake RTT: "+b.T+"ms")),x=b;var gt=h;if(x.na=gc(x,x.L?x.ba:null,x.W),gt.L){sr(x.h,gt);var Lt=gt,qe=x.O;qe&&(Lt.H=qe),Lt.D&&(je(Lt),Bt(Lt)),x.g=gt}else hc(x);b.i.length>0&&ss(b)}else oe[0]!="stop"&&oe[0]!="close"||rs(b,7);else b.I==3&&(oe[0]=="stop"||oe[0]=="close"?oe[0]=="stop"?rs(b,7):wl(b):oe[0]!="noop"&&b.l&&b.l.qa(oe),b.A=0)}}qt(4)}catch{}}var Le=class{constructor(h,v){this.g=h,this.map=v}};function He(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ni(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Rn(h){return h.h?1:h.g?h.g.size:0}function Cn(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function ir(h,v){h.g?h.g.add(v):h.h=v}function sr(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}He.prototype.cancel=function(){if(this.i=Wa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Wa(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const b of h.g.values())v=v.concat(b.G);return v}return C(h.i)}var $a=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ie(h,v){if(h){h=h.split("&");for(let b=0;b<h.length;b++){const x=h[b].indexOf("=");let H,W=null;x>=0?(H=h[b].substring(0,x),W=h[b].substring(x+1)):H=h[b],v(H,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function sn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof sn?(this.l=h.l,cn(this,h.j),this.o=h.o,this.g=h.g,rr(this,h.u),this.h=h.h,vl(this,uc(h.i)),this.m=h.m):h&&(v=String(h).match($a))?(this.l=!1,cn(this,v[1]||"",!0),this.o=ts(v[2]||""),this.g=ts(v[3]||"",!0),rr(this,v[4]),this.h=ts(v[5]||"",!0),vl(this,v[6]||"",!0),this.m=ts(v[7]||"")):(this.l=!1,this.i=new or(null,this.l))}sn.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(aa(v,Ja,!0),":");var b=this.g;return(b||v=="file")&&(h.push("//"),(v=this.o)&&h.push(aa(v,Ja,!0),"@"),h.push(V(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&h.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&h.push("/"),h.push(aa(b,b.charAt(0)=="/"?_l:ac,!0))),(b=this.i.toString())&&h.push("?",b),(b=this.m)&&h.push("#",aa(b,oc)),h.join("")},sn.prototype.resolve=function(h){const v=Ae(this);let b=!!h.j;b?cn(v,h.j):b=!!h.o,b?v.o=h.o:b=!!h.g,b?v.g=h.g:b=h.u!=null;var x=h.h;if(b)rr(v,h.u);else if(b=!!h.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var H=v.h.lastIndexOf("/");H!=-1&&(x=v.h.slice(0,H+1)+x)}if(H=x,H==".."||H==".")x="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){x=H.lastIndexOf("/",0)==0,H=H.split("/");const W=[];for(let gt=0;gt<H.length;){const Lt=H[gt++];Lt=="."?x&&gt==H.length&&W.push(""):Lt==".."?((W.length>1||W.length==1&&W[0]!="")&&W.pop(),x&&gt==H.length&&W.push("")):(W.push(Lt),x=!0)}x=W.join("/")}else x=H}return b?v.h=x:b=h.i.toString()!=="",b?vl(v,uc(h.i)):b=!!h.m,b&&(v.m=h.m),v};function Ae(h){return new sn(h)}function cn(h,v,b){h.j=b?ts(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function rr(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function vl(h,v,b){v instanceof or?(h.i=v,to(h.i,h.l)):(b||(v=aa(v,ar)),h.i=new or(v,h.l))}function he(h,v,b){h.i.set(v,b)}function ra(h){return he(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function ts(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function aa(h,v,b){return typeof h=="string"?(h=encodeURI(h).replace(v,Hn),b&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Hn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ja=/[#\/\?@]/g,ac=/[#\?:]/g,_l=/[#\?]/g,ar=/[#\?@]/g,oc=/#/g;function or(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function qn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ie(h.i,function(v,b){h.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}i=or.prototype,i.add=function(h,v){qn(this),this.i=null,h=lr(this,h);let b=this.g.get(h);return b||this.g.set(h,b=[]),b.push(v),this.h+=1,this};function lc(h,v){qn(h),v=lr(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Tl(h,v){return qn(h),v=lr(h,v),h.g.has(v)}i.forEach=function(h,v){qn(this),this.g.forEach(function(b,x){b.forEach(function(H){h.call(v,H,x,this)},this)},this)};function bl(h,v){qn(h);let b=[];if(typeof v=="string")Tl(h,v)&&(b=b.concat(h.g.get(lr(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)b=b.concat(h[v]);return b}i.set=function(h,v){return qn(this),this.i=null,h=lr(this,h),Tl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},i.get=function(h,v){return h?(h=bl(this,h),h.length>0?String(h[0]):v):v};function Za(h,v,b){lc(h,v),b.length>0&&(h.i=null,h.g.set(lr(h,v),C(b)),h.h+=b.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let x=0;x<v.length;x++){var b=v[x];const H=V(b);b=bl(this,b);for(let W=0;W<b.length;W++){let gt=H;b[W]!==""&&(gt+="="+V(b[W])),h.push(gt)}}return this.i=h.join("&")};function uc(h){const v=new or;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function lr(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function to(h,v){v&&!h.j&&(qn(h),h.i=null,h.g.forEach(function(b,x){const H=x.toLowerCase();x!=H&&(lc(this,x),Za(this,H,b))},h)),h.j=v}function Pi(h,v){const b=new ti;if(c.Image){const x=new Image;x.onload=y(di,b,"TestLoadImage: loaded",!0,v,x),x.onerror=y(di,b,"TestLoadImage: error",!1,v,x),x.onabort=y(di,b,"TestLoadImage: abort",!1,v,x),x.ontimeout=y(di,b,"TestLoadImage: timeout",!1,v,x),c.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=h}else v(!1)}function Sl(h,v){const b=new ti,x=new AbortController,H=setTimeout(()=>{x.abort(),di(b,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:x.signal}).then(W=>{clearTimeout(H),W.ok?di(b,"TestPingServer: ok",!0,v):di(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(H),di(b,"TestPingServer: error",!1,v)})}function di(h,v,b,x,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),x(b)}catch{}}function ur(){this.g=new er}function es(h){this.i=h.Sb||null,this.h=h.ab||!1}T(es,Ji),es.prototype.g=function(){return new oa(this.i,this.h)};function oa(h,v){Ce.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(oa,Ce),i=oa.prototype,i.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,ki(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||c).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,cr(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ki(this)),this.g&&(this.readyState=3,ki(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;eo(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function eo(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?cr(this):ki(this),this.readyState==3&&eo(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,cr(this))},i.Na=function(h){this.g&&(this.response=h,cr(this))},i.ga=function(){this.g&&cr(this)};function cr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ki(h)}i.setRequestHeader=function(h,v){this.A.append(h,v)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,h.push(b[0]+": "+b[1]),b=v.next();return h.join(`\r
`)};function ki(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(oa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function mi(h){let v="";return It(h,function(b,x){v+=x,v+=":",v+=b,v+=`\r
`}),v}function la(h,v,b){t:{for(x in b){var x=!1;break t}x=!0}x||(b=mi(b),typeof h=="string"?b!=null&&V(b):he(h,v,b))}function pe(h){Ce.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(pe,Ce);var ns=/^https?$/i,El=["POST","PUT"];i=pe.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,v,b,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():sa.g(),this.g.onreadystatechange=E(g(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(W){ua(this,W);return}if(h=b||"",b=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var H in x)b.set(H,x[H]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const W of x.keys())b.set(W,x.get(W));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(b.keys()).find(W=>W.toLowerCase()=="content-type"),H=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(El,v,void 0)>=0)||x||H||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,gt]of b)this.g.setRequestHeader(W,gt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(W){ua(this,W)}};function ua(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,Al(h),xs(h)}function Al(h){h.A||(h.A=!0,be(h,"complete"),be(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,be(this,"complete"),be(this,"abort"),xs(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xs(this,!0)),pe.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?ca(this):this.Xa())},i.Xa=function(){ca(this)};function ca(h){if(h.h&&typeof u<"u"){if(h.v&&ji(h)==4)setTimeout(h.Ca.bind(h),0);else if(be(h,"readystatechange"),ji(h)==4){h.h=!1;try{const W=h.ca();t:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var b;if(!(b=v)){var x;if(x=W===0){let gt=String(h.D).match($a)[1]||null;!gt&&c.self&&c.self.location&&(gt=c.self.location.protocol.slice(0,-1)),x=!ns.test(gt?gt.toLowerCase():"")}b=x}if(b)be(h,"complete"),be(h,"success");else{h.o=6;try{var H=ji(h)>2?h.g.statusText:""}catch{H=""}h.l=H+" ["+h.ca()+"]",Al(h)}}finally{xs(h)}}}}function xs(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const b=h.g;h.g=null,v||be(h,"ready");try{b.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function ji(h){return h.g?h.g.readyState:0}i.ca=function(){try{return ji(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),ia(v)}};function gn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Rs(h){const v={};h=(h.g&&ji(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<h.length;x++){if(M(h[x]))continue;var b=et(h[x]);const H=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const W=v[H]||[];v[H]=W,W.push(b)}Vt(v,function(x){return x.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function is(h,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[h]||v}function hr(h){this.za=0,this.i=[],this.j=new ti,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=is("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=is("baseRetryDelayMs",5e3,h),this.Za=is("retryDelaySeedMs",1e4,h),this.Ta=is("forwardChannelMaxRetries",2,h),this.va=is("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new He(h&&h.concurrentRequestLimit),this.Ba=new ur,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=hr.prototype,i.ka=8,i.I=1,i.connect=function(h,v,b,x){ae(0),this.W=h,this.H=v||{},b&&x!==void 0&&(this.H.OSID=b,this.H.OAID=x),this.F=this.X,this.J=gc(this,null,this.W),ss(this)};function wl(h){if(no(h),h.I==3){var v=h.V++,b=Ae(h.J);if(he(b,"SID",h.M),he(b,"RID",v),he(b,"TYPE","terminate"),ha(h,b),v=new Y(h,h.j,v),v.M=2,v.A=ra(Ae(b)),b=!1,c.navigator&&c.navigator.sendBeacon)try{b=c.navigator.sendBeacon(v.A.toString(),"")}catch{}!b&&c.Image&&(new Image().src=v.A,b=!0),b||(v.g=yc(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Bt(v)}pc(h)}function fr(h){h.g&&(Rl(h),h.g.cancel(),h.g=null)}function no(h){fr(h),h.v&&(c.clearTimeout(h.v),h.v=null),so(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function ss(h){if(!Ni(h.h)&&!h.m){h.m=!0;var v=h.Ea;mt||w(),dt||(mt(),dt=!0),R.add(v,h),h.D=0}}function io(h,v){return Rn(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=hi(g(h.Ea,h,v),mc(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const H=new Y(this,this.j,h);let W=this.o;if(this.U&&(W?(W=j(W),yt(W,this.U)):W=this.U),this.u!==null||this.R||(H.J=W,W=null),this.S)t:{for(var v=0,b=0;b<this.i.length;b++){e:{var x=this.i[b];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break e}x=void 0}if(x===void 0)break;if(v+=x,v>4096){v=b;break t}if(v===4096||b===this.i.length-1){v=b+1;break t}}v=1e3}else v=1e3;v=cc(this,H,v),b=Ae(this.J),he(b,"RID",h),he(b,"CVER",22),this.G&&he(b,"X-HTTP-Session-Id",this.G),ha(this,b),W&&(this.R?v="headers="+V(mi(W))+"&"+v:this.u&&la(b,this.u,W)),ir(this.h,H),this.Ra&&he(b,"TYPE","init"),this.S?(he(b,"$req",v),he(b,"SID","null"),H.U=!0,Tt(H,b,null)):Tt(H,b,v),this.I=2}}else this.I==3&&(h?xl(this,h):this.i.length==0||Ni(this.h)||xl(this))};function xl(h,v){var b;v?b=v.l:b=h.V++;const x=Ae(h.J);he(x,"SID",h.M),he(x,"RID",b),he(x,"AID",h.K),ha(h,x),h.u&&h.o&&la(x,h.u,h.o),b=new Y(h,h.j,b,h.D+1),h.u===null&&(b.J=h.o),v&&(h.i=v.G.concat(h.i)),v=cc(h,b,1e3),b.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),ir(h.h,b),Tt(b,x,v)}function ha(h,v){h.H&&It(h.H,function(b,x){he(v,x,b)}),h.l&&It({},function(b,x){he(v,x,b)})}function cc(h,v,b){b=Math.min(h.i.length,b);const x=h.l?g(h.l.Ka,h.l,h):null;t:{var H=h.i;let Lt=-1;for(;;){const qe=["count="+b];Lt==-1?b>0?(Lt=H[0].g,qe.push("ofs="+Lt)):Lt=0:qe.push("ofs="+Lt);let oe=!0;for(let De=0;De<b;De++){var W=H[De].g;const pi=H[De].map;if(W-=Lt,W<0)Lt=Math.max(0,H[De].g-100),oe=!1;else try{W="req"+W+"_"||"";try{var gt=pi instanceof Map?pi:Object.entries(pi);for(const[as,Li]of gt){let Ui=Li;m(Li)&&(Ui=Zn(Li)),qe.push(W+as+"="+encodeURIComponent(Ui))}}catch(as){throw qe.push(W+"type="+encodeURIComponent("_badmap")),as}}catch{x&&x(pi)}}if(oe){gt=qe.join("&");break t}}gt=void 0}return h=h.i.splice(0,b),v.G=h,gt}function hc(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;mt||w(),dt||(mt(),dt=!0),R.add(v,h),h.A=0}}function fa(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=hi(g(h.Da,h),mc(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,fc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=hi(g(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ae(10),fr(this),fc(this))};function Rl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function fc(h){h.g=new Y(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=Ae(h.na);he(v,"RID","rpc"),he(v,"SID",h.M),he(v,"AID",h.K),he(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&he(v,"TO",h.ia),he(v,"TYPE","xmlhttp"),ha(h,v),h.u&&h.o&&la(v,h.u,h.o),h.O&&(h.g.H=h.O);var b=h.g;h=h.ba,b.M=1,b.A=ra(Ae(v)),b.u=null,b.R=!0,At(b,h)}i.Va=function(){this.C!=null&&(this.C=null,fr(this),fa(this),ae(19))};function so(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function dc(h,v){var b=null;if(h.g==v){so(h),Rl(h),h.g=null;var x=2}else if(Cn(h.h,v))b=v.G,sr(h.h,v),x=1;else return;if(h.I!=0){if(v.o)if(x==1){b=v.u?v.u.length:0,v=Date.now()-v.F;var H=h.D;x=Pn(),be(x,new ci(x,b)),ss(h)}else hc(h);else if(H=v.m,H==3||H==0&&v.X>0||!(x==1&&io(h,v)||x==2&&fa(h)))switch(b&&b.length>0&&(v=h.h,v.i=v.i.concat(b)),H){case 1:rs(h,5);break;case 4:rs(h,10);break;case 3:rs(h,6);break;default:rs(h,2)}}}function mc(h,v){let b=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(b*=2),b*v}function rs(h,v){if(h.j.info("Error code "+v),v==2){var b=g(h.bb,h),x=h.Ua;const H=!x;x=new sn(x||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||cn(x,"https"),ra(x),H?Pi(x.toString(),b):Sl(x.toString(),b)}else ae(2);h.I=0,h.l&&h.l.pa(v),pc(h),no(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),ae(2)):(this.j.info("Failed to ping google.com"),ae(1))};function pc(h){if(h.I=0,h.ja=[],h.l){const v=Wa(h.h);(v.length!=0||h.i.length!=0)&&(k(h.ja,v),k(h.ja,h.i),h.h.i.length=0,C(h.i),h.i.length=0),h.l.oa()}}function gc(h,v,b){var x=b instanceof sn?Ae(b):new sn(b);if(x.g!="")v&&(x.g=v+"."+x.g),rr(x,x.u);else{var H=c.location;x=H.protocol,v=v?v+"."+H.hostname:H.hostname,H=+H.port;const W=new sn(null);x&&cn(W,x),v&&(W.g=v),H&&rr(W,H),b&&(W.h=b),x=W}return b=h.G,v=h.wa,b&&v&&he(x,b,v),he(x,"VER",h.ka),ha(h,x),x}function yc(h,v,b){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new pe(new es({ab:b})):new pe(h.ma),v.Fa(h.L),v}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function vc(){}i=vc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function dr(){}dr.prototype.g=function(h,v){return new Ln(h,v)};function Ln(h,v){Ce.call(this),this.g=new hr(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!M(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!M(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Cs(this)}T(Ln,Ce),Ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ln.prototype.close=function(){wl(this.g)},Ln.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var b={};b.__data__=h,h=b}else this.v&&(b={},b.__data__=Zn(h),h=b);v.i.push(new Le(v.Ya++,h)),v.I==3&&ss(v)},Ln.prototype.N=function(){this.g.l=null,delete this.j,wl(this.g),delete this.g,Ln.Z.N.call(this)};function _c(h){Fe.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){t:{for(const b in v){h=b;break t}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}T(_c,Fe);function Tc(){xn.call(this),this.status=1}T(Tc,xn);function Cs(h){this.g=h}T(Cs,vc),Cs.prototype.ra=function(){be(this.g,"a")},Cs.prototype.qa=function(h){be(this.g,new _c(h))},Cs.prototype.pa=function(h){be(this.g,new Tc)},Cs.prototype.oa=function(){be(this.g,"b")},dr.prototype.createWebChannel=dr.prototype.g,Ln.prototype.send=Ln.prototype.o,Ln.prototype.open=Ln.prototype.m,Ln.prototype.close=Ln.prototype.close,BS=function(){return new dr},zS=function(){return Pn()},US=pt,Sp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Zi.NO_ERROR=0,Zi.TIMEOUT=8,Zi.HTTP_ERROR=6,Lh=Zi,kn.COMPLETE="complete",LS=kn,nr.EventType=wn,wn.OPEN="a",wn.CLOSE="b",wn.ERROR="c",wn.MESSAGE="d",Ce.prototype.listen=Ce.prototype.J,du=nr,pe.prototype.listenOnce=pe.prototype.K,pe.prototype.getLastError=pe.prototype.Ha,pe.prototype.getLastErrorCode=pe.prototype.ya,pe.prototype.getStatus=pe.prototype.ca,pe.prototype.getResponseJson=pe.prototype.La,pe.prototype.getResponseText=pe.prototype.la,pe.prototype.send=pe.prototype.ea,pe.prototype.setWithCredentials=pe.prototype.Fa,jS=pe}).apply(typeof wh<"u"?wh:typeof self<"u"?self:typeof window<"u"?window:{});const jT="@firebase/firestore",LT="4.9.2";class Mn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Mn.UNAUTHENTICATED=new Mn(null),Mn.GOOGLE_CREDENTIALS=new Mn("google-credentials-uid"),Mn.FIRST_PARTY=new Mn("first-party-uid"),Mn.MOCK_USER=new Mn("mock-user");let ul="12.3.0";const Ha=new ag("@firebase/firestore");function ko(){return Ha.logLevel}function _t(i,...t){if(Ha.logLevel<=Xt.DEBUG){const e=t.map(_g);Ha.debug(`Firestore (${ul}): ${i}`,...e)}}function Ws(i,...t){if(Ha.logLevel<=Xt.ERROR){const e=t.map(_g);Ha.error(`Firestore (${ul}): ${i}`,...e)}}function Jo(i,...t){if(Ha.logLevel<=Xt.WARN){const e=t.map(_g);Ha.warn(`Firestore (${ul}): ${i}`,...e)}}function _g(i){if(typeof i=="string")return i;try{return(function(e){return JSON.stringify(e)})(i)}catch{return i}}function Mt(i,t,e){let r="Unexpected state";typeof t=="string"?r=t:e=t,FS(i,r,e)}function FS(i,t,e){let r=`FIRESTORE (${ul}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(e!==void 0)try{r+=" CONTEXT: "+JSON.stringify(e)}catch{r+=" CONTEXT: "+e}throw Ws(r),new Error(r)}function ce(i,t,e,r){let o="Unexpected state";typeof e=="string"?o=e:r=e,i||FS(t,o,r)}function jt(i,t){return i}const ht={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Et extends tr{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Kr{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class HS{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class vD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(Mn.UNAUTHENTICATED)))}shutdown(){}}class _D{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class TD{constructor(t){this.t=t,this.currentUser=Mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){ce(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,e(p)):Promise.resolve();let u=new Kr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Kr,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{_t("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(_t("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Kr)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((r=>this.i!==t?(_t("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ce(typeof r.accessToken=="string",31837,{l:r}),new HS(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ce(t===null||typeof t=="string",2055,{h:t}),new Mn(t)}}class bD{constructor(t,e,r){this.P=t,this.T=e,this.I=r,this.type="FirstParty",this.user=Mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class SD{constructor(t,e,r){this.P=t,this.T=e,this.I=r}getToken(){return Promise.resolve(new bD(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(Mn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class UT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ED{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){ce(this.o===void 0,3512);const r=u=>{u.error!=null&&_t("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,_t("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{_t("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):_t("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new UT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(ce(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new UT(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function AD(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let r=0;r<i;r++)e[r]=Math.floor(256*Math.random());return e}class Tg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=AD(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<e&&(r+=t.charAt(o[u]%62))}return r}}function Wt(i,t){return i<t?-1:i>t?1:0}function Ep(i,t){const e=Math.min(i.length,t.length);for(let r=0;r<e;r++){const o=i.charAt(r),u=t.charAt(r);if(o!==u)return Qm(o)===Qm(u)?Wt(o,u):Qm(o)?1:-1}return Wt(i.length,t.length)}const wD=55296,xD=57343;function Qm(i){const t=i.charCodeAt(0);return t>=wD&&t<=xD}function Zo(i,t,e){return i.length===t.length&&i.every(((r,o)=>e(r,t[o])))}const zT="__name__";class hs{constructor(t,e,r){e===void 0?e=0:e>t.length&&Mt(637,{offset:e,range:t.length}),r===void 0?r=t.length-e:r>t.length-e&&Mt(1746,{length:r,range:t.length-e}),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return hs.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof hs?t.forEach((r=>{e.push(r)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let o=0;o<r;o++){const u=hs.compareSegments(t.get(o),e.get(o));if(u!==0)return u}return Wt(t.length,e.length)}static compareSegments(t,e){const r=hs.isNumericId(t),o=hs.isNumericId(e);return r&&!o?-1:!r&&o?1:r&&o?hs.extractNumericId(t).compare(hs.extractNumericId(e)):Ep(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Gr.fromString(t.substring(4,t.length-2))}}class Ne extends hs{construct(t,e,r){return new Ne(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new Et(ht.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter((o=>o.length>0)))}return new Ne(e)}static emptyPath(){return new Ne([])}}const RD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class En extends hs{construct(t,e,r){return new En(t,e,r)}static isValidIdentifier(t){return RD.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),En.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zT}static keyField(){return new En([zT])}static fromServerFormat(t){const e=[];let r="",o=0;const u=()=>{if(r.length===0)throw new Et(ht.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let c=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new Et(ht.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Et(ht.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(r+=m,o++):(u(),o++)}if(u(),c)throw new Et(ht.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new En(e)}static emptyPath(){return new En([])}}class Rt{constructor(t){this.path=t}static fromPath(t){return new Rt(Ne.fromString(t))}static fromName(t){return new Rt(Ne.fromString(t).popFirst(5))}static empty(){return new Rt(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Ne.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Rt(new Ne(t.slice()))}}function CD(i,t,e){if(!e)throw new Et(ht.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function ID(i,t,e,r){if(t===!0&&r===!0)throw new Et(ht.INVALID_ARGUMENT,`${i} and ${e} cannot be used together.`)}function BT(i){if(!Rt.isDocumentKey(i))throw new Et(ht.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function qS(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function bg(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":Mt(12329,{type:typeof i})}function Vu(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new Et(ht.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=bg(i);throw new Et(ht.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return i}function nn(i,t){const e={typeString:i};return t&&(e.value=t),e}function $u(i,t){if(!qS(i))throw new Et(ht.INVALID_ARGUMENT,"JSON must be an object");let e;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in i)){e=`JSON missing required field: '${r}'`;break}const c=i[r];if(o&&typeof c!==o){e=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){e=`Expected '${r}' field to equal '${u.value}'`;break}}if(e)throw new Et(ht.INVALID_ARGUMENT,e);return!0}const FT=-62135596800,HT=1e6;class Re{static now(){return Re.fromMillis(Date.now())}static fromDate(t){return Re.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor((t-1e3*e)*HT);return new Re(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Et(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Et(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<FT)throw new Et(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Et(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/HT}_compareTo(t){return this.seconds===t.seconds?Wt(this.nanoseconds,t.nanoseconds):Wt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if($u(t,Re._jsonSchema))return new Re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-FT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Re._jsonSchemaVersion="firestore/timestamp/1.0",Re._jsonSchema={type:nn("string",Re._jsonSchemaVersion),seconds:nn("number"),nanoseconds:nn("number")};class Pt{static fromTimestamp(t){return new Pt(t)}static min(){return new Pt(new Re(0,0))}static max(){return new Pt(new Re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ou=-1;function DD(i,t){const e=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,o=Pt.fromTimestamp(r===1e9?new Re(e+1,0):new Re(e,r));return new Yr(o,Rt.empty(),t)}function MD(i){return new Yr(i.readTime,i.key,Ou)}class Yr{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new Yr(Pt.min(),Rt.empty(),Ou)}static max(){return new Yr(Pt.max(),Rt.empty(),Ou)}}function VD(i,t){let e=i.readTime.compareTo(t.readTime);return e!==0?e:(e=Rt.comparator(i.documentKey,t.documentKey),e!==0?e:Wt(i.largestBatchId,t.largestBatchId))}const OD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ND{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function cl(i){if(i.code!==ht.FAILED_PRECONDITION||i.message!==OD)throw i;_t("LocalStore","Unexpectedly lost primary lease")}class lt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new lt(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(e,u).next(r,o)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof lt?e:lt.resolve(e)}catch(e){return lt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):lt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):lt.reject(e)}static resolve(t){return new lt(((e,r)=>{e(t)}))}static reject(t){return new lt(((e,r)=>{r(t)}))}static waitFor(t){return new lt(((e,r)=>{let o=0,u=0,c=!1;t.forEach((m=>{++o,m.next((()=>{++u,c&&u===o&&e()}),(p=>r(p)))})),c=!0,u===o&&e()}))}static or(t){let e=lt.resolve(!1);for(const r of t)e=e.next((o=>o?lt.resolve(o):r()));return e}static forEach(t,e){const r=[];return t.forEach(((o,u)=>{r.push(e.call(this,o,u))})),this.waitFor(r)}static mapArray(t,e){return new lt(((r,o)=>{const u=t.length,c=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;e(t[g]).next((y=>{c[g]=y,++m,m===u&&r(c)}),(y=>o(y)))}}))}static doWhile(t,e){return new lt(((r,o)=>{const u=()=>{t()===!0?e().next((()=>{u()}),o):r()};u()}))}}function PD(i){const t=i.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function hl(i){return i.name==="IndexedDbTransactionError"}class xf{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>e.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}xf.ce=-1;const Sg=-1;function Rf(i){return i==null}function sf(i){return i===0&&1/i==-1/0}function kD(i){return typeof i=="number"&&Number.isInteger(i)&&!sf(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const GS="";function jD(i){let t="";for(let e=0;e<i.length;e++)t.length>0&&(t=qT(t)),t=LD(i.get(e),t);return qT(t)}function LD(i,t){let e=t;const r=i.length;for(let o=0;o<r;o++){const u=i.charAt(o);switch(u){case"\0":e+="";break;case GS:e+="";break;default:e+=u}}return e}function qT(i){return i+GS+""}function GT(i){let t=0;for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t++;return t}function Ga(i,t){for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t(e,i[e])}function KS(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}class ke{constructor(t,e){this.comparator=t,this.root=e||Sn.EMPTY}insert(t,e){return new ke(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Sn.BLACK,null,null))}remove(t){return new ke(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Sn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return e+r.left.size;o<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,r)=>(t(e,r),!1)))}toString(){const t=[];return this.inorderTraversal(((e,r)=>(t.push(`${e}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new xh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new xh(this.root,t,this.comparator,!1)}getReverseIterator(){return new xh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new xh(this.root,t,this.comparator,!0)}}class xh{constructor(t,e,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=e?r(t.key,e):1,e&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Sn{constructor(t,e,r,o,u){this.key=t,this.value=e,this.color=r??Sn.RED,this.left=o??Sn.EMPTY,this.right=u??Sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,o,u){return new Sn(t??this.key,e??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,e,r),null):u===0?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Sn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),e(t,o.key)===0){if(o.right.isEmpty())return Sn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Mt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Mt(27949);return t+(this.isRed()?0:1)}}Sn.EMPTY=null,Sn.RED=!0,Sn.BLACK=!1;Sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Mt(57766)}get value(){throw Mt(16141)}get color(){throw Mt(16727)}get left(){throw Mt(29726)}get right(){throw Mt(36894)}copy(t,e,r,o,u){return this}insert(t,e,r){return new Sn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class on{constructor(t){this.comparator=t,this.data=new ke(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,r)=>(t(e),!1)))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new KT(this.data.getIterator())}getIteratorFrom(t){return new KT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((r=>{e=e.add(r)})),e}isEqual(t){if(!(t instanceof on)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new on(this.comparator);return e.data=t,e}}class KT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Yi{constructor(t){this.fields=t,t.sort(En.comparator)}static empty(){return new Yi([])}unionWith(t){let e=new on(En.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new Yi(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Zo(this.fields,t.fields,((e,r)=>e.isEqual(r)))}}class YS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class An{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new YS("Invalid base64 string: "+u):u}})(t);return new An(e)}static fromUint8Array(t){const e=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new An(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Wt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}An.EMPTY_BYTE_STRING=new An("");const UD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qr(i){if(ce(!!i,39018),typeof i=="string"){let t=0;const e=UD.exec(i);if(ce(!!e,46558,{timestamp:i}),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Qe(i.seconds),nanos:Qe(i.nanos)}}function Qe(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Xr(i){return typeof i=="string"?An.fromBase64String(i):An.fromUint8Array(i)}const QS="server_timestamp",XS="__type__",WS="__previous_value__",$S="__local_write_time__";function Eg(i){return(i?.mapValue?.fields||{})[XS]?.stringValue===QS}function Cf(i){const t=i.mapValue.fields[WS];return Eg(t)?Cf(t):t}function Nu(i){const t=Qr(i.mapValue.fields[$S].timestampValue);return new Re(t.seconds,t.nanos)}class zD{constructor(t,e,r,o,u,c,m,p,g,y){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=y}}const rf="(default)";class Pu{constructor(t,e){this.projectId=t,this.database=e||rf}static empty(){return new Pu("","")}get isDefaultDatabase(){return this.database===rf}isEqual(t){return t instanceof Pu&&t.projectId===this.projectId&&t.database===this.database}}const JS="__type__",BD="__max__",Rh={mapValue:{}},ZS="__vector__",af="value";function Wr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Eg(i)?4:HD(i)?9007199254740991:FD(i)?10:11:Mt(28295,{value:i})}function Ts(i,t){if(i===t)return!0;const e=Wr(i);if(e!==Wr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return Nu(i).isEqual(Nu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=Qr(o.timestampValue),m=Qr(u.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(i,t);case 5:return i.stringValue===t.stringValue;case 6:return(function(o,u){return Xr(o.bytesValue).isEqual(Xr(u.bytesValue))})(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return(function(o,u){return Qe(o.geoPointValue.latitude)===Qe(u.geoPointValue.latitude)&&Qe(o.geoPointValue.longitude)===Qe(u.geoPointValue.longitude)})(i,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Qe(o.integerValue)===Qe(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=Qe(o.doubleValue),m=Qe(u.doubleValue);return c===m?sf(c)===sf(m):isNaN(c)&&isNaN(m)}return!1})(i,t);case 9:return Zo(i.arrayValue.values||[],t.arrayValue.values||[],Ts);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},m=u.mapValue.fields||{};if(GT(c)!==GT(m))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(m[p]===void 0||!Ts(c[p],m[p])))return!1;return!0})(i,t);default:return Mt(52216,{left:i})}}function ku(i,t){return(i.values||[]).find((e=>Ts(e,t)))!==void 0}function tl(i,t){if(i===t)return 0;const e=Wr(i),r=Wr(t);if(e!==r)return Wt(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return Wt(i.booleanValue,t.booleanValue);case 2:return(function(u,c){const m=Qe(u.integerValue||u.doubleValue),p=Qe(c.integerValue||c.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,t);case 3:return YT(i.timestampValue,t.timestampValue);case 4:return YT(Nu(i),Nu(t));case 5:return Ep(i.stringValue,t.stringValue);case 6:return(function(u,c){const m=Xr(u),p=Xr(c);return m.compareTo(p)})(i.bytesValue,t.bytesValue);case 7:return(function(u,c){const m=u.split("/"),p=c.split("/");for(let g=0;g<m.length&&g<p.length;g++){const y=Wt(m[g],p[g]);if(y!==0)return y}return Wt(m.length,p.length)})(i.referenceValue,t.referenceValue);case 8:return(function(u,c){const m=Wt(Qe(u.latitude),Qe(c.latitude));return m!==0?m:Wt(Qe(u.longitude),Qe(c.longitude))})(i.geoPointValue,t.geoPointValue);case 9:return QT(i.arrayValue,t.arrayValue);case 10:return(function(u,c){const m=u.fields||{},p=c.fields||{},g=m[af]?.arrayValue,y=p[af]?.arrayValue,T=Wt(g?.values?.length||0,y?.values?.length||0);return T!==0?T:QT(g,y)})(i.mapValue,t.mapValue);case 11:return(function(u,c){if(u===Rh.mapValue&&c===Rh.mapValue)return 0;if(u===Rh.mapValue)return 1;if(c===Rh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=c.fields||{},y=Object.keys(g);p.sort(),y.sort();for(let T=0;T<p.length&&T<y.length;++T){const E=Ep(p[T],y[T]);if(E!==0)return E;const C=tl(m[p[T]],g[y[T]]);if(C!==0)return C}return Wt(p.length,y.length)})(i.mapValue,t.mapValue);default:throw Mt(23264,{he:e})}}function YT(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return Wt(i,t);const e=Qr(i),r=Qr(t),o=Wt(e.seconds,r.seconds);return o!==0?o:Wt(e.nanos,r.nanos)}function QT(i,t){const e=i.values||[],r=t.values||[];for(let o=0;o<e.length&&o<r.length;++o){const u=tl(e[o],r[o]);if(u)return u}return Wt(e.length,r.length)}function el(i){return Ap(i)}function Ap(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(e){const r=Qr(e);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(e){return Xr(e).toBase64()})(i.bytesValue):"referenceValue"in i?(function(e){return Rt.fromName(e).toString()})(i.referenceValue):"geoPointValue"in i?(function(e){return`geo(${e.latitude},${e.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(e){let r="[",o=!0;for(const u of e.values||[])o?o=!1:r+=",",r+=Ap(u);return r+"]"})(i.arrayValue):"mapValue"in i?(function(e){const r=Object.keys(e.fields||{}).sort();let o="{",u=!0;for(const c of r)u?u=!1:o+=",",o+=`${c}:${Ap(e.fields[c])}`;return o+"}"})(i.mapValue):Mt(61005,{value:i})}function Uh(i){switch(Wr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Cf(i);return t?16+Uh(t):16;case 5:return 2*i.stringValue.length;case 6:return Xr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Uh(u)),0)})(i.arrayValue);case 10:case 11:return(function(r){let o=0;return Ga(r.fields,((u,c)=>{o+=u.length+Uh(c)})),o})(i.mapValue);default:throw Mt(13486,{value:i})}}function wp(i){return!!i&&"integerValue"in i}function Ag(i){return!!i&&"arrayValue"in i}function XT(i){return!!i&&"nullValue"in i}function WT(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function zh(i){return!!i&&"mapValue"in i}function FD(i){return(i?.mapValue?.fields||{})[JS]?.stringValue===ZS}function Tu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const t={mapValue:{fields:{}}};return Ga(i.mapValue.fields,((e,r)=>t.mapValue.fields[e]=Tu(r))),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(i.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Tu(i.arrayValue.values[e]);return t}return{...i}}function HD(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===BD}class xi{constructor(t){this.value=t}static empty(){return new xi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!zh(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Tu(e)}setAll(t){let e=En.emptyPath(),r={},o=[];t.forEach(((c,m)=>{if(!e.isImmediateParentOf(m)){const p=this.getFieldsMap(e);this.applyChanges(p,r,o),r={},o=[],e=m.popLast()}c?r[m.lastSegment()]=Tu(c):o.push(m.lastSegment())}));const u=this.getFieldsMap(e);this.applyChanges(u,r,o)}delete(t){const e=this.field(t.popLast());zh(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ts(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=e.mapValue.fields[t.get(r)];zh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,r){Ga(e,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new xi(Tu(this.value))}}function tE(i){const t=[];return Ga(i.fields,((e,r)=>{const o=new En([e]);if(zh(r)){const u=tE(r.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)})),new Yi(t)}class Vn{constructor(t,e,r,o,u,c,m){this.key=t,this.documentType=e,this.version=r,this.readTime=o,this.createTime=u,this.data=c,this.documentState=m}static newInvalidDocument(t){return new Vn(t,0,Pt.min(),Pt.min(),Pt.min(),xi.empty(),0)}static newFoundDocument(t,e,r,o){return new Vn(t,1,e,Pt.min(),r,o,0)}static newNoDocument(t,e){return new Vn(t,2,e,Pt.min(),Pt.min(),xi.empty(),0)}static newUnknownDocument(t,e){return new Vn(t,3,e,Pt.min(),Pt.min(),xi.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=xi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=xi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Vn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class of{constructor(t,e){this.position=t,this.inclusive=e}}function $T(i,t,e){let r=0;for(let o=0;o<i.position.length;o++){const u=t[o],c=i.position[o];if(u.field.isKeyField()?r=Rt.comparator(Rt.fromName(c.referenceValue),e.key):r=tl(c,e.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function JT(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let e=0;e<i.position.length;e++)if(!Ts(i.position[e],t.position[e]))return!1;return!0}class lf{constructor(t,e="asc"){this.field=t,this.dir=e}}function qD(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}class eE{}class an extends eE{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,r):new KD(t,e,r):e==="array-contains"?new XD(t,r):e==="in"?new WD(t,r):e==="not-in"?new $D(t,r):e==="array-contains-any"?new JD(t,r):new an(t,e,r)}static createKeyFieldInFilter(t,e,r){return e==="in"?new YD(t,r):new QD(t,r)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(tl(e,this.value)):e!==null&&Wr(this.value)===Wr(e)&&this.matchesComparison(tl(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bs extends eE{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new bs(t,e)}matches(t){return nE(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function nE(i){return i.op==="and"}function iE(i){return GD(i)&&nE(i)}function GD(i){for(const t of i.filters)if(t instanceof bs)return!1;return!0}function xp(i){if(i instanceof an)return i.field.canonicalString()+i.op.toString()+el(i.value);if(iE(i))return i.filters.map((t=>xp(t))).join(",");{const t=i.filters.map((e=>xp(e))).join(",");return`${i.op}(${t})`}}function sE(i,t){return i instanceof an?(function(r,o){return o instanceof an&&r.op===o.op&&r.field.isEqual(o.field)&&Ts(r.value,o.value)})(i,t):i instanceof bs?(function(r,o){return o instanceof bs&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,c,m)=>u&&sE(c,o.filters[m])),!0):!1})(i,t):void Mt(19439)}function rE(i){return i instanceof an?(function(e){return`${e.field.canonicalString()} ${e.op} ${el(e.value)}`})(i):i instanceof bs?(function(e){return e.op.toString()+" {"+e.getFilters().map(rE).join(" ,")+"}"})(i):"Filter"}class KD extends an{constructor(t,e,r){super(t,e,r),this.key=Rt.fromName(r.referenceValue)}matches(t){const e=Rt.comparator(t.key,this.key);return this.matchesComparison(e)}}class YD extends an{constructor(t,e){super(t,"in",e),this.keys=aE("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class QD extends an{constructor(t,e){super(t,"not-in",e),this.keys=aE("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function aE(i,t){return(t.arrayValue?.values||[]).map((e=>Rt.fromName(e.referenceValue)))}class XD extends an{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Ag(e)&&ku(e.arrayValue,this.value)}}class WD extends an{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&ku(this.value.arrayValue,e)}}class $D extends an{constructor(t,e){super(t,"not-in",e)}matches(t){if(ku(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!ku(this.value.arrayValue,e)}}class JD extends an{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Ag(e)||!e.arrayValue.values)&&e.arrayValue.values.some((r=>ku(this.value.arrayValue,r)))}}class ZD{constructor(t,e=null,r=[],o=[],u=null,c=null,m=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=c,this.endAt=m,this.Te=null}}function ZT(i,t=null,e=[],r=[],o=null,u=null,c=null){return new ZD(i,t,e,r,o,u,c)}function wg(i){const t=jt(i);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((r=>xp(r))).join(","),e+="|ob:",e+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Rf(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((r=>el(r))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((r=>el(r))).join(",")),t.Te=e}return t.Te}function xg(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<i.orderBy.length;e++)if(!qD(i.orderBy[e],t.orderBy[e]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let e=0;e<i.filters.length;e++)if(!sE(i.filters[e],t.filters[e]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!JT(i.startAt,t.startAt)&&JT(i.endAt,t.endAt)}function Rp(i){return Rt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class If{constructor(t,e=null,r=[],o=[],u=null,c="F",m=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function tM(i,t,e,r,o,u,c,m){return new If(i,t,e,r,o,u,c,m)}function Rg(i){return new If(i)}function tb(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function eM(i){return i.collectionGroup!==null}function bu(i){const t=jt(i);if(t.Ie===null){t.Ie=[];const e=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),e.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new on(En.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(t).forEach((u=>{e.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new lf(u,r))})),e.has(En.keyField().canonicalString())||t.Ie.push(new lf(En.keyField(),r))}return t.Ie}function ds(i){const t=jt(i);return t.Ee||(t.Ee=nM(t,bu(i))),t.Ee}function nM(i,t){if(i.limitType==="F")return ZT(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new lf(o.field,u)}));const e=i.endAt?new of(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new of(i.startAt.position,i.startAt.inclusive):null;return ZT(i.path,i.collectionGroup,t,i.filters,i.limit,e,r)}}function Cp(i,t,e){return new If(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,e,i.startAt,i.endAt)}function Df(i,t){return xg(ds(i),ds(t))&&i.limitType===t.limitType}function oE(i){return`${wg(ds(i))}|lt:${i.limitType}`}function jo(i){return`Query(target=${(function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map((o=>rE(o))).join(", ")}]`),Rf(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((o=>el(o))).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((o=>el(o))).join(",")),`Target(${r})`})(ds(i))}; limitType=${i.limitType})`}function Mf(i,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):Rt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(i,t)&&(function(r,o){for(const u of bu(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(i,t)&&(function(r,o){return!(r.startAt&&!(function(c,m,p){const g=$T(c,m,p);return c.inclusive?g<=0:g<0})(r.startAt,bu(r),o)||r.endAt&&!(function(c,m,p){const g=$T(c,m,p);return c.inclusive?g>=0:g>0})(r.endAt,bu(r),o))})(i,t)}function iM(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function lE(i){return(t,e)=>{let r=!1;for(const o of bu(i)){const u=sM(o,t,e);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function sM(i,t,e){const r=i.field.isKeyField()?Rt.comparator(t.key,e.key):(function(u,c,m){const p=c.data.field(u),g=m.data.field(u);return p!==null&&g!==null?tl(p,g):Mt(42886)})(i.field,t,e);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return Mt(19790,{direction:i.dir})}}class Ka{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,e){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,e]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[e]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Ga(this.inner,((e,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return KS(this.inner)}size(){return this.innerSize}}const rM=new ke(Rt.comparator);function $s(){return rM}const uE=new ke(Rt.comparator);function mu(...i){let t=uE;for(const e of i)t=t.insert(e.key,e);return t}function cE(i){let t=uE;return i.forEach(((e,r)=>t=t.insert(e,r.overlayedDocument))),t}function Oa(){return Su()}function hE(){return Su()}function Su(){return new Ka((i=>i.toString()),((i,t)=>i.isEqual(t)))}const aM=new ke(Rt.comparator),oM=new on(Rt.comparator);function $t(...i){let t=oM;for(const e of i)t=t.add(e);return t}const lM=new on(Wt);function uM(){return lM}function Cg(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sf(t)?"-0":t}}function fE(i){return{integerValue:""+i}}function cM(i,t){return kD(t)?fE(t):Cg(i,t)}class Vf{constructor(){this._=void 0}}function hM(i,t,e){return i instanceof uf?(function(o,u){const c={fields:{[XS]:{stringValue:QS},[$S]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Eg(u)&&(u=Cf(u)),u&&(c.fields[WS]=u),{mapValue:c}})(e,t):i instanceof ju?mE(i,t):i instanceof Lu?pE(i,t):(function(o,u){const c=dE(o,u),m=eb(c)+eb(o.Ae);return wp(c)&&wp(o.Ae)?fE(m):Cg(o.serializer,m)})(i,t)}function fM(i,t,e){return i instanceof ju?mE(i,t):i instanceof Lu?pE(i,t):e}function dE(i,t){return i instanceof cf?(function(r){return wp(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class uf extends Vf{}class ju extends Vf{constructor(t){super(),this.elements=t}}function mE(i,t){const e=gE(t);for(const r of i.elements)e.some((o=>Ts(o,r)))||e.push(r);return{arrayValue:{values:e}}}class Lu extends Vf{constructor(t){super(),this.elements=t}}function pE(i,t){let e=gE(t);for(const r of i.elements)e=e.filter((o=>!Ts(o,r)));return{arrayValue:{values:e}}}class cf extends Vf{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function eb(i){return Qe(i.integerValue||i.doubleValue)}function gE(i){return Ag(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function dM(i,t){return i.field.isEqual(t.field)&&(function(r,o){return r instanceof ju&&o instanceof ju||r instanceof Lu&&o instanceof Lu?Zo(r.elements,o.elements,Ts):r instanceof cf&&o instanceof cf?Ts(r.Ae,o.Ae):r instanceof uf&&o instanceof uf})(i.transform,t.transform)}class mM{constructor(t,e){this.version=t,this.transformResults=e}}class Ys{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Ys}static exists(t){return new Ys(void 0,t)}static updateTime(t){return new Ys(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Bh(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class Of{}function yE(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new _E(i.key,Ys.none()):new Ju(i.key,i.data,Ys.none());{const e=i.data,r=xi.empty();let o=new on(En.comparator);for(let u of t.fields)if(!o.has(u)){let c=e.field(u);c===null&&u.length>1&&(u=u.popLast(),c=e.field(u)),c===null?r.delete(u):r.set(u,c),o=o.add(u)}return new Ya(i.key,r,new Yi(o.toArray()),Ys.none())}}function pM(i,t,e){i instanceof Ju?(function(o,u,c){const m=o.value.clone(),p=ib(o.fieldTransforms,u,c.transformResults);m.setAll(p),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(i,t,e):i instanceof Ya?(function(o,u,c){if(!Bh(o.precondition,u))return void u.convertToUnknownDocument(c.version);const m=ib(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(vE(o)),p.setAll(m),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(i,t,e):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function Eu(i,t,e,r){return i instanceof Ju?(function(u,c,m,p){if(!Bh(u.precondition,c))return m;const g=u.value.clone(),y=sb(u.fieldTransforms,p,c);return g.setAll(y),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(i,t,e,r):i instanceof Ya?(function(u,c,m,p){if(!Bh(u.precondition,c))return m;const g=sb(u.fieldTransforms,p,c),y=c.data;return y.setAll(vE(u)),y.setAll(g),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(i,t,e,r):(function(u,c,m){return Bh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(i,t,e)}function gM(i,t){let e=null;for(const r of i.fieldTransforms){const o=t.data.field(r.field),u=dE(r.transform,o||null);u!=null&&(e===null&&(e=xi.empty()),e.set(r.field,u))}return e||null}function nb(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Zo(r,o,((u,c)=>dM(u,c)))})(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class Ju extends Of{constructor(t,e,r,o=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ya extends Of{constructor(t,e,r,o,u=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function vE(i){const t=new Map;return i.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const r=i.data.field(e);t.set(e,r)}})),t}function ib(i,t,e){const r=new Map;ce(i.length===e.length,32656,{Re:e.length,Ve:i.length});for(let o=0;o<e.length;o++){const u=i[o],c=u.transform,m=t.data.field(u.field);r.set(u.field,fM(c,m,e[o]))}return r}function sb(i,t,e){const r=new Map;for(const o of i){const u=o.transform,c=e.data.field(o.field);r.set(o.field,hM(u,c,t))}return r}class _E extends Of{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yM extends Of{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class vM{constructor(t,e,r,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&pM(u,t,r[o])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=Eu(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=Eu(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=hE();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let m=this.applyToLocalView(c,u.mutatedFields);m=e.has(o.key)?null:m;const p=yE(c,m);p!==null&&r.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Pt.min())})),r}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),$t())}isEqual(t){return this.batchId===t.batchId&&Zo(this.mutations,t.mutations,((e,r)=>nb(e,r)))&&Zo(this.baseMutations,t.baseMutations,((e,r)=>nb(e,r)))}}class Ig{constructor(t,e,r,o){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=o}static from(t,e,r){ce(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return aM})();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,r[c].version);return new Ig(t,e,r,o)}}class _M{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class TM{constructor(t,e){this.count=t,this.unchangedNames=e}}var tn,Zt;function bM(i){switch(i){case ht.OK:return Mt(64938);case ht.CANCELLED:case ht.UNKNOWN:case ht.DEADLINE_EXCEEDED:case ht.RESOURCE_EXHAUSTED:case ht.INTERNAL:case ht.UNAVAILABLE:case ht.UNAUTHENTICATED:return!1;case ht.INVALID_ARGUMENT:case ht.NOT_FOUND:case ht.ALREADY_EXISTS:case ht.PERMISSION_DENIED:case ht.FAILED_PRECONDITION:case ht.ABORTED:case ht.OUT_OF_RANGE:case ht.UNIMPLEMENTED:case ht.DATA_LOSS:return!0;default:return Mt(15467,{code:i})}}function TE(i){if(i===void 0)return Ws("GRPC error has no .code"),ht.UNKNOWN;switch(i){case tn.OK:return ht.OK;case tn.CANCELLED:return ht.CANCELLED;case tn.UNKNOWN:return ht.UNKNOWN;case tn.DEADLINE_EXCEEDED:return ht.DEADLINE_EXCEEDED;case tn.RESOURCE_EXHAUSTED:return ht.RESOURCE_EXHAUSTED;case tn.INTERNAL:return ht.INTERNAL;case tn.UNAVAILABLE:return ht.UNAVAILABLE;case tn.UNAUTHENTICATED:return ht.UNAUTHENTICATED;case tn.INVALID_ARGUMENT:return ht.INVALID_ARGUMENT;case tn.NOT_FOUND:return ht.NOT_FOUND;case tn.ALREADY_EXISTS:return ht.ALREADY_EXISTS;case tn.PERMISSION_DENIED:return ht.PERMISSION_DENIED;case tn.FAILED_PRECONDITION:return ht.FAILED_PRECONDITION;case tn.ABORTED:return ht.ABORTED;case tn.OUT_OF_RANGE:return ht.OUT_OF_RANGE;case tn.UNIMPLEMENTED:return ht.UNIMPLEMENTED;case tn.DATA_LOSS:return ht.DATA_LOSS;default:return Mt(39323,{code:i})}}(Zt=tn||(tn={}))[Zt.OK=0]="OK",Zt[Zt.CANCELLED=1]="CANCELLED",Zt[Zt.UNKNOWN=2]="UNKNOWN",Zt[Zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zt[Zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zt[Zt.NOT_FOUND=5]="NOT_FOUND",Zt[Zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zt[Zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zt[Zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zt[Zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zt[Zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zt[Zt.ABORTED=10]="ABORTED",Zt[Zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zt[Zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zt[Zt.INTERNAL=13]="INTERNAL",Zt[Zt.UNAVAILABLE=14]="UNAVAILABLE",Zt[Zt.DATA_LOSS=15]="DATA_LOSS";function SM(){return new TextEncoder}const EM=new Gr([4294967295,4294967295],0);function rb(i){const t=SM().encode(i),e=new kS;return e.update(t),new Uint8Array(e.digest())}function ab(i){const t=new DataView(i.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Gr([e,r],0),new Gr([o,u],0)]}class Dg{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new pu(`Invalid padding: ${e}`);if(r<0)throw new pu(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new pu(`Invalid hash count: ${r}`);if(t.length===0&&e!==0)throw new pu(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=Gr.fromNumber(this.ge)}ye(t,e,r){let o=t.add(e.multiply(Gr.fromNumber(r)));return o.compare(EM)===1&&(o=new Gr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=rb(t),[r,o]=ab(e);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);if(!this.we(c))return!1}return!0}static create(t,e,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new Dg(u,o,e);return r.forEach((m=>c.insert(m))),c}insert(t){if(this.ge===0)return;const e=rb(t),[r,o]=ab(e);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);this.Se(c)}}Se(t){const e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}}class pu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Nf{constructor(t,e,r,o,u){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const o=new Map;return o.set(t,Zu.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new Nf(Pt.min(),o,new ke(Wt),$s(),$t())}}class Zu{constructor(t,e,r,o,u){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new Zu(r,e,$t(),$t(),$t())}}class Fh{constructor(t,e,r,o){this.be=t,this.removedTargetIds=e,this.key=r,this.De=o}}class bE{constructor(t,e){this.targetId=t,this.Ce=e}}class SE{constructor(t,e,r=An.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=o}}class ob{constructor(){this.ve=0,this.Fe=lb(),this.Me=An.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=$t(),e=$t(),r=$t();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:r=r.add(o);break;default:Mt(38017,{changeType:u})}})),new Zu(this.Me,this.xe,t,e,r)}qe(){this.Oe=!1,this.Fe=lb()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ce(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class AM{constructor(t){this.Ge=t,this.ze=new Map,this.je=$s(),this.Je=Ch(),this.He=Ch(),this.Ye=new ke(Wt)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const r=this.nt(e);switch(t.state){case 0:this.rt(e)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),r.Le(t.resumeToken));break;default:Mt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((r,o)=>{this.rt(o)&&e(o)}))}st(t){const e=t.targetId,r=t.Ce.count,o=this.ot(e);if(o){const u=o.target;if(Rp(u))if(r===0){const c=new Rt(u.path);this.et(e,c,Vn.newNoDocument(c,Pt.min()))}else ce(r===1,20013,{expectedCount:r});else{const c=this._t(e);if(c!==r){const m=this.ut(t),p=m?this.ct(m,t,c):1;if(p!==0){this.it(e);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,g)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=e;let c,m;try{c=Xr(r).toUint8Array()}catch(p){if(p instanceof YS)return Jo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Dg(c,o,u)}catch(p){return Jo(p instanceof pu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(t,e,r){return e.Ce.count===r-this.Pt(t,e.targetId)?0:2}Pt(t,e){const r=this.Ge.getRemoteKeysForTarget(e);let o=0;return r.forEach((u=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(e,u,null),o++)})),o}Tt(t){const e=new Map;this.ze.forEach(((u,c)=>{const m=this.ot(c);if(m){if(u.current&&Rp(m.target)){const p=new Rt(m.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,Vn.newNoDocument(p,t))}u.Be&&(e.set(c,u.ke()),u.qe())}}));let r=$t();this.He.forEach(((u,c)=>{let m=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(t)));const o=new Nf(t,e,this.Ye,this.je,r);return this.je=$s(),this.Je=Ch(),this.He=Ch(),this.Ye=new ke(Wt),o}Xe(t,e){if(!this.rt(t))return;const r=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,r),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,e)?o.Qe(e,1):o.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),r&&(this.je=this.je.insert(e,r))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new ob,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new on(Wt),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new on(Wt),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||_t("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new ob),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Ch(){return new ke(Rt.comparator)}function lb(){return new ke(Rt.comparator)}const wM={asc:"ASCENDING",desc:"DESCENDING"},xM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RM={and:"AND",or:"OR"};class CM{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Ip(i,t){return i.useProto3Json||Rf(t)?t:{value:t}}function hf(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function EE(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function IM(i,t){return hf(i,t.toTimestamp())}function ms(i){return ce(!!i,49232),Pt.fromTimestamp((function(e){const r=Qr(e);return new Re(r.seconds,r.nanos)})(i))}function Mg(i,t){return Dp(i,t).canonicalString()}function Dp(i,t){const e=(function(o){return new Ne(["projects",o.projectId,"databases",o.database])})(i).child("documents");return t===void 0?e:e.child(t)}function AE(i){const t=Ne.fromString(i);return ce(IE(t),10190,{key:t.toString()}),t}function Mp(i,t){return Mg(i.databaseId,t.path)}function Xm(i,t){const e=AE(t);if(e.get(1)!==i.databaseId.projectId)throw new Et(ht.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+i.databaseId.projectId);if(e.get(3)!==i.databaseId.database)throw new Et(ht.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+i.databaseId.database);return new Rt(xE(e))}function wE(i,t){return Mg(i.databaseId,t)}function DM(i){const t=AE(i);return t.length===4?Ne.emptyPath():xE(t)}function Vp(i){return new Ne(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function xE(i){return ce(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function ub(i,t,e){return{name:Mp(i,t),fields:e.value.mapValue.fields}}function MM(i,t){let e;if("targetChange"in t){t.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Mt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,y){return g.useProto3Json?(ce(y===void 0||typeof y=="string",58123),An.fromBase64String(y||"")):(ce(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),An.fromUint8Array(y||new Uint8Array))})(i,t.targetChange.resumeToken),c=t.targetChange.cause,m=c&&(function(g){const y=g.code===void 0?ht.UNKNOWN:TE(g.code);return new Et(y,g.message||"")})(c);e=new SE(r,o,u,m||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=Xm(i,r.document.name),u=ms(r.document.updateTime),c=r.document.createTime?ms(r.document.createTime):Pt.min(),m=new xi({mapValue:{fields:r.document.fields}}),p=Vn.newFoundDocument(o,u,c,m),g=r.targetIds||[],y=r.removedTargetIds||[];e=new Fh(g,y,p.key,p)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=Xm(i,r.document),u=r.readTime?ms(r.readTime):Pt.min(),c=Vn.newNoDocument(o,u),m=r.removedTargetIds||[];e=new Fh([],m,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=Xm(i,r.document),u=r.removedTargetIds||[];e=new Fh([],u,o,null)}else{if(!("filter"in t))return Mt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,c=new TM(o,u),m=r.targetId;e=new bE(m,c)}}return e}function VM(i,t){let e;if(t instanceof Ju)e={update:ub(i,t.key,t.value)};else if(t instanceof _E)e={delete:Mp(i,t.key)};else if(t instanceof Ya)e={update:ub(i,t.key,t.data),updateMask:BM(t.fieldMask)};else{if(!(t instanceof yM))return Mt(16599,{Vt:t.type});e={verify:Mp(i,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((r=>(function(u,c){const m=c.transform;if(m instanceof uf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ju)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Lu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof cf)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw Mt(20930,{transform:c.transform})})(0,r)))),t.precondition.isNone||(e.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:IM(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Mt(27497)})(i,t.precondition)),e}function OM(i,t){return i&&i.length>0?(ce(t!==void 0,14353),i.map((e=>(function(o,u){let c=o.updateTime?ms(o.updateTime):ms(u);return c.isEqual(Pt.min())&&(c=ms(u)),new mM(c,o.transformResults||[])})(e,t)))):[]}function NM(i,t){return{documents:[wE(i,t.path)]}}function PM(i,t){const e={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=wE(i,o);const u=(function(g){if(g.length!==0)return CE(bs.create(g,"and"))})(t.filters);u&&(e.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((y=>(function(E){return{field:Lo(E.field),direction:LM(E.dir)}})(y)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const m=Ip(i,t.limit);return m!==null&&(e.structuredQuery.limit=m),t.startAt&&(e.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:e,parent:o}}function kM(i){let t=DM(i.parent);const e=i.structuredQuery,r=e.from?e.from.length:0;let o=null;if(r>0){ce(r===1,65062);const y=e.from[0];y.allDescendants?o=y.collectionId:t=t.child(y.collectionId)}let u=[];e.where&&(u=(function(T){const E=RE(T);return E instanceof bs&&iE(E)?E.getFilters():[E]})(e.where));let c=[];e.orderBy&&(c=(function(T){return T.map((E=>(function(k){return new lf(Uo(k.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(E)))})(e.orderBy));let m=null;e.limit&&(m=(function(T){let E;return E=typeof T=="object"?T.value:T,Rf(E)?null:E})(e.limit));let p=null;e.startAt&&(p=(function(T){const E=!!T.before,C=T.values||[];return new of(C,E)})(e.startAt));let g=null;return e.endAt&&(g=(function(T){const E=!T.before,C=T.values||[];return new of(C,E)})(e.endAt)),tM(t,o,c,u,m,"F",p,g)}function jM(i,t){const e=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Mt(28987,{purpose:o})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function RE(i){return i.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=Uo(e.unaryFilter.field);return an.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Uo(e.unaryFilter.field);return an.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Uo(e.unaryFilter.field);return an.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Uo(e.unaryFilter.field);return an.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Mt(61313);default:return Mt(60726)}})(i):i.fieldFilter!==void 0?(function(e){return an.create(Uo(e.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Mt(58110);default:return Mt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(e){return bs.create(e.compositeFilter.filters.map((r=>RE(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Mt(1026)}})(e.compositeFilter.op))})(i):Mt(30097,{filter:i})}function LM(i){return wM[i]}function UM(i){return xM[i]}function zM(i){return RM[i]}function Lo(i){return{fieldPath:i.canonicalString()}}function Uo(i){return En.fromServerFormat(i.fieldPath)}function CE(i){return i instanceof an?(function(e){if(e.op==="=="){if(WT(e.value))return{unaryFilter:{field:Lo(e.field),op:"IS_NAN"}};if(XT(e.value))return{unaryFilter:{field:Lo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(WT(e.value))return{unaryFilter:{field:Lo(e.field),op:"IS_NOT_NAN"}};if(XT(e.value))return{unaryFilter:{field:Lo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lo(e.field),op:UM(e.op),value:e.value}}})(i):i instanceof bs?(function(e){const r=e.getFilters().map((o=>CE(o)));return r.length===1?r[0]:{compositeFilter:{op:zM(e.op),filters:r}}})(i):Mt(54877,{filter:i})}function BM(i){const t=[];return i.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function IE(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class Br{constructor(t,e,r,o,u=Pt.min(),c=Pt.min(),m=An.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new Br(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class FM{constructor(t){this.yt=t}}function HM(i){const t=kM({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Cp(t,t.limit,"L"):t}class qM{constructor(){this.Cn=new GM}addToCollectionParentIndex(t,e){return this.Cn.add(e),lt.resolve()}getCollectionParents(t,e){return lt.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return lt.resolve()}deleteFieldIndex(t,e){return lt.resolve()}deleteAllFieldIndexes(t){return lt.resolve()}createTargetIndexes(t,e){return lt.resolve()}getDocumentsMatchingTarget(t,e){return lt.resolve(null)}getIndexType(t,e){return lt.resolve(0)}getFieldIndexes(t,e){return lt.resolve([])}getNextCollectionGroupToUpdate(t){return lt.resolve(null)}getMinOffset(t,e){return lt.resolve(Yr.min())}getMinOffsetFromCollectionGroup(t,e){return lt.resolve(Yr.min())}updateCollectionGroup(t,e,r){return lt.resolve()}updateIndexEntries(t,e){return lt.resolve()}}class GM{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e]||new on(Ne.comparator),u=!o.has(r);return this.index[e]=o.add(r),u}has(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e];return o&&o.has(r)}getEntries(t){return(this.index[t]||new on(Ne.comparator)).toArray()}}const cb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},DE=41943040;class Wn{static withCacheSize(t){return new Wn(t,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}Wn.DEFAULT_COLLECTION_PERCENTILE=10,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wn.DEFAULT=new Wn(DE,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wn.DISABLED=new Wn(-1,0,0);class nl{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new nl(0)}static cr(){return new nl(-1)}}const hb="LruGarbageCollector",KM=1048576;function fb([i,t],[e,r]){const o=Wt(i,e);return o===0?Wt(t,r):o}class YM{constructor(t){this.Ir=t,this.buffer=new on(fb),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();fb(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class QM{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){_t(hb,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){hl(e)?_t(hb,"Ignoring IndexedDB error during garbage collection: ",e):await cl(e)}await this.Vr(3e5)}))}}class XM{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((r=>Math.floor(e/100*r)))}nthSequenceNumber(t,e){if(e===0)return lt.resolve(xf.ce);const r=new YM(e);return this.mr.forEachTarget(t,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(t,e,r){return this.mr.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(_t("LruGarbageCollector","Garbage collection skipped; disabled"),lt.resolve(cb)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(_t("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cb):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let r,o,u,c,m,p,g;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(_t("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(t,o)))).next((T=>(r=T,m=Date.now(),this.removeTargets(t,r,e)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(t,r)))).next((T=>(g=Date.now(),ko()<=Xt.DEBUG&&_t("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-y}ms`),lt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function WM(i,t){return new XM(i,t)}class $M{constructor(){this.changes=new Ka((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Vn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return r!==void 0?lt.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class JM{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class ZM{constructor(t,e,r,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,e)))).next((o=>(r!==null&&Eu(r.mutation,o,Yi.empty(),Re.now()),o)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.getLocalViewOfDocuments(t,r,$t()).next((()=>r))))}getLocalViewOfDocuments(t,e,r=$t()){const o=Oa();return this.populateOverlays(t,o,e).next((()=>this.computeViews(t,e,o,r).next((u=>{let c=mu();return u.forEach(((m,p)=>{c=c.insert(m,p.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const r=Oa();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,$t())))}populateOverlays(t,e,r){const o=[];return r.forEach((u=>{e.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,m)=>{e.set(c,m)}))}))}computeViews(t,e,r,o){let u=$s();const c=Su(),m=(function(){return Su()})();return e.forEach(((p,g)=>{const y=r.get(g.key);o.has(g.key)&&(y===void 0||y.mutation instanceof Ya)?u=u.insert(g.key,g):y!==void 0?(c.set(g.key,y.mutation.getFieldMask()),Eu(y.mutation,g,y.mutation.getFieldMask(),Re.now())):c.set(g.key,Yi.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,y)=>c.set(g,y))),e.forEach(((g,y)=>m.set(g,new JM(y,c.get(g)??null)))),m)))}recalculateAndSaveOverlays(t,e){const r=Su();let o=new ke(((c,m)=>c-m)),u=$t();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const m of c)m.keys().forEach((p=>{const g=e.get(p);if(g===null)return;let y=r.get(p)||Yi.empty();y=m.applyToLocalView(g,y),r.set(p,y);const T=(o.get(m.batchId)||$t()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,y=p.value,T=hE();y.forEach((E=>{if(!u.has(E)){const C=yE(e.get(E),r.get(E));C!==null&&T.set(E,C),u=u.add(E)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,T))}return lt.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,e,r,o){return(function(c){return Rt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):eM(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,o):this.getDocumentsMatchingCollectionQuery(t,e,r,o)}getNextDocuments(t,e,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,o-u.size):lt.resolve(Oa());let m=Ou,p=u;return c.next((g=>lt.forEach(g,((y,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(y)?lt.resolve():this.remoteDocumentCache.getEntry(t,y).next((E=>{p=p.insert(y,E)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,$t()))).next((y=>({batchId:m,changes:cE(y)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Rt(e)).next((r=>{let o=mu();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,e,r,o){const u=e.collectionGroup;let c=mu();return this.indexManager.getCollectionParents(t,u).next((m=>lt.forEach(m,(p=>{const g=(function(T,E){return new If(E,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(e,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,r,o).next((y=>{y.forEach(((T,E)=>{c=c.insert(T,E)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,u,o)))).next((c=>{u.forEach(((p,g)=>{const y=g.getKey();c.get(y)===null&&(c=c.insert(y,Vn.newInvalidDocument(y)))}));let m=mu();return c.forEach(((p,g)=>{const y=u.get(p);y!==void 0&&Eu(y.mutation,g,Yi.empty(),Re.now()),Mf(e,g)&&(m=m.insert(p,g))})),m}))}}class tV{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return lt.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(o){return{id:o.id,version:o.version,createTime:ms(o.createTime)}})(e)),lt.resolve()}getNamedQuery(t,e){return lt.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(o){return{name:o.name,query:HM(o.bundledQuery),readTime:ms(o.readTime)}})(e)),lt.resolve()}}class eV{constructor(){this.overlays=new ke(Rt.comparator),this.qr=new Map}getOverlay(t,e){return lt.resolve(this.overlays.get(e))}getOverlays(t,e){const r=Oa();return lt.forEach(e,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,e,r){return r.forEach(((o,u)=>{this.St(t,e,u)})),lt.resolve()}removeOverlaysForBatchId(t,e,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),lt.resolve()}getOverlaysForCollection(t,e,r){const o=Oa(),u=e.length+1,c=new Rt(e.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>r&&o.set(p.getKey(),p)}return lt.resolve(o)}getOverlaysForCollectionGroup(t,e,r,o){let u=new ke(((g,y)=>g-y));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>r){let y=u.get(g.largestBatchId);y===null&&(y=Oa(),u=u.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const m=Oa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,y)=>m.set(g,y))),!(m.size()>=o)););return lt.resolve(m)}St(t,e,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new _M(e,r));let u=this.qr.get(e);u===void 0&&(u=$t(),this.qr.set(e,u)),this.qr.set(e,u.add(r.key))}}class nV{constructor(){this.sessionToken=An.EMPTY_BYTE_STRING}getSessionToken(t){return lt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,lt.resolve()}}class Vg{constructor(){this.Qr=new on(fn.$r),this.Ur=new on(fn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const r=new fn(t,e);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,e){t.forEach((r=>this.addReference(r,e)))}removeReference(t,e){this.Gr(new fn(t,e))}zr(t,e){t.forEach((r=>this.removeReference(r,e)))}jr(t){const e=new Rt(new Ne([])),r=new fn(e,t),o=new fn(e,t+1),u=[];return this.Ur.forEachInRange([r,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new Rt(new Ne([])),r=new fn(e,t),o=new fn(e,t+1);let u=$t();return this.Ur.forEachInRange([r,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const e=new fn(t,0),r=this.Qr.firstAfterOrEqual(e);return r!==null&&t.isEqual(r.key)}}class fn{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return Rt.comparator(t.key,e.key)||Wt(t.Yr,e.Yr)}static Kr(t,e){return Wt(t.Yr,e.Yr)||Rt.comparator(t.key,e.key)}}class iV{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new on(fn.$r)}checkEmpty(t){return lt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new vM(u,e,r,o);this.mutationQueue.push(c);for(const m of o)this.Zr=this.Zr.add(new fn(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return lt.resolve(c)}lookupMutationBatch(t,e){return lt.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,o=this.ei(r),u=o<0?0:o;return lt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return lt.resolve(this.mutationQueue.length===0?Sg:this.tr-1)}getAllMutationBatches(t){return lt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new fn(e,0),o=new fn(e,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(c=>{const m=this.Xr(c.Yr);u.push(m)})),lt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new on(Wt);return e.forEach((o=>{const u=new fn(o,0),c=new fn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(m=>{r=r.add(m.Yr)}))})),lt.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,o=r.length+1;let u=r;Rt.isDocumentKey(u)||(u=u.child(""));const c=new fn(new Rt(u),0);let m=new on(Wt);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),c),lt.resolve(this.ti(m))}ti(t){const e=[];return t.forEach((r=>{const o=this.Xr(r);o!==null&&e.push(o)})),e}removeMutationBatch(t,e){ce(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return lt.forEach(e.mutations,(o=>{const u=new fn(o.key,e.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,e){const r=new fn(e,0),o=this.Zr.firstAfterOrEqual(r);return lt.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,lt.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class sV{constructor(t){this.ri=t,this.docs=(function(){return new ke(Rt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,o=this.docs.get(r),u=o?o.size:0,c=this.ri(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return lt.resolve(r?r.document.mutableCopy():Vn.newInvalidDocument(e))}getEntries(t,e){let r=$s();return e.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Vn.newInvalidDocument(o))})),lt.resolve(r)}getDocumentsMatchingQuery(t,e,r,o){let u=$s();const c=e.path,m=new Rt(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:y}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||VD(MD(y),r)<=0||(o.has(y.key)||Mf(e,y))&&(u=u.insert(y.key,y.mutableCopy()))}return lt.resolve(u)}getAllFromCollectionGroup(t,e,r,o){Mt(9500)}ii(t,e){return lt.forEach(this.docs,(r=>e(r)))}newChangeBuffer(t){return new rV(this)}getSize(t){return lt.resolve(this.size)}}class rV extends $M{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?e.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(r)})),lt.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}class aV{constructor(t){this.persistence=t,this.si=new Ka((e=>wg(e)),xg),this.lastRemoteSnapshotVersion=Pt.min(),this.highestTargetId=0,this.oi=0,this._i=new Vg,this.targetCount=0,this.ai=nl.ur()}forEachTarget(t,e){return this.si.forEach(((r,o)=>e(o))),lt.resolve()}getLastRemoteSnapshotVersion(t){return lt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return lt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),lt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.oi&&(this.oi=e),lt.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new nl(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,lt.resolve()}updateTargetData(t,e){return this.Pr(e),lt.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,lt.resolve()}removeTargets(t,e,r){let o=0;const u=[];return this.si.forEach(((c,m)=>{m.sequenceNumber<=e&&r.get(m.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),lt.waitFor(u).next((()=>o))}getTargetCount(t){return lt.resolve(this.targetCount)}getTargetData(t,e){const r=this.si.get(e)||null;return lt.resolve(r)}addMatchingKeys(t,e,r){return this._i.Wr(e,r),lt.resolve()}removeMatchingKeys(t,e,r){this._i.zr(e,r);const o=this.persistence.referenceDelegate,u=[];return o&&e.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),lt.waitFor(u)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),lt.resolve()}getMatchingKeysForTargetId(t,e){const r=this._i.Hr(e);return lt.resolve(r)}containsKey(t,e){return lt.resolve(this._i.containsKey(e))}}class ME{constructor(t,e){this.ui={},this.overlays={},this.ci=new xf(0),this.li=!1,this.li=!0,this.hi=new nV,this.referenceDelegate=t(this),this.Pi=new aV(this),this.indexManager=new qM,this.remoteDocumentCache=(function(o){return new sV(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new FM(e),this.Ii=new tV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new eV,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.ui[t.toKey()];return r||(r=new iV(e,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,r){_t("MemoryPersistence","Starting transaction:",t);const o=new oV(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,e){return lt.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,e))))}}class oV extends ND{constructor(t){super(),this.currentSequenceNumber=t}}class Og{constructor(t){this.persistence=t,this.Ri=new Vg,this.Vi=null}static mi(t){return new Og(t)}get fi(){if(this.Vi)return this.Vi;throw Mt(60996)}addReference(t,e,r){return this.Ri.addReference(r,e),this.fi.delete(r.toString()),lt.resolve()}removeReference(t,e,r){return this.Ri.removeReference(r,e),this.fi.add(r.toString()),lt.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),lt.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return lt.forEach(this.fi,(r=>{const o=Rt.fromPath(r);return this.gi(t,o).next((u=>{u||e.removeEntry(o,Pt.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((r=>{r?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return lt.or([()=>lt.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class ff{constructor(t,e){this.persistence=t,this.pi=new Ka((r=>jD(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=WM(this,e)}static mi(t,e){return new ff(t,e)}Ei(){}di(t){return lt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>e.next((o=>r+o))))}wr(t){let e=0;return this.pr(t,(r=>{e++})).next((()=>e))}pr(t,e){return lt.forEach(this.pi,((r,o)=>this.br(t,r,o).next((u=>u?lt.resolve():e(o)))))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(c=>this.br(t,c,e).next((m=>{m||(r++,u.removeEntry(c,Pt.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),lt.resolve()}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),lt.resolve()}removeReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),lt.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),lt.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Uh(t.data.value)),e}br(t,e,r){return lt.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const o=this.pi.get(e);return lt.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Ng{constructor(t,e,r,o){this.targetId=t,this.fromCache=e,this.Es=r,this.ds=o}static As(t,e){let r=$t(),o=$t();for(const u of e.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Ng(t,e.fromCache,r,o)}}class lV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class uV{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return $R()?8:PD(Nn())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,r,o){const u={result:null};return this.ys(t,e).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(t,e,o,r).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new lV;return this.Ss(t,e,c).next((m=>{if(u.result=m,this.Vs)return this.bs(t,e,c,m.size)}))})).next((()=>u.result))}bs(t,e,r,o){return r.documentReadCount<this.fs?(ko()<=Xt.DEBUG&&_t("QueryEngine","SDK will not create cache indexes for query:",jo(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),lt.resolve()):(ko()<=Xt.DEBUG&&_t("QueryEngine","Query:",jo(e),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(ko()<=Xt.DEBUG&&_t("QueryEngine","The SDK decides to create cache indexes for query:",jo(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ds(e))):lt.resolve())}ys(t,e){if(tb(e))return lt.resolve(null);let r=ds(e);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(e.limit!==null&&o===1&&(e=Cp(e,null,"F"),r=ds(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const c=$t(...u);return this.ps.getDocuments(t,c).next((m=>this.indexManager.getMinOffset(t,r).next((p=>{const g=this.Ds(e,m);return this.Cs(e,g,c,p.readTime)?this.ys(t,Cp(e,null,"F")):this.vs(t,g,e,p)}))))})))))}ws(t,e,r,o){return tb(e)||o.isEqual(Pt.min())?lt.resolve(null):this.ps.getDocuments(t,r).next((u=>{const c=this.Ds(e,u);return this.Cs(e,c,r,o)?lt.resolve(null):(ko()<=Xt.DEBUG&&_t("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),jo(e)),this.vs(t,c,e,DD(o,Ou)).next((m=>m)))}))}Ds(t,e){let r=new on(lE(t));return e.forEach(((o,u)=>{Mf(t,u)&&(r=r.add(u))})),r}Cs(t,e,r,o){if(t.limit===null)return!1;if(r.size!==e.size)return!0;const u=t.limitType==="F"?e.last():e.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,e,r){return ko()<=Xt.DEBUG&&_t("QueryEngine","Using full collection scan to execute query:",jo(e)),this.ps.getDocumentsMatchingQuery(t,e,Yr.min(),r)}vs(t,e,r,o){return this.ps.getDocumentsMatchingQuery(t,r,o).next((u=>(e.forEach((c=>{u=u.insert(c.key,c)})),u)))}}const Pg="LocalStore",cV=3e8;class hV{constructor(t,e,r,o){this.persistence=t,this.Fs=e,this.serializer=o,this.Ms=new ke(Wt),this.xs=new Ka((u=>wg(u)),xg),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new ZM(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function fV(i,t,e,r){return new hV(i,t,e,r)}async function VE(i,t){const e=jt(i);return await e.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return e.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,e.Bs(t),e.mutationQueue.getAllMutationBatches(r)))).next((u=>{const c=[],m=[];let p=$t();for(const g of o){c.push(g.batchId);for(const y of g.mutations)p=p.add(y.key)}for(const g of u){m.push(g.batchId);for(const y of g.mutations)p=p.add(y.key)}return e.localDocuments.getDocuments(r,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:m})))}))}))}function dV(i,t){const e=jt(i);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,y){const T=g.batch,E=T.keys();let C=lt.resolve();return E.forEach((k=>{C=C.next((()=>y.getEntry(p,k))).next((D=>{const U=g.docVersions.get(k);ce(U!==null,48541),D.version.compareTo(U)<0&&(T.applyToRemoteDocument(D,g),D.isValidDocument()&&(D.setReadTime(g.commitVersion),y.addEntry(D)))}))})),C.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(e,r,t,u).next((()=>u.apply(r))).next((()=>e.mutationQueue.performConsistencyCheck(r))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let p=$t();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(t)))).next((()=>e.localDocuments.getDocuments(r,o)))}))}function OE(i){const t=jt(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function mV(i,t){const e=jt(i),r=t.snapshotVersion;let o=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=e.Ns.newChangeBuffer({trackRemovals:!0});o=e.Ms;const m=[];t.targetChanges.forEach(((y,T)=>{const E=o.get(T);if(!E)return;m.push(e.Pi.removeMatchingKeys(u,y.removedDocuments,T).next((()=>e.Pi.addMatchingKeys(u,y.addedDocuments,T))));let C=E.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?C=C.withResumeToken(An.EMPTY_BYTE_STRING,Pt.min()).withLastLimboFreeSnapshotVersion(Pt.min()):y.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(y.resumeToken,r)),o=o.insert(T,C),(function(D,U,X){return D.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=cV?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0})(E,C,y)&&m.push(e.Pi.updateTargetData(u,C))}));let p=$s(),g=$t();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&m.push(e.persistence.referenceDelegate.updateLimboDocument(u,y))})),m.push(pV(u,c,t.documentUpdates).next((y=>{p=y.ks,g=y.qs}))),!r.isEqual(Pt.min())){const y=e.Pi.getLastRemoteSnapshotVersion(u).next((T=>e.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(y)}return lt.waitFor(m).next((()=>c.apply(u))).next((()=>e.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(e.Ms=o,u)))}function pV(i,t,e){let r=$t(),o=$t();return e.forEach((u=>r=r.add(u))),t.getEntries(i,r).next((u=>{let c=$s();return e.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Pt.min())?(t.removeEntry(m,p.readTime),c=c.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),c=c.insert(m,p)):_t(Pg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function gV(i,t){const e=jt(i);return e.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Sg),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function yV(i,t){const e=jt(i);return e.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return e.Pi.getTargetData(r,t).next((u=>u?(o=u,lt.resolve(o)):e.Pi.allocateTargetId(r).next((c=>(o=new Br(t,c,"TargetPurposeListen",r.currentSequenceNumber),e.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=e.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(r.targetId,r),e.xs.set(t,r.targetId)),r}))}async function Op(i,t,e){const r=jt(i),o=r.Ms.get(t),u=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",u,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!hl(c))throw c;_t(Pg,`Failed to update sequence numbers for target ${t}: ${c}`)}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function db(i,t,e){const r=jt(i);let o=Pt.min(),u=$t();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,y){const T=jt(p),E=T.xs.get(y);return E!==void 0?lt.resolve(T.Ms.get(E)):T.Pi.getTargetData(g,y)})(r,c,ds(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,m.targetId).next((p=>{u=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,t,e?o:Pt.min(),e?u:$t()))).next((m=>(vV(r,iM(t),m),{documents:m,Qs:u})))))}function vV(i,t,e){let r=i.Os.get(t)||Pt.min();e.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),i.Os.set(t,r)}class mb{constructor(){this.activeTargetIds=uM()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class _V{constructor(){this.Mo=new mb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,r){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new mb,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class TV{Oo(t){}shutdown(){}}const pb="ConnectivityMonitor";class gb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){_t(pb,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){_t(pb,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ih=null;function Np(){return Ih===null?Ih=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ih++,"0x"+Ih.toString(16)}const Wm="RestConnection",bV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class SV{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===rf?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(t,e,r,o,u){const c=Np(),m=this.zo(t,e.toUriEncodedString());_t(Wm,`Sending RPC '${t}' ${c}:`,m,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),y=al(g);return this.Jo(t,m,p,r,y).then((T=>(_t(Wm,`Received RPC '${t}' ${c}: `,T),T)),(T=>{throw Jo(Wm,`RPC '${t}' ${c} failed with error: `,T,"url: ",m,"request:",r),T}))}Ho(t,e,r,o,u,c){return this.Go(t,e,r,o,u)}jo(t,e,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ul})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}zo(t,e){const r=bV[t];return`${this.Uo}/v1/${e}:${r}`}terminate(){}}class EV{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Dn="WebChannelConnection";class AV extends SV{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,r,o,u){const c=Np();return new Promise(((m,p)=>{const g=new jS;g.setWithCredentials(!0),g.listenOnce(LS.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Lh.NO_ERROR:const T=g.getResponseJson();_t(Dn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(T)),m(T);break;case Lh.TIMEOUT:_t(Dn,`RPC '${t}' ${c} timed out`),p(new Et(ht.DEADLINE_EXCEEDED,"Request time out"));break;case Lh.HTTP_ERROR:const E=g.getStatus();if(_t(Dn,`RPC '${t}' ${c} failed with status:`,E,"response text:",g.getResponseText()),E>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const k=C?.error;if(k&&k.status&&k.message){const D=(function(X){const tt=X.toLowerCase().replace(/_/g,"-");return Object.values(ht).indexOf(tt)>=0?tt:ht.UNKNOWN})(k.status);p(new Et(D,k.message))}else p(new Et(ht.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new Et(ht.UNAVAILABLE,"Connection failed."));break;default:Mt(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{_t(Dn,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(o);_t(Dn,`RPC '${t}' ${c} sending request:`,o),g.send(e,"POST",y,r,15)}))}T_(t,e,r){const o=Np(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=BS(),m=zS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,e,r),p.encodeInitMessageHeaders=!0;const y=u.join("");_t(Dn,`Creating RPC '${t}' stream ${o}: ${y}`,p);const T=c.createWebChannel(y,p);this.I_(T);let E=!1,C=!1;const k=new EV({Yo:U=>{C?_t(Dn,`Not sending because RPC '${t}' stream ${o} is closed:`,U):(E||(_t(Dn,`Opening RPC '${t}' stream ${o} transport.`),T.open(),E=!0),_t(Dn,`RPC '${t}' stream ${o} sending:`,U),T.send(U))},Zo:()=>T.close()}),D=(U,X,tt)=>{U.listen(X,(rt=>{try{tt(rt)}catch(ft){setTimeout((()=>{throw ft}),0)}}))};return D(T,du.EventType.OPEN,(()=>{C||(_t(Dn,`RPC '${t}' stream ${o} transport opened.`),k.o_())})),D(T,du.EventType.CLOSE,(()=>{C||(C=!0,_t(Dn,`RPC '${t}' stream ${o} transport closed`),k.a_(),this.E_(T))})),D(T,du.EventType.ERROR,(U=>{C||(C=!0,Jo(Dn,`RPC '${t}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),k.a_(new Et(ht.UNAVAILABLE,"The operation could not be completed")))})),D(T,du.EventType.MESSAGE,(U=>{if(!C){const X=U.data[0];ce(!!X,16349);const tt=X,rt=tt?.error||tt[0]?.error;if(rt){_t(Dn,`RPC '${t}' stream ${o} received error:`,rt);const ft=rt.status;let mt=(function(w){const I=tn[w];if(I!==void 0)return TE(I)})(ft),dt=rt.message;mt===void 0&&(mt=ht.INTERNAL,dt="Unknown error status: "+ft+" with message "+rt.message),C=!0,k.a_(new Et(mt,dt)),T.close()}else _t(Dn,`RPC '${t}' stream ${o} received:`,X),k.u_(X)}})),D(m,US.STAT_EVENT,(U=>{U.stat===Sp.PROXY?_t(Dn,`RPC '${t}' stream ${o} detected buffering proxy`):U.stat===Sp.NOPROXY&&_t(Dn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{k.__()}),0),k}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function $m(){return typeof document<"u"?document:null}function Pf(i){return new CM(i,!0)}class NE{constructor(t,e,r=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=e,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,e-r);o>0&&_t("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const yb="PersistentStream";class PE{constructor(t,e,r,o,u,c,m,p){this.Mi=t,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new NE(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===ht.RESOURCE_EXHAUSTED?(Ws(e.toString()),Ws("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===ht.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===e&&this.G_(r,o)}),(r=>{t((()=>{const o=new Et(ht.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,e){const r=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return _t(yb,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(_t(yb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class wV extends PE{constructor(t,e,r,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,o,c),this.serializer=u}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=MM(this.serializer,t),r=(function(u){if(!("targetChange"in u))return Pt.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?Pt.min():c.readTime?ms(c.readTime):Pt.min()})(t);return this.listener.H_(e,r)}Y_(t){const e={};e.database=Vp(this.serializer),e.addTarget=(function(u,c){let m;const p=c.target;if(m=Rp(p)?{documents:NM(u,p)}:{query:PM(u,p).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=EE(u,c.resumeToken);const g=Ip(u,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(Pt.min())>0){m.readTime=hf(u,c.snapshotVersion.toTimestamp());const g=Ip(u,c.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,t);const r=jM(this.serializer,t);r&&(e.labels=r),this.q_(e)}Z_(t){const e={};e.database=Vp(this.serializer),e.removeTarget=t,this.q_(e)}}class xV extends PE{constructor(t,e,r,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return ce(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ce(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ce(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=OM(t.writeResults,t.commitTime),r=ms(t.commitTime);return this.listener.na(r,e)}ra(){const t={};t.database=Vp(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((r=>VM(this.serializer,r)))};this.q_(e)}}class RV{}class CV extends RV{constructor(t,e,r,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Et(ht.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(t,Dp(e,r),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Et(ht.UNKNOWN,u.toString())}))}Ho(t,e,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.Ho(t,Dp(e,r),o,c,m,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Et(ht.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class IV{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ws(e),this.aa=!1):_t("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const qa="RemoteStore";class DV{constructor(t,e,r,o,u){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{Qa(this)&&(_t(qa,"Restarting streams for network reachability change."),await(async function(p){const g=jt(p);g.Ea.add(4),await tc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await kf(g)})(this))}))})),this.Ra=new IV(r,o)}}async function kf(i){if(Qa(i))for(const t of i.da)await t(!0)}async function tc(i){for(const t of i.da)await t(!1)}function kE(i,t){const e=jt(i);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),Ug(e)?Lg(e):fl(e).O_()&&jg(e,t))}function kg(i,t){const e=jt(i),r=fl(e);e.Ia.delete(t),r.O_()&&jE(e,t),e.Ia.size===0&&(r.O_()?r.L_():Qa(e)&&e.Ra.set("Unknown"))}function jg(i,t){if(i.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Pt.min())>0){const e=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}fl(i).Y_(t)}function jE(i,t){i.Va.Ue(t),fl(i).Z_(t)}function Lg(i){i.Va=new AM({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),At:t=>i.Ia.get(t)||null,ht:()=>i.datastore.serializer.databaseId}),fl(i).start(),i.Ra.ua()}function Ug(i){return Qa(i)&&!fl(i).x_()&&i.Ia.size>0}function Qa(i){return jt(i).Ea.size===0}function LE(i){i.Va=void 0}async function MV(i){i.Ra.set("Online")}async function VV(i){i.Ia.forEach(((t,e)=>{jg(i,t)}))}async function OV(i,t){LE(i),Ug(i)?(i.Ra.ha(t),Lg(i)):i.Ra.set("Unknown")}async function NV(i,t,e){if(i.Ra.set("Online"),t instanceof SE&&t.state===2&&t.cause)try{await(async function(o,u){const c=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.Va.removeTarget(m))})(i,t)}catch(r){_t(qa,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await df(i,r)}else if(t instanceof Fh?i.Va.Ze(t):t instanceof bE?i.Va.st(t):i.Va.tt(t),!e.isEqual(Pt.min()))try{const r=await OE(i.localStore);e.compareTo(r)>=0&&await(function(u,c){const m=u.Va.Tt(c);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const y=u.Ia.get(g);y&&u.Ia.set(g,y.withResumeToken(p.resumeToken,c))}})),m.targetMismatches.forEach(((p,g)=>{const y=u.Ia.get(p);if(!y)return;u.Ia.set(p,y.withResumeToken(An.EMPTY_BYTE_STRING,y.snapshotVersion)),jE(u,p);const T=new Br(y.target,p,g,y.sequenceNumber);jg(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(i,e)}catch(r){_t(qa,"Failed to raise snapshot:",r),await df(i,r)}}async function df(i,t,e){if(!hl(t))throw t;i.Ea.add(1),await tc(i),i.Ra.set("Offline"),e||(e=()=>OE(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{_t(qa,"Retrying IndexedDB access"),await e(),i.Ea.delete(1),await kf(i)}))}function UE(i,t){return t().catch((e=>df(i,e,t)))}async function jf(i){const t=jt(i),e=$r(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Sg;for(;PV(t);)try{const o=await gV(t.localStore,r);if(o===null){t.Ta.length===0&&e.L_();break}r=o.batchId,kV(t,o)}catch(o){await df(t,o)}zE(t)&&BE(t)}function PV(i){return Qa(i)&&i.Ta.length<10}function kV(i,t){i.Ta.push(t);const e=$r(i);e.O_()&&e.X_&&e.ea(t.mutations)}function zE(i){return Qa(i)&&!$r(i).x_()&&i.Ta.length>0}function BE(i){$r(i).start()}async function jV(i){$r(i).ra()}async function LV(i){const t=$r(i);for(const e of i.Ta)t.ea(e.mutations)}async function UV(i,t,e){const r=i.Ta.shift(),o=Ig.from(r,t,e);await UE(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await jf(i)}async function zV(i,t){t&&$r(i).X_&&await(async function(r,o){if((function(c){return bM(c)&&c!==ht.ABORTED})(o.code)){const u=r.Ta.shift();$r(r).B_(),await UE(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await jf(r)}})(i,t),zE(i)&&BE(i)}async function vb(i,t){const e=jt(i);e.asyncQueue.verifyOperationInProgress(),_t(qa,"RemoteStore received new credentials");const r=Qa(e);e.Ea.add(3),await tc(e),r&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await kf(e)}async function BV(i,t){const e=jt(i);t?(e.Ea.delete(2),await kf(e)):t||(e.Ea.add(2),await tc(e),e.Ra.set("Unknown"))}function fl(i){return i.ma||(i.ma=(function(e,r,o){const u=jt(e);return u.sa(),new wV(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:MV.bind(null,i),t_:VV.bind(null,i),r_:OV.bind(null,i),H_:NV.bind(null,i)}),i.da.push((async t=>{t?(i.ma.B_(),Ug(i)?Lg(i):i.Ra.set("Unknown")):(await i.ma.stop(),LE(i))}))),i.ma}function $r(i){return i.fa||(i.fa=(function(e,r,o){const u=jt(e);return u.sa(),new xV(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:jV.bind(null,i),r_:zV.bind(null,i),ta:LV.bind(null,i),na:UV.bind(null,i)}),i.da.push((async t=>{t?(i.fa.B_(),await jf(i)):(await i.fa.stop(),i.Ta.length>0&&(_t(qa,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class zg{constructor(t,e,r,o,u){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,o,u){const c=Date.now()+r,m=new zg(t,e,c,o,u);return m.start(r),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Et(ht.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bg(i,t){if(Ws("AsyncQueue",`${t}: ${i}`),hl(i))return new Et(ht.UNAVAILABLE,`${t}: ${i}`);throw i}class Qo{static emptySet(t){return new Qo(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||Rt.comparator(e.key,r.key):(e,r)=>Rt.comparator(e.key,r.key),this.keyedMap=mu(),this.sortedSet=new ke(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,r)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Qo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const r=new Qo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}class _b{constructor(){this.ga=new ke(Rt.comparator)}track(t){const e=t.doc.key,r=this.ga.get(e);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(e,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(e,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(e):t.type===1&&r.type===2?this.ga=this.ga.insert(e,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Mt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,r)=>{t.push(r)})),t}}class il{constructor(t,e,r,o,u,c,m,p,g){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,e,r,o,u){const c=[];return e.forEach((m=>{c.push({type:0,doc:m})})),new il(t,e,Qo.emptySet(e),c,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Df(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==r[o].type||!e[o].doc.isEqual(r[o].doc))return!1;return!0}}class FV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class HV{constructor(){this.queries=Tb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,r){const o=jt(e),u=o.queries;o.queries=Tb(),u.forEach(((c,m)=>{for(const p of m.Sa)p.onError(r)}))})(this,new Et(ht.ABORTED,"Firestore shutting down"))}}function Tb(){return new Ka((i=>oE(i)),Df)}async function qV(i,t){const e=jt(i);let r=3;const o=t.query;let u=e.queries.get(o);u?!u.ba()&&t.Da()&&(r=2):(u=new FV,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await e.onListen(o,!0);break;case 1:u.wa=await e.onListen(o,!1);break;case 2:await e.onFirstRemoteStoreListen(o)}}catch(c){const m=Bg(c,`Initialization of query '${jo(t.query)}' failed`);return void t.onError(m)}e.queries.set(o,u),u.Sa.push(t),t.va(e.onlineState),u.wa&&t.Fa(u.wa)&&Fg(e)}async function GV(i,t){const e=jt(i),r=t.query;let o=3;const u=e.queries.get(r);if(u){const c=u.Sa.indexOf(t);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function KV(i,t){const e=jt(i);let r=!1;for(const o of t){const u=o.query,c=e.queries.get(u);if(c){for(const m of c.Sa)m.Fa(o)&&(r=!0);c.wa=o}}r&&Fg(e)}function YV(i,t,e){const r=jt(i),o=r.queries.get(t);if(o)for(const u of o.Sa)u.onError(e);r.queries.delete(t)}function Fg(i){i.Ca.forEach((t=>{t.next()}))}var Pp,bb;(bb=Pp||(Pp={})).Ma="default",bb.Cache="cache";class QV{constructor(t,e,r){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new il(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const r=e!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=il.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Pp.Cache}}class FE{constructor(t){this.key=t}}class HE{constructor(t){this.key=t}}class XV{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=$t(),this.mutatedKeys=$t(),this.eu=lE(t),this.tu=new Qo(this.eu)}get nu(){return this.Ya}ru(t,e){const r=e?e.iu:new _b,o=e?e.tu:this.tu;let u=e?e.mutatedKeys:this.mutatedKeys,c=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((y,T)=>{const E=o.get(y),C=Mf(this.query,T)?T:null,k=!!E&&this.mutatedKeys.has(E.key),D=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let U=!1;E&&C?E.data.isEqual(C.data)?k!==D&&(r.track({type:3,doc:C}),U=!0):this.su(E,C)||(r.track({type:2,doc:C}),U=!0,(p&&this.eu(C,p)>0||g&&this.eu(C,g)<0)&&(m=!0)):!E&&C?(r.track({type:0,doc:C}),U=!0):E&&!C&&(r.track({type:1,doc:E}),U=!0,(p||g)&&(m=!0)),U&&(C?(c=c.add(C),u=D?u.add(y):u.delete(y)):(c=c.delete(y),u=u.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),u=u.delete(y.key),r.track({type:1,doc:y})}return{tu:c,iu:r,Cs:m,mutatedKeys:u}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,T)=>(function(C,k){const D=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Mt(20277,{Rt:U})}};return D(C)-D(k)})(y.type,T.type)||this.eu(y.doc,T.doc))),this.ou(r),o=o??!1;const m=e&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new il(this.query,t.tu,u,c,t.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new _b,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=$t(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const e=[];return t.forEach((r=>{this.Xa.has(r)||e.push(new HE(r))})),this.Xa.forEach((r=>{t.has(r)||e.push(new FE(r))})),e}cu(t){this.Ya=t.Qs,this.Xa=$t();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return il.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Hg="SyncEngine";class WV{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class $V{constructor(t){this.key=t,this.hu=!1}}class JV{constructor(t,e,r,o,u,c){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ka((m=>oE(m)),Df),this.Iu=new Map,this.Eu=new Set,this.du=new ke(Rt.comparator),this.Au=new Map,this.Ru=new Vg,this.Vu={},this.mu=new Map,this.fu=nl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ZV(i,t,e=!0){const r=XE(i);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await qE(r,t,e,!0),o}async function tO(i,t){const e=XE(i);await qE(e,t,!0,!1)}async function qE(i,t,e,r){const o=await yV(i.localStore,ds(t)),u=o.targetId,c=i.sharedClientState.addLocalQueryTarget(u,e);let m;return r&&(m=await eO(i,t,u,c==="current",o.resumeToken)),i.isPrimaryClient&&e&&kE(i.remoteStore,o),m}async function eO(i,t,e,r,o){i.pu=(T,E,C)=>(async function(D,U,X,tt){let rt=U.view.ru(X);rt.Cs&&(rt=await db(D.localStore,U.query,!1).then((({documents:R})=>U.view.ru(R,rt))));const ft=tt&&tt.targetChanges.get(U.targetId),mt=tt&&tt.targetMismatches.get(U.targetId)!=null,dt=U.view.applyChanges(rt,D.isPrimaryClient,ft,mt);return Eb(D,U.targetId,dt.au),dt.snapshot})(i,T,E,C);const u=await db(i.localStore,t,!0),c=new XV(t,u.Qs),m=c.ru(u.documents),p=Zu.createSynthesizedTargetChangeForCurrentChange(e,r&&i.onlineState!=="Offline",o),g=c.applyChanges(m,i.isPrimaryClient,p);Eb(i,e,g.au);const y=new WV(t,e,c);return i.Tu.set(t,y),i.Iu.has(e)?i.Iu.get(e).push(t):i.Iu.set(e,[t]),g.snapshot}async function nO(i,t,e){const r=jt(i),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((c=>!Df(c,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Op(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),e&&kg(r.remoteStore,o.targetId),kp(r,o.targetId)})).catch(cl)):(kp(r,o.targetId),await Op(r.localStore,o.targetId,!0))}async function iO(i,t){const e=jt(i),r=e.Tu.get(t),o=e.Iu.get(r.targetId);e.isPrimaryClient&&o.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),kg(e.remoteStore,r.targetId))}async function sO(i,t,e){const r=hO(i);try{const o=await(function(c,m){const p=jt(c),g=Re.now(),y=m.reduce(((C,k)=>C.add(k.key)),$t());let T,E;return p.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let k=$s(),D=$t();return p.Ns.getEntries(C,y).next((U=>{k=U,k.forEach(((X,tt)=>{tt.isValidDocument()||(D=D.add(X))}))})).next((()=>p.localDocuments.getOverlayedDocuments(C,k))).next((U=>{T=U;const X=[];for(const tt of m){const rt=gM(tt,T.get(tt.key).overlayedDocument);rt!=null&&X.push(new Ya(tt.key,rt,tE(rt.value.mapValue),Ys.exists(!0)))}return p.mutationQueue.addMutationBatch(C,g,X,m)})).next((U=>{E=U;const X=U.applyToLocalDocumentSet(T,D);return p.documentOverlayCache.saveOverlays(C,U.batchId,X)}))})).then((()=>({batchId:E.batchId,changes:cE(T)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(c,m,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new ke(Wt)),g=g.insert(m,p),c.Vu[c.currentUser.toKey()]=g})(r,o.batchId,e),await ec(r,o.changes),await jf(r.remoteStore)}catch(o){const u=Bg(o,"Failed to persist write");e.reject(u)}}async function GE(i,t){const e=jt(i);try{const r=await mV(e.localStore,t);t.targetChanges.forEach(((o,u)=>{const c=e.Au.get(u);c&&(ce(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?ce(c.hu,14607):o.removedDocuments.size>0&&(ce(c.hu,42227),c.hu=!1))})),await ec(e,r,t)}catch(r){await cl(r)}}function Sb(i,t,e){const r=jt(i);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){const o=[];r.Tu.forEach(((u,c)=>{const m=c.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const p=jt(c);p.onlineState=m;let g=!1;p.queries.forEach(((y,T)=>{for(const E of T.Sa)E.va(m)&&(g=!0)})),g&&Fg(p)})(r.eventManager,t),o.length&&r.Pu.H_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function rO(i,t,e){const r=jt(i);r.sharedClientState.updateQueryState(t,"rejected",e);const o=r.Au.get(t),u=o&&o.key;if(u){let c=new ke(Rt.comparator);c=c.insert(u,Vn.newNoDocument(u,Pt.min()));const m=$t().add(u),p=new Nf(Pt.min(),new Map,new ke(Wt),c,m);await GE(r,p),r.du=r.du.remove(u),r.Au.delete(t),qg(r)}else await Op(r.localStore,t,!1).then((()=>kp(r,t,e))).catch(cl)}async function aO(i,t){const e=jt(i),r=t.batch.batchId;try{const o=await dV(e.localStore,t);YE(e,r,null),KE(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await ec(e,o)}catch(o){await cl(o)}}async function oO(i,t,e){const r=jt(i);try{const o=await(function(c,m){const p=jt(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let y;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(ce(T!==null,37113),y=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,y,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y))).next((()=>p.localDocuments.getDocuments(g,y)))}))})(r.localStore,t);YE(r,t,e),KE(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),await ec(r,o)}catch(o){await cl(o)}}function KE(i,t){(i.mu.get(t)||[]).forEach((e=>{e.resolve()})),i.mu.delete(t)}function YE(i,t,e){const r=jt(i);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(e?u.reject(e):u.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function kp(i,t,e=null){i.sharedClientState.removeLocalQueryTarget(t);for(const r of i.Iu.get(t))i.Tu.delete(r),e&&i.Pu.yu(r,e);i.Iu.delete(t),i.isPrimaryClient&&i.Ru.jr(t).forEach((r=>{i.Ru.containsKey(r)||QE(i,r)}))}function QE(i,t){i.Eu.delete(t.path.canonicalString());const e=i.du.get(t);e!==null&&(kg(i.remoteStore,e),i.du=i.du.remove(t),i.Au.delete(e),qg(i))}function Eb(i,t,e){for(const r of e)r instanceof FE?(i.Ru.addReference(r.key,t),lO(i,r)):r instanceof HE?(_t(Hg,"Document no longer in limbo: "+r.key),i.Ru.removeReference(r.key,t),i.Ru.containsKey(r.key)||QE(i,r.key)):Mt(19791,{wu:r})}function lO(i,t){const e=t.key,r=e.path.canonicalString();i.du.get(e)||i.Eu.has(r)||(_t(Hg,"New document in limbo: "+e),i.Eu.add(r),qg(i))}function qg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const t=i.Eu.values().next().value;i.Eu.delete(t);const e=new Rt(Ne.fromString(t)),r=i.fu.next();i.Au.set(r,new $V(e)),i.du=i.du.insert(e,r),kE(i.remoteStore,new Br(ds(Rg(e.path)),r,"TargetPurposeLimboResolution",xf.ce))}}async function ec(i,t,e){const r=jt(i),o=[],u=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,p)=>{c.push(r.pu(p,t,e).then((g=>{if((g||e)&&r.isPrimaryClient){const y=g?!g.fromCache:e?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,y?"current":"not-current")}if(g){o.push(g);const y=Ng.As(p.targetId,g);u.push(y)}})))})),await Promise.all(c),r.Pu.H_(o),await(async function(p,g){const y=jt(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>lt.forEach(g,(E=>lt.forEach(E.Es,(C=>y.persistence.referenceDelegate.addReference(T,E.targetId,C))).next((()=>lt.forEach(E.ds,(C=>y.persistence.referenceDelegate.removeReference(T,E.targetId,C)))))))))}catch(T){if(!hl(T))throw T;_t(Pg,"Failed to update sequence numbers: "+T)}for(const T of g){const E=T.targetId;if(!T.fromCache){const C=y.Ms.get(E),k=C.snapshotVersion,D=C.withLastLimboFreeSnapshotVersion(k);y.Ms=y.Ms.insert(E,D)}}})(r.localStore,u))}async function uO(i,t){const e=jt(i);if(!e.currentUser.isEqual(t)){_t(Hg,"User change. New user:",t.toKey());const r=await VE(e.localStore,t);e.currentUser=t,(function(u,c){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new Et(ht.CANCELLED,c))}))})),u.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await ec(e,r.Ls)}}function cO(i,t){const e=jt(i),r=e.Au.get(t);if(r&&r.hu)return $t().add(r.key);{let o=$t();const u=e.Iu.get(t);if(!u)return o;for(const c of u){const m=e.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}function XE(i){const t=jt(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=GE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=cO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=rO.bind(null,t),t.Pu.H_=KV.bind(null,t.eventManager),t.Pu.yu=YV.bind(null,t.eventManager),t}function hO(i){const t=jt(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=aO.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=oO.bind(null,t),t}class mf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Pf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return fV(this.persistence,new uV,t.initialUser,this.serializer)}Cu(t){return new ME(Og.mi,this.serializer)}Du(t){return new _V}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mf.provider={build:()=>new mf};class fO extends mf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){ce(this.persistence.referenceDelegate instanceof ff,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new QM(r,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Wn.withCacheSize(this.cacheSizeBytes):Wn.DEFAULT;return new ME((r=>ff.mi(r,e)),this.serializer)}}class jp{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Sb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=uO.bind(null,this.syncEngine),await BV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new HV})()}createDatastore(t){const e=Pf(t.databaseInfo.databaseId),r=(function(u){return new AV(u)})(t.databaseInfo);return(function(u,c,m,p){return new CV(u,c,m,p)})(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return(function(r,o,u,c,m){return new DV(r,o,u,c,m)})(this.localStore,this.datastore,t.asyncQueue,(e=>Sb(this.syncEngine,e,0)),(function(){return gb.v()?new gb:new TV})())}createSyncEngine(t,e){return(function(o,u,c,m,p,g,y){const T=new JV(o,u,c,m,p,g);return y&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const r=jt(e);_t(qa,"RemoteStore shutting down."),r.Ea.add(5),await tc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}jp.provider={build:()=>new jp};class dO{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ws("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const Jr="FirestoreClient";class mO{constructor(t,e,r,o,u){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=o,this.user=Mn.UNAUTHENTICATED,this.clientId=Tg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async c=>{_t(Jr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(_t(Jr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const r=Bg(e,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Jm(i,t){i.asyncQueue.verifyOperationInProgress(),_t(Jr,"Initializing OfflineComponentProvider");const e=i.configuration;await t.initialize(e);let r=e.initialUser;i.setCredentialChangeListener((async o=>{r.isEqual(o)||(await VE(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=t}async function Ab(i,t){i.asyncQueue.verifyOperationInProgress();const e=await pO(i);_t(Jr,"Initializing OnlineComponentProvider"),await t.initialize(e,i.configuration),i.setCredentialChangeListener((r=>vb(t.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,o)=>vb(t.remoteStore,o))),i._onlineComponents=t}async function pO(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){_t(Jr,"Using user provided OfflineComponentProvider");try{await Jm(i,i._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(o){return o.name==="FirebaseError"?o.code===ht.FAILED_PRECONDITION||o.code===ht.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(e))throw e;Jo("Error using user provided cache. Falling back to memory cache: "+e),await Jm(i,new mf)}}else _t(Jr,"Using default OfflineComponentProvider"),await Jm(i,new fO(void 0));return i._offlineComponents}async function WE(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(_t(Jr,"Using user provided OnlineComponentProvider"),await Ab(i,i._uninitializedComponentsProvider._online)):(_t(Jr,"Using default OnlineComponentProvider"),await Ab(i,new jp))),i._onlineComponents}function gO(i){return WE(i).then((t=>t.syncEngine))}async function yO(i){const t=await WE(i),e=t.eventManager;return e.onListen=ZV.bind(null,t.syncEngine),e.onUnlisten=nO.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=tO.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=iO.bind(null,t.syncEngine),e}function vO(i,t,e={}){const r=new Kr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,c,m,p,g){const y=new dO({next:E=>{y.Nu(),c.enqueueAndForget((()=>GV(u,T)));const C=E.docs.has(m);!C&&E.fromCache?g.reject(new Et(ht.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&E.fromCache&&p&&p.source==="server"?g.reject(new Et(ht.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(E)},error:E=>g.reject(E)}),T=new QV(Rg(m.path),y,{includeMetadataChanges:!0,qa:!0});return qV(u,T)})(await yO(i),i.asyncQueue,t,e,r))),r.promise}function $E(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}const wb=new Map;const JE="firestore.googleapis.com",xb=!0;class Rb{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Et(ht.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=JE,this.ssl=xb}else this.host=t.host,this.ssl=t.ssl??xb;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=DE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<KM)throw new Et(ht.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}ID("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$E(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Et(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Et(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Et(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Gg{constructor(t,e,r,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Et(ht.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Et(ht.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rb(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new vD;switch(r.type){case"firstParty":return new SD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Et(ht.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const r=wb.get(e);r&&(_t("ComponentProvider","Removing Datastore"),wb.delete(e),r.terminate())})(this),Promise.resolve()}}function _O(i,t,e,r={}){i=Vu(i,Gg);const o=al(t),u=i._getSettings(),c={...u,emulatorOptions:i._getEmulatorOptions()},m=`${t}:${e}`;o&&(J1(`https://${m}`),Z1("Firestore",!0)),u.host!==JE&&u.host!==m&&Jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:r};if(!za(p,c)&&(i._setSettings(p),r.mockUserToken)){let g,y;if(typeof r.mockUserToken=="string")g=r.mockUserToken,y=Mn.MOCK_USER;else{g=FR(r.mockUserToken,i._app?.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new Et(ht.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Mn(T)}i._authCredentials=new _D(new HS(g,y))}}class Kg{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Kg(this.firestore,t,this._query)}}class dn{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Uu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new dn(this.firestore,t,this._key)}toJSON(){return{type:dn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,r){if($u(e,dn._jsonSchema))return new dn(t,r||null,new Rt(Ne.fromString(e.referencePath)))}}dn._jsonSchemaVersion="firestore/documentReference/1.0",dn._jsonSchema={type:nn("string",dn._jsonSchemaVersion),referencePath:nn("string")};class Uu extends Kg{constructor(t,e,r){super(t,e,Rg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new dn(this.firestore,null,new Rt(t))}withConverter(t){return new Uu(this.firestore,t,this._path)}}function ZE(i,t,...e){if(i=Di(i),arguments.length===1&&(t=Tg.newId()),CD("doc","path",t),i instanceof Gg){const r=Ne.fromString(t,...e);return BT(r),new dn(i,null,new Rt(r))}{if(!(i instanceof dn||i instanceof Uu))throw new Et(ht.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(Ne.fromString(t,...e));return BT(r),new dn(i.firestore,i instanceof Uu?i.converter:null,new Rt(r))}}const Cb="AsyncQueue";class Ib{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new NE(this,"async_queue_retry"),this._c=()=>{const r=$m();r&&_t(Cb,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const e=$m();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=$m();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new Kr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!hl(t))throw t;_t(Cb,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Ws("INTERNAL UNHANDLED ERROR: ",Db(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=e,e}enqueueAfterDelay(t,e,r){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const o=zg.createAndSchedule(this,t,e,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Mt(47125,{Pc:Db(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,r)=>e.targetTimeMs-r.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function Db(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}class Yg extends Gg{constructor(t,e,r,o){super(t,e,r,o),this.type="firestore",this._queue=new Ib,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Ib(t),this._firestoreClient=void 0,await t}}}function TO(i,t){const e=typeof i=="object"?i:iS(),r=typeof i=="string"?i:rf,o=lg(e,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=zR("firestore");u&&_O(o,...u)}return o}function tA(i){if(i._terminated)throw new Et(ht.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||bO(i),i._firestoreClient}function bO(i){const t=i._freezeSettings(),e=(function(o,u,c,m){return new zD(o,u,c,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,$E(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,t);i._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),i._firestoreClient=new mO(i._authCredentials,i._appCheckCredentials,i._queue,e,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class Ri{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ri(An.fromBase64String(t))}catch(e){throw new Et(ht.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Ri(An.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ri._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if($u(t,Ri._jsonSchema))return Ri.fromBase64String(t.bytes)}}Ri._jsonSchemaVersion="firestore/bytes/1.0",Ri._jsonSchema={type:nn("string",Ri._jsonSchemaVersion),bytes:nn("string")};class Qg{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new Et(ht.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new En(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class eA{constructor(t){this._methodName=t}}class ps{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Et(ht.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Et(ht.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Wt(this._lat,t._lat)||Wt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ps._jsonSchemaVersion}}static fromJSON(t){if($u(t,ps._jsonSchema))return new ps(t.latitude,t.longitude)}}ps._jsonSchemaVersion="firestore/geoPoint/1.0",ps._jsonSchema={type:nn("string",ps._jsonSchemaVersion),latitude:nn("number"),longitude:nn("number")};class gs{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:gs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if($u(t,gs._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new gs(t.vectorValues);throw new Et(ht.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}gs._jsonSchemaVersion="firestore/vectorValue/1.0",gs._jsonSchema={type:nn("string",gs._jsonSchemaVersion),vectorValues:nn("object")};const SO=/^__.*__$/;class EO{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return this.fieldMask!==null?new Ya(t,this.data,this.fieldMask,e,this.fieldTransforms):new Ju(t,this.data,e,this.fieldTransforms)}}function nA(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Mt(40011,{Ac:i})}}class Xg{constructor(t,e,r,o,u,c){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Xg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),r=this.Vc({path:e,fc:!1});return r.gc(t),r}yc(t){const e=this.path?.child(t),r=this.Vc({path:e,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return pf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(nA(this.Ac)&&SO.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class AO{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||Pf(t)}Cc(t,e,r,o=!1){return new Xg({Ac:t,methodName:e,Dc:r,path:En.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wO(i){const t=i._freezeSettings(),e=Pf(i._databaseId);return new AO(i._databaseId,!!t.ignoreUndefinedProperties,e)}function xO(i,t,e,r,o,u={}){const c=i.Cc(u.merge||u.mergeFields?2:0,t,e,o);aA("Data must be an object, but it was:",c,r);const m=sA(r,c);let p,g;if(u.merge)p=new Yi(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const y=[];for(const T of u.mergeFields){const E=RO(t,T,e);if(!c.contains(E))throw new Et(ht.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);IO(y,E)||y.push(E)}p=new Yi(y),g=c.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=c.fieldTransforms;return new EO(new xi(m),p,g)}function iA(i,t){if(rA(i=Di(i)))return aA("Unsupported field value:",t,i),sA(i,t);if(i instanceof eA)return(function(r,o){if(!nA(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let c=0;for(const m of r){let p=iA(m,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(i,t)}return(function(r,o){if((r=Di(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return cM(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=Re.fromDate(r);return{timestampValue:hf(o.serializer,u)}}if(r instanceof Re){const u=new Re(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hf(o.serializer,u)}}if(r instanceof ps)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ri)return{bytesValue:EE(o.serializer,r._byteString)};if(r instanceof dn){const u=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Mg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof gs)return(function(c,m){return{mapValue:{fields:{[JS]:{stringValue:ZS},[af]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Cg(m.serializer,g)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${bg(r)}`)})(i,t)}function sA(i,t){const e={};return KS(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ga(i,((r,o)=>{const u=iA(o,t.mc(r));u!=null&&(e[r]=u)})),{mapValue:{fields:e}}}function rA(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Re||i instanceof ps||i instanceof Ri||i instanceof dn||i instanceof eA||i instanceof gs)}function aA(i,t,e){if(!rA(e)||!qS(e)){const r=bg(e);throw r==="an object"?t.Sc(i+" a custom object"):t.Sc(i+" "+r)}}function RO(i,t,e){if((t=Di(t))instanceof Qg)return t._internalPath;if(typeof t=="string")return oA(i,t);throw pf("Field path arguments must be of type string or ",i,!1,void 0,e)}const CO=new RegExp("[~\\*/\\[\\]]");function oA(i,t,e){if(t.search(CO)>=0)throw pf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,e);try{return new Qg(...t.split("."))._internalPath}catch{throw pf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,e)}}function pf(i,t,e,r,o){const u=r&&!r.isEmpty(),c=o!==void 0;let m=`Function ${t}() called with invalid data`;e&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${r}`),c&&(p+=` in document ${o}`),p+=")"),new Et(ht.INVALID_ARGUMENT,m+i+p)}function IO(i,t){return i.some((e=>e.isEqual(t)))}class lA{constructor(t,e,r,o,u){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new DO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(uA("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class DO extends lA{data(){return super.data()}}function uA(i,t){return typeof t=="string"?oA(i,t):t instanceof Qg?t._internalPath:t._delegate._internalPath}class MO{convertValue(t,e="none"){switch(Wr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Qe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Xr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Mt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return Ga(t,((o,u)=>{r[o]=this.convertValue(u,e)})),r}convertVectorValue(t){const e=t.fields?.[af].arrayValue?.values?.map((r=>Qe(r.doubleValue)));return new gs(e)}convertGeoPoint(t){return new ps(Qe(t.latitude),Qe(t.longitude))}convertArray(t,e){return(t.values||[]).map((r=>this.convertValue(r,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const r=Cf(t);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(Nu(t));default:return null}}convertTimestamp(t){const e=Qr(t);return new Re(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=Ne.fromString(t);ce(IE(r),9688,{name:t});const o=new Pu(r.get(1),r.get(3)),u=new Rt(r.popFirst(5));return o.isEqual(e)||Ws(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),u}}function VO(i,t,e){let r;return r=i?i.toFirestore(t):t,r}class gu{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ja extends lA{constructor(t,e,r,o,u,c){super(t,e,r,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Hh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(uA("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Et(ht.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=ja._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}ja._jsonSchemaVersion="firestore/documentSnapshot/1.0",ja._jsonSchema={type:nn("string",ja._jsonSchemaVersion),bundleSource:nn("string","DocumentSnapshot"),bundleName:nn("string"),bundle:nn("string")};class Hh extends ja{data(t={}){return super.data(t)}}class Au{constructor(t,e,r,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new gu(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((r=>{t.call(e,new Hh(this._firestore,this._userDataWriter,r.key,r,new gu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Et(ht.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const p=new Hh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new gu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Hh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new gu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,y=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),y=c.indexOf(m.doc.key)),{type:OO(m.type),doc:p,oldIndex:g,newIndex:y}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Et(ht.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Au._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Tg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(e.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function OO(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Mt(61501,{type:i})}}function NO(i){i=Vu(i,dn);const t=Vu(i.firestore,Yg);return vO(tA(t),i._key).then((e=>LO(t,i,e)))}Au._jsonSchemaVersion="firestore/querySnapshot/1.0",Au._jsonSchema={type:nn("string",Au._jsonSchemaVersion),bundleSource:nn("string","QuerySnapshot"),bundleName:nn("string"),bundle:nn("string")};class PO extends MO{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ri(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new dn(this.firestore,null,e)}}function kO(i,t,e){i=Vu(i,dn);const r=Vu(i.firestore,Yg),o=VO(i.converter,t);return jO(r,[xO(wO(r),"setDoc",i._key,o,i.converter!==null,e).toMutation(i._key,Ys.none())])}function jO(i,t){return(function(r,o){const u=new Kr;return r.asyncQueue.enqueueAndForget((async()=>sO(await gO(r),o,u))),u.promise})(tA(i),t)}function LO(i,t,e){const r=e.docs.get(t._key),o=new PO(i);return new ja(i,o,t._key,r,new gu(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(o){ul=o})(ol),Wo(new Ba("firestore",((r,{instanceIdentifier:o,options:u})=>{const c=r.getProvider("app").getImmediate(),m=new Yg(new TD(r.getProvider("auth-internal")),new ED(c,r.getProvider("app-check-internal")),(function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Et(ht.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pu(g.options.projectId,y)})(c,o),c);return u={useFetchStreams:e,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),qr(jT,LT,t),qr(jT,LT,"esm2020")})();const UO={apiKey:"AIzaSyAKvyD0SV7kUX5UciilZ0bk2F08wkf0T7g",authDomain:"planttycoon-c9dc0.firebaseapp.com",projectId:"planttycoon-c9dc0",storageBucket:"planttycoon-c9dc0.firebasestorage.app",messagingSenderId:"49910703062",appId:"1:49910703062:web:60c410e51c98714f3bfa77",measurementId:"G-NY5W0YD0SX"},cA=nS(UO),Wg=gD(cA),hA=TO(cA),zO=new qs,BO=async()=>{try{return(await wI(Wg,zO)).user}catch(i){throw console.error("Login failed:",i),i}},FO=async()=>{try{await rI(Wg)}catch(i){throw console.error("Logout failed:",i),i}},HO=async(i,t)=>{try{return await kO(ZE(hA,"users",i),{savedAt:new Date().toISOString(),gameData:t}),!0}catch(e){return console.error("Save failed:",e),!1}},qO=async i=>{try{const t=ZE(hA,"users",i),e=await NO(t);return e.exists()?e.data().gameData:null}catch(t){throw console.error("Load failed:",t),t}},GO=[{emoji:"",value:5,rarity:"common",weight:100,description:" ",flavorText:"      .    ,    ."},{emoji:"",value:6,rarity:"common",weight:90,description:" ",flavorText:"   .   ,   ."},{emoji:"",value:7,rarity:"common",weight:80,description:"",flavorText:"   .       ."},{emoji:"",value:8,rarity:"common",weight:70,description:"",flavorText:"   .        ."},{emoji:"",value:10,rarity:"common",weight:60,description:"",flavorText:"  .       ."},{emoji:"",value:15,rarity:"rare",weight:10,description:"",flavorText:"   .     ."},{emoji:"",value:16,rarity:"rare",weight:9,description:"",flavorText:"    .      ."},{emoji:"",value:17,rarity:"rare",weight:8,description:"",flavorText:"   .      ."},{emoji:"",value:18,rarity:"rare",weight:7,description:"",flavorText:"  .     ."},{emoji:"",value:19,rarity:"rare",weight:6,description:"",flavorText:"  .     ."},{emoji:"",value:20,rarity:"rare",weight:5,description:"",flavorText:"    .       ."},{emoji:"",value:21,rarity:"rare",weight:4,description:"",flavorText:"   .       ."},{emoji:"",value:23,rarity:"rare",weight:3,description:"",flavorText:"     .       ."},{emoji:"",value:25,rarity:"rare",weight:2,description:"",flavorText:"  .    ."},{emoji:"",value:40,rarity:"epic",weight:2,description:"",flavorText:"   .       ."},{emoji:"",value:42,rarity:"epic",weight:1.8,description:"",flavorText:"    .   ."},{emoji:"",value:44,rarity:"epic",weight:1.6,description:"",flavorText:"     .    ."},{emoji:"",value:46,rarity:"epic",weight:1.4,description:"",flavorText:"   .     ."},{emoji:"",value:48,rarity:"epic",weight:1.2,description:"",flavorText:"    .      ."},{emoji:"",value:50,rarity:"epic",weight:1,description:"",flavorText:"  , .    ."},{emoji:"",value:52,rarity:"epic",weight:.8,description:"",flavorText:"      .     ."},{emoji:"",value:55,rarity:"epic",weight:.6,description:"",flavorText:"   .    ."},{emoji:"",value:60,rarity:"epic",weight:.4,description:"",flavorText:"    .     ."},{emoji:"",value:80,rarity:"legendary",weight:.3,description:"",flavorText:"   .      ."},{emoji:"",value:82,rarity:"legendary",weight:.25,description:"",flavorText:"   .    ."},{emoji:"",value:84,rarity:"legendary",weight:.2,description:"",flavorText:"   .    ."},{emoji:"",value:86,rarity:"legendary",weight:.18,description:"",flavorText:"   .      ."},{emoji:"",value:88,rarity:"legendary",weight:.16,description:"",flavorText:"  .      ."},{emoji:"",value:90,rarity:"legendary",weight:.14,description:"",flavorText:"  .     ."},{emoji:"",value:92,rarity:"legendary",weight:.12,description:"",flavorText:"   .      ."},{emoji:"",value:95,rarity:"legendary",weight:.1,description:"",flavorText:"   .     ."},{emoji:"",value:98,rarity:"legendary",weight:.08,description:"",flavorText:"   .      ."},{emoji:"",value:100,rarity:"legendary",weight:.06,description:"",flavorText:"    .     ."},{emoji:"",value:250,rarity:"mythic",weight:.05,description:"",flavorText:"    .     ."},{emoji:"",value:260,rarity:"mythic",weight:.03,description:"",flavorText:"   .       ."},{emoji:"",value:270,rarity:"mythic",weight:.02,description:"",flavorText:"   .     ."},{emoji:"",value:280,rarity:"mythic",weight:.01,description:" ",flavorText:"   .     ."},{emoji:"",value:300,rarity:"mythic",weight:.005,description:"",flavorText:"     .    ."}],KO={totalSlots:25,baseGrowthInterval:3e3,growthProbability:.3},qi={mushrooms:GO,settings:KO},YO=[{id:"red_stew",name:" ",emoji:"",description:"    .   50% .",ingredients:["","",""],time:1e4,value:20,effect:{type:"speed",value:.5,duration:12e4}},{id:"rainbow_salad",name:" ",emoji:"",description:"  !     .",ingredients:["","",""],time:3e4,value:150,effect:{type:"fill_empty_slots",value:1,duration:0}},{id:"nut_bomb",name:" ",emoji:"",description:"  .   1 .",ingredients:["","",""],time:45e3,value:80,effect:{type:"add_consumable",value:"seedBomb",count:1,duration:0}},{id:"golden_tea",name:" ",emoji:"",description:"   .    50% .",ingredients:["","",""],time:6e4,value:130,effect:{type:"spawn_rate",value:.5,duration:12e4}},{id:"elixir_of_life",name:" ",emoji:"",description:"  . 30    10 .",ingredients:["","",""],time:12e4,value:2e3,effect:{type:"speed",value:9,duration:3e4}},{id:"mushroom_soup",name:" ",emoji:"",description:"  . 3    30% .",ingredients:["","",""],time:15e3,value:30,effect:{type:"speed",value:.3,duration:18e4}},{id:"nut_bar",name:" ",emoji:"",description:" ! 3     30% .",ingredients:["","",""],time:2e4,value:40,effect:{type:"spawn_rate",value:.3,duration:18e4}},{id:"tropical_punch",name:" ",emoji:"",description:"   . 2    100% .",ingredients:["","",""],time:4e4,value:200,effect:{type:"speed",value:1,duration:12e4}},{id:"flower_bouquet",name:"",emoji:"",description:" . 2     100% .",ingredients:["","",""],time:5e4,value:250,effect:{type:"spawn_rate",value:1,duration:12e4}},{id:"lucky_charm",name:" ",emoji:"",description:" . 5     50% .",ingredients:["","",""],time:35e3,value:100,effect:{type:"spawn_rate",value:.5,duration:3e5}},{id:"lucky_stew",name:" ",emoji:"",description:"    . 3       2 .",ingredients:["","",""],time:2e4,value:50,effect:{type:"rarity_boost",target:"all",value:2,duration:18e4}},{id:"green_smoothie",name:" ",emoji:"",description:" ! 3  '(Rare)'     3 .",ingredients:["","",""],time:25e3,value:60,effect:{type:"rarity_boost",target:"rare",value:3,duration:18e4}},{id:"purple_tart",name:" ",emoji:"",description:" . 3  '(Epic)'     3 .",ingredients:["","",""],time:4e4,value:150,effect:{type:"rarity_boost",target:"epic",value:3,duration:18e4}},{id:"royal_cake",name:" ",emoji:"",description:" . 3  '(Legendary)'     3 .",ingredients:["","",""],time:6e4,value:300,effect:{type:"rarity_boost",target:"legendary",value:3,duration:18e4}},{id:"starlight_pudding",name:" ",emoji:"",description:" . 3  '(Mythic)'     3 .",ingredients:["","",""],time:1e5,value:1e3,effect:{type:"rarity_boost",target:"mythic",value:3,duration:18e4}}],qh={recipes:YO},QO=[{id:"harvest_10",title:" ",description:"  10 .",icon:"",condition:{type:"total_harvest",value:10},reward:{type:"gold",value:100}},{id:"harvest_100",title:" ",description:"  100 .",icon:"",condition:{type:"total_harvest",value:100},reward:{type:"gold",value:500}},{id:"harvest_1000",title:" ",description:"  1,000 .",icon:"",condition:{type:"total_harvest",value:1e3},reward:{type:"gold",value:5e3}},{id:"gold_1000",title:"",description:" 1,000  .",icon:"",condition:{type:"total_gold",value:1e3},reward:{type:"gold",value:200}},{id:"gold_10000",title:"",description:" 10,000  .",icon:"",condition:{type:"total_gold",value:1e4},reward:{type:"gold",value:1e3}},{id:"gold_100000",title:"",description:" 100,000  .",icon:"",condition:{type:"total_gold",value:1e5},reward:{type:"gold",value:1e4}},{id:"cook_1",title:" ",description:" 1 .",icon:"",condition:{type:"total_cook",value:1},reward:{type:"gold",value:50}},{id:"cook_10",title:"",description:" 10 .",icon:"",condition:{type:"total_cook",value:10},reward:{type:"gold",value:300}},{id:"cook_50",title:" ",description:" 50 .",icon:"",condition:{type:"total_cook",value:50},reward:{type:"gold",value:2e3}},{id:"collection_5",title:"",description:"  5 .",icon:"",condition:{type:"collection_count",value:5},reward:{type:"gold",value:150}},{id:"collection_10",title:" ",description:"  10 .",icon:"",condition:{type:"collection_count",value:10},reward:{type:"gold",value:500}},{id:"collection_20",title:" ",description:"  20 .",icon:"",condition:{type:"collection_count",value:20},reward:{type:"gold",value:2e3}}],gf={achievements:QO},XO=[{id:"chef",name:" ",emoji:"",dialogue:["  !","  ?","   ?","   ."]},{id:"merchant",name:" ",emoji:"",dialogue:["   ."," .","  ?","   !"]},{id:"farmer",name:" ",emoji:"",dialogue:["...   ."," .","  ?"," ..."]},{id:"wizard",name:" ",emoji:"",dialogue:["  .","  .","   ?","   ."]}],Mb={npcs:XO},WO=.01;function $O(){const[i,t]=q.useState(()=>{const V=localStorage.getItem("plant_game_gold");return V?parseInt(V):50}),[e,r]=q.useState(()=>{const V=localStorage.getItem("plant_game_maxSlots");return V?parseInt(V):25}),[o,u]=q.useState(()=>{const V=localStorage.getItem("plant_game_plants");if(V){const et=JSON.parse(V),Y=localStorage.getItem("plant_game_maxSlots"),Z=Y?parseInt(Y):25;return et.length<Z?[...et,...Array(Z-et.length).fill(null)]:et}return Array(25).fill(null)}),[c,m]=q.useState(()=>{const V=localStorage.getItem("plant_game_inventory");return V?JSON.parse(V):{}}),[p,g]=q.useState(()=>{const V=localStorage.getItem("plant_game_collection");return V?JSON.parse(V):{}}),[y,T]=q.useState(()=>{const V=localStorage.getItem("plant_game_upgradeLevel");return V?parseInt(V):0}),[E,C]=q.useState(()=>{const V=localStorage.getItem("plant_game_unlocks");return V?JSON.parse(V):{statistics:!1,harvestAll:!1}}),[k,D]=q.useState(()=>{const V=localStorage.getItem("plant_game_rarityLevel");return V?parseInt(V):1}),[U,X]=q.useState(()=>{const V=localStorage.getItem("plant_game_foodState");return V?JSON.parse(V):{active:!1,endTime:0,type:null,multiplier:1}}),[tt,rt]=q.useState(()=>{const V=localStorage.getItem("plant_game_activeBuffs"),et=V?JSON.parse(V):[];return Array.isArray(et)?et:[]}),[ft,mt]=q.useState(()=>{const V=localStorage.getItem("plant_game_stats");return V?JSON.parse(V):{total_harvest:0,total_gold:0,total_cook:0,collection_count:0}}),[dt,R]=q.useState(()=>{const V=localStorage.getItem("plant_game_achievements");return V?JSON.parse(V):{}}),[w,I]=q.useState(()=>{const V=localStorage.getItem("plant_game_activeQuests");return V?JSON.parse(V):[]}),[P,N]=q.useState(()=>{const V=localStorage.getItem("plant_game_questTimer");return V?parseInt(V):Date.now()+18e5}),[z,M]=q.useState(()=>{const V=localStorage.getItem("plant_game_pityCounter");return V?parseInt(V):0}),[zt,_e]=q.useState(()=>{const V=localStorage.getItem("plant_game_fertilizerLevel");return V?parseInt(V):0}),[$,ut]=q.useState(()=>{const V=localStorage.getItem("plant_game_consumables");return V?JSON.parse(V):{seedBomb:0,growthPotion:0}}),[ct,It]=q.useState(()=>{const V=localStorage.getItem("plant_game_cookedItems");return V?JSON.parse(V):{}}),[Vt,j]=q.useState(()=>{const V=localStorage.getItem("plant_game_cookingState");let et=V?JSON.parse(V):{active:!1,startTime:0,duration:0,ingredients:[],result:null};return et.result&&!et.result.ingredients&&(et.result.ingredients=["","",""]),et}),[nt,yt]=q.useState(()=>{const V=localStorage.getItem("plant_game_discoveredRecipes");return V?JSON.parse(V):[]}),[vt,xt]=q.useState(null),[Dt,Ht]=q.useState(null),[Oe,se]=q.useState(!1),[Mi,Xi]=q.useState(null);q.useEffect(()=>{const V=sI(Wg,et=>{Ht(et)});return()=>V()},[]);const Wi=async()=>{try{await BO()}catch(V){alert(" : "+V.message)}},$i=async()=>{try{await FO(),Ht(null)}catch(V){alert(" : "+V.message)}},Bn=async()=>{if(!Dt){alert(" .");return}se(!0);const V={gold:i,plants:o,inventory:c,collection:p,upgradeLevel:y,unlocks:E,rarityLevel:k,fertilizerLevel:zt,consumables:$,cookedItems:ct,discoveredRecipes:nt,stats:ft,achievements:dt,foodState:U,activeBuffs:tt,cookingState:Vt,pityCounter:z,questTimer:P,activeQuests:w,savedAt:Date.now()},et=await HO(Dt.uid,V);se(!1),et?(Xi(new Date),alert(" ! ")):alert(" .  .")},Ss=async()=>{if(!Dt){alert(" .");return}if(window.confirm("    ?")){se(!0);try{const V=await qO(Dt.uid);V?(t(V.gold||50),r(V.maxSlots||25),u(V.plants||Array(V.maxSlots||25).fill(null)),m(V.inventory||{}),g(V.collection||{}),T(V.upgradeLevel||0),C(V.unlocks||{statistics:!1,harvestAll:!1}),D(V.rarityLevel||1),_e(V.fertilizerLevel||0),ut(V.consumables||{seedBomb:0,growthPotion:0}),It(V.cookedItems||{}),yt(V.discoveredRecipes||[]),mt(V.stats||{total_harvest:0,total_gold:0,total_cook:0,collection_count:0}),R(V.achievements||{}),X(V.foodState||{active:!1,endTime:0,type:null,multiplier:1}),rt(V.activeBuffs||[]),j(V.cookingState||{active:!1,startTime:0,duration:0,ingredients:[],result:null}),M(V.pityCounter||0),N(V.questTimer||Date.now()+18e5),I(V.activeQuests||[]),alert("  ! ")):alert("  .")}catch(V){console.error(V),alert(" .")}finally{se(!1)}}};q.useEffect(()=>{localStorage.setItem("plant_game_maxSlots",e),localStorage.setItem("plant_game_gold",i),localStorage.setItem("plant_game_plants",JSON.stringify(o)),localStorage.setItem("plant_game_inventory",JSON.stringify(c)),localStorage.setItem("plant_game_collection",JSON.stringify(p)),localStorage.setItem("plant_game_upgradeLevel",y),localStorage.setItem("plant_game_unlocks",JSON.stringify(E)),localStorage.setItem("plant_game_rarityLevel",k),localStorage.setItem("plant_game_foodState",JSON.stringify(U)),localStorage.setItem("plant_game_pityCounter",z),localStorage.setItem("plant_game_fertilizerLevel",zt),localStorage.setItem("plant_game_consumables",JSON.stringify($)),localStorage.setItem("plant_game_cookedItems",JSON.stringify(ct)),localStorage.setItem("plant_game_activeBuffs",JSON.stringify(tt)),localStorage.setItem("plant_game_cookingState",JSON.stringify(Vt)),localStorage.setItem("plant_game_discoveredRecipes",JSON.stringify(nt)),localStorage.setItem("plant_game_stats",JSON.stringify(ft)),localStorage.setItem("plant_game_achievements",JSON.stringify(dt)),localStorage.setItem("plant_game_activeQuests",JSON.stringify(w)),localStorage.setItem("plant_game_questTimer",P)},[e,i,o,c,p,y,E,k,U,z,zt,$,ct,tt,Vt,nt,ft,dt,w,P]);const li=q.useRef({plants:o,foodState:U,upgradeLevel:y,rarityLevel:k,pityCounter:z,fertilizerLevel:zt,consumables:$,activeBuffs:tt});q.useEffect(()=>{li.current={plants:o,foodState:U,upgradeLevel:y,rarityLevel:k,pityCounter:z,fertilizerLevel:zt,consumables:$,activeBuffs:tt}},[o,U,y,k,z,zt,$,tt]),q.useEffect(()=>{const V=setInterval(()=>{const{plants:et,foodState:Y,upgradeLevel:Z,rarityLevel:B,pityCounter:st,activeBuffs:Tt}=li.current,At=Date.now(),ue=Tt.filter(Bt=>Bt.endTime>At);ue.length!==Tt.length&&rt(ue);let mn=1,un=1;if(ue.forEach(Bt=>{Bt.type==="speed"&&(mn+=Bt.value),Bt.type==="spawn_rate"&&(un+=Bt.value)}),Y.active&&Date.now()>Y.endTime){X({active:!1,endTime:0,type:null,multiplier:1});return}u(Bt=>{let ee=[...Bt],je=!1;const pn=ee.map((He,Ni)=>He===null?Ni:-1).filter(He=>He!==-1);if(!Y.active)return Bt;const jn=WO*Y.multiplier*un,fi=st*.01,Le=Math.min(jn+fi,1);if(pn.length>0&&Math.random()<Le){M(0);const He=pn[Math.floor(Math.random()*pn.length)],Ni=Tt.filter(Ie=>Ie.type==="rarity_boost"),Rn=qi.mushrooms.filter(Ie=>!(Ie.rarity==="epic"&&B<5||Ie.rarity==="legendary"&&B<10||Ie.rarity==="mythic"&&B<15)).map(Ie=>{let sn=1;return Ni.forEach(Ae=>{(Ae.target==="all"&&Ie.rarity!=="common"||Ae.target===Ie.rarity)&&(sn*=Ae.value)}),{...Ie,effectiveWeight:Ie.rarity==="common"?Ie.weight/(1+B*.15):Ie.weight*(1+(B-1)*.8)*sn}}),Cn=Rn.reduce((Ie,sn)=>Ie+sn.effectiveWeight,0);let ir=Math.random()*Cn,sr=Rn[0];for(const Ie of Rn)if(ir-=Ie.effectiveWeight,ir<=0){sr=Ie;break}let $a=Math.max(6e4-Z*3e3,5e3);ee[He]={...sr,id:Date.now()+Math.random(),stage:"baby",plantedAt:Date.now(),growthProgress:0,growthDuration:$a},je=!0}else pn.length>0&&M(He=>He+1);return Y.active&&(ee=ee.map(He=>{if(He&&He.stage==="baby"){const Ni=He.growthProgress||0,Rn=1e3*(Y.multiplier||1)*mn,Cn=Ni+Rn;return Cn>=He.growthDuration?(je=!0,{...He,stage:"adult",growthProgress:Cn}):(je=!0,{...He,growthProgress:Cn})}return He})),je?ee:Bt})},1e3);return()=>clearInterval(V)},[]);const ui=q.useCallback((V,et)=>{const Y={};let Z=!1;const B=Object.keys(et).length;V.collection_count!==B&&(V.collection_count=B),gf.achievements.forEach(st=>{if(dt[st.id])return;const Tt=st.condition;V[Tt.type]>=Tt.value&&(Y[st.id]={unlocked:!0,date:new Date().toISOString(),claimed:!1},Z=!0)}),Z&&R(st=>({...st,...Y}))},[dt]),Xe=q.useCallback((V,et=1)=>{mt(Y=>({...Y,[V]:(Y[V]||0)+et}))},[]);q.useEffect(()=>{ui(ft,p)},[ft,p,ui]);const Ce=q.useCallback(V=>{const et=dt[V];if(!et||!et.unlocked||et.claimed)return;const Y=gf.achievements.find(B=>B.id===V);if(!Y)return;const Z=Y.reward;Z.type==="gold"&&t(B=>B+Z.value),R(B=>({...B,[V]:{...B[V],claimed:!0}}))},[dt]),be=q.useCallback(()=>{const V=[],et=Mb.npcs;for(let Y=0;Y<3;Y++){const Z=et[Math.floor(Math.random()*et.length)],B=nt.length>0&&Math.random()<.3;let st,Tt,At;if(B){const un=nt[Math.floor(Math.random()*nt.length)],Bt=qh.recipes.find(ee=>ee.id===un);if(!Bt)continue;st={type:"dish",id:Bt.id,name:Bt.name,emoji:Bt.emoji,value:Bt.value},Tt=Math.floor(Math.random()*3)+1}else{const un=qi.mushrooms.filter(ee=>ee.rarity==="common"||ee.rarity==="rare"&&k>=2||ee.rarity==="epic"&&k>=5||ee.rarity==="legendary"&&k>=10),Bt=un[Math.floor(Math.random()*un.length)];st={type:"plant",id:Bt.emoji,name:Bt.name,emoji:Bt.emoji,value:Bt.value},Tt=Math.floor(Math.random()*5)+3}const ue=st.value*Tt,mn=1.5+Math.random()*.5;At=Math.floor(ue*mn),V.push({id:Date.now()+Y,npcId:Z.id,npcName:Z.name,npcEmoji:Z.emoji,dialogue:Z.dialogue[Math.floor(Math.random()*Z.dialogue.length)],request:{...st,count:Tt},reward:{gold:At}})}I(V),N(Date.now()+18e5)},[k,nt]),Jn=q.useCallback((V=0)=>{Date.now()>=P?be():i>=V&&(t(et=>et-V),be())},[i,be,P]),na=q.useCallback(V=>{if(i<100)return;t(Bt=>Bt-100);const Y=Mb.npcs,Z=Y[Math.floor(Math.random()*Y.length)],B=nt.length>0&&Math.random()<.3;let st,Tt,At;if(B){const Bt=nt[Math.floor(Math.random()*nt.length)],ee=qh.recipes.find(je=>je.id===Bt);if(!ee)return;st={type:"dish",id:ee.id,name:ee.name,emoji:ee.emoji,value:ee.value},Tt=Math.floor(Math.random()*3)+1}else{const Bt=qi.mushrooms.filter(je=>je.rarity==="common"||je.rarity==="rare"&&k>=2||je.rarity==="epic"&&k>=5||je.rarity==="legendary"&&k>=10),ee=Bt[Math.floor(Math.random()*Bt.length)];st={type:"plant",id:ee.emoji,name:ee.name,emoji:ee.emoji,value:ee.value},Tt=Math.floor(Math.random()*10)+5}const ue=st.value*Tt,mn=1.5+Math.random()*.5;At=Math.floor(ue*mn);const un={id:Date.now(),npcId:Z.id,npcName:Z.name,npcEmoji:Z.emoji,dialogue:Z.dialogue[Math.floor(Math.random()*Z.dialogue.length)],request:{...st,count:Tt},reward:{gold:At}};I(Bt=>Bt.map(ee=>ee.id===V?un:ee))},[i,k,nt]),te=q.useCallback(V=>{const et=w.find(Z=>Z.id===V);if(!et)return;const Y=et.request;if(Y.type==="plant"){if(!c[Y.id]||c[Y.id].count<Y.count)return;m(Z=>{const B={...Z};return B[Y.id]={...B[Y.id]},B[Y.id].count-=Y.count,B[Y.id].count<=0&&delete B[Y.id],B})}else if(Y.type==="dish"){if(!ct[Y.id]||ct[Y.id].count<Y.count)return;It(Z=>{const B={...Z};return B[Y.id]={...B[Y.id]},B[Y.id].count-=Y.count,B[Y.id].count<=0&&delete B[Y.id],B})}t(Z=>Z+et.reward.gold),I(Z=>Z.filter(B=>B.id!==V))},[w,c,ct]);q.useEffect(()=>{P||N(Date.now()+18e5)},[P]),q.useEffect(()=>{w.length===0&&be()},[]);const me=q.useCallback(V=>{const et=o[V];if(!et||et.stage!=="adult")return;const Y=!p[et.emoji];u(Z=>{const B=[...Z];return B[V]=null,B}),m(Z=>{const B={...Z};return B[et.emoji]?B[et.emoji]={...B[et.emoji]}:B[et.emoji]={...et,count:0},B[et.emoji].count+=1,B}),g(Z=>{const B={...Z};return B[et.emoji]?B[et.emoji]={...B[et.emoji]}:B[et.emoji]={discovered:!0,count:0,firstDiscoveredAt:new Date().toISOString()},B[et.emoji].count+=1,B}),Y&&xt({emoji:et.emoji,name:et.name,rarity:et.rarity}),Xe("total_harvest",1)},[o,p,Xe]),Vi=q.useCallback((V,et=1)=>{const Y=c[V];!Y||Y.count<et||(m(Z=>{const B={...Z};return B[V]&&(B[V]={...B[V]},B[V].count-=et,B[V].count<=0&&delete B[V]),B}),t(Z=>{const B=tt.find(At=>At.type==="gold"),st=B?1+B.value:1,Tt=Math.floor(Y.value*et*st);return Xe("total_gold",Tt),Z+Tt}))},[c,tt,Xe]),Oi=q.useCallback(()=>{let V=0;Object.values(c).forEach(et=>{V+=et.value*et.count}),V>0&&(m({}),t(et=>{const Y=tt.find(st=>st.type==="gold"),Z=Y?1+Y.value:1,B=Math.floor(V*Z);return Xe("total_gold",B),et+B}))},[c,tt,Xe]),Es=q.useCallback(()=>{const V=100+y*50;return i>=V?(t(et=>et-V),T(et=>et+1),!0):!1},[i,y]),Zn=q.useCallback(V=>i>=500&&!E[V]?(t(Y=>Y-500),C(Y=>({...Y,[V]:!0})),!0):!1,[i,E]),ia=q.useCallback(()=>{const V=500*k;i>=V&&(t(et=>et-V),D(et=>et+1))},[i,k]),er=q.useCallback(()=>{const V=1e3+zt*500;i>=V&&(t(et=>et-V),_e(et=>et+1))},[i,zt]),Ji=q.useCallback((V,et)=>{i>=et&&(t(Y=>Y-et),ut(Y=>({...Y,[V]:(Y[V]||0)+1})))},[i]),nr=q.useCallback(()=>{const V=[{slots:25,cost:0},{slots:36,cost:5e3},{slots:49,cost:15e3},{slots:64,cost:3e4}],et=V.findIndex(Z=>Z.slots===e);if(et===-1||et>=V.length-1)return!1;const Y=V[et+1];return i>=Y.cost?(t(Z=>Z-Y.cost),r(Y.slots),u(Z=>[...Z,...Array(Y.slots-e).fill(null)]),!0):!1},[i,e]),wn=V=>{const et=tt.filter(st=>st.type==="rarity_boost"),Y=qi.mushrooms.filter(st=>!(st.rarity==="epic"&&V<5||st.rarity==="legendary"&&V<10||st.rarity==="mythic"&&V<15)).map(st=>{let Tt=1;return et.forEach(At=>{(At.target==="all"&&st.rarity!=="common"||At.target===st.rarity)&&(Tt*=At.value)}),{...st,effectiveWeight:st.rarity==="common"?st.weight:st.weight*(1+(V-1)*.1)*Tt}}),Z=Y.reduce((st,Tt)=>st+Tt.effectiveWeight,0);let B=Math.random()*Z;for(const st of Y)if(B-=st.effectiveWeight,B<=0)return st;return Y[0]},Fe=q.useCallback(V=>{if(!$[V]||$[V]<=0)return;let et=!1;V==="seedBomb"?u(Y=>{const Z=[...Y];let B=!1;Z.forEach((st,Tt)=>{st&&st.stage==="baby"&&(Z[Tt]={...st,stage:"adult",growthProgress:st.growthDuration},B=!0)});for(let st=0;st<e;st++)if(!Z[st]){const Tt=wn(k),At=Math.max(6e4-y*3e3,5e3);Z[st]={...Tt,id:Date.now()+Math.random()+st,stage:"adult",plantedAt:Date.now(),growthProgress:At,growthDuration:At},B=!0}return B&&(et=!0),B?Z:Y}):V==="growthPotion"&&u(Y=>{const Z=Y.map(B=>B&&B.stage==="baby"?(et=!0,{...B,stage:"adult",growthProgress:B.growthDuration}):B);return et=!0,Z}),et&&ut(Y=>({...Y,[V]:Y[V]-1}))},[$,k,y]),xn=q.useCallback(()=>{if(i<250)return{success:!1,message:" !"};t(Z=>Z-250);const et=Math.random()*100;let Y={};return et<.5?(t(B=>B+3e3),Y={type:"jackpot",message:" !  !",rewardText:"+3000 Gold"}):et<5.5?(t(B=>B+500),Y={type:"big_win",message:" !  ?",rewardText:"+500 Gold"}):et<45.5?(t(B=>B+50),Y={type:"small_win",message:"  ...",rewardText:"+50 Gold"}):Y={type:"trash",message:" !  ...",rewardText:" ..."},{success:!0,result:Y}},[i]),pt=q.useCallback(()=>{if(!E.harvestAll)return;const V=[];if(o.forEach((Z,B)=>{Z&&Z.stage==="adult"&&V.push({plant:Z,index:B})}),V.length===0)return;const et={};V.forEach(({plant:Z})=>{et[Z.emoji]||(et[Z.emoji]={...Z,count:0}),et[Z.emoji].count++});let Y=null;Object.values(et).forEach(Z=>{!p[Z.emoji]&&!Y&&(Y={emoji:Z.emoji,name:Z.name,rarity:Z.rarity})}),u(Z=>{const B=[...Z];return V.forEach(({index:st})=>{B[st]=null}),B}),m(Z=>{const B={...Z};return Object.values(et).forEach(st=>{B[st.emoji]?B[st.emoji]={...B[st.emoji]}:B[st.emoji]={...st,count:0},B[st.emoji].count+=st.count}),B}),g(Z=>{const B={...Z};return Object.values(et).forEach(st=>{B[st.emoji]?B[st.emoji]={...B[st.emoji]}:B[st.emoji]={discovered:!0,count:0,firstDiscoveredAt:new Date().toISOString()},B[st.emoji].count+=st.count}),B}),Y&&setTimeout(()=>xt(Y),100),Xe("total_harvest",V.length)},[E.harvestAll,o,p,Xe]),re=q.useCallback(V=>{const Y={"3min-free":{duration:18e4,multiplier:.5,cost:0,name:"3min Free"},"1min":{duration:6e4,multiplier:2.5,cost:200,name:"1min Speed (2.5x)"},"5min":{duration:3e5,multiplier:1,cost:150,name:"5min Normal"},"10min":{duration:6e5,multiplier:.7,cost:350,name:"10min Slow"}}[V];if(Y&&i>=Y.cost){t(st=>st-Y.cost);const Z=1+zt*.1,B=Y.duration*Z;X({active:!0,endTime:Date.now()+B,type:V,multiplier:Y.multiplier})}},[i,zt]),Pn=q.useCallback(()=>{X({active:!1,endTime:0,type:null,multiplier:1})},[]),Fn=q.useCallback(V=>{if(V.length!==3)return;const et={};V.forEach(B=>{et[B]=(et[B]||0)+1});for(const[B,st]of Object.entries(et))if(!c[B]||c[B].count<st)return;m(B=>{const st={...B};return V.forEach(Tt=>{st[Tt]&&(st[Tt]={...st[Tt]},st[Tt].count-=1,st[Tt].count<=0&&delete st[Tt])}),st});const Y=[...V].sort(),Z=qh.recipes.find(B=>{const st=[...B.ingredients].sort();return JSON.stringify(st)===JSON.stringify(Y)});if(Z)j({active:!0,startTime:Date.now(),duration:Z.time,ingredients:V,result:Z});else{const B=V.reduce((Tt,At)=>{const ue=qi.mushrooms.find(mn=>mn.emoji===At);return Tt+(ue?ue.value:0)},0),st={id:`mixed_stew_${Date.now()}`,name:" ",emoji:"",description:"     .    .",value:Math.floor(B*1.1),count:1,effect:null};j({active:!0,startTime:Date.now(),duration:1e4,ingredients:V,result:{...st,ingredients:V}})}},[c]),qt=q.useCallback(()=>{if(!Vt.active||Date.now()-Vt.startTime<Vt.duration)return;const Y=Vt.result;It(Z=>{const B={...Z},st=Y.id.startsWith("mixed_stew")?`mixed_stew_${Y.value}`:Y.id;return B[st]?B[st]={...B[st]}:B[st]={...Y,id:st,count:0},B[st].count===void 0&&(B[st].count=0),B[st].count+=1,B}),Y.id.startsWith("mixed_stew")||yt(Z=>Z.includes(Y.id)?Z:[...Z,Y.id]),j({active:!1,startTime:0,duration:0,ingredients:[],result:null}),Xe("total_cook",1)},[Vt,Xe]),Ee=q.useCallback(V=>{if(!ct[V]||ct[V].count<=0)return;const et=ct[V],Y=et.effect;Y.type==="instant_growth"?u(Z=>{const B=[...Z];let st=Y.value;const Tt=B.map((At,ue)=>({p:At,i:ue})).filter(({p:At})=>At&&At.stage==="baby");for(let At=Tt.length-1;At>0;At--){const ue=Math.floor(Math.random()*(At+1));[Tt[At],Tt[ue]]=[Tt[ue],Tt[At]]}return Tt.slice(0,st).forEach(({i:At})=>{B[At]={...B[At],stage:"adult",growthProgress:B[At].growthDuration}}),B}):Y.type==="fill_empty_slots"?u(Z=>{const B=[...Z];let st=!1;for(let Tt=0;Tt<TOTAL_SLOTS;Tt++)if(!B[Tt]){const At=wn(k),ue=Math.max(6e4-y*3e3,5e3);B[Tt]={...At,id:Date.now()+Math.random()+Tt,stage:"baby",plantedAt:Date.now(),growthProgress:0,growthDuration:ue},st=!0}return st?B:Z}):rt(Z=>[...Z.filter(B=>B.type!==Y.type||B.target!==Y.target),{type:Y.type,target:Y.target,value:Y.value,endTime:Date.now()+Y.duration,name:et.name}]),It(Z=>{const B={...Z};return B[V]={...B[V]},B[V].count-=1,B[V].count<=0&&delete B[V],B})},[ct]),ae=q.useCallback((V,et=1)=>{const Y=ct[V];!Y||Y.count<et||(It(Z=>{const B={...Z};return B[V]={...B[V]},B[V].count-=et,B[V].count<=0&&delete B[V],B}),t(Z=>{const B=tt.find(At=>At.type==="gold"),st=B?1+B.value:1,Tt=Math.floor(Y.value*et*st);return Xe("total_gold",Tt),Z+Tt}))},[ct,tt,Xe]),ci=q.useCallback(()=>{window.confirm(" ?   .")&&(localStorage.clear(),window.location.reload())},[]),hi=q.useCallback(()=>{t(1e5);const V=qi.mushrooms,et={};V.forEach(Y=>{et[Y.emoji]={...Y,count:99}}),m(et),alert("God Mode Activated! ")},[]),[ti,gl]=q.useState({}),Xa=q.useCallback(V=>{gl(et=>{const Y={...et};return Y[V]?(delete Y[V],t(Z=>Z+50),Y):et})},[]),[ln,As]=q.useState(()=>{const V=localStorage.getItem("plant_game_pets");try{return V?JSON.parse(V):{dog:!1}}catch{return{dog:!1}}});q.useEffect(()=>{localStorage.setItem("plant_game_pets",JSON.stringify(ln))},[ln]);const yl=q.useCallback((V,et)=>i>=et&&!ln[V]?(t(Y=>Y-et),As(Y=>({...Y,[V]:!0})),!0):!1,[i,ln]),Zi=q.useRef(o);q.useEffect(()=>{Zi.current=o},[o]),q.useEffect(()=>{if(!ln.dog)return;const V=setInterval(()=>{const Y=Zi.current.map((Z,B)=>Z&&Z.stage==="adult"?B:-1).filter(Z=>Z!==-1);if(Y.length>0){const Z=Y[Math.floor(Math.random()*Y.length)];me(Z)}},15e3);return()=>clearInterval(V)},[ln.dog,me]);const[kn,sa]=q.useState(()=>{const V=localStorage.getItem("plant_game_dailyReward");return V?JSON.parse(V):{streak:0,lastClaimed:null}});q.useEffect(()=>{localStorage.setItem("plant_game_dailyReward",JSON.stringify(kn))},[kn]);const ws=q.useCallback(()=>{const V=Date.now(),et=kn.lastClaimed?new Date(kn.lastClaimed).getTime():0,Y=new Date(et),Z=new Date(V);if(Y.getFullYear()===Z.getFullYear()&&Y.getMonth()===Z.getMonth()&&Y.getDate()===Z.getDate()&&kn.lastClaimed!==null)return{success:!1,message:"   ."};let st=kn.streak+1;kn.lastClaimed&&V-et>2880*60*1e3&&(st=1),st>7&&(st=1);const At=[{day:1,type:"gold",value:500},{day:2,type:"gold",value:1e3},{day:3,type:"consumable",id:"growthPotion",count:1},{day:4,type:"gold",value:2e3},{day:5,type:"consumable",id:"seedBomb",count:1},{day:6,type:"consumable",id:"growthPotion",count:2},{day:7,type:"mixed",gold:5e3,items:[{id:"seedBomb",count:3}]}][st-1];return At.type==="gold"?t(ue=>ue+At.value):At.type==="consumable"?ut(ue=>({...ue,[At.id]:(ue[At.id]||0)+At.count})):At.type==="mixed"&&(t(ue=>ue+At.gold),ut(ue=>{const mn={...ue};return At.items.forEach(un=>{mn[un.id]=(mn[un.id]||0)+un.count}),mn})),sa({streak:st,lastClaimed:new Date().toISOString()}),{success:!0,streak:st,reward:At}},[kn]);return{user:Dt,handleLogin:Wi,handleLogout:$i,handleSaveGame:Bn,handleLoadGame:Ss,isSaving:Oe,lastSaved:Mi,dailyReward:kn,claimDailyReward:ws,gold:i,plants:o,inventory:c,collection:p,upgradeLevel:y,unlocks:E,rarityLevel:k,fertilizerLevel:zt,consumables:$,foodState:U,pityCounter:z,harvest:me,sell:Vi,sellAll:Oi,buyUpgrade:Es,buyUnlock:Zn,buyRarityUpgrade:ia,buyFertilizerUpgrade:er,buyConsumable:Ji,useConsumable:Fe,buyLandExpansion:nr,maxSlots:e,harvestAll:pt,activateFood:re,cancelFood:Pn,cookedItems:ct,activeBuffs:tt,useCookedItem:Ee,cookingState:Vt,discoveredRecipes:nt,startCooking:Fn,claimDish:qt,sellCookedItem:ae,resetGame:ci,activateGodMode:hi,stats:ft,achievements:dt,claimAchievement:Ce,activeQuests:w,questTimer:P,refreshQuests:Jn,rerollQuest:na,completeQuest:te,buyLuckyBox:xn,pests:ti,removePest:Xa,pets:ln,buyPet:yl,discoveredPlant:vt,setDiscoveredPlant:xt}}const $g=q.createContext({});function Jg(i){const t=q.useRef(null);return t.current===null&&(t.current=i()),t.current}const Zg=typeof window<"u",fA=Zg?q.useLayoutEffect:q.useEffect,Lf=q.createContext(null);function ty(i,t){i.indexOf(t)===-1&&i.push(t)}function ey(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}const Js=(i,t,e)=>e>t?t:e<i?i:e;let ny=()=>{};const Zs={},dA=i=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(i);function mA(i){return typeof i=="object"&&i!==null}const pA=i=>/^0[^.\s]+$/u.test(i);function iy(i){let t;return()=>(t===void 0&&(t=i()),t)}const Ii=i=>i,JO=(i,t)=>e=>t(i(e)),nc=(...i)=>i.reduce(JO),zu=(i,t,e)=>{const r=t-i;return r===0?1:(e-i)/r};class sy{constructor(){this.subscriptions=[]}add(t){return ty(this.subscriptions,t),()=>ey(this.subscriptions,t)}notify(t,e,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,e,r);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(t,e,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ys=i=>i*1e3,Ci=i=>i/1e3;function gA(i,t){return t?i*(1e3/t):0}const yA=(i,t,e)=>(((1-3*e+3*t)*i+(3*e-6*t))*i+3*t)*i,ZO=1e-7,tN=12;function eN(i,t,e,r,o){let u,c,m=0;do c=t+(e-t)/2,u=yA(c,r,o)-i,u>0?e=c:t=c;while(Math.abs(u)>ZO&&++m<tN);return c}function ic(i,t,e,r){if(i===t&&e===r)return Ii;const o=u=>eN(u,0,1,i,e);return u=>u===0||u===1?u:yA(o(u),t,r)}const vA=i=>t=>t<=.5?i(2*t)/2:(2-i(2*(1-t)))/2,_A=i=>t=>1-i(1-t),TA=ic(.33,1.53,.69,.99),ry=_A(TA),bA=vA(ry),SA=i=>(i*=2)<1?.5*ry(i):.5*(2-Math.pow(2,-10*(i-1))),ay=i=>1-Math.sin(Math.acos(i)),EA=_A(ay),AA=vA(ay),nN=ic(.42,0,1,1),iN=ic(0,0,.58,1),wA=ic(.42,0,.58,1),sN=i=>Array.isArray(i)&&typeof i[0]!="number",xA=i=>Array.isArray(i)&&typeof i[0]=="number",rN={linear:Ii,easeIn:nN,easeInOut:wA,easeOut:iN,circIn:ay,circInOut:AA,circOut:EA,backIn:ry,backInOut:bA,backOut:TA,anticipate:SA},aN=i=>typeof i=="string",Vb=i=>{if(xA(i)){ny(i.length===4);const[t,e,r,o]=i;return ic(t,e,r,o)}else if(aN(i))return rN[i];return i},Dh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function oN(i,t){let e=new Set,r=new Set,o=!1,u=!1;const c=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function p(y){c.has(y)&&(g.schedule(y),i()),y(m)}const g={schedule:(y,T=!1,E=!1)=>{const k=E&&o?e:r;return T&&c.add(y),k.has(y)||k.add(y),y},cancel:y=>{r.delete(y),c.delete(y)},process:y=>{if(m=y,o){u=!0;return}o=!0,[e,r]=[r,e],e.forEach(p),e.clear(),o=!1,u&&(u=!1,g.process(y))}};return g}const lN=40;function RA(i,t){let e=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>e=!0,c=Dh.reduce((rt,ft)=>(rt[ft]=oN(u),rt),{}),{setup:m,read:p,resolveKeyframes:g,preUpdate:y,update:T,preRender:E,render:C,postRender:k}=c,D=()=>{const rt=Zs.useManualTiming?o.timestamp:performance.now();e=!1,Zs.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(rt-o.timestamp,lN),1)),o.timestamp=rt,o.isProcessing=!0,m.process(o),p.process(o),g.process(o),y.process(o),T.process(o),E.process(o),C.process(o),k.process(o),o.isProcessing=!1,e&&t&&(r=!1,i(D))},U=()=>{e=!0,r=!0,o.isProcessing||i(D)};return{schedule:Dh.reduce((rt,ft)=>{const mt=c[ft];return rt[ft]=(dt,R=!1,w=!1)=>(e||U(),mt.schedule(dt,R,w)),rt},{}),cancel:rt=>{for(let ft=0;ft<Dh.length;ft++)c[Dh[ft]].cancel(rt)},state:o,steps:c}}const{schedule:Ve,cancel:Zr,state:bn,steps:Zm}=RA(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ii,!0);let Gh;function uN(){Gh=void 0}const $n={now:()=>(Gh===void 0&&$n.set(bn.isProcessing||Zs.useManualTiming?bn.timestamp:performance.now()),Gh),set:i=>{Gh=i,queueMicrotask(uN)}},CA=i=>t=>typeof t=="string"&&t.startsWith(i),oy=CA("--"),cN=CA("var(--"),ly=i=>cN(i)?hN.test(i.split("/*")[0].trim()):!1,hN=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,dl={test:i=>typeof i=="number",parse:parseFloat,transform:i=>i},Bu={...dl,transform:i=>Js(0,1,i)},Mh={...dl,default:1},wu=i=>Math.round(i*1e5)/1e5,uy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function fN(i){return i==null}const dN=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,cy=(i,t)=>e=>!!(typeof e=="string"&&dN.test(e)&&e.startsWith(i)||t&&!fN(e)&&Object.prototype.hasOwnProperty.call(e,t)),IA=(i,t,e)=>r=>{if(typeof r!="string")return r;const[o,u,c,m]=r.match(uy);return{[i]:parseFloat(o),[t]:parseFloat(u),[e]:parseFloat(c),alpha:m!==void 0?parseFloat(m):1}},mN=i=>Js(0,255,i),tp={...dl,transform:i=>Math.round(mN(i))},Na={test:cy("rgb","red"),parse:IA("red","green","blue"),transform:({red:i,green:t,blue:e,alpha:r=1})=>"rgba("+tp.transform(i)+", "+tp.transform(t)+", "+tp.transform(e)+", "+wu(Bu.transform(r))+")"};function pN(i){let t="",e="",r="",o="";return i.length>5?(t=i.substring(1,3),e=i.substring(3,5),r=i.substring(5,7),o=i.substring(7,9)):(t=i.substring(1,2),e=i.substring(2,3),r=i.substring(3,4),o=i.substring(4,5),t+=t,e+=e,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Lp={test:cy("#"),parse:pN,transform:Na.transform},sc=i=>({test:t=>typeof t=="string"&&t.endsWith(i)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${i}`}),jr=sc("deg"),vs=sc("%"),Ot=sc("px"),gN=sc("vh"),yN=sc("vw"),Ob={...vs,parse:i=>vs.parse(i)/100,transform:i=>vs.transform(i*100)},zo={test:cy("hsl","hue"),parse:IA("hue","saturation","lightness"),transform:({hue:i,saturation:t,lightness:e,alpha:r=1})=>"hsla("+Math.round(i)+", "+vs.transform(wu(t))+", "+vs.transform(wu(e))+", "+wu(Bu.transform(r))+")"},en={test:i=>Na.test(i)||Lp.test(i)||zo.test(i),parse:i=>Na.test(i)?Na.parse(i):zo.test(i)?zo.parse(i):Lp.parse(i),transform:i=>typeof i=="string"?i:i.hasOwnProperty("red")?Na.transform(i):zo.transform(i),getAnimatableNone:i=>{const t=en.parse(i);return t.alpha=0,en.transform(t)}},vN=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function _N(i){return isNaN(i)&&typeof i=="string"&&(i.match(uy)?.length||0)+(i.match(vN)?.length||0)>0}const DA="number",MA="color",TN="var",bN="var(",Nb="${}",SN=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Fu(i){const t=i.toString(),e=[],r={color:[],number:[],var:[]},o=[];let u=0;const m=t.replace(SN,p=>(en.test(p)?(r.color.push(u),o.push(MA),e.push(en.parse(p))):p.startsWith(bN)?(r.var.push(u),o.push(TN),e.push(p)):(r.number.push(u),o.push(DA),e.push(parseFloat(p))),++u,Nb)).split(Nb);return{values:e,split:m,indexes:r,types:o}}function VA(i){return Fu(i).values}function OA(i){const{split:t,types:e}=Fu(i),r=t.length;return o=>{let u="";for(let c=0;c<r;c++)if(u+=t[c],o[c]!==void 0){const m=e[c];m===DA?u+=wu(o[c]):m===MA?u+=en.transform(o[c]):u+=o[c]}return u}}const EN=i=>typeof i=="number"?0:en.test(i)?en.getAnimatableNone(i):i;function AN(i){const t=VA(i);return OA(i)(t.map(EN))}const ta={test:_N,parse:VA,createTransformer:OA,getAnimatableNone:AN};function ep(i,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?i+(t-i)*6*e:e<1/2?t:e<2/3?i+(t-i)*(2/3-e)*6:i}function wN({hue:i,saturation:t,lightness:e,alpha:r}){i/=360,t/=100,e/=100;let o=0,u=0,c=0;if(!t)o=u=c=e;else{const m=e<.5?e*(1+t):e+t-e*t,p=2*e-m;o=ep(p,m,i+1/3),u=ep(p,m,i),c=ep(p,m,i-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:r}}function yf(i,t){return e=>e>0?t:i}const Pe=(i,t,e)=>i+(t-i)*e,np=(i,t,e)=>{const r=i*i,o=e*(t*t-r)+r;return o<0?0:Math.sqrt(o)},xN=[Lp,Na,zo],RN=i=>xN.find(t=>t.test(i));function Pb(i){const t=RN(i);if(!t)return!1;let e=t.parse(i);return t===zo&&(e=wN(e)),e}const kb=(i,t)=>{const e=Pb(i),r=Pb(t);if(!e||!r)return yf(i,t);const o={...e};return u=>(o.red=np(e.red,r.red,u),o.green=np(e.green,r.green,u),o.blue=np(e.blue,r.blue,u),o.alpha=Pe(e.alpha,r.alpha,u),Na.transform(o))},Up=new Set(["none","hidden"]);function CN(i,t){return Up.has(i)?e=>e<=0?i:t:e=>e>=1?t:i}function IN(i,t){return e=>Pe(i,t,e)}function hy(i){return typeof i=="number"?IN:typeof i=="string"?ly(i)?yf:en.test(i)?kb:VN:Array.isArray(i)?NA:typeof i=="object"?en.test(i)?kb:DN:yf}function NA(i,t){const e=[...i],r=e.length,o=i.map((u,c)=>hy(u)(u,t[c]));return u=>{for(let c=0;c<r;c++)e[c]=o[c](u);return e}}function DN(i,t){const e={...i,...t},r={};for(const o in e)i[o]!==void 0&&t[o]!==void 0&&(r[o]=hy(i[o])(i[o],t[o]));return o=>{for(const u in r)e[u]=r[u](o);return e}}function MN(i,t){const e=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],c=i.indexes[u][r[u]],m=i.values[c]??0;e[o]=m,r[u]++}return e}const VN=(i,t)=>{const e=ta.createTransformer(t),r=Fu(i),o=Fu(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Up.has(i)&&!o.values.length||Up.has(t)&&!r.values.length?CN(i,t):nc(NA(MN(r,o),o.values),e):yf(i,t)};function PA(i,t,e){return typeof i=="number"&&typeof t=="number"&&typeof e=="number"?Pe(i,t,e):hy(i)(i,t)}const ON=i=>{const t=({timestamp:e})=>i(e);return{start:(e=!0)=>Ve.update(t,e),stop:()=>Zr(t),now:()=>bn.isProcessing?bn.timestamp:$n.now()}},kA=(i,t,e=10)=>{let r="";const o=Math.max(Math.round(t/e),2);for(let u=0;u<o;u++)r+=Math.round(i(u/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},vf=2e4;function fy(i){let t=0;const e=50;let r=i.next(t);for(;!r.done&&t<vf;)t+=e,r=i.next(t);return t>=vf?1/0:t}function NN(i,t=100,e){const r=e({...i,keyframes:[0,t]}),o=Math.min(fy(r),vf);return{type:"keyframes",ease:u=>r.next(o*u).value/t,duration:Ci(o)}}const PN=5;function jA(i,t,e){const r=Math.max(t-PN,0);return gA(e-i(r),t-r)}const Be={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ip=.001;function kN({duration:i=Be.duration,bounce:t=Be.bounce,velocity:e=Be.velocity,mass:r=Be.mass}){let o,u,c=1-t;c=Js(Be.minDamping,Be.maxDamping,c),i=Js(Be.minDuration,Be.maxDuration,Ci(i)),c<1?(o=g=>{const y=g*c,T=y*i,E=y-e,C=zp(g,c),k=Math.exp(-T);return ip-E/C*k},u=g=>{const T=g*c*i,E=T*e+e,C=Math.pow(c,2)*Math.pow(g,2)*i,k=Math.exp(-T),D=zp(Math.pow(g,2),c);return(-o(g)+ip>0?-1:1)*((E-C)*k)/D}):(o=g=>{const y=Math.exp(-g*i),T=(g-e)*i+1;return-ip+y*T},u=g=>{const y=Math.exp(-g*i),T=(e-g)*(i*i);return y*T});const m=5/i,p=LN(o,u,m);if(i=ys(i),isNaN(p))return{stiffness:Be.stiffness,damping:Be.damping,duration:i};{const g=Math.pow(p,2)*r;return{stiffness:g,damping:c*2*Math.sqrt(r*g),duration:i}}}const jN=12;function LN(i,t,e){let r=e;for(let o=1;o<jN;o++)r=r-i(r)/t(r);return r}function zp(i,t){return i*Math.sqrt(1-t*t)}const UN=["duration","bounce"],zN=["stiffness","damping","mass"];function jb(i,t){return t.some(e=>i[e]!==void 0)}function BN(i){let t={velocity:Be.velocity,stiffness:Be.stiffness,damping:Be.damping,mass:Be.mass,isResolvedFromDuration:!1,...i};if(!jb(i,zN)&&jb(i,UN))if(i.visualDuration){const e=i.visualDuration,r=2*Math.PI/(e*1.2),o=r*r,u=2*Js(.05,1,1-(i.bounce||0))*Math.sqrt(o);t={...t,mass:Be.mass,stiffness:o,damping:u}}else{const e=kN(i);t={...t,...e,mass:Be.mass},t.isResolvedFromDuration=!0}return t}function _f(i=Be.visualDuration,t=Be.bounce){const e=typeof i!="object"?{visualDuration:i,keyframes:[0,1],bounce:t}:i;let{restSpeed:r,restDelta:o}=e;const u=e.keyframes[0],c=e.keyframes[e.keyframes.length-1],m={done:!1,value:u},{stiffness:p,damping:g,mass:y,duration:T,velocity:E,isResolvedFromDuration:C}=BN({...e,velocity:-Ci(e.velocity||0)}),k=E||0,D=g/(2*Math.sqrt(p*y)),U=c-u,X=Ci(Math.sqrt(p/y)),tt=Math.abs(U)<5;r||(r=tt?Be.restSpeed.granular:Be.restSpeed.default),o||(o=tt?Be.restDelta.granular:Be.restDelta.default);let rt;if(D<1){const mt=zp(X,D);rt=dt=>{const R=Math.exp(-D*X*dt);return c-R*((k+D*X*U)/mt*Math.sin(mt*dt)+U*Math.cos(mt*dt))}}else if(D===1)rt=mt=>c-Math.exp(-X*mt)*(U+(k+X*U)*mt);else{const mt=X*Math.sqrt(D*D-1);rt=dt=>{const R=Math.exp(-D*X*dt),w=Math.min(mt*dt,300);return c-R*((k+D*X*U)*Math.sinh(w)+mt*U*Math.cosh(w))/mt}}const ft={calculatedDuration:C&&T||null,next:mt=>{const dt=rt(mt);if(C)m.done=mt>=T;else{let R=mt===0?k:0;D<1&&(R=mt===0?ys(k):jA(rt,mt,dt));const w=Math.abs(R)<=r,I=Math.abs(c-dt)<=o;m.done=w&&I}return m.value=m.done?c:dt,m},toString:()=>{const mt=Math.min(fy(ft),vf),dt=kA(R=>ft.next(mt*R).value,mt,30);return mt+"ms "+dt},toTransition:()=>{}};return ft}_f.applyToOptions=i=>{const t=NN(i,100,_f);return i.ease=t.ease,i.duration=ys(t.duration),i.type="keyframes",i};function Bp({keyframes:i,velocity:t=0,power:e=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:m,max:p,restDelta:g=.5,restSpeed:y}){const T=i[0],E={done:!1,value:T},C=w=>m!==void 0&&w<m||p!==void 0&&w>p,k=w=>m===void 0?p:p===void 0||Math.abs(m-w)<Math.abs(p-w)?m:p;let D=e*t;const U=T+D,X=c===void 0?U:c(U);X!==U&&(D=X-T);const tt=w=>-D*Math.exp(-w/r),rt=w=>X+tt(w),ft=w=>{const I=tt(w),P=rt(w);E.done=Math.abs(I)<=g,E.value=E.done?X:P};let mt,dt;const R=w=>{C(E.value)&&(mt=w,dt=_f({keyframes:[E.value,k(E.value)],velocity:jA(rt,w,E.value),damping:o,stiffness:u,restDelta:g,restSpeed:y}))};return R(0),{calculatedDuration:null,next:w=>{let I=!1;return!dt&&mt===void 0&&(I=!0,ft(w),R(w)),mt!==void 0&&w>=mt?dt.next(w-mt):(!I&&ft(w),E)}}}function FN(i,t,e){const r=[],o=e||Zs.mix||PA,u=i.length-1;for(let c=0;c<u;c++){let m=o(i[c],i[c+1]);if(t){const p=Array.isArray(t)?t[c]||Ii:t;m=nc(p,m)}r.push(m)}return r}function HN(i,t,{clamp:e=!0,ease:r,mixer:o}={}){const u=i.length;if(ny(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=i[0]===i[1];i[0]>i[u-1]&&(i=[...i].reverse(),t=[...t].reverse());const m=FN(t,r,o),p=m.length,g=y=>{if(c&&y<i[0])return t[0];let T=0;if(p>1)for(;T<i.length-2&&!(y<i[T+1]);T++);const E=zu(i[T],i[T+1],y);return m[T](E)};return e?y=>g(Js(i[0],i[u-1],y)):g}function qN(i,t){const e=i[i.length-1];for(let r=1;r<=t;r++){const o=zu(0,t,r);i.push(Pe(e,1,o))}}function GN(i){const t=[0];return qN(t,i.length-1),t}function KN(i,t){return i.map(e=>e*t)}function YN(i,t){return i.map(()=>t||wA).splice(0,i.length-1)}function xu({duration:i=300,keyframes:t,times:e,ease:r="easeInOut"}){const o=sN(r)?r.map(Vb):Vb(r),u={done:!1,value:t[0]},c=KN(e&&e.length===t.length?e:GN(t),i),m=HN(c,t,{ease:Array.isArray(o)?o:YN(t,o)});return{calculatedDuration:i,next:p=>(u.value=m(p),u.done=p>=i,u)}}const QN=i=>i!==null;function dy(i,{repeat:t,repeatType:e="loop"},r,o=1){const u=i.filter(QN),m=o<0||t&&e!=="loop"&&t%2===1?0:u.length-1;return!m||r===void 0?u[m]:r}const XN={decay:Bp,inertia:Bp,tween:xu,keyframes:xu,spring:_f};function LA(i){typeof i.type=="string"&&(i.type=XN[i.type])}class my{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const WN=i=>i/100;class py extends my{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==$n.now()&&this.tick($n.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;LA(t);const{type:e=xu,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=t;let{keyframes:m}=t;const p=e||xu;p!==xu&&typeof m[0]!="number"&&(this.mixKeyframes=nc(WN,PA(m[0],m[1])),m=[0,100]);const g=p({...t,keyframes:m});u==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...m].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=fy(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=g}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:m,calculatedDuration:p}=this;if(this.startTime===null)return r.next(0);const{delay:g=0,keyframes:y,repeat:T,repeatType:E,repeatDelay:C,type:k,onUpdate:D,finalKeyframe:U}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const X=this.currentTime-g*(this.playbackSpeed>=0?1:-1),tt=this.playbackSpeed>=0?X<0:X>o;this.currentTime=Math.max(X,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let rt=this.currentTime,ft=r;if(T){const w=Math.min(this.currentTime,o)/m;let I=Math.floor(w),P=w%1;!P&&w>=1&&(P=1),P===1&&I--,I=Math.min(I,T+1),!!(I%2)&&(E==="reverse"?(P=1-P,C&&(P-=C/m)):E==="mirror"&&(ft=c)),rt=Js(0,1,P)*m}const mt=tt?{done:!1,value:y[0]}:ft.next(rt);u&&(mt.value=u(mt.value));let{done:dt}=mt;!tt&&p!==null&&(dt=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&dt);return R&&k!==Bp&&(mt.value=dy(y,this.options,U,this.speed)),D&&D(mt.value),R&&this.finish(),mt}then(t,e){return this.finished.then(t,e)}get duration(){return Ci(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ci(t)}get time(){return Ci(this.currentTime)}set time(t){t=ys(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime($n.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=Ci(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=ON,startTime:e}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=e??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime($n.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function $N(i){for(let t=1;t<i.length;t++)i[t]??(i[t]=i[t-1])}const Pa=i=>i*180/Math.PI,Fp=i=>{const t=Pa(Math.atan2(i[1],i[0]));return Hp(t)},JN={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:i=>(Math.abs(i[0])+Math.abs(i[3]))/2,rotate:Fp,rotateZ:Fp,skewX:i=>Pa(Math.atan(i[1])),skewY:i=>Pa(Math.atan(i[2])),skew:i=>(Math.abs(i[1])+Math.abs(i[2]))/2},Hp=i=>(i=i%360,i<0&&(i+=360),i),Lb=Fp,Ub=i=>Math.sqrt(i[0]*i[0]+i[1]*i[1]),zb=i=>Math.sqrt(i[4]*i[4]+i[5]*i[5]),ZN={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Ub,scaleY:zb,scale:i=>(Ub(i)+zb(i))/2,rotateX:i=>Hp(Pa(Math.atan2(i[6],i[5]))),rotateY:i=>Hp(Pa(Math.atan2(-i[2],i[0]))),rotateZ:Lb,rotate:Lb,skewX:i=>Pa(Math.atan(i[4])),skewY:i=>Pa(Math.atan(i[1])),skew:i=>(Math.abs(i[1])+Math.abs(i[4]))/2};function qp(i){return i.includes("scale")?1:0}function Gp(i,t){if(!i||i==="none")return qp(t);const e=i.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(e)r=ZN,o=e;else{const m=i.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=JN,o=m}if(!o)return qp(t);const u=r[t],c=o[1].split(",").map(e3);return typeof u=="function"?u(c):c[u]}const t3=(i,t)=>{const{transform:e="none"}=getComputedStyle(i);return Gp(e,t)};function e3(i){return parseFloat(i.trim())}const ml=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],pl=new Set(ml),Bb=i=>i===dl||i===Ot,n3=new Set(["x","y","z"]),i3=ml.filter(i=>!n3.has(i));function s3(i){const t=[];return i3.forEach(e=>{const r=i.getValue(e);r!==void 0&&(t.push([e,r.get()]),r.set(e.startsWith("scale")?1:0))}),t}const La={width:({x:i},{paddingLeft:t="0",paddingRight:e="0"})=>i.max-i.min-parseFloat(t)-parseFloat(e),height:({y:i},{paddingTop:t="0",paddingBottom:e="0"})=>i.max-i.min-parseFloat(t)-parseFloat(e),top:(i,{top:t})=>parseFloat(t),left:(i,{left:t})=>parseFloat(t),bottom:({y:i},{top:t})=>parseFloat(t)+(i.max-i.min),right:({x:i},{left:t})=>parseFloat(t)+(i.max-i.min),x:(i,{transform:t})=>Gp(t,"x"),y:(i,{transform:t})=>Gp(t,"y")};La.translateX=La.x;La.translateY=La.y;const Ua=new Set;let Kp=!1,Yp=!1,Qp=!1;function UA(){if(Yp){const i=Array.from(Ua).filter(r=>r.needsMeasurement),t=new Set(i.map(r=>r.element)),e=new Map;t.forEach(r=>{const o=s3(r);o.length&&(e.set(r,o),r.render())}),i.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=e.get(r);o&&o.forEach(([u,c])=>{r.getValue(u)?.set(c)})}),i.forEach(r=>r.measureEndState()),i.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Yp=!1,Kp=!1,Ua.forEach(i=>i.complete(Qp)),Ua.clear()}function zA(){Ua.forEach(i=>{i.readKeyframes(),i.needsMeasurement&&(Yp=!0)})}function r3(){Qp=!0,zA(),UA(),Qp=!1}class gy{constructor(t,e,r,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=r,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Ua.add(this),Kp||(Kp=!0,Ve.read(zA),Ve.resolveKeyframes(UA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:r,motionValue:o}=this;if(t[0]===null){const u=o?.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(r&&e){const m=r.readValue(e,c);m!=null&&(t[0]=m)}t[0]===void 0&&(t[0]=c),o&&u===void 0&&o.set(t[0])}$N(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ua.delete(this)}cancel(){this.state==="scheduled"&&(Ua.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const a3=i=>i.startsWith("--");function o3(i,t,e){a3(t)?i.style.setProperty(t,e):i.style[t]=e}const l3=iy(()=>window.ScrollTimeline!==void 0),u3={};function c3(i,t){const e=iy(i);return()=>u3[t]??e()}const BA=c3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),yu=([i,t,e,r])=>`cubic-bezier(${i}, ${t}, ${e}, ${r})`,Fb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:yu([0,.65,.55,1]),circOut:yu([.55,0,1,.45]),backIn:yu([.31,.01,.66,-.59]),backOut:yu([.33,1.53,.69,.99])};function FA(i,t){if(i)return typeof i=="function"?BA()?kA(i,t):"ease-out":xA(i)?yu(i):Array.isArray(i)?i.map(e=>FA(e,t)||Fb.easeOut):Fb[i]}function h3(i,t,e,{delay:r=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:m="easeOut",times:p}={},g=void 0){const y={[t]:e};p&&(y.offset=p);const T=FA(m,o);Array.isArray(T)&&(y.easing=T);const E={delay:r,duration:o,easing:Array.isArray(T)?"linear":T,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return g&&(E.pseudoElement=g),i.animate(y,E)}function HA(i){return typeof i=="function"&&"applyToOptions"in i}function f3({type:i,...t}){return HA(i)&&BA()?i.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class d3 extends my{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:e,name:r,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:m,onComplete:p}=t;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=t,ny(typeof t.type!="string");const g=f3(t);this.animation=h3(e,r,o,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const y=dy(o,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(y):o3(e,r,y),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Ci(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ci(t)}get time(){return Ci(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=ys(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&l3()?(this.animation.timeline=t,Ii):e(this)}}const qA={anticipate:SA,backInOut:bA,circInOut:AA};function m3(i){return i in qA}function p3(i){typeof i.ease=="string"&&m3(i.ease)&&(i.ease=qA[i.ease])}const Hb=10;class g3 extends d3{constructor(t){p3(t),LA(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:r,onComplete:o,element:u,...c}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const m=new py({...c,autoplay:!1}),p=ys(this.finishedTime??this.time);e.setWithVelocity(m.sample(p-Hb).value,m.sample(p).value,Hb),m.stop()}}const qb=(i,t)=>t==="zIndex"?!1:!!(typeof i=="number"||Array.isArray(i)||typeof i=="string"&&(ta.test(i)||i==="0")&&!i.startsWith("url("));function y3(i){const t=i[0];if(i.length===1)return!0;for(let e=0;e<i.length;e++)if(i[e]!==t)return!0}function v3(i,t,e,r){const o=i[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=i[i.length-1],c=qb(o,t),m=qb(u,t);return!c||!m?!1:y3(i)||(e==="spring"||HA(e))&&r}function Xp(i){i.duration=0,i.type="keyframes"}const _3=new Set(["opacity","clipPath","filter","transform"]),T3=iy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function b3(i){const{motionValue:t,name:e,repeatDelay:r,repeatType:o,damping:u,type:c}=i;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=t.owner.getProps();return T3()&&e&&_3.has(e)&&(e!=="transform"||!g)&&!p&&!r&&o!=="mirror"&&u!==0&&c!=="inertia"}const S3=40;class E3 extends my{constructor({autoplay:t=!0,delay:e=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:m,name:p,motionValue:g,element:y,...T}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=$n.now();const E={autoplay:t,delay:e,type:r,repeat:o,repeatDelay:u,repeatType:c,name:p,motionValue:g,element:y,...T},C=y?.KeyframeResolver||gy;this.keyframeResolver=new C(m,(k,D,U)=>this.onKeyframesResolved(k,D,E,!U),p,g,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,r,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:m,delay:p,isHandoff:g,onUpdate:y}=r;this.resolvedAt=$n.now(),v3(t,u,c,m)||((Zs.instantAnimations||!p)&&y?.(dy(t,r,e)),t[0]=t[t.length-1],Xp(r),r.repeat=0);const E={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>S3?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...r,keyframes:t},C=!g&&b3(E)?new g3({...E,element:E.motionValue.owner.current}):new py(E);C.finished.then(()=>this.notifyFinished()).catch(Ii),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),r3()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const A3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function w3(i){const t=A3.exec(i);if(!t)return[,];const[,e,r,o]=t;return[`--${e??r}`,o]}function GA(i,t,e=1){const[r,o]=w3(i);if(!r)return;const u=window.getComputedStyle(t).getPropertyValue(r);if(u){const c=u.trim();return dA(c)?parseFloat(c):c}return ly(o)?GA(o,t,e+1):o}function yy(i,t){return i?.[t]??i?.default??i}const KA=new Set(["width","height","top","left","right","bottom",...ml]),x3={test:i=>i==="auto",parse:i=>i},YA=i=>t=>t.test(i),QA=[dl,Ot,vs,jr,yN,gN,x3],Gb=i=>QA.find(YA(i));function R3(i){return typeof i=="number"?i===0:i!==null?i==="none"||i==="0"||pA(i):!0}const C3=new Set(["brightness","contrast","saturate","opacity"]);function I3(i){const[t,e]=i.slice(0,-1).split("(");if(t==="drop-shadow")return i;const[r]=e.match(uy)||[];if(!r)return i;const o=e.replace(r,"");let u=C3.has(t)?1:0;return r!==e&&(u*=100),t+"("+u+o+")"}const D3=/\b([a-z-]*)\(.*?\)/gu,Wp={...ta,getAnimatableNone:i=>{const t=i.match(D3);return t?t.map(I3).join(" "):i}},Kb={...dl,transform:Math.round},M3={rotate:jr,rotateX:jr,rotateY:jr,rotateZ:jr,scale:Mh,scaleX:Mh,scaleY:Mh,scaleZ:Mh,skew:jr,skewX:jr,skewY:jr,distance:Ot,translateX:Ot,translateY:Ot,translateZ:Ot,x:Ot,y:Ot,z:Ot,perspective:Ot,transformPerspective:Ot,opacity:Bu,originX:Ob,originY:Ob,originZ:Ot},vy={borderWidth:Ot,borderTopWidth:Ot,borderRightWidth:Ot,borderBottomWidth:Ot,borderLeftWidth:Ot,borderRadius:Ot,radius:Ot,borderTopLeftRadius:Ot,borderTopRightRadius:Ot,borderBottomRightRadius:Ot,borderBottomLeftRadius:Ot,width:Ot,maxWidth:Ot,height:Ot,maxHeight:Ot,top:Ot,right:Ot,bottom:Ot,left:Ot,padding:Ot,paddingTop:Ot,paddingRight:Ot,paddingBottom:Ot,paddingLeft:Ot,margin:Ot,marginTop:Ot,marginRight:Ot,marginBottom:Ot,marginLeft:Ot,backgroundPositionX:Ot,backgroundPositionY:Ot,...M3,zIndex:Kb,fillOpacity:Bu,strokeOpacity:Bu,numOctaves:Kb},V3={...vy,color:en,backgroundColor:en,outlineColor:en,fill:en,stroke:en,borderColor:en,borderTopColor:en,borderRightColor:en,borderBottomColor:en,borderLeftColor:en,filter:Wp,WebkitFilter:Wp},XA=i=>V3[i];function WA(i,t){let e=XA(i);return e!==Wp&&(e=ta),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const O3=new Set(["auto","none","0"]);function N3(i,t,e){let r=0,o;for(;r<i.length&&!o;){const u=i[r];typeof u=="string"&&!O3.has(u)&&Fu(u).values.length&&(o=i[r]),r++}if(o&&e)for(const u of t)i[u]=WA(e,o)}class P3 extends gy{constructor(t,e,r,o,u){super(t,e,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:r}=this;if(!e||!e.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let g=t[p];if(typeof g=="string"&&(g=g.trim(),ly(g))){const y=GA(g,e.current);y!==void 0&&(t[p]=y),p===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!KA.has(r)||t.length!==2)return;const[o,u]=t,c=Gb(o),m=Gb(u);if(c!==m)if(Bb(c)&&Bb(m))for(let p=0;p<t.length;p++){const g=t[p];typeof g=="string"&&(t[p]=parseFloat(g))}else La[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||R3(t[o]))&&r.push(o);r.length&&N3(t,r,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=La[r](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const o=e[e.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(e);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,c=r[u];r[u]=La[e](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([m,p])=>{t.getValue(m).set(p)}),this.resolveNoneKeyframes()}}function k3(i,t,e){if(i instanceof EventTarget)return[i];if(typeof i=="string"){let r=document;const o=e?.[i]??r.querySelectorAll(i);return o?Array.from(o):[]}return Array.from(i)}const $A=(i,t)=>t&&typeof i=="number"?t.transform(i):i;function JA(i){return mA(i)&&"offsetHeight"in i}const Yb=30,j3=i=>!isNaN(parseFloat(i));class L3{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const o=$n.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=$n.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=j3(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new sy);const r=this.events[t].add(e);return t==="change"?()=>{r(),Ve.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,r){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=$n.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Yb)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,Yb);return gA(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function sl(i,t){return new L3(i,t)}const{schedule:_y}=RA(queueMicrotask,!1),Hi={x:!1,y:!1};function ZA(){return Hi.x||Hi.y}function U3(i){return i==="x"||i==="y"?Hi[i]?null:(Hi[i]=!0,()=>{Hi[i]=!1}):Hi.x||Hi.y?null:(Hi.x=Hi.y=!0,()=>{Hi.x=Hi.y=!1})}function tw(i,t){const e=k3(i),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[e,o,()=>r.abort()]}function Qb(i){return!(i.pointerType==="touch"||ZA())}function z3(i,t,e={}){const[r,o,u]=tw(i,e),c=m=>{if(!Qb(m))return;const{target:p}=m,g=t(p,m);if(typeof g!="function"||!p)return;const y=T=>{Qb(T)&&(g(T),p.removeEventListener("pointerleave",y))};p.addEventListener("pointerleave",y,o)};return r.forEach(m=>{m.addEventListener("pointerenter",c,o)}),u}const ew=(i,t)=>t?i===t?!0:ew(i,t.parentElement):!1,Ty=i=>i.pointerType==="mouse"?typeof i.button!="number"||i.button<=0:i.isPrimary!==!1,B3=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function F3(i){return B3.has(i.tagName)||i.tabIndex!==-1}const Kh=new WeakSet;function Xb(i){return t=>{t.key==="Enter"&&i(t)}}function sp(i,t){i.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const H3=(i,t)=>{const e=i.currentTarget;if(!e)return;const r=Xb(()=>{if(Kh.has(e))return;sp(e,"down");const o=Xb(()=>{sp(e,"up")}),u=()=>sp(e,"cancel");e.addEventListener("keyup",o,t),e.addEventListener("blur",u,t)});e.addEventListener("keydown",r,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",r),t)};function Wb(i){return Ty(i)&&!ZA()}function q3(i,t,e={}){const[r,o,u]=tw(i,e),c=m=>{const p=m.currentTarget;if(!Wb(m))return;Kh.add(p);const g=t(p,m),y=(C,k)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",E),Kh.has(p)&&Kh.delete(p),Wb(C)&&typeof g=="function"&&g(C,{success:k})},T=C=>{y(C,p===window||p===document||e.useGlobalTarget||ew(p,C.target))},E=C=>{y(C,!1)};window.addEventListener("pointerup",T,o),window.addEventListener("pointercancel",E,o)};return r.forEach(m=>{(e.useGlobalTarget?window:m).addEventListener("pointerdown",c,o),JA(m)&&(m.addEventListener("focus",g=>H3(g,o)),!F3(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),u}function nw(i){return mA(i)&&"ownerSVGElement"in i}function G3(i){return nw(i)&&i.tagName==="svg"}const On=i=>!!(i&&i.getVelocity),K3=[...QA,en,ta],Y3=i=>K3.find(YA(i)),by=q.createContext({transformPagePoint:i=>i,isStatic:!1,reducedMotion:"never"});function $b(i,t){if(typeof i=="function")return i(t);i!=null&&(i.current=t)}function Q3(...i){return t=>{let e=!1;const r=i.map(o=>{const u=$b(o,t);return!e&&typeof u=="function"&&(e=!0),u});if(e)return()=>{for(let o=0;o<r.length;o++){const u=r[o];typeof u=="function"?u():$b(i[o],null)}}}}function X3(...i){return q.useCallback(Q3(...i),i)}class W3 extends q.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const r=e.offsetParent,o=JA(r)&&r.offsetWidth||0,u=this.props.sizeRef.current;u.height=e.offsetHeight||0,u.width=e.offsetWidth||0,u.top=e.offsetTop,u.left=e.offsetLeft,u.right=o-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function $3({children:i,isPresent:t,anchorX:e,root:r}){const o=q.useId(),u=q.useRef(null),c=q.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:m}=q.useContext(by),p=X3(u,i?.ref);return q.useInsertionEffect(()=>{const{width:g,height:y,top:T,left:E,right:C}=c.current;if(t||!u.current||!g||!y)return;const k=e==="left"?`left: ${E}`:`right: ${C}`;u.current.dataset.motionPopId=o;const D=document.createElement("style");m&&(D.nonce=m);const U=r??document.head;return U.appendChild(D),D.sheet&&D.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${y}px !important;
            ${k}px !important;
            top: ${T}px !important;
          }
        `),()=>{U.contains(D)&&U.removeChild(D)}},[t]),S.jsx(W3,{isPresent:t,childRef:u,sizeRef:c,children:q.cloneElement(i,{ref:p})})}const J3=({children:i,initial:t,isPresent:e,onExitComplete:r,custom:o,presenceAffectsLayout:u,mode:c,anchorX:m,root:p})=>{const g=Jg(Z3),y=q.useId();let T=!0,E=q.useMemo(()=>(T=!1,{id:y,initial:t,isPresent:e,custom:o,onExitComplete:C=>{g.set(C,!0);for(const k of g.values())if(!k)return;r&&r()},register:C=>(g.set(C,!1),()=>g.delete(C))}),[e,g,r]);return u&&T&&(E={...E}),q.useMemo(()=>{g.forEach((C,k)=>g.set(k,!1))},[e]),q.useEffect(()=>{!e&&!g.size&&r&&r()},[e]),c==="popLayout"&&(i=S.jsx($3,{isPresent:e,anchorX:m,root:p,children:i})),S.jsx(Lf.Provider,{value:E,children:i})};function Z3(){return new Map}function iw(i=!0){const t=q.useContext(Lf);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:r,register:o}=t,u=q.useId();q.useEffect(()=>{if(i)return o(u)},[i]);const c=q.useCallback(()=>i&&r&&r(u),[u,r,i]);return!e&&r?[!1,c]:[!0]}const Vh=i=>i.key||"";function Jb(i){const t=[];return q.Children.forEach(i,e=>{q.isValidElement(e)&&t.push(e)}),t}const Sy=({children:i,custom:t,initial:e=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:u="sync",propagate:c=!1,anchorX:m="left",root:p})=>{const[g,y]=iw(c),T=q.useMemo(()=>Jb(i),[i]),E=c&&!g?[]:T.map(Vh),C=q.useRef(!0),k=q.useRef(T),D=Jg(()=>new Map),[U,X]=q.useState(T),[tt,rt]=q.useState(T);fA(()=>{C.current=!1,k.current=T;for(let dt=0;dt<tt.length;dt++){const R=Vh(tt[dt]);E.includes(R)?D.delete(R):D.get(R)!==!0&&D.set(R,!1)}},[tt,E.length,E.join("-")]);const ft=[];if(T!==U){let dt=[...T];for(let R=0;R<tt.length;R++){const w=tt[R],I=Vh(w);E.includes(I)||(dt.splice(R,0,w),ft.push(w))}return u==="wait"&&ft.length&&(dt=ft),rt(Jb(dt)),X(T),null}const{forceRender:mt}=q.useContext($g);return S.jsx(S.Fragment,{children:tt.map(dt=>{const R=Vh(dt),w=c&&!g?!1:T===tt||E.includes(R),I=()=>{if(D.has(R))D.set(R,!0);else return;let P=!0;D.forEach(N=>{N||(P=!1)}),P&&(mt?.(),rt(k.current),c&&y?.(),r&&r())};return S.jsx(J3,{isPresent:w,initial:!C.current||e?void 0:!1,custom:t,presenceAffectsLayout:o,mode:u,root:p,onExitComplete:w?void 0:I,anchorX:m,children:dt},R)})})},sw=q.createContext({strict:!1}),Zb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},rl={};for(const i in Zb)rl[i]={isEnabled:t=>Zb[i].some(e=>!!t[e])};function t5(i){for(const t in i)rl[t]={...rl[t],...i[t]}}const e5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Tf(i){return i.startsWith("while")||i.startsWith("drag")&&i!=="draggable"||i.startsWith("layout")||i.startsWith("onTap")||i.startsWith("onPan")||i.startsWith("onLayout")||e5.has(i)}let rw=i=>!Tf(i);function n5(i){typeof i=="function"&&(rw=t=>t.startsWith("on")?!Tf(t):i(t))}try{n5(require("@emotion/is-prop-valid").default)}catch{}function i5(i,t,e){const r={};for(const o in i)o==="values"&&typeof i.values=="object"||(rw(o)||e===!0&&Tf(o)||!t&&!Tf(o)||i.draggable&&o.startsWith("onDrag"))&&(r[o]=i[o]);return r}const Uf=q.createContext({});function zf(i){return i!==null&&typeof i=="object"&&typeof i.start=="function"}function Hu(i){return typeof i=="string"||Array.isArray(i)}const Ey=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ay=["initial",...Ey];function Bf(i){return zf(i.animate)||Ay.some(t=>Hu(i[t]))}function aw(i){return!!(Bf(i)||i.variants)}function s5(i,t){if(Bf(i)){const{initial:e,animate:r}=i;return{initial:e===!1||Hu(e)?e:void 0,animate:Hu(r)?r:void 0}}return i.inherit!==!1?t:{}}function r5(i){const{initial:t,animate:e}=s5(i,q.useContext(Uf));return q.useMemo(()=>({initial:t,animate:e}),[t1(t),t1(e)])}function t1(i){return Array.isArray(i)?i.join(" "):i}const qu={};function a5(i){for(const t in i)qu[t]=i[t],oy(t)&&(qu[t].isCSSVariable=!0)}function ow(i,{layout:t,layoutId:e}){return pl.has(i)||i.startsWith("origin")||(t||e!==void 0)&&(!!qu[i]||i==="opacity")}const o5={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},l5=ml.length;function u5(i,t,e){let r="",o=!0;for(let u=0;u<l5;u++){const c=ml[u],m=i[c];if(m===void 0)continue;let p=!0;if(typeof m=="number"?p=m===(c.startsWith("scale")?1:0):p=parseFloat(m)===0,!p||e){const g=$A(m,vy[c]);if(!p){o=!1;const y=o5[c]||c;r+=`${y}(${g}) `}e&&(t[c]=g)}}return r=r.trim(),e?r=e(t,o?"":r):o&&(r="none"),r}function wy(i,t,e){const{style:r,vars:o,transformOrigin:u}=i;let c=!1,m=!1;for(const p in t){const g=t[p];if(pl.has(p)){c=!0;continue}else if(oy(p)){o[p]=g;continue}else{const y=$A(g,vy[p]);p.startsWith("origin")?(m=!0,u[p]=y):r[p]=y}}if(t.transform||(c||e?r.transform=u5(t,i.transform,e):r.transform&&(r.transform="none")),m){const{originX:p="50%",originY:g="50%",originZ:y=0}=u;r.transformOrigin=`${p} ${g} ${y}`}}const xy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function lw(i,t,e){for(const r in t)!On(t[r])&&!ow(r,e)&&(i[r]=t[r])}function c5({transformTemplate:i},t){return q.useMemo(()=>{const e=xy();return wy(e,t,i),Object.assign({},e.vars,e.style)},[t])}function h5(i,t){const e=i.style||{},r={};return lw(r,e,i),Object.assign(r,c5(i,t)),r}function f5(i,t){const e={},r=h5(i,t);return i.drag&&i.dragListener!==!1&&(e.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=i.drag===!0?"none":`pan-${i.drag==="x"?"y":"x"}`),i.tabIndex===void 0&&(i.onTap||i.onTapStart||i.whileTap)&&(e.tabIndex=0),e.style=r,e}const d5={offset:"stroke-dashoffset",array:"stroke-dasharray"},m5={offset:"strokeDashoffset",array:"strokeDasharray"};function p5(i,t,e=1,r=0,o=!0){i.pathLength=1;const u=o?d5:m5;i[u.offset]=Ot.transform(-r);const c=Ot.transform(t),m=Ot.transform(e);i[u.array]=`${c} ${m}`}function uw(i,{attrX:t,attrY:e,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...m},p,g,y){if(wy(i,m,g),p){i.style.viewBox&&(i.attrs.viewBox=i.style.viewBox);return}i.attrs=i.style,i.style={};const{attrs:T,style:E}=i;T.transform&&(E.transform=T.transform,delete T.transform),(E.transform||T.transformOrigin)&&(E.transformOrigin=T.transformOrigin??"50% 50%",delete T.transformOrigin),E.transform&&(E.transformBox=y?.transformBox??"fill-box",delete T.transformBox),t!==void 0&&(T.x=t),e!==void 0&&(T.y=e),r!==void 0&&(T.scale=r),o!==void 0&&p5(T,o,u,c,!1)}const cw=()=>({...xy(),attrs:{}}),hw=i=>typeof i=="string"&&i.toLowerCase()==="svg";function g5(i,t,e,r){const o=q.useMemo(()=>{const u=cw();return uw(u,t,hw(r),i.transformTemplate,i.style),{...u.attrs,style:{...u.style}}},[t]);if(i.style){const u={};lw(u,i.style,i),o.style={...u,...o.style}}return o}const y5=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ry(i){return typeof i!="string"||i.includes("-")?!1:!!(y5.indexOf(i)>-1||/[A-Z]/u.test(i))}function v5(i,t,e,{latestValues:r},o,u=!1){const m=(Ry(i)?g5:f5)(t,r,o,i),p=i5(t,typeof i=="string",u),g=i!==q.Fragment?{...p,...m,ref:e}:{},{children:y}=t,T=q.useMemo(()=>On(y)?y.get():y,[y]);return q.createElement(i,{...g,children:T})}function e1(i){const t=[{},{}];return i?.values.forEach((e,r)=>{t[0][r]=e.get(),t[1][r]=e.getVelocity()}),t}function Cy(i,t,e,r){if(typeof t=="function"){const[o,u]=e1(r);t=t(e!==void 0?e:i.custom,o,u)}if(typeof t=="string"&&(t=i.variants&&i.variants[t]),typeof t=="function"){const[o,u]=e1(r);t=t(e!==void 0?e:i.custom,o,u)}return t}function Yh(i){return On(i)?i.get():i}function _5({scrapeMotionValuesFromProps:i,createRenderState:t},e,r,o){return{latestValues:T5(e,r,o,i),renderState:t()}}function T5(i,t,e,r){const o={},u=r(i,{});for(const E in u)o[E]=Yh(u[E]);let{initial:c,animate:m}=i;const p=Bf(i),g=aw(i);t&&g&&!p&&i.inherit!==!1&&(c===void 0&&(c=t.initial),m===void 0&&(m=t.animate));let y=e?e.initial===!1:!1;y=y||c===!1;const T=y?m:c;if(T&&typeof T!="boolean"&&!zf(T)){const E=Array.isArray(T)?T:[T];for(let C=0;C<E.length;C++){const k=Cy(i,E[C]);if(k){const{transitionEnd:D,transition:U,...X}=k;for(const tt in X){let rt=X[tt];if(Array.isArray(rt)){const ft=y?rt.length-1:0;rt=rt[ft]}rt!==null&&(o[tt]=rt)}for(const tt in D)o[tt]=D[tt]}}}return o}const fw=i=>(t,e)=>{const r=q.useContext(Uf),o=q.useContext(Lf),u=()=>_5(i,t,r,o);return e?u():Jg(u)};function Iy(i,t,e){const{style:r}=i,o={};for(const u in r)(On(r[u])||t.style&&On(t.style[u])||ow(u,i)||e?.getValue(u)?.liveStyle!==void 0)&&(o[u]=r[u]);return o}const b5=fw({scrapeMotionValuesFromProps:Iy,createRenderState:xy});function dw(i,t,e){const r=Iy(i,t,e);for(const o in i)if(On(i[o])||On(t[o])){const u=ml.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=i[o]}return r}const S5=fw({scrapeMotionValuesFromProps:dw,createRenderState:cw}),E5=Symbol.for("motionComponentSymbol");function Bo(i){return i&&typeof i=="object"&&Object.prototype.hasOwnProperty.call(i,"current")}function A5(i,t,e){return q.useCallback(r=>{r&&i.onMount&&i.onMount(r),t&&(r?t.mount(r):t.unmount()),e&&(typeof e=="function"?e(r):Bo(e)&&(e.current=r))},[t])}const Dy=i=>i.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),w5="framerAppearId",mw="data-"+Dy(w5),pw=q.createContext({});function x5(i,t,e,r,o){const{visualElement:u}=q.useContext(Uf),c=q.useContext(sw),m=q.useContext(Lf),p=q.useContext(by).reducedMotion,g=q.useRef(null);r=r||c.renderer,!g.current&&r&&(g.current=r(i,{visualState:t,parent:u,props:e,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:p}));const y=g.current,T=q.useContext(pw);y&&!y.projection&&o&&(y.type==="html"||y.type==="svg")&&R5(g.current,e,o,T);const E=q.useRef(!1);q.useInsertionEffect(()=>{y&&E.current&&y.update(e,m)});const C=e[mw],k=q.useRef(!!C&&!window.MotionHandoffIsComplete?.(C)&&window.MotionHasOptimisedAnimation?.(C));return fA(()=>{y&&(E.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),k.current&&y.animationState&&y.animationState.animateChanges())}),q.useEffect(()=>{y&&(!k.current&&y.animationState&&y.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(C)}),k.current=!1),y.enteringChildren=void 0)}),y}function R5(i,t,e,r){const{layoutId:o,layout:u,drag:c,dragConstraints:m,layoutScroll:p,layoutRoot:g,layoutCrossfade:y}=t;i.projection=new e(i.latestValues,t["data-framer-portal-id"]?void 0:gw(i.parent)),i.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||m&&Bo(m),visualElement:i,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:y,layoutScroll:p,layoutRoot:g})}function gw(i){if(i)return i.options.allowProjection!==!1?i.projection:gw(i.parent)}function rp(i,{forwardMotionProps:t=!1}={},e,r){e&&t5(e);const o=Ry(i)?S5:b5;function u(m,p){let g;const y={...q.useContext(by),...m,layoutId:C5(m)},{isStatic:T}=y,E=r5(m),C=o(m,T);if(!T&&Zg){I5();const k=D5(y);g=k.MeasureLayout,E.visualElement=x5(i,C,y,r,k.ProjectionNode)}return S.jsxs(Uf.Provider,{value:E,children:[g&&E.visualElement?S.jsx(g,{visualElement:E.visualElement,...y}):null,v5(i,m,A5(C,E.visualElement,p),C,T,t)]})}u.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const c=q.forwardRef(u);return c[E5]=i,c}function C5({layoutId:i}){const t=q.useContext($g).id;return t&&i!==void 0?t+"-"+i:i}function I5(i,t){q.useContext(sw).strict}function D5(i){const{drag:t,layout:e}=rl;if(!t&&!e)return{};const r={...t,...e};return{MeasureLayout:t?.isEnabled(i)||e?.isEnabled(i)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function M5(i,t){if(typeof Proxy>"u")return rp;const e=new Map,r=(u,c)=>rp(u,c,i,t),o=(u,c)=>r(u,c);return new Proxy(o,{get:(u,c)=>c==="create"?r:(e.has(c)||e.set(c,rp(c,void 0,i,t)),e.get(c))})}function yw({top:i,left:t,right:e,bottom:r}){return{x:{min:t,max:e},y:{min:i,max:r}}}function V5({x:i,y:t}){return{top:t.min,right:i.max,bottom:t.max,left:i.min}}function O5(i,t){if(!t)return i;const e=t({x:i.left,y:i.top}),r=t({x:i.right,y:i.bottom});return{top:e.y,left:e.x,bottom:r.y,right:r.x}}function ap(i){return i===void 0||i===1}function $p({scale:i,scaleX:t,scaleY:e}){return!ap(i)||!ap(t)||!ap(e)}function Ma(i){return $p(i)||vw(i)||i.z||i.rotate||i.rotateX||i.rotateY||i.skewX||i.skewY}function vw(i){return n1(i.x)||n1(i.y)}function n1(i){return i&&i!=="0%"}function bf(i,t,e){const r=i-e,o=t*r;return e+o}function i1(i,t,e,r,o){return o!==void 0&&(i=bf(i,o,r)),bf(i,e,r)+t}function Jp(i,t=0,e=1,r,o){i.min=i1(i.min,t,e,r,o),i.max=i1(i.max,t,e,r,o)}function _w(i,{x:t,y:e}){Jp(i.x,t.translate,t.scale,t.originPoint),Jp(i.y,e.translate,e.scale,e.originPoint)}const s1=.999999999999,r1=1.0000000000001;function N5(i,t,e,r=!1){const o=e.length;if(!o)return;t.x=t.y=1;let u,c;for(let m=0;m<o;m++){u=e[m],c=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Ho(i,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,_w(i,c)),r&&Ma(u.latestValues)&&Ho(i,u.latestValues))}t.x<r1&&t.x>s1&&(t.x=1),t.y<r1&&t.y>s1&&(t.y=1)}function Fo(i,t){i.min=i.min+t,i.max=i.max+t}function a1(i,t,e,r,o=.5){const u=Pe(i.min,i.max,o);Jp(i,t,e,u,r)}function Ho(i,t){a1(i.x,t.x,t.scaleX,t.scale,t.originX),a1(i.y,t.y,t.scaleY,t.scale,t.originY)}function Tw(i,t){return yw(O5(i.getBoundingClientRect(),t))}function P5(i,t,e){const r=Tw(i,e),{scroll:o}=t;return o&&(Fo(r.x,o.offset.x),Fo(r.y,o.offset.y)),r}const o1=()=>({translate:0,scale:1,origin:0,originPoint:0}),qo=()=>({x:o1(),y:o1()}),l1=()=>({min:0,max:0}),Ye=()=>({x:l1(),y:l1()}),Zp={current:null},bw={current:!1};function k5(){if(bw.current=!0,!!Zg)if(window.matchMedia){const i=window.matchMedia("(prefers-reduced-motion)"),t=()=>Zp.current=i.matches;i.addEventListener("change",t),t()}else Zp.current=!1}const j5=new WeakMap;function L5(i,t,e){for(const r in t){const o=t[r],u=e[r];if(On(o))i.addValue(r,o);else if(On(u))i.addValue(r,sl(o,{owner:i}));else if(u!==o)if(i.hasValue(r)){const c=i.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=i.getStaticValue(r);i.addValue(r,sl(c!==void 0?c:o,{owner:i}))}}for(const r in e)t[r]===void 0&&i.removeValue(r);return t}const u1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class U5{scrapeMotionValuesFromProps(t,e,r){return{}}constructor({parent:t,props:e,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=gy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=$n.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,Ve.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=c;this.latestValues=p,this.baseTarget={...p},this.initialValues=e.initial?{...p}:{},this.renderState=g,this.parent=t,this.props=e,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=Bf(e),this.isVariantNode=aw(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...T}=this.scrapeMotionValuesFromProps(e,{},this);for(const E in T){const C=T[E];p[E]!==void 0&&On(C)&&C.set(p[E])}}mount(t){this.current=t,j5.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,r)=>this.bindToMotionValue(r,e)),bw.current||k5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Zp.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Zr(this.notifyUpdate),Zr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=pl.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=e.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&Ve.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{o(),u&&u(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in rl){const e=rl[t];if(!e)continue;const{isEnabled:r,Feature:o}=e;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ye()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let r=0;r<u1.length;r++){const o=u1[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=t[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=L5(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const r=this.values.get(t);e!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&e!==void 0&&(r=sl(e===null?void 0:e,{owner:this}),this.addValue(t,r)),r}readValue(t,e){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(dA(r)||pA(r))?r=parseFloat(r):!Y3(r)&&ta.test(e)&&(r=WA(t,e)),this.setBaseTarget(t,On(r)?r.get():r)),On(r)?r.get():r}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let r;if(typeof e=="string"||typeof e=="object"){const u=Cy(this.props,e,this.presenceContext?.custom);u&&(r=u[t])}if(e&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!On(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new sy),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){_y.render(this.render)}}class Sw extends U5{constructor(){super(...arguments),this.KeyframeResolver=P3}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:r}){delete e[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;On(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function Ew(i,{style:t,vars:e},r,o){const u=i.style;let c;for(c in t)u[c]=t[c];o?.applyProjectionStyles(u,r);for(c in e)u.setProperty(c,e[c])}function z5(i){return window.getComputedStyle(i)}class B5 extends Sw{constructor(){super(...arguments),this.type="html",this.renderInstance=Ew}readValueFromInstance(t,e){if(pl.has(e))return this.projection?.isProjecting?qp(e):t3(t,e);{const r=z5(t),o=(oy(e)?r.getPropertyValue(e):r[e])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:e}){return Tw(t,e)}build(t,e,r){wy(t,e,r.transformTemplate)}scrapeMotionValuesFromProps(t,e,r){return Iy(t,e,r)}}const Aw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function F5(i,t,e,r){Ew(i,t,void 0,r);for(const o in t.attrs)i.setAttribute(Aw.has(o)?o:Dy(o),t.attrs[o])}class H5 extends Sw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ye}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(pl.has(e)){const r=XA(e);return r&&r.default||0}return e=Aw.has(e)?e:Dy(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,r){return dw(t,e,r)}build(t,e,r){uw(t,e,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,e,r,o){F5(t,e,r,o)}mount(t){this.isSVGTag=hw(t.tagName),super.mount(t)}}const q5=(i,t)=>Ry(i)?new H5(t):new B5(t,{allowProjection:i!==q.Fragment});function Xo(i,t,e){const r=i.getProps();return Cy(r,t,e!==void 0?e:r.custom,i)}const tg=i=>Array.isArray(i);function G5(i,t,e){i.hasValue(t)?i.getValue(t).set(e):i.addValue(t,sl(e))}function K5(i){return tg(i)?i[i.length-1]||0:i}function Y5(i,t){const e=Xo(i,t);let{transitionEnd:r={},transition:o={},...u}=e||{};u={...u,...r};for(const c in u){const m=K5(u[c]);G5(i,c,m)}}function Q5(i){return!!(On(i)&&i.add)}function eg(i,t){const e=i.getValue("willChange");if(Q5(e))return e.add(t);if(!e&&Zs.WillChange){const r=new Zs.WillChange("auto");i.addValue("willChange",r),r.add(t)}}function ww(i){return i.props[mw]}const X5=i=>i!==null;function W5(i,{repeat:t,repeatType:e="loop"},r){const o=i.filter(X5),u=t&&e!=="loop"&&t%2===1?0:o.length-1;return o[u]}const $5={type:"spring",stiffness:500,damping:25,restSpeed:10},J5=i=>({type:"spring",stiffness:550,damping:i===0?2*Math.sqrt(550):30,restSpeed:10}),Z5={type:"keyframes",duration:.8},t6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},e6=(i,{keyframes:t})=>t.length>2?Z5:pl.has(i)?i.startsWith("scale")?J5(t[1]):$5:t6;function n6({when:i,delay:t,delayChildren:e,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:m,from:p,elapsed:g,...y}){return!!Object.keys(y).length}const My=(i,t,e,r={},o,u)=>c=>{const m=yy(r,i)||{},p=m.delay||r.delay||0;let{elapsed:g=0}=r;g=g-ys(p);const y={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...m,delay:-g,onUpdate:E=>{t.set(E),m.onUpdate&&m.onUpdate(E)},onComplete:()=>{c(),m.onComplete&&m.onComplete()},name:i,motionValue:t,element:u?void 0:o};n6(m)||Object.assign(y,e6(i,y)),y.duration&&(y.duration=ys(y.duration)),y.repeatDelay&&(y.repeatDelay=ys(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let T=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Xp(y),y.delay===0&&(T=!0)),(Zs.instantAnimations||Zs.skipAnimations)&&(T=!0,Xp(y),y.delay=0),y.allowFlatten=!m.type&&!m.ease,T&&!u&&t.get()!==void 0){const E=W5(y.keyframes,m);if(E!==void 0){Ve.update(()=>{y.onUpdate(E),y.onComplete()});return}}return m.isSync?new py(y):new E3(y)};function i6({protectedKeys:i,needsAnimating:t},e){const r=i.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,r}function xw(i,t,{delay:e=0,transitionOverride:r,type:o}={}){let{transition:u=i.getDefaultTransition(),transitionEnd:c,...m}=t;r&&(u=r);const p=[],g=o&&i.animationState&&i.animationState.getState()[o];for(const y in m){const T=i.getValue(y,i.latestValues[y]??null),E=m[y];if(E===void 0||g&&i6(g,y))continue;const C={delay:e,...yy(u||{},y)},k=T.get();if(k!==void 0&&!T.isAnimating&&!Array.isArray(E)&&E===k&&!C.velocity)continue;let D=!1;if(window.MotionHandoffAnimation){const X=ww(i);if(X){const tt=window.MotionHandoffAnimation(X,y,Ve);tt!==null&&(C.startTime=tt,D=!0)}}eg(i,y),T.start(My(y,T,E,i.shouldReduceMotion&&KA.has(y)?{type:!1}:C,i,D));const U=T.animation;U&&p.push(U)}return c&&Promise.all(p).then(()=>{Ve.update(()=>{c&&Y5(i,c)})}),p}function Rw(i,t,e,r=0,o=1){const u=Array.from(i).sort((g,y)=>g.sortNodePosition(y)).indexOf(t),c=i.size,m=(c-1)*r;return typeof e=="function"?e(u,c):o===1?u*r:m-u*r}function ng(i,t,e={}){const r=Xo(i,t,e.type==="exit"?i.presenceContext?.custom:void 0);let{transition:o=i.getDefaultTransition()||{}}=r||{};e.transitionOverride&&(o=e.transitionOverride);const u=r?()=>Promise.all(xw(i,r,e)):()=>Promise.resolve(),c=i.variantChildren&&i.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:T}=o;return s6(i,t,p,g,y,T,e)}:()=>Promise.resolve(),{when:m}=o;if(m){const[p,g]=m==="beforeChildren"?[u,c]:[c,u];return p().then(()=>g())}else return Promise.all([u(),c(e.delay)])}function s6(i,t,e=0,r=0,o=0,u=1,c){const m=[];for(const p of i.variantChildren)p.notify("AnimationStart",t),m.push(ng(p,t,{...c,delay:e+(typeof r=="function"?0:r)+Rw(i.variantChildren,p,r,o,u)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(m)}function r6(i,t,e={}){i.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(u=>ng(i,u,e));r=Promise.all(o)}else if(typeof t=="string")r=ng(i,t,e);else{const o=typeof t=="function"?Xo(i,t,e.custom):t;r=Promise.all(xw(i,o,e))}return r.then(()=>{i.notify("AnimationComplete",t)})}function Cw(i,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==i.length)return!1;for(let r=0;r<e;r++)if(t[r]!==i[r])return!1;return!0}const a6=Ay.length;function Iw(i){if(!i)return;if(!i.isControllingVariants){const e=i.parent?Iw(i.parent)||{}:{};return i.props.initial!==void 0&&(e.initial=i.props.initial),e}const t={};for(let e=0;e<a6;e++){const r=Ay[e],o=i.props[r];(Hu(o)||o===!1)&&(t[r]=o)}return t}const o6=[...Ey].reverse(),l6=Ey.length;function u6(i){return t=>Promise.all(t.map(({animation:e,options:r})=>r6(i,e,r)))}function c6(i){let t=u6(i),e=c1(),r=!0;const o=p=>(g,y)=>{const T=Xo(i,y,p==="exit"?i.presenceContext?.custom:void 0);if(T){const{transition:E,transitionEnd:C,...k}=T;g={...g,...k,...C}}return g};function u(p){t=p(i)}function c(p){const{props:g}=i,y=Iw(i.parent)||{},T=[],E=new Set;let C={},k=1/0;for(let U=0;U<l6;U++){const X=o6[U],tt=e[X],rt=g[X]!==void 0?g[X]:y[X],ft=Hu(rt),mt=X===p?tt.isActive:null;mt===!1&&(k=U);let dt=rt===y[X]&&rt!==g[X]&&ft;if(dt&&r&&i.manuallyAnimateOnMount&&(dt=!1),tt.protectedKeys={...C},!tt.isActive&&mt===null||!rt&&!tt.prevProp||zf(rt)||typeof rt=="boolean")continue;const R=h6(tt.prevProp,rt);let w=R||X===p&&tt.isActive&&!dt&&ft||U>k&&ft,I=!1;const P=Array.isArray(rt)?rt:[rt];let N=P.reduce(o(X),{});mt===!1&&(N={});const{prevResolvedValues:z={}}=tt,M={...z,...N},zt=ut=>{w=!0,E.has(ut)&&(I=!0,E.delete(ut)),tt.needsAnimating[ut]=!0;const ct=i.getValue(ut);ct&&(ct.liveStyle=!1)};for(const ut in M){const ct=N[ut],It=z[ut];if(C.hasOwnProperty(ut))continue;let Vt=!1;tg(ct)&&tg(It)?Vt=!Cw(ct,It):Vt=ct!==It,Vt?ct!=null?zt(ut):E.add(ut):ct!==void 0&&E.has(ut)?zt(ut):tt.protectedKeys[ut]=!0}tt.prevProp=rt,tt.prevResolvedValues=N,tt.isActive&&(C={...C,...N}),r&&i.blockInitialAnimation&&(w=!1);const _e=dt&&R;w&&(!_e||I)&&T.push(...P.map(ut=>{const ct={type:X};if(typeof ut=="string"&&r&&!_e&&i.manuallyAnimateOnMount&&i.parent){const{parent:It}=i,Vt=Xo(It,ut);if(It.enteringChildren&&Vt){const{delayChildren:j}=Vt.transition||{};ct.delay=Rw(It.enteringChildren,i,j)}}return{animation:ut,options:ct}}))}if(E.size){const U={};if(typeof g.initial!="boolean"){const X=Xo(i,Array.isArray(g.initial)?g.initial[0]:g.initial);X&&X.transition&&(U.transition=X.transition)}E.forEach(X=>{const tt=i.getBaseTarget(X),rt=i.getValue(X);rt&&(rt.liveStyle=!0),U[X]=tt??null}),T.push({animation:U})}let D=!!T.length;return r&&(g.initial===!1||g.initial===g.animate)&&!i.manuallyAnimateOnMount&&(D=!1),r=!1,D?t(T):Promise.resolve()}function m(p,g){if(e[p].isActive===g)return Promise.resolve();i.variantChildren?.forEach(T=>T.animationState?.setActive(p,g)),e[p].isActive=g;const y=c(p);for(const T in e)e[T].protectedKeys={};return y}return{animateChanges:c,setActive:m,setAnimateFunction:u,getState:()=>e,reset:()=>{e=c1()}}}function h6(i,t){return typeof t=="string"?t!==i:Array.isArray(t)?!Cw(t,i):!1}function Ia(i=!1){return{isActive:i,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function c1(){return{animate:Ia(!0),whileInView:Ia(),whileHover:Ia(),whileTap:Ia(),whileDrag:Ia(),whileFocus:Ia(),exit:Ia()}}class ea{constructor(t){this.isMounted=!1,this.node=t}update(){}}class f6 extends ea{constructor(t){super(t),t.animationState||(t.animationState=c6(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();zf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let d6=0;class m6 extends ea{constructor(){super(...arguments),this.id=d6++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);e&&!t&&o.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const p6={animation:{Feature:f6},exit:{Feature:m6}};function Gu(i,t,e,r={passive:!0}){return i.addEventListener(t,e,r),()=>i.removeEventListener(t,e)}function rc(i){return{point:{x:i.pageX,y:i.pageY}}}const g6=i=>t=>Ty(t)&&i(t,rc(t));function Ru(i,t,e,r){return Gu(i,t,g6(e),r)}const Dw=1e-4,y6=1-Dw,v6=1+Dw,Mw=.01,_6=0-Mw,T6=0+Mw;function zn(i){return i.max-i.min}function b6(i,t,e){return Math.abs(i-t)<=e}function h1(i,t,e,r=.5){i.origin=r,i.originPoint=Pe(t.min,t.max,i.origin),i.scale=zn(e)/zn(t),i.translate=Pe(e.min,e.max,i.origin)-i.originPoint,(i.scale>=y6&&i.scale<=v6||isNaN(i.scale))&&(i.scale=1),(i.translate>=_6&&i.translate<=T6||isNaN(i.translate))&&(i.translate=0)}function Cu(i,t,e,r){h1(i.x,t.x,e.x,r?r.originX:void 0),h1(i.y,t.y,e.y,r?r.originY:void 0)}function f1(i,t,e){i.min=e.min+t.min,i.max=i.min+zn(t)}function S6(i,t,e){f1(i.x,t.x,e.x),f1(i.y,t.y,e.y)}function d1(i,t,e){i.min=t.min-e.min,i.max=i.min+zn(t)}function Iu(i,t,e){d1(i.x,t.x,e.x),d1(i.y,t.y,e.y)}function wi(i){return[i("x"),i("y")]}const Vw=({current:i})=>i?i.ownerDocument.defaultView:null,m1=(i,t)=>Math.abs(i-t);function E6(i,t){const e=m1(i.x,t.x),r=m1(i.y,t.y);return Math.sqrt(e**2+r**2)}class Ow{constructor(t,e,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=lp(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,k=E6(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!k)return;const{point:D}=E,{timestamp:U}=bn;this.history.push({...D,timestamp:U});const{onStart:X,onMove:tt}=this.handlers;C||(X&&X(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),tt&&tt(this.lastMoveEvent,E)},this.handlePointerMove=(E,C)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=op(C,this.transformPagePoint),Ve.update(this.updatePoint,!0)},this.handlePointerUp=(E,C)=>{this.end();const{onEnd:k,onSessionEnd:D,resumeAnimation:U}=this.handlers;if(this.dragSnapToOrigin&&U&&U(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const X=lp(E.type==="pointercancel"?this.lastMoveEventInfo:op(C,this.transformPagePoint),this.history);this.startEvent&&k&&k(E,X),D&&D(E,X)},!Ty(t))return;this.dragSnapToOrigin=u,this.handlers=e,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=o||window;const m=rc(t),p=op(m,this.transformPagePoint),{point:g}=p,{timestamp:y}=bn;this.history=[{...g,timestamp:y}];const{onSessionStart:T}=e;T&&T(t,lp(p,this.history)),this.removeListeners=nc(Ru(this.contextWindow,"pointermove",this.handlePointerMove),Ru(this.contextWindow,"pointerup",this.handlePointerUp),Ru(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Zr(this.updatePoint)}}function op(i,t){return t?{point:t(i.point)}:i}function p1(i,t){return{x:i.x-t.x,y:i.y-t.y}}function lp({point:i},t){return{point:i,delta:p1(i,Nw(t)),offset:p1(i,A6(t)),velocity:w6(t,.1)}}function A6(i){return i[0]}function Nw(i){return i[i.length-1]}function w6(i,t){if(i.length<2)return{x:0,y:0};let e=i.length-1,r=null;const o=Nw(i);for(;e>=0&&(r=i[e],!(o.timestamp-r.timestamp>ys(t)));)e--;if(!r)return{x:0,y:0};const u=Ci(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function x6(i,{min:t,max:e},r){return t!==void 0&&i<t?i=r?Pe(t,i,r.min):Math.max(i,t):e!==void 0&&i>e&&(i=r?Pe(e,i,r.max):Math.min(i,e)),i}function g1(i,t,e){return{min:t!==void 0?i.min+t:void 0,max:e!==void 0?i.max+e-(i.max-i.min):void 0}}function R6(i,{top:t,left:e,bottom:r,right:o}){return{x:g1(i.x,e,o),y:g1(i.y,t,r)}}function y1(i,t){let e=t.min-i.min,r=t.max-i.max;return t.max-t.min<i.max-i.min&&([e,r]=[r,e]),{min:e,max:r}}function C6(i,t){return{x:y1(i.x,t.x),y:y1(i.y,t.y)}}function I6(i,t){let e=.5;const r=zn(i),o=zn(t);return o>r?e=zu(t.min,t.max-r,i.min):r>o&&(e=zu(i.min,i.max-o,t.min)),Js(0,1,e)}function D6(i,t){const e={};return t.min!==void 0&&(e.min=t.min-i.min),t.max!==void 0&&(e.max=t.max-i.min),e}const ig=.35;function M6(i=ig){return i===!1?i=0:i===!0&&(i=ig),{x:v1(i,"left","right"),y:v1(i,"top","bottom")}}function v1(i,t,e){return{min:_1(i,t),max:_1(i,e)}}function _1(i,t){return typeof i=="number"?i:i[t]||0}const V6=new WeakMap;class O6{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ye(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=T=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(rc(T).point)},c=(T,E)=>{const{drag:C,dragPropagation:k,onDragStart:D}=this.getProps();if(C&&!k&&(this.openDragLock&&this.openDragLock(),this.openDragLock=U3(C),!this.openDragLock))return;this.latestPointerEvent=T,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),wi(X=>{let tt=this.getAxisMotionValue(X).get()||0;if(vs.test(tt)){const{projection:rt}=this.visualElement;if(rt&&rt.layout){const ft=rt.layout.layoutBox[X];ft&&(tt=zn(ft)*(parseFloat(tt)/100))}}this.originPoint[X]=tt}),D&&Ve.postRender(()=>D(T,E)),eg(this.visualElement,"transform");const{animationState:U}=this.visualElement;U&&U.setActive("whileDrag",!0)},m=(T,E)=>{this.latestPointerEvent=T,this.latestPanInfo=E;const{dragPropagation:C,dragDirectionLock:k,onDirectionLock:D,onDrag:U}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:X}=E;if(k&&this.currentDirection===null){this.currentDirection=N6(X),this.currentDirection!==null&&D&&D(this.currentDirection);return}this.updateAxis("x",E.point,X),this.updateAxis("y",E.point,X),this.visualElement.render(),U&&U(T,E)},p=(T,E)=>{this.latestPointerEvent=T,this.latestPanInfo=E,this.stop(T,E),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>wi(T=>this.getAnimationState(T)==="paused"&&this.getAxisMotionValue(T).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new Ow(t,{onSessionStart:u,onStart:c,onMove:m,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:r,contextWindow:Vw(this.visualElement)})}stop(t,e){const r=t||this.latestPointerEvent,o=e||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!r)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:m}=this.getProps();m&&Ve.postRender(()=>m(r,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,r){const{drag:o}=this.getProps();if(!r||!Oh(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=x6(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&Bo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=R6(r.layoutBox,t):this.constraints=!1,this.elastic=M6(e),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&wi(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=D6(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!Bo(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=P5(r,o.root,this.visualElement.getTransformPagePoint());let c=C6(o.layout.layoutBox,u);if(e){const m=e(V5(c));this.hasMutatedConstraints=!!m,m&&(c=yw(m))}return c}startAnimation(t){const{drag:e,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:m}=this.getProps(),p=this.constraints||{},g=wi(y=>{if(!Oh(y,e,this.currentDirection))return;let T=p&&p[y]||{};c&&(T={min:0,max:0});const E=o?200:1e6,C=o?40:1e7,k={type:"inertia",velocity:r?t[y]:0,bounceStiffness:E,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...u,...T};return this.startAxisValueAnimation(y,k)});return Promise.all(g).then(m)}startAxisValueAnimation(t,e){const r=this.getAxisMotionValue(t);return eg(this.visualElement,t),r.start(My(t,r,0,e,this.visualElement,!1))}stopAnimation(){wi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){wi(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[e];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){wi(e=>{const{drag:r}=this.getProps();if(!Oh(e,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(e);if(o&&o.layout){const{min:c,max:m}=o.layout.layoutBox[e];u.set(t[e]-Pe(c,m,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:r}=this.visualElement;if(!Bo(e)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};wi(c=>{const m=this.getAxisMotionValue(c);if(m&&this.constraints!==!1){const p=m.get();o[c]=I6({min:p,max:p},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),wi(c=>{if(!Oh(c,t,null))return;const m=this.getAxisMotionValue(c),{min:p,max:g}=this.constraints[c];m.set(Pe(p,g,o[c]))})}addListeners(){if(!this.visualElement.current)return;V6.set(this.visualElement,this);const t=this.visualElement.current,e=Ru(t,"pointerdown",p=>{const{drag:g,dragListener:y=!0}=this.getProps();g&&y&&this.start(p)}),r=()=>{const{dragConstraints:p}=this.getProps();Bo(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Ve.read(r);const c=Gu(window,"resize",()=>this.scalePositionWithinConstraints()),m=o.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(wi(y=>{const T=this.getAxisMotionValue(y);T&&(this.originPoint[y]+=p[y].translate,T.set(T.get()+p[y].translate))}),this.visualElement.render())}));return()=>{c(),e(),u(),m&&m()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=ig,dragMomentum:m=!0}=t;return{...t,drag:e,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:m}}}function Oh(i,t,e){return(t===!0||t===i)&&(e===null||e===i)}function N6(i,t=10){let e=null;return Math.abs(i.y)>t?e="y":Math.abs(i.x)>t&&(e="x"),e}class P6 extends ea{constructor(t){super(t),this.removeGroupControls=Ii,this.removeListeners=Ii,this.controls=new O6(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ii}unmount(){this.removeGroupControls(),this.removeListeners()}}const T1=i=>(t,e)=>{i&&Ve.postRender(()=>i(t,e))};class k6 extends ea{constructor(){super(...arguments),this.removePointerDownListener=Ii}onPointerDown(t){this.session=new Ow(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Vw(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:T1(t),onStart:T1(e),onMove:r,onEnd:(u,c)=>{delete this.session,o&&Ve.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=Ru(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Qh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function b1(i,t){return t.max===t.min?0:i/(t.max-t.min)*100}const fu={correct:(i,t)=>{if(!t.target)return i;if(typeof i=="string")if(Ot.test(i))i=parseFloat(i);else return i;const e=b1(i,t.target.x),r=b1(i,t.target.y);return`${e}% ${r}%`}},j6={correct:(i,{treeScale:t,projectionDelta:e})=>{const r=i,o=ta.parse(i);if(o.length>5)return r;const u=ta.createTransformer(i),c=typeof o[0]!="number"?1:0,m=e.x.scale*t.x,p=e.y.scale*t.y;o[0+c]/=m,o[1+c]/=p;const g=Pe(m,p,.5);return typeof o[2+c]=="number"&&(o[2+c]/=g),typeof o[3+c]=="number"&&(o[3+c]/=g),u(o)}};let up=!1;class L6 extends q.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=t;a5(U6),u&&(e.group&&e.group.add(u),r&&r.register&&o&&r.register(u),up&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Qh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:r,drag:o,isPresent:u}=this.props,{projection:c}=r;return c&&(c.isPresent=u,up=!0,o||t.layoutDependency!==e||e===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||Ve.postRender(()=>{const m=c.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),_y.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:r}=this.props,{projection:o}=t;up=!0,o&&(o.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Pw(i){const[t,e]=iw(),r=q.useContext($g);return S.jsx(L6,{...i,layoutGroup:r,switchLayoutGroup:q.useContext(pw),isPresent:t,safeToRemove:e})}const U6={borderRadius:{...fu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:fu,borderTopRightRadius:fu,borderBottomLeftRadius:fu,borderBottomRightRadius:fu,boxShadow:j6};function z6(i,t,e){const r=On(i)?i:sl(i);return r.start(My("",r,t,e)),r.animation}const B6=(i,t)=>i.depth-t.depth;class F6{constructor(){this.children=[],this.isDirty=!1}add(t){ty(this.children,t),this.isDirty=!0}remove(t){ey(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(B6),this.isDirty=!1,this.children.forEach(t)}}function H6(i,t){const e=$n.now(),r=({timestamp:o})=>{const u=o-e;u>=t&&(Zr(r),i(u-t))};return Ve.setup(r,!0),()=>Zr(r)}const kw=["TopLeft","TopRight","BottomLeft","BottomRight"],q6=kw.length,S1=i=>typeof i=="string"?parseFloat(i):i,E1=i=>typeof i=="number"||Ot.test(i);function G6(i,t,e,r,o,u){o?(i.opacity=Pe(0,e.opacity??1,K6(r)),i.opacityExit=Pe(t.opacity??1,0,Y6(r))):u&&(i.opacity=Pe(t.opacity??1,e.opacity??1,r));for(let c=0;c<q6;c++){const m=`border${kw[c]}Radius`;let p=A1(t,m),g=A1(e,m);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||E1(p)===E1(g)?(i[m]=Math.max(Pe(S1(p),S1(g),r),0),(vs.test(g)||vs.test(p))&&(i[m]+="%")):i[m]=g}(t.rotate||e.rotate)&&(i.rotate=Pe(t.rotate||0,e.rotate||0,r))}function A1(i,t){return i[t]!==void 0?i[t]:i.borderRadius}const K6=jw(0,.5,EA),Y6=jw(.5,.95,Ii);function jw(i,t,e){return r=>r<i?0:r>t?1:e(zu(i,t,r))}function w1(i,t){i.min=t.min,i.max=t.max}function Ai(i,t){w1(i.x,t.x),w1(i.y,t.y)}function x1(i,t){i.translate=t.translate,i.scale=t.scale,i.originPoint=t.originPoint,i.origin=t.origin}function R1(i,t,e,r,o){return i-=t,i=bf(i,1/e,r),o!==void 0&&(i=bf(i,1/o,r)),i}function Q6(i,t=0,e=1,r=.5,o,u=i,c=i){if(vs.test(t)&&(t=parseFloat(t),t=Pe(c.min,c.max,t/100)-c.min),typeof t!="number")return;let m=Pe(u.min,u.max,r);i===u&&(m-=t),i.min=R1(i.min,t,e,m,o),i.max=R1(i.max,t,e,m,o)}function C1(i,t,[e,r,o],u,c){Q6(i,t[e],t[r],t[o],t.scale,u,c)}const X6=["x","scaleX","originX"],W6=["y","scaleY","originY"];function I1(i,t,e,r){C1(i.x,t,X6,e?e.x:void 0,r?r.x:void 0),C1(i.y,t,W6,e?e.y:void 0,r?r.y:void 0)}function D1(i){return i.translate===0&&i.scale===1}function Lw(i){return D1(i.x)&&D1(i.y)}function M1(i,t){return i.min===t.min&&i.max===t.max}function $6(i,t){return M1(i.x,t.x)&&M1(i.y,t.y)}function V1(i,t){return Math.round(i.min)===Math.round(t.min)&&Math.round(i.max)===Math.round(t.max)}function Uw(i,t){return V1(i.x,t.x)&&V1(i.y,t.y)}function O1(i){return zn(i.x)/zn(i.y)}function N1(i,t){return i.translate===t.translate&&i.scale===t.scale&&i.originPoint===t.originPoint}class J6{constructor(){this.members=[]}add(t){ty(this.members,t),t.scheduleRender()}remove(t){if(ey(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(o=>t===o);if(e===0)return!1;let r;for(let o=e;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(t,e){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,e&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:r}=t;e.onExitComplete&&e.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Z6(i,t,e){let r="";const o=i.x.translate/t.x,u=i.y.translate/t.y,c=e?.z||0;if((o||u||c)&&(r=`translate3d(${o}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:g,rotate:y,rotateX:T,rotateY:E,skewX:C,skewY:k}=e;g&&(r=`perspective(${g}px) ${r}`),y&&(r+=`rotate(${y}deg) `),T&&(r+=`rotateX(${T}deg) `),E&&(r+=`rotateY(${E}deg) `),C&&(r+=`skewX(${C}deg) `),k&&(r+=`skewY(${k}deg) `)}const m=i.x.scale*t.x,p=i.y.scale*t.y;return(m!==1||p!==1)&&(r+=`scale(${m}, ${p})`),r||"none"}const cp=["","X","Y","Z"],t4=1e3;let e4=0;function hp(i,t,e,r){const{latestValues:o}=t;o[i]&&(e[i]=o[i],t.setStaticValue(i,0),r&&(r[i]=0))}function zw(i){if(i.hasCheckedOptimisedAppear=!0,i.root===i)return;const{visualElement:t}=i.options;if(!t)return;const e=ww(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:o,layoutId:u}=i.options;window.MotionCancelOptimisedAnimation(e,"transform",Ve,!(o||u))}const{parent:r}=i;r&&!r.hasCheckedOptimisedAppear&&zw(r)}function Bw({attachResizeListener:i,defaultParent:t,measureScroll:e,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},m=t?.()){this.id=e4++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(s4),this.nodes.forEach(l4),this.nodes.forEach(u4),this.nodes.forEach(r4)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new F6)}addEventListener(c,m){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new sy),this.eventHandlers.get(c).add(m)}notifyListeners(c,...m){const p=this.eventHandlers.get(c);p&&p.notify(...m)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=nw(c)&&!G3(c),this.instance=c;const{layoutId:m,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||m)&&(this.isLayoutDirty=!0),i){let y,T=0;const E=()=>this.root.updateBlockedByResize=!1;Ve.read(()=>{T=window.innerWidth}),i(c,()=>{const C=window.innerWidth;C!==T&&(T=C,this.root.updateBlockedByResize=!0,y&&y(),y=H6(E,250),Qh.hasAnimatedSinceResize&&(Qh.hasAnimatedSinceResize=!1,this.nodes.forEach(j1)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&g&&(m||p)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:T,hasRelativeLayoutChanged:E,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||g.getDefaultTransition()||m4,{onLayoutAnimationStart:D,onLayoutAnimationComplete:U}=g.getProps(),X=!this.targetLayout||!Uw(this.targetLayout,C),tt=!T&&E;if(this.options.layoutRoot||this.resumeFrom||tt||T&&(X||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const rt={...yy(k,"layout"),onPlay:D,onComplete:U};(g.shouldReduceMotion||this.options.layoutRoot)&&(rt.delay=0,rt.type=!1),this.startAnimation(rt),this.setAnimationOrigin(y,tt)}else T||j1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Zr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(c4),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&zw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const T=this.path[y];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:m,layout:p}=this.options;if(m===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(P1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(k1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(o4),this.nodes.forEach(n4),this.nodes.forEach(i4)):this.nodes.forEach(k1),this.clearAllSnapshots();const m=$n.now();bn.delta=Js(0,1e3/60,m-bn.timestamp),bn.timestamp=m,bn.isProcessing=!0,Zm.update.process(bn),Zm.preRender.process(bn),Zm.render.process(bn),bn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,_y.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(a4),this.sharedNodes.forEach(h4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ve.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ve.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!zn(this.snapshot.measuredBox.x)&&!zn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ye(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(m=!1),m&&this.instance){const p=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!Lw(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;c&&this.instance&&(m||Ma(this.latestValues)||y)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const m=this.measurePageBox();let p=this.removeElementScroll(m);return c&&(p=this.removeTransform(p)),p4(p),{animationId:this.root.animationId,measuredBox:m,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Ye();const m=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(g4))){const{scroll:g}=this.root;g&&(Fo(m.x,g.offset.x),Fo(m.y,g.offset.y))}return m}removeElementScroll(c){const m=Ye();if(Ai(m,c),this.scroll?.wasRoot)return m;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:y,options:T}=g;g!==this.root&&y&&T.layoutScroll&&(y.wasRoot&&Ai(m,c),Fo(m.x,y.offset.x),Fo(m.y,y.offset.y))}return m}applyTransform(c,m=!1){const p=Ye();Ai(p,c);for(let g=0;g<this.path.length;g++){const y=this.path[g];!m&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Ho(p,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Ma(y.latestValues)&&Ho(p,y.latestValues)}return Ma(this.latestValues)&&Ho(p,this.latestValues),p}removeTransform(c){const m=Ye();Ai(m,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!Ma(g.latestValues))continue;$p(g.latestValues)&&g.updateSnapshot();const y=Ye(),T=g.measurePageBox();Ai(y,T),I1(m,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return Ma(this.latestValues)&&I1(m,this.latestValues),m}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==bn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==m;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:T}=this.options;if(!(!this.layout||!(y||T))){if(this.resolvedRelativeTargetAt=bn.timestamp,!this.targetDelta&&!this.relativeTarget){const E=this.getClosestProjectingParent();E&&E.layout&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ye(),this.relativeTargetOrigin=Ye(),Iu(this.relativeTargetOrigin,this.layout.layoutBox,E.layout.layoutBox),Ai(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ye(),this.targetWithTransforms=Ye()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),S6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ai(this.target,this.layout.layoutBox),_w(this.target,this.targetDelta)):Ai(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const E=this.getClosestProjectingParent();E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ye(),this.relativeTargetOrigin=Ye(),Iu(this.relativeTargetOrigin,this.target,E.target),Ai(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||$p(this.parent.latestValues)||vw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),m=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===bn.timestamp&&(p=!1),p)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;Ai(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,E=this.treeScale.y;N5(this.layoutCorrected,this.treeScale,this.path,m),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Ye());const{target:C}=c;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(x1(this.prevProjectionDelta.x,this.projectionDelta.x),x1(this.prevProjectionDelta.y,this.projectionDelta.y)),Cu(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==E||!N1(this.projectionDelta.x,this.prevProjectionDelta.x)||!N1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=qo(),this.projectionDelta=qo(),this.projectionDeltaWithTransform=qo()}setAnimationOrigin(c,m=!1){const p=this.snapshot,g=p?p.latestValues:{},y={...this.latestValues},T=qo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const E=Ye(),C=p?p.source:void 0,k=this.layout?this.layout.source:void 0,D=C!==k,U=this.getStack(),X=!U||U.members.length<=1,tt=!!(D&&!X&&this.options.crossfade===!0&&!this.path.some(d4));this.animationProgress=0;let rt;this.mixTargetDelta=ft=>{const mt=ft/1e3;L1(T.x,c.x,mt),L1(T.y,c.y,mt),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Iu(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),f4(this.relativeTarget,this.relativeTargetOrigin,E,mt),rt&&$6(this.relativeTarget,rt)&&(this.isProjectionDirty=!1),rt||(rt=Ye()),Ai(rt,this.relativeTarget)),D&&(this.animationValues=y,G6(y,g,this.latestValues,mt,tt,X)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=mt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Zr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ve.update(()=>{Qh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=sl(0)),this.currentAnimation=z6(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),c.onUpdate&&c.onUpdate(m)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(t4),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:m,target:p,layout:g,latestValues:y}=c;if(!(!m||!p||!g)){if(this!==c&&this.layout&&g&&Fw(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||Ye();const T=zn(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+T;const E=zn(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+E}Ai(m,p),Ho(m,y),Cu(this.projectionDeltaWithTransform,this.layoutCorrected,m,y)}}registerSharedNode(c,m){this.sharedNodes.has(c)||this.sharedNodes.set(c,new J6),this.sharedNodes.get(c).add(m);const g=m.options.initialPromotionConfig;m.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(m):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:m,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let m=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(m=!0),!m)return;const g={};p.z&&hp("z",c,g,this.animationValues);for(let y=0;y<cp.length;y++)hp(`rotate${cp[y]}`,c,g,this.animationValues),hp(`skew${cp[y]}`,c,g,this.animationValues);c.render();for(const y in g)c.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);c.scheduleRender()}applyProjectionStyles(c,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Yh(m?.pointerEvents)||"",c.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Yh(m?.pointerEvents)||""),this.hasProjected&&!Ma(this.latestValues)&&(c.transform=p?p({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let T=Z6(this.projectionDeltaWithTransform,this.treeScale,y);p&&(T=p(y,T)),c.transform=T;const{x:E,y:C}=this.projectionDelta;c.transformOrigin=`${E.origin*100}% ${C.origin*100}% 0`,g.animationValues?c.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const k in qu){if(y[k]===void 0)continue;const{correct:D,applyTo:U,isCSSVariable:X}=qu[k],tt=T==="none"?y[k]:D(y[k],g);if(U){const rt=U.length;for(let ft=0;ft<rt;ft++)c[U[ft]]=tt}else X?this.options.visualElement.renderState.vars[k]=tt:c[k]=tt}this.options.layoutId&&(c.pointerEvents=g===this?Yh(m?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(P1),this.root.sharedNodes.clear()}}}function n4(i){i.updateLayout()}function i4(i){const t=i.resumeFrom?.snapshot||i.snapshot;if(i.isLead()&&i.layout&&t&&i.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:r}=i.layout,{animationType:o}=i.options,u=t.source!==i.layout.source;o==="size"?wi(y=>{const T=u?t.measuredBox[y]:t.layoutBox[y],E=zn(T);T.min=e[y].min,T.max=T.min+E}):Fw(o,t.layoutBox,e)&&wi(y=>{const T=u?t.measuredBox[y]:t.layoutBox[y],E=zn(e[y]);T.max=T.min+E,i.relativeTarget&&!i.currentAnimation&&(i.isProjectionDirty=!0,i.relativeTarget[y].max=i.relativeTarget[y].min+E)});const c=qo();Cu(c,e,t.layoutBox);const m=qo();u?Cu(m,i.applyTransform(r,!0),t.measuredBox):Cu(m,e,t.layoutBox);const p=!Lw(c);let g=!1;if(!i.resumeFrom){const y=i.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:T,layout:E}=y;if(T&&E){const C=Ye();Iu(C,t.layoutBox,T.layoutBox);const k=Ye();Iu(k,e,E.layoutBox),Uw(C,k)||(g=!0),y.options.layoutRoot&&(i.relativeTarget=k,i.relativeTargetOrigin=C,i.relativeParent=y)}}}i.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:m,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(i.isLead()){const{onExitComplete:e}=i.options;e&&e()}i.options.transition=void 0}function s4(i){i.parent&&(i.isProjecting()||(i.isProjectionDirty=i.parent.isProjectionDirty),i.isSharedProjectionDirty||(i.isSharedProjectionDirty=!!(i.isProjectionDirty||i.parent.isProjectionDirty||i.parent.isSharedProjectionDirty)),i.isTransformDirty||(i.isTransformDirty=i.parent.isTransformDirty))}function r4(i){i.isProjectionDirty=i.isSharedProjectionDirty=i.isTransformDirty=!1}function a4(i){i.clearSnapshot()}function P1(i){i.clearMeasurements()}function k1(i){i.isLayoutDirty=!1}function o4(i){const{visualElement:t}=i.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),i.resetTransform()}function j1(i){i.finishAnimation(),i.targetDelta=i.relativeTarget=i.target=void 0,i.isProjectionDirty=!0}function l4(i){i.resolveTargetDelta()}function u4(i){i.calcProjection()}function c4(i){i.resetSkewAndRotation()}function h4(i){i.removeLeadSnapshot()}function L1(i,t,e){i.translate=Pe(t.translate,0,e),i.scale=Pe(t.scale,1,e),i.origin=t.origin,i.originPoint=t.originPoint}function U1(i,t,e,r){i.min=Pe(t.min,e.min,r),i.max=Pe(t.max,e.max,r)}function f4(i,t,e,r){U1(i.x,t.x,e.x,r),U1(i.y,t.y,e.y,r)}function d4(i){return i.animationValues&&i.animationValues.opacityExit!==void 0}const m4={duration:.45,ease:[.4,0,.1,1]},z1=i=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(i),B1=z1("applewebkit/")&&!z1("chrome/")?Math.round:Ii;function F1(i){i.min=B1(i.min),i.max=B1(i.max)}function p4(i){F1(i.x),F1(i.y)}function Fw(i,t,e){return i==="position"||i==="preserve-aspect"&&!b6(O1(t),O1(e),.2)}function g4(i){return i!==i.root&&i.scroll?.wasRoot}const y4=Bw({attachResizeListener:(i,t)=>Gu(i,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),fp={current:void 0},Hw=Bw({measureScroll:i=>({x:i.scrollLeft,y:i.scrollTop}),defaultParent:()=>{if(!fp.current){const i=new y4({});i.mount(window),i.setOptions({layoutScroll:!0}),fp.current=i}return fp.current},resetTransform:(i,t)=>{i.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:i=>window.getComputedStyle(i).position==="fixed"}),v4={pan:{Feature:k6},drag:{Feature:P6,ProjectionNode:Hw,MeasureLayout:Pw}};function H1(i,t,e){const{props:r}=i;i.animationState&&r.whileHover&&i.animationState.setActive("whileHover",e==="Start");const o="onHover"+e,u=r[o];u&&Ve.postRender(()=>u(t,rc(t)))}class _4 extends ea{mount(){const{current:t}=this.node;t&&(this.unmount=z3(t,(e,r)=>(H1(this.node,r,"Start"),o=>H1(this.node,o,"End"))))}unmount(){}}class T4 extends ea{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=nc(Gu(this.node.current,"focus",()=>this.onFocus()),Gu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function q1(i,t,e){const{props:r}=i;if(i.current instanceof HTMLButtonElement&&i.current.disabled)return;i.animationState&&r.whileTap&&i.animationState.setActive("whileTap",e==="Start");const o="onTap"+(e==="End"?"":e),u=r[o];u&&Ve.postRender(()=>u(t,rc(t)))}class b4 extends ea{mount(){const{current:t}=this.node;t&&(this.unmount=q3(t,(e,r)=>(q1(this.node,r,"Start"),(o,{success:u})=>q1(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const sg=new WeakMap,dp=new WeakMap,S4=i=>{const t=sg.get(i.target);t&&t(i)},E4=i=>{i.forEach(S4)};function A4({root:i,...t}){const e=i||document;dp.has(e)||dp.set(e,{});const r=dp.get(e),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(E4,{root:i,...t})),r[o]}function w4(i,t,e){const r=A4(t);return sg.set(i,e),r.observe(i),()=>{sg.delete(i),r.unobserve(i)}}const x4={some:0,all:1};class R4 extends ea{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:r,amount:o="some",once:u}=t,c={root:e?e.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:x4[o]},m=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:T}=this.node.getProps(),E=g?y:T;E&&E(p)};return w4(this.node.current,c,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(C4(t,e))&&this.startObserver()}unmount(){}}function C4({viewport:i={}},{viewport:t={}}={}){return e=>i[e]!==t[e]}const I4={inView:{Feature:R4},tap:{Feature:b4},focus:{Feature:T4},hover:{Feature:_4}},D4={layout:{ProjectionNode:Hw,MeasureLayout:Pw}},M4={...p6,...I4,...v4,...D4},Se=M5(M4,q5);function V4({onClick:i}){return S.jsx(Se.div,{onClick:t=>{t.stopPropagation(),i()},initial:{scale:0,opacity:0},animate:{scale:[1,1.2,1],rotate:[0,10,-10,0]},transition:{duration:.5,repeat:1/0,repeatType:"reverse"},style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontSize:"2em",zIndex:10,cursor:"pointer",filter:"drop-shadow(0 0 5px rgba(0,0,0,0.5))"},children:""})}function O4({plants:i,onHarvest:t,pests:e,onRemovePest:r,maxSlots:o}){const u=Math.sqrt(o||25);return S.jsx("div",{className:"log-container",children:S.jsx("div",{className:"mushroom-field",style:{gridTemplateColumns:`repeat(${u}, 1fr)`},children:i.map((c,m)=>{const p=c&&c.stage==="adult"&&(c.rarity==="rare"||c.rarity==="epic"||c.rarity==="legendary"||c.rarity==="mythic")?`rarity-${c.rarity}`:"";return S.jsx("div",{className:`mushroom-slot ${p}`,onClick:()=>c&&c.stage==="adult"&&t(m),children:S.jsxs(Sy,{mode:"wait",children:[c&&S.jsx(Se.div,{initial:{scale:0,rotate:-10},animate:{scale:1,rotate:0},exit:{scale:0,y:-20,opacity:0},whileHover:{scale:1.1,rotate:5},whileTap:{scale:.9},className:`mushroom ${c.stage==="baby"?"mushroom-baby":""}`,children:c.stage==="baby"?"":c.emoji},c.id+c.stage),e&&e[m]&&S.jsx(V4,{onClick:()=>r(m)})]})},m)})})})}const N4=i=>({common:"#95a5a6",rare:"#3498db",epic:"#9b59b6",legendary:"#f39c12",mythic:"#e74c3c"})[i]||"#95a5a6";function P4({inventory:i,consumables:t,onSell:e,onSellAll:r,onUseConsumable:o,cookedItems:u={},useCookedItem:c,onSellCookedItem:m}){const[p,g]=q.useState({}),[y,T]=q.useState("items"),E=(D,U)=>{g(X=>({...X,[D]:parseInt(U)}))},C=()=>Object.values(i).reduce((D,U)=>D+U.value*U.count,0),k=Object.keys(i).length===0;return S.jsxs("div",{style:{padding:"20px"},children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[S.jsx("h2",{style:{color:"#2d3436",margin:0},children:" "}),y==="items"&&!k&&S.jsxs("button",{onClick:r,style:{padding:"10px 20px",background:"#00b894",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold",whiteSpace:"nowrap",cursor:"pointer"},children:["  ( ",C(),")"]})]}),S.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"20px"},children:[S.jsxs("button",{onClick:()=>T("items"),style:{flex:1,padding:"12px",borderRadius:"10px",border:"none",background:y==="items"?"#00b894":"#dfe6e9",color:y==="items"?"white":"#636e72",fontWeight:"bold",whiteSpace:"nowrap",cursor:"pointer",transition:"all 0.2s"},children:["  (",Object.values(i).reduce((D,U)=>D+U.count,0),")"]}),S.jsxs("button",{onClick:()=>T("consumables"),style:{flex:1,padding:"12px",borderRadius:"10px",border:"none",background:y==="consumables"?"#e17055":"#dfe6e9",color:y==="consumables"?"white":"#636e72",fontWeight:"bold",whiteSpace:"nowrap",cursor:"pointer",transition:"all 0.2s"},children:["  (",(t?.seedBomb||0)+(t?.growthPotion||0)+Object.values(u).reduce((D,U)=>D+U.count,0),")"]})]}),S.jsxs("div",{style:{maxHeight:"600px",overflowY:"auto",paddingRight:"10px",scrollbarWidth:"none",msOverflowStyle:"none"},children:[S.jsx("style",{children:`
          div::-webkit-scrollbar {
            display: none;
          }
        `}),y==="items"?S.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, minmax(0, 1fr))",gap:"15px"},children:S.jsx(Sy,{children:k?S.jsxs("div",{style:{gridColumn:"1 / -1",textAlign:"center",padding:"60px 20px",color:"#636e72"},children:[S.jsx("div",{style:{fontSize:"4em",marginBottom:"10px"},children:""}),S.jsx("p",{style:{fontSize:"1.1em",margin:0},children:"  "}),S.jsx("p",{style:{fontSize:"0.9em",color:"#b2bec3"},children:"  !"})]}):Object.values(i).map(D=>S.jsxs(Se.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},layout:!0,style:{background:"white",borderRadius:"12px",padding:"20px",boxShadow:"0 2px 10px rgba(0,0,0,0.08)",border:`2px solid ${N4(qi.mushrooms.find(U=>U.emoji===D.emoji)?.rarity)}`},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",marginBottom:"15px"},children:[S.jsx("div",{style:{fontSize:"3em"},children:D.emoji}),S.jsxs("div",{style:{flex:1},children:[S.jsx("div",{style:{fontSize:"1.1em",fontWeight:"bold",whiteSpace:"nowrap",color:"#2d3436",marginBottom:"4px"},children:D.name}),S.jsxs("div",{style:{fontSize:"0.9em",color:"#636e72",display:"flex",gap:"10px",alignItems:"center"},children:[S.jsxs("span",{children:[" ",D.value]}),S.jsxs("span",{style:{background:"#00b894",color:"white",padding:"4px 10px",borderRadius:"12px",fontSize:"0.95em",fontWeight:"bold",whiteSpace:"nowrap"},children:[D.name,"  ",D.count," "]})]})]})]}),S.jsxs("div",{style:{borderTop:"1px solid #dfe6e9",paddingTop:"15px"},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"8px"},children:[S.jsxs("span",{style:{fontSize:"0.9em",color:"#636e72",minWidth:"60px",flexShrink:0},children:[p[D.emoji]||1," "]}),S.jsx("input",{type:"range",min:"1",max:D.count,value:p[D.emoji]||1,onChange:U=>E(D.emoji,U.target.value),style:{flex:1,minWidth:0,maxWidth:"100%"}})]}),S.jsxs("button",{onClick:U=>{U.stopPropagation();const X=p[D.emoji]||1;e(D.emoji,X),g(tt=>({...tt,[D.emoji]:1}))},style:{width:"100%",padding:"10px",background:"#00b894",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold",whiteSpace:"nowrap",cursor:"pointer"},children:[" ( ",D.value*(p[D.emoji]||1),")"]})]})]},D.emoji))})}):S.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, minmax(0, 1fr))",gap:"15px"},children:!t||t.seedBomb===0&&t.growthPotion===0&&Object.keys(u).length===0?S.jsxs("div",{style:{gridColumn:"1 / -1",textAlign:"center",padding:"60px 20px",color:"#636e72"},children:[S.jsx("div",{style:{fontSize:"4em",marginBottom:"10px"},children:""}),S.jsx("p",{style:{fontSize:"1.1em",margin:0},children:"  "}),S.jsx("p",{style:{fontSize:"0.9em",color:"#b2bec3"},children:" !"})]}):S.jsxs(S.Fragment,{children:[t.seedBomb>0&&S.jsxs(Se.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},style:{background:"white",borderRadius:"12px",padding:"20px",boxShadow:"0 2px 10px rgba(0,0,0,0.08)",border:"2px solid #e17055"},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",marginBottom:"15px"},children:[S.jsx("div",{style:{fontSize:"3em"},children:""}),S.jsxs("div",{style:{flex:1},children:[S.jsx("div",{style:{fontSize:"1.1em",fontWeight:"bold",whiteSpace:"nowrap",color:"#2d3436",marginBottom:"4px"},children:" "}),S.jsxs("div",{style:{fontSize:"0.9em",color:"#636e72"},children:["x",t.seedBomb]})]})]}),S.jsxs("div",{style:{borderTop:"1px solid #dfe6e9",paddingTop:"15px"},children:[S.jsx("p",{style:{fontSize:"0.85em",color:"#636e72",margin:"0 0 10px 0"},children:"      "}),S.jsx("button",{onClick:()=>o("seedBomb"),style:{width:"100%",padding:"10px",background:"#e17055",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold",whiteSpace:"nowrap",cursor:"pointer"},children:""})]})]}),t.growthPotion>0&&S.jsxs(Se.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},style:{background:"white",borderRadius:"12px",padding:"20px",boxShadow:"0 2px 10px rgba(0,0,0,0.08)",border:"2px solid #6c5ce7"},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",marginBottom:"15px"},children:[S.jsx("div",{style:{fontSize:"3em"},children:""}),S.jsxs("div",{style:{flex:1},children:[S.jsx("div",{style:{fontSize:"1.1em",fontWeight:"bold",whiteSpace:"nowrap",color:"#2d3436",marginBottom:"4px"},children:" "}),S.jsxs("div",{style:{fontSize:"0.9em",color:"#636e72"},children:["x",t.growthPotion]})]})]}),S.jsxs("div",{style:{borderTop:"1px solid #dfe6e9",paddingTop:"15px"},children:[S.jsx("p",{style:{fontSize:"0.85em",color:"#636e72",margin:"0 0 10px 0"},children:"   "}),S.jsx("button",{onClick:()=>o("growthPotion"),style:{width:"100%",padding:"10px",background:"#6c5ce7",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold",whiteSpace:"nowrap",cursor:"pointer"},children:""})]})]}),Object.values(u).map(D=>S.jsxs(Se.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},style:{background:"white",borderRadius:"12px",padding:"20px",boxShadow:"0 2px 10px rgba(0,0,0,0.08)",border:"2px solid #fdcb6e"},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",marginBottom:"15px"},children:[S.jsx("div",{style:{fontSize:"3em"},children:D.emoji}),S.jsxs("div",{style:{flex:1},children:[S.jsx("div",{style:{fontSize:"1.1em",fontWeight:"bold",whiteSpace:"nowrap",color:"#2d3436",marginBottom:"4px"},children:D.name}),S.jsxs("div",{style:{fontSize:"0.9em",color:"#636e72"},children:["x",D.count]})]})]}),S.jsxs("div",{style:{borderTop:"1px solid #dfe6e9",paddingTop:"15px"},children:[S.jsx("p",{style:{fontSize:"0.85em",color:"#636e72",margin:"0 0 10px 0"},children:D.description}),S.jsxs("div",{style:{display:"flex",gap:"10px"},children:[S.jsxs("button",{onClick:()=>m(D.id),style:{flex:1,padding:"10px",background:"#00b894",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold",whiteSpace:"nowrap",cursor:"pointer"},children:[" ( ",D.value,")"]}),D.effect&&S.jsx("button",{onClick:()=>c(D.id),style:{flex:1,padding:"10px",background:"#fdcb6e",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold",whiteSpace:"nowrap",cursor:"pointer"},children:""})]})]})]},D.id))]})})]})]})}function k4({gold:i,upgradeLevel:t,unlocks:e,rarityLevel:r,fertilizerLevel:o,onBuyUpgrade:u,onBuyUnlock:c,onBuyRarityUpgrade:m,onBuyFertilizerUpgrade:p,onBuyConsumable:g,onBuyLuckyBox:y,pets:T,onBuyPet:E,maxSlots:C,onBuyLandExpansion:k}){const D=100+t*50,U=500*r,X=500,tt=500;return S.jsx("div",{className:"shop-container",children:S.jsxs("div",{className:"shop-items",style:{display:"flex",flexDirection:"column",gap:"20px"},children:[S.jsxs(Se.div,{className:"shop-item",initial:{opacity:0,y:20},animate:{opacity:1,y:0},style:{background:"white",borderRadius:"16px",padding:"20px",display:"flex",alignItems:"center",gap:"20px",boxShadow:"0 4px 15px rgba(0,0,0,0.05)"},children:[S.jsx("div",{style:{fontSize:"3em"},children:""}),S.jsxs("div",{style:{flex:1},children:[S.jsx("div",{className:"text-black",style:{fontSize:"1.2em",fontWeight:"bold"},children:"  "}),S.jsx("div",{style:{color:"#636e72",fontSize:"0.9em"},children:"  10%  ()"}),S.jsxs("div",{style:{color:"#6c5ce7",fontWeight:"bold",fontSize:"0.9em"},children:[": ",t]})]}),S.jsxs("button",{className:"btn",onClick:u,disabled:i<D,style:{opacity:i<D?.5:1},children:[" ",D]})]}),S.jsxs(Se.div,{className:"shop-item",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},style:{background:"white",borderRadius:"16px",padding:"20px",display:"flex",alignItems:"center",gap:"20px",boxShadow:"0 4px 15px rgba(0,0,0,0.05)"},children:[S.jsx("div",{style:{fontSize:"3em"},children:""}),S.jsxs("div",{style:{flex:1},children:[S.jsx("div",{className:"text-black",style:{fontSize:"1.2em",fontWeight:"bold"},children:" "}),S.jsx("div",{style:{color:"#636e72",fontSize:"0.9em"},children:"    "}),S.jsxs("div",{style:{color:"#6c5ce7",fontWeight:"bold",fontSize:"0.9em"},children:[": ",r]})]}),S.jsxs("button",{className:"btn",onClick:m,disabled:i<U,style:{opacity:i<U?.5:1},children:[" ",U]})]}),S.jsxs(Se.div,{className:"shop-item",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},style:{background:"white",borderRadius:"16px",padding:"20px",display:"flex",alignItems:"center",gap:"20px",boxShadow:"0 4px 15px rgba(0,0,0,0.05)"},children:[S.jsx("div",{style:{fontSize:"3em"},children:""}),S.jsxs("div",{style:{flex:1},children:[S.jsx("div",{className:"text-black",style:{fontSize:"1.2em",fontWeight:"bold"},children:"  "}),S.jsx("div",{style:{color:"#636e72",fontSize:"0.9em"},children:"     "})]}),S.jsx("button",{className:"btn",onClick:()=>c("statistics"),disabled:e.statistics||i<X,style:{opacity:e.statistics||i<X?.5:1},children:e.statistics?" ":` ${X}`})]}),S.jsxs(Se.div,{className:"shop-item",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},style:{background:"white",borderRadius:"16px",padding:"20px",display:"flex",alignItems:"center",gap:"20px",boxShadow:"0 4px 15px rgba(0,0,0,0.05)"},children:[S.jsx("div",{style:{fontSize:"3em"},children:""}),S.jsxs("div",{style:{flex:1},children:[S.jsx("div",{className:"text-black",style:{fontSize:"1.2em",fontWeight:"bold"},children:"   "}),S.jsx("div",{style:{color:"#636e72",fontSize:"0.9em"},children:"       "})]}),S.jsx("button",{className:"btn",onClick:()=>c("harvestAll"),disabled:e.harvestAll||i<tt,style:{opacity:e.harvestAll||i<tt?.5:1},children:e.harvestAll?" ":` ${tt}`})]}),S.jsxs(Se.div,{className:"shop-item",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},style:{background:"white",borderRadius:"16px",padding:"20px",display:"flex",alignItems:"center",gap:"20px",boxShadow:"0 4px 15px rgba(0,0,0,0.05)"},children:[S.jsx("div",{style:{fontSize:"3em"},children:""}),S.jsxs("div",{style:{flex:1},children:[S.jsx("div",{className:"text-black",style:{fontSize:"1.2em",fontWeight:"bold"},children:"  "}),S.jsx("div",{style:{color:"#636e72",fontSize:"0.9em"},children:"  10% "}),S.jsxs("div",{style:{color:"#6c5ce7",fontWeight:"bold",fontSize:"0.9em"},children:[": ",o]})]}),S.jsxs("button",{className:"btn",onClick:p,disabled:i<1e3+o*500,style:{opacity:i<1e3+o*500?.5:1},children:[" ",1e3+o*500]})]}),S.jsxs(Se.div,{className:"shop-item",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.45},style:{background:"white",borderRadius:"16px",padding:"20px",display:"flex",alignItems:"center",gap:"20px",boxShadow:"0 4px 15px rgba(0,0,0,0.05)",border:C>=64?"2px solid #b2bec3":"2px solid #00b894"},children:[S.jsx("div",{style:{fontSize:"3em"},children:""}),S.jsxs("div",{style:{flex:1},children:[S.jsx("div",{className:"text-black",style:{fontSize:"1.2em",fontWeight:"bold"},children:" "}),S.jsxs("div",{style:{color:"#636e72",fontSize:"0.9em"},children:[C===25&&"55  66 (11 )",C===36&&"66  77 (13 )",C===49&&"77  88 (15 )",C>=64&&"  !"]}),S.jsxs("div",{style:{color:"#00b894",fontWeight:"bold",fontSize:"0.9em"},children:[": ",C,""]})]}),S.jsx("button",{className:"btn",onClick:k,disabled:C>=64||i<(C===25?5e3:C===36?15e3:3e4),style:{opacity:C>=64||i<(C===25?5e3:C===36?15e3:3e4)?.5:1,background:C>=64?"#b2bec3":"#00b894"},children:C>=64?"":` ${C===25?5e3:C===36?15e3:3e4}`})]}),S.jsx("div",{style:{borderTop:"2px solid #dfe6e9",margin:"10px 0",paddingTop:"10px"},children:S.jsx("h3",{style:{color:"#2d3436",marginBottom:"15px"},children:" "})}),S.jsxs(Se.div,{className:"shop-item",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},style:{background:"white",borderRadius:"16px",padding:"20px",display:"flex",alignItems:"center",gap:"20px",boxShadow:"0 4px 15px rgba(0,0,0,0.05)",border:"2px solid #e17055"},children:[S.jsx("div",{style:{fontSize:"3em"},children:""}),S.jsxs("div",{style:{flex:1},children:[S.jsx("div",{className:"text-black",style:{fontSize:"1.2em",fontWeight:"bold"},children:" "}),S.jsxs("div",{style:{color:"#636e72",fontSize:"0.9em"},children:["      ! (",C,")"]})]}),S.jsxs("button",{className:"btn",onClick:()=>g("seedBomb",C===25?2e3:C===36?3e3:C===49?4500:6e3),disabled:i<(C===25?2e3:C===36?3e3:C===49?4500:6e3),style:{opacity:i<(C===25?2e3:C===36?3e3:C===49?4500:6e3)?.5:1,background:"#e17055"},children:[" ",C===25?2e3:C===36?3e3:C===49?4500:6e3]})]}),S.jsxs(Se.div,{className:"shop-item",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},style:{background:"white",borderRadius:"16px",padding:"20px",display:"flex",alignItems:"center",gap:"20px",boxShadow:"0 4px 15px rgba(0,0,0,0.05)",border:"2px solid #a29bfe"},children:[S.jsx("div",{style:{fontSize:"3em"},children:""}),S.jsxs("div",{style:{flex:1},children:[S.jsx("div",{className:"text-black",style:{fontSize:"1.2em",fontWeight:"bold"},children:" "}),S.jsx("div",{style:{color:"#636e72",fontSize:"0.9em"},children:"  ! ( )"}),S.jsx("div",{style:{fontSize:"0.75em",color:"#b2bec3",marginTop:"5px"},children:": (0.5%), (5%), (40%), (54.5%)"})]}),S.jsx("button",{className:"btn",onClick:y,disabled:i<250,style:{opacity:i<250?.5:1,background:"#a29bfe"},children:" 250"})]}),S.jsxs(Se.div,{className:"shop-item",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},style:{background:"white",borderRadius:"16px",padding:"20px",display:"flex",alignItems:"center",gap:"20px",boxShadow:"0 4px 15px rgba(0,0,0,0.05)",border:T&&T.dog?"2px solid #b2bec3":"2px solid #fdcb6e"},children:[S.jsx("div",{style:{fontSize:"3em"},children:""}),S.jsxs("div",{style:{flex:1},children:[S.jsx("div",{className:"text-black",style:{fontSize:"1.2em",fontWeight:"bold"},children:" "}),S.jsxs("div",{style:{color:"#636e72",fontSize:"0.9em"},children:["   ",S.jsx("br",{}),"15    !"]}),S.jsx("div",{style:{color:"#fdcb6e",fontWeight:"bold",fontSize:"0.9em",marginTop:"5px"},children:T&&T.dog?" ":""})]}),S.jsx("button",{className:"btn",onClick:()=>E("dog",3e3),disabled:i<3e3||T&&T.dog,style:{opacity:i<3e3||T&&T.dog?.5:1,background:T&&T.dog?"#b2bec3":"#fdcb6e"},children:T&&T.dog?"":" 3000"})]})]})})}function j4({collection:i,rarityLevel:t=1,activeBuffs:e=[]}){const[r,o]=q.useState("all"),[u,c]=q.useState(null),m=qi.mushrooms,p=Object.values(i).filter(D=>D.discovered).length,g=m.length,y=(p/g*100).toFixed(1),T=m.filter(D=>{const U=i[D.emoji]?.discovered;return r==="all"?!0:r==="discovered"?U:r==="undiscovered"?!U:D.rarity===r}),E=D=>({common:"#95a5a6",rare:"#3498db",epic:"#9b59b6",legendary:"#f39c12",mythic:"#e74c3c"})[D]||"#95a5a6",C=D=>({common:"",rare:"",epic:"",legendary:"",mythic:""})[D]||"  ",k=D=>{const U=e.filter(ft=>ft.type==="rarity_boost"),X=m.filter(ft=>!(ft.rarity==="epic"&&t<5||ft.rarity==="legendary"&&t<10||ft.rarity==="mythic"&&t<15)).map(ft=>{let mt=1;return U.forEach(dt=>{(dt.target==="all"&&ft.rarity!=="common"||dt.target===ft.rarity)&&(mt*=dt.value)}),{...ft,effectiveWeight:ft.rarity==="common"?ft.weight/(1+t*.15):ft.weight*(1+(t-1)*.8)*mt}}),tt=X.reduce((ft,mt)=>ft+mt.effectiveWeight,0),rt=X.find(ft=>ft.emoji===D.emoji);return rt?(rt.effectiveWeight/tt*100).toFixed(2):"0.00"};return S.jsxs("div",{className:"collection-container",children:[S.jsxs("div",{style:{background:"white",padding:"20px",borderRadius:"16px",marginBottom:"20px",boxShadow:"0 4px 15px rgba(0,0,0,0.05)"},children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"},children:[S.jsx("span",{style:{fontWeight:"bold",color:"#2d3436"},children:" "}),S.jsxs("span",{style:{fontWeight:"bold",color:"#6c5ce7"},children:[y,"%"]})]}),S.jsx("div",{style:{height:"10px",background:"#dfe6e9",borderRadius:"5px",overflow:"hidden"},children:S.jsx("div",{style:{height:"100%",width:`${y}%`,background:"linear-gradient(90deg, #6c5ce7, #a29bfe)",transition:"width 0.5s ease-out"}})})]}),S.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",marginBottom:"20px",justifyContent:"center"},children:["all","discovered","undiscovered","common","rare","epic","legendary","mythic"].map(D=>{const U={all:"",discovered:"",undiscovered:"",common:"",rare:"",epic:"",legendary:"",mythic:""};return S.jsx("button",{onClick:()=>o(D),style:{padding:"8px 16px",borderRadius:"20px",border:"none",background:r===D?"#6c5ce7":"#dfe6e9",color:r===D?"white":"#636e72",cursor:"pointer",whiteSpace:"nowrap",fontWeight:"bold",fontSize:"0.9em"},children:U[D]},D)})}),S.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(100px, 1fr))",gap:"10px",maxHeight:"400px",overflowY:"auto",scrollbarWidth:"none",msOverflowStyle:"none"},className:"collection-grid",children:T.map(D=>{const U=i[D.emoji],X=U?.discovered;return S.jsxs(Se.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},onClick:()=>X&&c({...D,collectionData:U}),style:{background:"white",borderRadius:"12px",padding:"15px",textAlign:"center",border:`2px solid ${E(D.rarity)}`,boxShadow:X?`0 0 15px ${E(D.rarity)}40`:"none",opacity:X?1:.5,cursor:X?"pointer":"default"},children:[S.jsxs("div",{style:{fontSize:"2.5em",marginBottom:"5px",position:"relative"},children:[X?D.emoji:"",X&&S.jsx("div",{style:{position:"absolute",top:"-10px",right:"-10px",fontSize:"0.5em"},children:U.count>=50?"":U.count>=40?"":U.count>=30?"":""})]}),S.jsx("div",{className:"text-black",style:{fontSize:"0.8em",fontWeight:"bold"},children:X?D.description:"???"}),X&&S.jsxs("div",{style:{fontSize:"0.7em",color:"#636e72",marginTop:"5px"},children:[": ",U.count,""]})]},D.emoji)})}),u&&S.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>c(null),children:S.jsxs("div",{style:{background:"white",borderRadius:"20px",padding:"30px",maxWidth:"90%",width:"400px"},onClick:D=>D.stopPropagation(),children:[S.jsx("div",{style:{fontSize:"4em",textAlign:"center",marginBottom:"15px"},children:u.emoji}),S.jsx("div",{className:"text-black",style:{fontSize:"1.5em",fontWeight:"bold",textAlign:"center",marginBottom:"10px",wordBreak:"keep-all"},children:u.description}),S.jsx("div",{style:{background:E(u.rarity),color:"white",padding:"8px 15px",borderRadius:"20px",textAlign:"center",fontWeight:"bold",marginBottom:"20px"},children:C(u.rarity)}),S.jsx("div",{className:"text-black",style:{marginBottom:"15px",lineHeight:"1.6",fontSize:"0.95em"},children:u.flavorText}),S.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"10px",marginTop:"20px",padding:"15px",background:"#f8f9fa",borderRadius:"10px"},children:[S.jsxs("div",{style:{textAlign:"center"},children:[S.jsx("div",{style:{fontSize:"0.8em",color:"#2d3436",marginBottom:"5px"},children:""}),S.jsxs("div",{style:{fontWeight:"bold",color:"#2d3436"},children:[" ",u.value]})]}),S.jsxs("div",{style:{textAlign:"center"},children:[S.jsx("div",{style:{fontSize:"0.8em",color:"#2d3436",marginBottom:"5px"},children:" "}),S.jsxs("div",{style:{fontWeight:"bold",color:"#2d3436"},children:[" ",k(u),"%"]})]}),S.jsxs("div",{style:{textAlign:"center"},children:[S.jsx("div",{style:{fontSize:"0.8em",color:"#2d3436",marginBottom:"5px"},children:" "}),S.jsxs("div",{style:{fontWeight:"bold",color:"#2d3436"},children:[" ",u.collectionData.count,""]})]})]}),S.jsx("button",{onClick:()=>c(null),style:{marginTop:"20px",width:"100%",padding:"12px",background:"#6c5ce7",color:"white",border:"none",borderRadius:"10px",fontWeight:"bold",cursor:"pointer"},children:""})]})})]})}function L4({gold:i,foodState:t,fertilizerLevel:e,onActivateFood:r,onCancelFood:o}){const[u,c]=q.useState(0);q.useEffect(()=>{if(!t.active)return;const y=setInterval(()=>{const T=Math.max(0,t.endTime-Date.now());c(T),T<=0&&clearInterval(y)},100);return()=>clearInterval(y)},[t]);const m=y=>{const T=Math.floor(y/1e3),E=Math.floor(T/60),C=T%60;return`${E}:${C.toString().padStart(2,"0")}`},p=()=>{if(!t.active)return 0;const E=({"3min-free":18e4,"1min":6e4,"5min":3e5,"10min":6e5}[t.type]||0)*(1+e*.1);return u/E*100};if(t.active)return S.jsxs("div",{className:"food-system",style:{background:"rgba(255,255,255,0.8)",padding:"15px",borderRadius:"16px",marginBottom:"20px"},children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"},children:[S.jsx("span",{style:{fontWeight:"bold",color:"#d35400"},children:"  "}),S.jsx("span",{style:{fontWeight:"bold",color:"#6c5ce7"},children:m(u)})]}),S.jsx("div",{style:{height:"20px",background:"rgba(0,0,0,0.1)",borderRadius:"10px",overflow:"hidden",marginBottom:"10px"},children:S.jsx("div",{style:{height:"100%",width:`${p()}%`,background:"linear-gradient(90deg, #10ac84, #1dd1a1)",transition:"width 0.1s linear"}})}),S.jsx("button",{className:"btn btn-secondary",onClick:o,style:{width:"100%",padding:"8px"},children:"  "})]});const g=[{id:"3min-free",name:"",baseDuration:18e4,info:" (0.5x)",cost:0,color:"linear-gradient(135deg, #a8e6cf 0%, #3dccc7 100%)"},{id:"1min",name:"",baseDuration:6e4,info:" (2.5x)",cost:200,color:"linear-gradient(135deg, #ff9a9e 0%, #ff6b6b 100%)"},{id:"5min",name:"",baseDuration:3e5,info:" (1x)",cost:150,color:"linear-gradient(135deg, #a18cd1 0%, #fbc2eb 100%)"},{id:"10min",name:"",baseDuration:6e5,info:" (0.7x)",cost:350,color:"linear-gradient(135deg, #95e1d3 0%, #38ada9 100%)"}];return S.jsx("div",{className:"food-system",style:{marginBottom:"20px"},children:S.jsx("div",{style:{display:"flex",gap:"10px",overflowX:"auto",paddingBottom:"5px"},children:g.map(y=>{const T=y.baseDuration*(1+e*.1),E=Math.floor(T/6e4),C=Math.floor(T%6e4/1e3),k=C>0?`${E} ${C}`:`${E}`;return S.jsxs(Se.button,{whileHover:{y:-2},whileTap:{scale:.95},onClick:()=>r(y.id),disabled:i<y.cost,style:{flex:"1",minWidth:"100px",border:"none",borderRadius:"12px",padding:"10px",background:y.color,color:"white",cursor:"pointer",opacity:i<y.cost?.5:1,display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},children:[S.jsxs("div",{style:{fontWeight:"bold",fontSize:"0.9em"},children:[y.id==="3min-free"?"":y.id==="1min"?"":y.id==="5min"?"":""," ",k," ",y.name]}),S.jsx("div",{style:{fontSize:"0.7em",opacity:.9},children:y.info}),S.jsx("div",{style:{fontWeight:"bold",fontSize:"0.8em"},children:y.cost===0?"":` ${y.cost}`})]},y.id)})})})}var U4=G1();const z4=i=>({common:"#95a5a6",rare:"#3498db",epic:"#9b59b6",legendary:"#f39c12",mythic:"#e74c3c"})[i]||"#95a5a6";function B4({inventory:i,cookedItems:t,useCookedItem:e,cookingState:r,discoveredRecipes:o,startCooking:u,claimDish:c}){const[m,p]=q.useState([]),[g,y]=q.useState("ingredients"),[T,E]=q.useState(0),[C,k]=q.useState(!1),[D,U]=q.useState(null);q.useEffect(()=>{if(r.active){const R=setInterval(()=>{const I=Date.now()-r.startTime,P=Math.max(0,r.duration-I);E(P)},100);return()=>clearInterval(R)}else E(0)},[r]);const X=R=>{m.length<3&&p([...m,R])},tt=R=>{if(!r.active){const w=[...m];w.splice(R,1),p(w)}},rt=()=>{m.length===3&&(u(m),p([]))},ft=()=>{r.result&&(U(r.result),k(!0),c(),setTimeout(()=>k(!1),3e3))},mt=r.active&&T>0,dt=r.active&&T===0&&Date.now()-r.startTime>=r.duration;return S.jsxs("div",{className:"kitchen-container",style:{paddingBottom:"80px",position:"relative"},children:[U4.createPortal(S.jsx(Sy,{children:C&&D&&S.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:9999,pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},children:[S.jsx(Se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.5)",pointerEvents:"auto"},onClick:()=>k(!1)}),S.jsxs(Se.div,{initial:{scale:.8,y:50},animate:{scale:1,y:0},exit:{scale:.8,y:50},onClick:R=>R.stopPropagation(),style:{background:"white",padding:"30px",borderRadius:"20px",boxShadow:"0 10px 30px rgba(0,0,0,0.2)",textAlign:"center",minWidth:"300px",maxWidth:"90%",border:`4px solid ${D.effect?"#fdcb6e":"#b2bec3"}`,zIndex:1e4,pointerEvents:"auto",position:"relative"},children:[S.jsx("div",{style:{fontSize:"5em",marginBottom:"10px"},children:D.emoji}),S.jsxs("h2",{style:{margin:"0 0 10px 0",color:"#2d3436"},children:[D.name," ",D.isRecipeInfo?"":"!"]}),S.jsx("p",{style:{color:"#636e72",marginBottom:"20px"},children:D.description}),D.isRecipeInfo&&S.jsxs("div",{style:{background:"#f1f2f6",padding:"15px",borderRadius:"12px",marginBottom:"20px",textAlign:"left"},children:[S.jsxs("div",{style:{marginBottom:"10px"},children:[S.jsx("span",{style:{fontWeight:"bold",color:"#2d3436"},children:" :"}),S.jsx("div",{style:{display:"flex",gap:"10px",marginTop:"5px"},children:(D.ingredients||["","",""]).map((R,w)=>S.jsx("div",{style:{fontSize:"1.5em",background:"white",borderRadius:"8px",padding:"5px",boxShadow:"0 2px 5px rgba(0,0,0,0.05)"},children:R},w))})]}),D.effect&&S.jsxs("div",{style:{marginBottom:"10px"},children:[S.jsx("span",{style:{fontWeight:"bold",color:"#2d3436"},children:":"}),S.jsxs("div",{style:{color:"#0984e3"},children:[D.effect.type==="speed"&&"   ",D.effect.type==="gold"&&"   ",D.effect.type==="spawn_rate"&&"    ",D.effect.type==="add_consumable"&&"  ",D.effect.type==="instant_growth"&&"  "," ","(",D.effect.duration>0?`${D.effect.duration/6e4}`:"",")"]})]}),S.jsxs("div",{children:[S.jsx("span",{style:{fontWeight:"bold",color:"#2d3436"},children:" :"}),S.jsxs("span",{style:{fontWeight:"bold",color:"#f1c40f",marginLeft:"5px"},children:[" ",D.value]})]})]}),S.jsx("button",{onClick:()=>k(!1),style:{padding:"10px 30px",background:"#00b894",color:"white",border:"none",borderRadius:"10px",fontWeight:"bold",cursor:"pointer",fontSize:"1.1em"},children:""})]})]},"popup-overlay")}),document.body),S.jsxs("div",{style:{background:"white",borderRadius:"16px",padding:"20px",marginBottom:"20px",boxShadow:"0 4px 15px rgba(0,0,0,0.05)",textAlign:"center"},children:[S.jsx("h2",{style:{margin:"0 0 20px 0",color:"#2d3436"},children:"  "}),S.jsx("div",{style:{width:"120px",height:"100px",background:"#636e72",borderRadius:"0 0 40px 40px",margin:"0 auto 20px auto",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"3em"},children:mt?S.jsx(Se.div,{animate:{y:[0,-10,0]},transition:{repeat:1/0,duration:1},children:""}):dt?S.jsx(Se.div,{animate:{scale:[1,1.2,1]},transition:{repeat:1/0,duration:.5},children:""}):S.jsx("span",{children:""})}),S.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"15px",marginBottom:"20px"},children:[0,1,2].map(R=>{const w=r.active?r.ingredients[R]:m[R];return S.jsx("div",{onClick:()=>tt(R),style:{width:"60px",height:"60px",borderRadius:"12px",background:"#f1f2f6",border:"2px dashed #b2bec3",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2em",cursor:!r.active&&w?"pointer":"default"},children:w},R)})}),mt?S.jsxs("div",{children:[S.jsxs("div",{style:{marginBottom:"10px",fontWeight:"bold",color:"#e17055"},children:[" ... ",(T/1e3).toFixed(1),""]}),S.jsx("div",{style:{width:"100%",height:"10px",background:"#dfe6e9",borderRadius:"5px",overflow:"hidden"},children:S.jsx(Se.div,{style:{height:"100%",background:"#e17055"},initial:{width:"0%"},animate:{width:`${(r.duration-T)/r.duration*100}%`}})})]}):dt?S.jsx("button",{onClick:ft,style:{padding:"12px 30px",background:"#fdcb6e",color:"white",border:"none",borderRadius:"25px",fontSize:"1.1em",fontWeight:"bold",cursor:"pointer",boxShadow:"0 4px 0 #e1b12c"},children:" ! "}):S.jsx("button",{onClick:rt,disabled:m.length!==3,style:{padding:"12px 30px",background:m.length===3?"#00b894":"#b2bec3",color:"white",border:"none",borderRadius:"25px",fontSize:"1.1em",fontWeight:"bold",cursor:m.length===3?"pointer":"not-allowed",boxShadow:m.length===3?"0 4px 0 #008c70":"none"},children:"  "})]}),S.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"20px"},children:[S.jsx("button",{onClick:()=>y("ingredients"),style:{flex:1,padding:"12px",borderRadius:"10px",border:"none",background:g==="ingredients"?"#6c5ce7":"#dfe6e9",color:g==="ingredients"?"white":"#636e72",fontWeight:"bold",cursor:"pointer"},children:"  "}),S.jsx("button",{onClick:()=>y("recipes"),style:{flex:1,padding:"12px",borderRadius:"10px",border:"none",background:g==="recipes"?"#fdcb6e":"#dfe6e9",color:g==="recipes"?"white":"#636e72",fontWeight:"bold",cursor:"pointer"},children:"  "})]}),g==="ingredients"?S.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"10px",maxHeight:"400px",overflowY:"auto"},children:Object.values(i).map(R=>S.jsxs("div",{onClick:()=>X(R.emoji),style:{background:"white",borderRadius:"12px",padding:"10px",textAlign:"center",border:`2px solid ${z4(qi.mushrooms.find(w=>w.emoji===R.emoji)?.rarity)}`,cursor:"pointer",opacity:R.count>0?1:.5},children:[S.jsx("div",{style:{fontSize:"2em"},children:R.emoji}),S.jsxs("div",{style:{fontSize:"0.8em",fontWeight:"bold",color:"#2d3436"},children:["x",R.count]})]},R.emoji))}):S.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"10px",maxHeight:"400px",overflowY:"auto",padding:"5px"},children:[S.jsxs("div",{onClick:()=>{U({id:"mixed_stew",name:" ",emoji:"",description:"    .    .",ingredients:["","",""],value:"???",effect:null,isRecipeInfo:!0}),k(!0)},style:{background:"white",borderRadius:"16px",padding:"15px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"pointer",boxShadow:"0 4px 10px rgba(0,0,0,0.05)",transition:"transform 0.2s",aspectRatio:"0.8",border:"2px solid #b2bec3"},children:[S.jsx("div",{style:{fontSize:"3em",marginBottom:"10px"},children:""}),S.jsx("div",{style:{fontWeight:"bold",fontSize:"0.9em",color:"#2d3436"},children:" "})]}),qh.recipes.map(R=>{const w=o.includes(R.id);return S.jsxs("div",{onClick:()=>{w&&(U({...R,isRecipeInfo:!0}),k(!0))},style:{background:w?"white":"#dfe6e9",borderRadius:"16px",padding:"15px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:w?"pointer":"default",boxShadow:w?"0 4px 10px rgba(0,0,0,0.05)":"none",transition:"transform 0.2s",aspectRatio:"0.8",border:w?"2px solid #fdcb6e":"2px dashed #b2bec3"},children:[S.jsx("div",{style:{fontSize:"3em",marginBottom:"10px",filter:w?"none":"grayscale(100%) opacity(0.5)"},children:w?R.emoji:""}),S.jsx("div",{style:{fontWeight:"bold",fontSize:"0.9em",color:w?"#2d3436":"#636e72"},children:w?R.name:"???"})]},R.id)})]})]})}function F4({resetGame:i,activateGodMode:t,user:e,onLogin:r,onLogout:o,onSave:u,onLoad:c,isSaving:m,lastSaved:p}){return S.jsxs("div",{className:"settings-container",style:{background:"white",padding:"20px",borderRadius:"16px",boxShadow:"0 4px 15px rgba(0,0,0,0.05)"},children:[S.jsx("h2",{style:{color:"#2d3436",marginBottom:"20px"},children:""}),S.jsxs("div",{style:{marginBottom:"30px",padding:"15px",background:"#f8f9fa",borderRadius:"12px"},children:[S.jsx("h3",{style:{margin:"0 0 15px 0",color:"#6c5ce7"},children:"  "}),e?S.jsxs("div",{children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"15px",padding:"10px",background:"white",borderRadius:"8px",border:"1px solid #dfe6e9"},children:[S.jsx("img",{src:e.photoURL,alt:"Profile",style:{width:"32px",height:"32px",borderRadius:"50%"}}),S.jsxs("div",{style:{flex:1,overflow:"hidden"},children:[S.jsx("div",{style:{fontWeight:"bold",fontSize:"0.9em"},children:e.displayName}),S.jsx("div",{style:{fontSize:"0.8em",color:"#636e72",textOverflow:"ellipsis",overflow:"hidden"},children:e.email})]}),S.jsx("button",{onClick:o,style:{padding:"5px 10px",fontSize:"0.8em",background:"#ff7675",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:""})]}),S.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:[S.jsx("button",{onClick:u,disabled:m,className:"btn",style:{fontSize:"0.9em",padding:"10px"},children:m?" ...":"  "}),S.jsx("button",{onClick:c,disabled:m,className:"btn-secondary",style:{fontSize:"0.9em",padding:"10px"},children:" "})]}),p&&S.jsxs("div",{style:{textAlign:"center",marginTop:"10px",fontSize:"0.8em",color:"#00b894"},children:["  : ",p.toLocaleTimeString()]})]}):S.jsxs("div",{style:{textAlign:"center"},children:[S.jsx("p",{style:{color:"#636e72",marginBottom:"15px"},children:"    ."}),S.jsx("button",{onClick:r,className:"btn",style:{width:"100%",background:"#4285F4"},children:"Google  "})]})]}),S.jsxs("div",{style:{marginBottom:"20px"},children:[S.jsx("h3",{style:{margin:"0 0 10px 0",color:"#d63031"},children:"  "}),S.jsx("p",{style:{fontSize:"0.9em",color:"#636e72",marginBottom:"10px"},children:"     . ( )"}),S.jsx("button",{onClick:()=>{window.confirm(" ?   !")&&i()},style:{width:"100%",padding:"12px",background:"#d63031",color:"white",border:"none",borderRadius:"10px",fontWeight:"bold",cursor:"pointer"},children:"  "})]}),S.jsx("div",{style:{height:"50px",marginTop:"30px"},onClick:g=>{g.detail===5&&t()}}),S.jsx("div",{style:{textAlign:"center",fontSize:"0.8em",color:"#b2bec3"},children:"v1.9.1 (Cloud Enabled)"})]})}function H4({stats:i,achievements:t,onClaim:e}){const r=[...gf.achievements].sort((o,u)=>{const c=t[o.id],m=t[u.id],p=g=>g?g.unlocked&&!g.claimed?1:3:2;return p(c)-p(m)});return S.jsx("div",{className:"achievements-container",children:S.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.9)",padding:"15px",borderRadius:"16px",marginBottom:"20px",boxShadow:"0 4px 15px rgba(0,0,0,0.1)"},children:[S.jsxs("h2",{style:{margin:"0 0 15px 0",color:"#2d3436",textAlign:"center"},children:["  (",Object.values(t).filter(o=>o.unlocked).length,"/",gf.achievements.length,")"]}),S.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:r.map(o=>{const u=t[o.id],c=u?.unlocked,m=u?.claimed,p=i[o.condition.type]||0,g=o.condition.value,y=Math.min(p/g*100,100);return S.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},style:{background:m?"#f1f2f6":"white",border:c&&!m?"2px solid #f1c40f":"1px solid #dfe6e9",borderRadius:"12px",padding:"12px",display:"flex",alignItems:"center",gap:"15px",opacity:c?1:.8,position:"relative",overflow:"hidden"},children:[!c&&S.jsx("div",{style:{position:"absolute",bottom:0,left:0,height:"4px",width:`${y}%`,background:"#00b894",transition:"width 0.5s ease"}}),S.jsx("div",{style:{fontSize:"2em",filter:c?"none":"grayscale(100%)"},children:o.icon}),S.jsxs("div",{style:{flex:1},children:[S.jsxs("div",{style:{fontWeight:"bold",color:c?"#2d3436":"#636e72",marginBottom:"4px"},children:[o.title,m&&S.jsx("span",{style:{marginLeft:"5px",fontSize:"0.8em",color:"#00b894"},children:" "})]}),S.jsx("div",{style:{fontSize:"0.9em",color:"#636e72"},children:o.description}),!c&&S.jsxs("div",{style:{fontSize:"0.8em",color:"#b2bec3",marginTop:"4px"},children:[": ",p.toLocaleString()," / ",g.toLocaleString()," (",Math.floor(y),"%)"]})]}),S.jsx("div",{children:c&&!m?S.jsxs(Se.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e(o.id),style:{background:"#f1c40f",border:"none",padding:"8px 16px",borderRadius:"20px",color:"#2d3436",fontWeight:"bold",cursor:"pointer",boxShadow:"0 2px 5px rgba(0,0,0,0.1)"},children:[" ",S.jsxs("div",{style:{fontSize:"0.8em",marginTop:"2px"},children:[" ",o.reward.value]})]}):S.jsx("div",{style:{background:"#dfe6e9",padding:"8px 12px",borderRadius:"12px",fontSize:"0.8em",color:"#636e72",textAlign:"center",minWidth:"60px"},children:m?"":` ${o.reward.value}`})})]},o.id)})})]})})}function q4({activeQuests:i,questTimer:t,onRefresh:e,onReroll:r,onComplete:o,inventory:u,cookedItems:c}){const[m,p]=q.useState(""),[g,y]=q.useState(!1);q.useEffect(()=>{const C=setInterval(()=>{const k=Date.now(),D=Math.max(0,t-k);if(D===0)y(!0),p("  !");else{y(!1);const U=Math.floor(D/6e4),X=Math.floor(D%6e4/1e3);p(`${U} ${X}`)}},1e3);return()=>clearInterval(C)},[t]);const T=500,E=100;return S.jsx("div",{className:"quests-container",children:S.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.9)",padding:"20px",borderRadius:"16px",marginBottom:"20px",boxShadow:"0 4px 15px rgba(0,0,0,0.1)"},children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[S.jsx("h2",{style:{margin:0,color:"#2d3436"},children:"  "}),S.jsxs("div",{style:{textAlign:"right"},children:[S.jsx("div",{style:{fontSize:"0.9em",color:g?"#00b894":"#636e72",fontWeight:g?"bold":"normal"},children:g?"   !":`  : ${m}`}),S.jsx("button",{onClick:()=>e(T),style:{background:g?"#00b894":"#74b9ff",border:"none",padding:"8px 16px",borderRadius:"8px",color:"white",cursor:"pointer",fontSize:"0.9em",marginTop:"5px",fontWeight:"bold",boxShadow:"0 2px 5px rgba(0,0,0,0.1)"},children:g?"   ":`   (${T}G)`})]})]}),S.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"15px"},children:i.map(C=>{const k=C.request;let D=0;k.type==="plant"?D=u[k.id]?.count||0:D=c[k.id]?.count||0;const U=D>=k.count;return S.jsxs(Se.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},style:{background:"#fff",border:"1px solid #dfe6e9",borderRadius:"12px",padding:"15px",position:"relative",boxShadow:"0 2px 5px rgba(0,0,0,0.05)"},children:[S.jsx("div",{style:{position:"absolute",top:"10px",right:"10px"},children:S.jsx("button",{onClick:()=>r(C.id),title:`   (${E}G)`,style:{background:"none",border:"1px solid #b2bec3",borderRadius:"50%",width:"24px",height:"24px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.8em",color:"#636e72"},children:""})}),S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px",paddingRight:"30px"},children:[S.jsx("div",{style:{fontSize:"2em"},children:C.npcEmoji}),S.jsxs("div",{children:[S.jsx("div",{style:{fontWeight:"bold",color:"#2d3436"},children:C.npcName}),S.jsxs("div",{style:{fontSize:"0.8em",color:"#636e72",fontStyle:"italic"},children:['"',C.dialogue,'"']})]})]}),S.jsxs("div",{style:{background:"#f1f2f6",padding:"10px",borderRadius:"8px",marginBottom:"10px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[S.jsx("span",{style:{fontSize:"1.5em"},children:k.emoji}),S.jsxs("div",{children:[S.jsx("div",{style:{fontWeight:"bold"},children:k.name}),S.jsxs("div",{style:{fontSize:"0.8em",color:U?"#00b894":"#d63031"},children:[D," / ",k.count]})]})]}),S.jsxs("div",{style:{textAlign:"right"},children:[S.jsx("div",{style:{fontSize:"0.8em",color:"#636e72"},children:""}),S.jsxs("div",{style:{fontWeight:"bold",color:"#fdcb6e"},children:[" ",C.reward.gold]})]})]}),S.jsx("div",{style:{display:"flex",gap:"5px"},children:S.jsx("button",{onClick:()=>o(C.id),disabled:!U,style:{flex:1,padding:"10px",border:"none",borderRadius:"8px",background:U?"#00b894":"#b2bec3",color:"white",fontWeight:"bold",cursor:U?"pointer":"not-allowed",transition:"background 0.2s"},children:U?"":" "})}),S.jsxs("div",{style:{textAlign:"center",marginTop:"5px",fontSize:"0.7em",color:"#b2bec3"},children:[" : ",E,"G"]})]},C.id)})}),i.length===0&&S.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#b2bec3"},children:"   .    ."})]})})}function G4({dailyReward:i,onClaim:t,onClose:e}){const[r,o]=q.useState(!1);q.useEffect(()=>{if(i.lastClaimed){const p=new Date(i.lastClaimed),g=new Date,y=p.getFullYear()===g.getFullYear()&&p.getMonth()===g.getMonth()&&p.getDate()===g.getDate();o(y)}},[i]);const u=[{day:1,label:"500 G",icon:""},{day:2,label:"1000 G",icon:""},{day:3,label:"  x1",icon:""},{day:4,label:"2000 G",icon:""},{day:5,label:"  x1",icon:""},{day:6,label:"  x2",icon:""},{day:7,label:"5000 G +  x3",icon:""}],c=()=>{t().success&&o(!0)};i.streak%7+1;const m=i.streak;return S.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2e3},children:S.jsxs("div",{style:{background:"white",padding:"20px",borderRadius:"20px",maxWidth:"400px",width:"90%",textAlign:"center",boxShadow:"0 10px 25px rgba(0,0,0,0.2)"},children:[S.jsx("h2",{style:{color:"#6c5ce7",marginBottom:"5px"},children:"  "}),S.jsx("p",{style:{color:"#636e72",marginBottom:"20px"},children:"   !"}),S.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"10px",marginBottom:"20px"},children:u.map(p=>{let g="locked";r?p.day<=m&&(g="done"):(p.day<=m&&(g="done"),p.day===m+1&&(g="target"));const y=p.day===7;return S.jsxs("div",{style:{gridColumn:y?"span 4":"span 1",background:g==="done"?"#dfe6e9":g==="target"?"#ffeaa7":"#f1f2f6",border:g==="target"?"2px solid #fdcb6e":"1px solid #dfe6e9",borderRadius:"10px",padding:"10px",opacity:g==="done"?.6:1,position:"relative"},children:[S.jsxs("div",{style:{fontSize:"0.8em",color:"#b2bec3",marginBottom:"5px"},children:["Day ",p.day]}),S.jsx("div",{style:{fontSize:"1.5em",marginBottom:"5px"},children:p.icon}),S.jsx("div",{style:{fontSize:"0.7em",fontWeight:"bold",color:"#2d3436"},children:p.label}),g==="done"&&S.jsx("div",{style:{position:"absolute",top:5,right:5},children:""})]},p.day)})}),S.jsx("button",{onClick:c,disabled:r,className:"btn",style:{width:"100%",padding:"15px",background:r?"#b2bec3":"#00b894",fontSize:"1.1em",marginBottom:"10px"},children:r?"  !":" "}),S.jsx("button",{onClick:e,style:{background:"none",border:"none",color:"#636e72",cursor:"pointer",textDecoration:"underline"},children:""})]})})}function K4({result:i,onClose:t}){return i?S.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},onClick:t,children:S.jsxs(Se.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},exit:{scale:0,opacity:0},transition:{type:"spring",damping:15},style:{background:"white",padding:"30px",borderRadius:"20px",textAlign:"center",maxWidth:"300px",boxShadow:"0 10px 30px rgba(0,0,0,0.3)",border:"4px solid #a29bfe"},onClick:e=>e.stopPropagation(),children:[S.jsx("div",{style:{fontSize:"4em",marginBottom:"10px"},children:i.type==="jackpot"?"":i.type==="big_win"?"":i.type==="item"?"":i.type==="trash"?"":""}),S.jsx("h2",{style:{color:i.type==="trash"?"#636e72":"#2d3436",marginBottom:"10px"},children:i.message}),S.jsx("div",{style:{fontSize:"1.2em",fontWeight:"bold",color:i.type==="jackpot"?"#e17055":"#6c5ce7",marginBottom:"20px"},children:i.rewardText}),S.jsx("button",{className:"btn",onClick:t,style:{width:"100%"},children:""})]})}):null}function Y4({type:i}){const[t,e]=q.useState({x:50,y:80}),[r,o]=q.useState(1),[u,c]=q.useState("idle");q.useEffect(()=>{const p=setInterval(()=>{const g=Math.random();g<.6?(c("walk"),o(y=>Math.random()<.2?-y:y),e(y=>{let T=y.x+r*5;return T<10?(T=10,o(1)):T>90&&(T=90,o(-1)),{...y,x:T}})):g<.9?c("idle"):c("sleep")},2e3);return()=>clearInterval(p)},[r]);const m=()=>i==="dog"?u==="sleep"?" ":"":"";return S.jsx("div",{style:{position:"fixed",left:`${t.x}%`,bottom:`${t.y}px`,transform:`scaleX(${r})`,transition:"left 2s linear, bottom 2s linear, transform 0.2s",fontSize:"3em",zIndex:90,pointerEvents:"none",filter:"drop-shadow(0 4px 4px rgba(0,0,0,0.3))"},children:m()})}function Q4({plant:i,onClose:t}){if(!i)return null;const e={common:{bg:"#95a5a6",glow:"rgba(149, 165, 166, 0.5)"},rare:{bg:"#3498db",glow:"rgba(52, 152, 219, 0.5)"},epic:{bg:"#9b59b6",glow:"rgba(155, 89, 182, 0.5)"},legendary:{bg:"#f39c12",glow:"rgba(243, 156, 18, 0.5)"},mythic:{bg:"#e74c3c",glow:"rgba(231, 76, 60, 0.5)"}},r={common:"",rare:"",epic:"",legendary:"",mythic:""},o=e[i.rarity]||e.common;return S.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,animation:"fadeIn 0.2s"},onClick:t,children:[S.jsxs("div",{style:{background:"#fff",borderRadius:"24px",padding:"0",maxWidth:"450px",width:"90%",textAlign:"center",boxShadow:`0 25px 100px ${o.glow}, 0 0 0 8px rgba(255,255,255,0.1)`,animation:"scaleUp 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275)",position:"relative",overflow:"hidden"},onClick:u=>u.stopPropagation(),children:[S.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,height:"120px",background:`linear-gradient(135deg, ${o.bg} 0%, ${o.bg}dd 100%)`,clipPath:"polygon(0 0, 100% 0, 100% 80%, 0 100%)"}}),S.jsx("div",{style:{position:"absolute",top:"20px",left:"30px",fontSize:"24px",animation:"sparkle 1.5s infinite",animationDelay:"0s"},children:""}),S.jsx("div",{style:{position:"absolute",top:"30px",right:"40px",fontSize:"20px",animation:"sparkle 1.5s infinite",animationDelay:"0.5s"},children:""}),S.jsx("div",{style:{position:"absolute",top:"70px",right:"20px",fontSize:"16px",animation:"sparkle 1.5s infinite",animationDelay:"1s"},children:""}),S.jsxs("div",{style:{position:"relative",padding:"40px 30px 35px"},children:[S.jsx("div",{style:{width:"120px",height:"120px",margin:"0 auto 20px",background:"white",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"70px",boxShadow:`0 10px 30px ${o.glow}, 0 0 0 4px ${o.bg}33`,animation:"float 3s ease-in-out infinite",position:"relative",zIndex:1},children:i.emoji}),S.jsx("h2",{style:{color:"#2c3e50",margin:"0 0 8px 0",fontSize:"26px",fontWeight:"800",letterSpacing:"-0.5px"},children:"  !"}),S.jsxs("div",{style:{background:"#f8f9fa",borderRadius:"16px",padding:"20px",margin:"20px 0"},children:[S.jsx("div",{style:{fontSize:"22px",fontWeight:"700",color:"#2c3e50",marginBottom:"12px",letterSpacing:"-0.3px"},children:i.name}),S.jsx("div",{style:{display:"inline-block",padding:"8px 20px",borderRadius:"20px",background:o.bg,color:"white",fontWeight:"700",fontSize:"15px",boxShadow:`0 4px 12px ${o.glow}`,letterSpacing:"0.5px"},children:r[i.rarity]||""})]}),S.jsx("button",{onClick:t,style:{background:`linear-gradient(135deg, ${o.bg} 0%, ${o.bg}cc 100%)`,color:"white",border:"none",padding:"14px 40px",borderRadius:"30px",fontSize:"17px",fontWeight:"700",cursor:"pointer",boxShadow:`0 6px 20px ${o.glow}`,transition:"all 0.3s",width:"100%",marginTop:"10px"},onMouseOver:u=>{u.target.style.transform="translateY(-2px)",u.target.style.boxShadow=`0 8px 25px ${o.glow}`},onMouseOut:u=>{u.target.style.transform="translateY(0)",u.target.style.boxShadow=`0 6px 20px ${o.glow}`},children:" "})]})]}),S.jsx("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        
        @keyframes scaleUp {
          0% { transform: scale(0.7); opacity: 0; }
          100% { transform: scale(1); opacity: 1; }
        }
        
        @keyframes float {
          0%, 100% { transform: translateY(0px); }
          50% { transform: translateY(-8px); }
        }

        @keyframes sparkle {
          0%, 100% { opacity: 0; transform: scale(0.5); }
          50% { opacity: 1; transform: scale(1.2); }
        }
      `})]})}function X4(){const{user:i,handleLogin:t,handleLogout:e,handleSaveGame:r,handleLoadGame:o,isSaving:u,lastSaved:c,dailyReward:m,claimDailyReward:p,gold:g,plants:y,inventory:T,collection:E,upgradeLevel:C,unlocks:k,rarityLevel:D,fertilizerLevel:U,consumables:X,foodState:tt,pityCounter:rt,harvest:ft,sell:mt,sellAll:dt,buyUpgrade:R,buyUnlock:w,buyRarityUpgrade:I,buyFertilizerUpgrade:P,buyConsumable:N,useConsumable:z,harvestAll:M,activateFood:zt,cancelFood:_e,cookedItems:$,useCookedItem:ut,activeBuffs:ct,cookingState:It,discoveredRecipes:Vt,startCooking:j,claimDish:nt,sellCookedItem:yt,resetGame:vt,activateGodMode:xt,stats:Dt,achievements:Ht,claimAchievement:Oe,buyLuckyBox:se,pests:Mi,removePest:Xi,activeQuests:Wi,questTimer:$i,refreshQuests:Bn,rerollQuest:Ss,completeQuest:li,pets:ui,buyPet:Xe,discoveredPlant:Ce,setDiscoveredPlant:be,maxSlots:Jn,buyLandExpansion:na}=$O(),[te,me]=q.useState("game"),[Vi,Oi]=q.useState(!1),[Es,Zn]=q.useState(null),ia=()=>{const pt=se();pt&&pt.success?Zn(pt.result):pt&&!pt.success&&alert(pt.message)};q.useEffect(()=>{window.scrollTo(0,0)},[te]),q.useEffect(()=>{if(m.lastClaimed){const pt=new Date(m.lastClaimed),re=new Date;pt.getFullYear()===re.getFullYear()&&pt.getMonth()===re.getMonth()&&pt.getDate()===re.getDate()||Oi(!0)}else Oi(!0)},[]);const er=()=>{const pt=p();return pt.success,pt},Ji=y.filter(pt=>pt&&pt.stage==="adult").length,nr=Object.values(T).reduce((pt,re)=>pt+re.count,0),wn=()=>{const pt=ct.filter(qt=>qt.type==="rarity_boost"),re=qi.mushrooms.filter(qt=>!(qt.rarity==="epic"&&D<5||qt.rarity==="legendary"&&D<10||qt.rarity==="mythic"&&D<15)).map(qt=>{let Ee=1;return pt.forEach(ae=>{(ae.target==="all"&&qt.rarity!=="common"||ae.target===qt.rarity)&&(Ee*=ae.value)}),{...qt,effectiveWeight:qt.rarity==="common"?qt.weight/(1+D*.15):qt.weight*(1+(D-1)*.8)*Ee}}),Pn=re.reduce((qt,Ee)=>qt+Ee.effectiveWeight,0),Fn={};return re.forEach(qt=>{Fn[qt.rarity]||(Fn[qt.rarity]=0),Fn[qt.rarity]+=qt.effectiveWeight}),Object.entries(Fn).map(([qt,Ee])=>({rarity:qt,probability:(Ee/Pn*100).toFixed(2)}))},Fe=()=>{if(!tt.active)return"0% ()";const re=1+ct.filter(Ee=>Ee.type==="spawn_rate").reduce((Ee,ae)=>Ee+ae.value,0),Pn=.01*tt.multiplier*re,Fn=(rt||0)*.01,qt=Math.min(Pn+Fn,1);return`${(qt*100).toFixed(qt<.1?1:0)}%`},xn=()=>{const pt=Math.max(6e4-C*3e3,5e3),re=ct.filter(Ee=>Ee.type==="speed").reduce((Ee,ae)=>Ee+ae.value,0),Pn=(tt.multiplier||1)*(1+re);return`${(pt/Pn/1e3).toFixed(1)}`};return S.jsxs("div",{className:"game-container",children:[Vi&&S.jsx(G4,{dailyReward:m,onClaim:er,onClose:()=>Oi(!1)}),S.jsx(K4,{result:Es,onClose:()=>Zn(null)}),S.jsx(Q4,{plant:Ce,onClose:()=>be(null)}),S.jsx("div",{className:"header",children:S.jsx("h1",{children:" Plant Tycoon"})}),S.jsxs("div",{className:"controls",style:{marginBottom:"20px"},children:[S.jsx("button",{className:`btn ${te==="game"?"":"btn-secondary"}`,onClick:()=>me("game"),children:" "}),S.jsx("button",{className:`btn ${te==="inventory"?"":"btn-secondary"}`,onClick:()=>me("inventory"),children:" "}),S.jsx("button",{className:`btn ${te==="shop"?"":"btn-secondary"}`,onClick:()=>me("shop"),children:" "}),S.jsx("button",{className:`btn ${te==="collection"?"":"btn-secondary"}`,onClick:()=>me("collection"),children:" "}),S.jsx("button",{className:`btn ${te==="achievements"?"":"btn-secondary"}`,onClick:()=>me("achievements"),children:" "}),S.jsx("button",{className:`btn ${te==="quests"?"":"btn-secondary"}`,onClick:()=>me("quests"),children:" "}),S.jsx("button",{className:`btn ${te==="kitchen"?"":"btn-secondary"}`,onClick:()=>me("kitchen"),children:" "}),S.jsx("button",{className:`btn ${te==="settings"?"":"btn-secondary"}`,onClick:()=>me("settings"),children:" "})]}),S.jsxs("div",{className:"stats",children:[S.jsxs("div",{className:"stat-box",children:[S.jsx("div",{className:"stat-label",children:""}),S.jsxs("div",{className:"stat-value",children:[" ",g]})]}),S.jsxs("div",{className:"stat-box",children:[S.jsx("div",{className:"stat-label",children:""}),S.jsxs("div",{className:"stat-value",children:[" ",Ji]})]}),S.jsxs("div",{className:"stat-box",children:[S.jsx("div",{className:"stat-label",children:""}),S.jsxs("div",{className:"stat-value",children:[" ",nr]})]})]}),Array.isArray(ct)&&ct.length>0&&S.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px",marginBottom:"15px",justifyContent:"center"},children:ct.map((pt,re)=>S.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.9)",padding:"8px 12px",borderRadius:"12px",boxShadow:"0 2px 5px rgba(0,0,0,0.1)",display:"flex",alignItems:"center",gap:"8px",borderLeft:"4px solid #00b894",fontSize:"0.9em"},children:[S.jsx("div",{style:{fontSize:"1.2em"},children:pt.type==="speed"?"":pt.type==="gold"?"":""}),S.jsxs("div",{children:[S.jsx("div",{style:{fontWeight:"bold",color:"#2d3436"},children:pt.name}),S.jsx("div",{style:{fontSize:"0.8em",color:"#636e72"},children:S.jsx(MR,{endTime:pt.endTime})})]})]},re))}),te==="game"&&S.jsxs(S.Fragment,{children:[k.statistics&&S.jsx("div",{style:{background:"rgba(255, 255, 255, 0.9)",padding:"10px",borderRadius:"10px",marginBottom:"10px",fontSize:"0.8em",display:"flex",justifyContent:"space-around",boxShadow:"0 2px 5px rgba(0,0,0,0.1)"},children:wn().map(({rarity:pt,probability:re})=>S.jsxs("div",{style:{textAlign:"center"},children:[S.jsx("div",{style:{fontWeight:"bold",textTransform:"capitalize",color:"#2d3436"},children:pt}),S.jsxs("div",{style:{color:"#2d3436"},children:[re,"%"]})]},pt))}),k.statistics&&S.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.9)",padding:"10px",borderRadius:"10px",marginBottom:"10px",fontSize:"0.85em",boxShadow:"0 2px 5px rgba(0,0,0,0.1)"},children:[S.jsxs("div",{style:{marginBottom:"5px",color:"#2d3436"},children:["   : ",S.jsxs("strong",{style:{color:Array.isArray(ct)&&ct.some(pt=>pt.type==="spawn_rate")?"#2ecc71":"inherit"},children:[Fe(),Array.isArray(ct)&&ct.some(pt=>pt.type==="spawn_rate")&&S.jsxs("span",{style:{fontSize:"0.8em",marginLeft:"5px"},children:["(+",(ct.filter(pt=>pt.type==="spawn_rate").reduce((pt,re)=>pt+re.value,0)*100).toFixed(0),"%)"]})]})]}),S.jsxs("div",{style:{color:"#2d3436"},children:["  : ",S.jsxs("strong",{style:{color:Array.isArray(ct)&&ct.some(pt=>pt.type==="speed")?"#2ecc71":"inherit"},children:[xn(),Array.isArray(ct)&&ct.some(pt=>pt.type==="speed")&&S.jsxs("span",{style:{fontSize:"0.8em",marginLeft:"5px"},children:["(+",(ct.filter(pt=>pt.type==="speed").reduce((pt,re)=>pt+re.value,0)*100).toFixed(0),"%)"]})]})]}),S.jsxs("div",{style:{marginTop:"5px",color:"#636e72",fontSize:"0.9em"},children:["  : ",S.jsxs("strong",{children:[((tt.active?tt.multiplier:0)*(1+(Array.isArray(ct)?ct.filter(pt=>pt.type==="speed").reduce((pt,re)=>pt+re.value,0):0))).toFixed(1),"x"]})]}),Array.isArray(ct)&&ct.some(pt=>pt.type==="rarity_boost")&&S.jsxs("div",{style:{marginTop:"5px",color:"#9b59b6",fontSize:"0.9em"},children:["  :",ct.filter(pt=>pt.type==="rarity_boost").map((pt,re)=>S.jsxs("span",{style:{marginLeft:"5px",fontWeight:"bold"},children:["[",pt.target==="all"?"":pt.target," x",pt.value,"]"]},re))]})]}),S.jsx(L4,{gold:g,foodState:tt,fertilizerLevel:U,onActivateFood:zt,onCancelFood:_e}),k.harvestAll&&Ji>0&&S.jsxs("button",{onClick:M,style:{width:"100%",padding:"10px",marginBottom:"10px",background:"#fdcb6e",border:"none",borderRadius:"10px",color:"#d35400",fontWeight:"bold",cursor:"pointer",boxShadow:"0 4px 0 #e17055"},children:["   (",Ji,")"]}),S.jsx(O4,{plants:y,onHarvest:ft,pests:Mi,onRemovePest:Xi,maxSlots:Jn})]}),te==="inventory"&&S.jsx(P4,{inventory:T,consumables:X,onSell:mt,onSellAll:dt,onUseConsumable:z,cookedItems:$,useCookedItem:ut,onSellCookedItem:yt}),te==="shop"&&S.jsx(k4,{gold:g,upgradeLevel:C,unlocks:k,rarityLevel:D,fertilizerLevel:U,onBuyUpgrade:R,onBuyUnlock:w,onBuyRarityUpgrade:I,onBuyFertilizerUpgrade:P,onBuyConsumable:N,onBuyLuckyBox:ia,pets:ui,onBuyPet:Xe,maxSlots:Jn,onBuyLandExpansion:na}),ui&&ui.dog&&te==="game"&&S.jsx(Y4,{type:"dog"}),te==="collection"&&S.jsx(j4,{collection:E,mushroomData:qi}),te==="achievements"&&S.jsx(H4,{stats:Dt,achievements:Ht,onClaim:Oe}),te==="quests"&&S.jsx(q4,{activeQuests:Wi,questTimer:$i,onRefresh:Bn,onReroll:Ss,onComplete:li,inventory:T,cookedItems:$}),te==="kitchen"&&S.jsx(B4,{inventory:T,cookedItems:$,useCookedItem:ut,cookingState:It,discoveredRecipes:Vt,startCooking:j,claimDish:nt}),te==="settings"&&S.jsx(F4,{resetGame:vt,activateGodMode:xt,user:i,onLogin:t,onLogout:e,onSave:r,onLoad:o,isSaving:u,lastSaved:c}),S.jsxs("div",{className:"info",style:{marginTop:"20px",fontSize:"0.9em",color:"#8b4513"},children:[te==="game"&&"    !",te==="inventory"&&"     !",te==="shop"&&"     !",te==="collection"&&"    !",te==="achievements"&&"    !",te==="quests"&&" NPC    !",te==="kitchen"&&"     !",te==="settings"&&"     ."]}),S.jsx("div",{style:{marginTop:"15px",fontSize:"0.7em",color:"#b2bec3",textAlign:"center"},children:"v2.1.0"})]})}class W4 extends AR.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,e){console.error("Game Crash:",t,e)}handleReset=()=>{window.confirm("   ?")&&(localStorage.clear(),window.location.reload())};render(){return this.state.hasError?S.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",background:"#ffeaa7",color:"#2d3436",textAlign:"center",padding:"20px"},children:[S.jsx("div",{style:{fontSize:"5em",marginBottom:"20px"},children:""}),S.jsx("h1",{children:"!   ."}),S.jsxs("p",{style:{marginBottom:"30px",color:"#636e72"},children:["     .",S.jsx("br",{}),"      ."]}),S.jsx("button",{onClick:this.handleReset,style:{padding:"15px 30px",fontSize:"1.2em",background:"#d63031",color:"white",border:"none",borderRadius:"12px",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 0 #c0392b"},children:"    "}),S.jsxs("div",{style:{marginTop:"20px",fontSize:"0.8em",color:"#b2bec3"},children:["Error: ",this.state.error?.toString()]})]}):this.props.children}}DR.createRoot(document.getElementById("root")).render(S.jsx(q.StrictMode,{children:S.jsx(W4,{children:S.jsx(X4,{})})}));
